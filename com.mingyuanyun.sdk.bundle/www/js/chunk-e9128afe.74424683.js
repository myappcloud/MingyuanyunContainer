(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e9128afe"],{"040e":function(t,e,n){},1364:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-container blue-theme"},[n("section",[n("van-icon",{staticClass:"backBtn",attrs:{name:"arrow-left"},on:{click:function(e){return t.$router.back()}}}),t._m(0),n("div",{staticClass:"login-tabs"},[n("div",{staticClass:"tabs-content"},[n("div",{staticClass:"tab-content"},[n("login-input",{attrs:{"max-length":"11",type:"number",placeholder:"手机号码"},on:{submit:t.doBind},model:{value:t.phoneData.phone,callback:function(e){t.$set(t.phoneData,"phone",e)},expression:"phoneData.phone"}},[n("template",{slot:"left"},[n("div",{staticClass:"phone-prefix"},[t._v(" "+t._s(t.currPrefix)+" ")])])],2),n("div",{staticClass:"verify-code"},[n("login-input",{attrs:{"max-length":"4",type:"number",placeholder:"验证码"},on:{submit:t.doBind},model:{value:t.phoneData.code,callback:function(e){t.$set(t.phoneData,"code",e)},expression:"phoneData.code"}}),n("a",{staticClass:"get-code",on:{click:function(e){return t.getcaptcha()}}},[t._v(t._s(61!=t.count?t.count+"S":"获取"))])],1)],1)])]),n("app-button",{staticClass:"login-btn",attrs:{disabled:t.btnDisabled},on:{click:t.doBind}},[t._v(" 立即绑定 ")])],1)])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-title"},[n("p",{staticClass:"hello"},[t._v("绑定手机号")]),n("p",[t._v("您的账号尚未绑定手机号，请绑定")])])}],i=(n("6a22"),n("80cf"),n("5047")),s=n("5f2f"),c=n("6a2c"),r=n("c079"),u={name:"BindPhone",components:{appButton:i["a"],LoginInput:s["a"]},data:function(){return{count:61,currPrefix:"+86",accountData:{account:"",password:"",passwordType:"password"},phoneData:{phone:"",code:""},btnDisabled:!0}},watch:{"phoneData.phone":function(){this.btnDisabled=!(this.phoneData.phone&&this.phoneData.code)},"phoneData.code":function(){this.btnDisabled=!(this.phoneData.phone&&this.phoneData.code)}},methods:{getcaptcha:function(){var t=this;return this.phoneData.phone?61==this.count?Object(r["h"])(this.phoneData.phone,"bind").then((function(){t.count--,t.countDown()})).catch((function(e){console.error(e),t.$toast("获取验证码失败，请重试")})):void 0:(this.$toast("请输入正确的手机号"),!1)},countDown:function(){var t=this;this.timer=setTimeout((function(){t.count>0?(t.count--,t.countDown()):t.count=60}),1e3)},doBind:function(){var t=this;if(!this.phoneData.phone||!this.phoneData.code)return this.$toast("请输入手机号和验证码",2e3),!1;var e=this.$route.query||{},n=e.ticket||"";return c["a"].bindPhone({ticket:n,countryCode:this.currPrefix.replace("+",""),mobile:this.phoneData.phone,smsCode:this.phoneData.code}).then((function(){t.$toast({message:"绑定成功，现在可以用手机登录！",onClose:function(){t.$router.back()}})})).catch((function(e){console.log(e),t.$toast.clear(),t.$toast(e||"登录失败",2e3)}))},clear:function(t,e){t[e]=""}}},l=u,p=(n("28a2"),n("5d22")),h=Object(p["a"])(l,a,o,!1,null,"6e5c7b62",null);e["default"]=h.exports},"28a2":function(t,e,n){"use strict";n("040e")},"5f2f":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"register-input-wrapper",class:{focus:t.isFocus,"error-input":t.isError}},[n("span",{staticClass:"left-content"},[t._t("left")],2),n("input",t._g(t._b({directives:[{name:"model",rawName:"v-model.trim",value:t.text,expression:"text",modifiers:{trim:!0}}],ref:"input",staticClass:"register-input",attrs:{type:t.type,name:t.name,maxlength:t.maxLength,placeholder:t.placeholder,pattern:t.pattern},domProps:{value:t.text},on:{focus:t.onFocus,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("submit")},blur:[t.onBlur,function(e){return t.$forceUpdate()}],input:[function(e){e.target.composing||(t.text=e.target.value.trim())},t.onInput]}},"input",t.$attrs,!1),t.listeners)),n("span",{staticClass:"right-content"},[n("i",{directives:[{name:"show",rawName:"v-show",value:t.text.length&&t.isFocus,expression:"text.length && isFocus"}],staticClass:"super-app-iconfont super-app-icon-clear",on:{touchstart:t.clear,click:t.clear}}),t._t("right")],2)])},o=[],i=(n("4ec5"),n("eb27"),n("1e6a"),n("65ba"),n("6a22"),n("80cf"),n("d211")),s="",c={name:"LoginInput",model:{prop:"value",event:"change"},props:{type:{type:String,default:"text"},pattern:{type:String,default:""},value:{type:String,default:""},placeholder:{type:String,default:""},name:{type:String,default:""},maxLength:{type:[String,Number],default:""},showClear:{type:Boolean,default:!0},isError:{type:Boolean,default:!1}},data:function(){return{isFocus:!1}},computed:{text:{get:function(){return this.value},set:function(t){this.$emit("change",t)}},listeners:function(){return Object(i["a"])(Object(i["a"])({},this.$listeners),{},{change:function(){}})}},watch:{text:function(t){String(this.name).toLowerCase().indexOf("pwd")<0&&(this.text=t.slice(0,20))}},methods:{clear:function(){this.text="",this.$refs.input.focus()},onBlur:function(){this.isFocus=!1,window.scroll(0,0)},onFocus:function(){this.isFocus=!0},onInput:function(t){"number"===this.type.toLowerCase()&&(t.target.value=t.target.value.replace(/[^0-9]/gi,""),t.target.value.length>this.maxLength?this.text=s:s=t.target.value)}}},r=c,u=(n("e6d9"),n("5d22")),l=Object(u["a"])(r,a,o,!1,null,"59d9747d",null);e["a"]=l.exports},a64e:function(t,e,n){},e6d9:function(t,e,n){"use strict";n("a64e")},eb27:function(t,e,n){"use strict";var a=n("bbcf"),o=n("2fb1"),i=n("ec82"),s=n("5501"),c=n("5152"),r=n("e855"),u=n("7389"),l=n("19d6"),p=n("780c"),h=n("e9a9"),d=p("slice"),f=h("slice",{ACCESSORS:!0,0:0,1:2}),m=l("species"),v=[].slice,g=Math.max;a({target:"Array",proto:!0,forced:!d||!f},{slice:function(t,e){var n,a,l,p=r(this),h=c(p.length),d=s(t,h),f=s(void 0===e?h:e,h);if(i(p)&&(n=p.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?o(n)&&(n=n[m],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return v.call(p,d,f);for(a=new(void 0===n?Array:n)(g(f-d,0)),l=0;d<f;d++,l++)d in p&&u(a,l,p[d]);return a.length=l,a}})}}]);