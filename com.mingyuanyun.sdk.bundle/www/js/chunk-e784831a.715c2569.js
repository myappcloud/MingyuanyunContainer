(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e784831a"],{6480:function(n,t,e){"use strict";e("6b22")},"6b22":function(n,t,e){},e5e2:function(n,t,e){"use strict";e("4d20"),e("51d7");var r,a=e("10c8"),o=e("1f03"),c=window.GLOBAL_ENV.SSO_CENTER_DEFAULT_API,u=Object(o["getUserContext"])().userId,i=function(){var n=Object(o["getUserContext"])();if(r&&n.userId===u)return Promise.resolve(r);u=n.userId;var t=n.tenantCode;return Object(a["a"])({method:"get",url:"".concat(c,"/m/").concat(t,"/PermissionApply/permission-init/get-userid-by-openid"),data:{tenantCode:t,openId:n.userId}}).then((function(n){return n.errcode?Promise.reject(n.message):(r=n.data,n.data)})).catch((function(n){throw new Error(n)}))},s=function(n){var t=Object(o["getUserContext"])().tenantCode;return i().then((function(n){return e(n)}));function e(e){return Object(a["a"])({method:"POST",url:"".concat(c,"/m/Organization/api2/announcement-list"),data:Object.assign({},{user_id:e,tenant_code:t},n)}).then((function(n){if(n.errcode)return Promise.reject(n.errMsg);var t=n.data,e=t.list,r=t.count;return{data:e||[],recordCount:r||0}})).catch((function(){return{data:[],recordCount:0}}))}},d=function(n){var t=Object(o["getUserContext"])().tenantCode;return Object(a["a"])({method:"POST",url:"".concat(c,"/m/Organization/api2/announcement-info"),data:{user_id:r,tenant_code:t,announcement_id:n.announcement_id}}).then((function(n){return n.errcode?Promise.reject(n.errMsg):n.data})).catch((function(n){throw new Error(n)}))},m=function(n){var t=Object(o["getUserContext"])().tenantCode;return i().then((function(n){return e(n)}));function e(e){return Object(a["a"])({method:"POST",url:"".concat(c,"/m/Organization/api2/announcement-set-status"),data:Object.assign({},{user_id:e,tenant_code:t},n)}).then((function(n){return n.errcode?Promise.reject(n.errMsg):n})).catch((function(n){throw new Error(n)}))}},f=e("d1d2"),h=e.n(f);t["a"]={getAnnouncementList:function(n){return h.a.getHasNetwork().then((function(t){return t?s(n).then((function(n){var t=n.data,e=n.recordCount;return{announcementData:t,recordCount:e}})):Promise.reject("您的当前网络不可用，请检查您的网络设置")}))},getAnnouncementDetail:function(n){return h.a.getHasNetwork(n).then((function(t){return t?d(n).then((function(n){return n})):Promise.reject("您的当前网络不可用，请检查您的网络设置")}))},updateAnnouncementStatus:function(n){return h.a.getHasNetwork(n).then((function(t){return t?m(n).then((function(n){return n})):Promise.reject("您的当前网络不可用，请检查您的网络设置")}))}}},ec17:function(n,t,e){"use strict";e.r(t);var r=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("app-container",[e("app-header",{attrs:{title:"查看公告"}}),e("div",{staticClass:"content-container"},[n.announcementData?e("div",{staticClass:"block"},[e("p",{staticClass:"title"},[n._v(n._s(n.announcementData.subject))]),e("p",{staticClass:"sub"},[n._v(" "+n._s(n.handleTime(n.announcementData.published_on))),e("span",{staticClass:"publisher"},[n._v(n._s(n.announcementData.publisher))])]),e("van-divider"),e("div",{staticClass:"content-area",domProps:{innerHTML:n._s(n.announcementData.content)}})],1):n._e()])],1)},a=[],o=e("e5e2"),c={name:"AnnouncementDetail",data:function(){return{announcementData:null}},activated:function(){this.announcementData=null,this.getDetail()},methods:{handleTime:function(n){var t=n.substring(0,n.length-3);return t},getDetail:function(){var n=this;return o["a"].getAnnouncementDetail({announcement_id:this.$route.params.id}).then((function(t){n.announcementData=t}))}}},u=c,i=(e("6480"),e("5d22")),s=Object(i["a"])(u,r,a,!1,null,"00923124",null);t["default"]=s.exports}}]);