(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20aca89a"],{"0121":function(t,e,a){},"02aa":function(t,e,a){},"47fd":function(t,e,a){"use strict";a("02aa")},5773:function(t,e,a){},"827e":function(t,e,a){},b10b:function(t,e,a){"use strict";a("0121")},b350:function(t,e,a){"use strict";a("827e")},d924:function(t,e,a){"use strict";a("5773")},e060:function(t,e,a){"use strict";var n,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-fold"},[a("div",{class:{top:!0,hasChecked:t.hasChecked,"van-hairline--bottom":t.showTitleLine},on:{click:t.toggle}},[a("span",{staticClass:"title"},[t._v(t._s(t.title))]),a("van-icon",{attrs:{name:t.isFold?"arrow-up":"arrow-down"}})],1),a("div",{ref:"fold-content",class:{"fold-content":!0,isFold:t.isFold}},[a("div",[t._t("default")],2)])])},o=[],s=(a("1d7a"),a("d0bf"),a("28f8")),l=a("2e1c"),c=a("0407"),r=a("2dd6"),u={name:"AppFold",components:(n={},Object(s["a"])(n,l["a"].name,l["a"]),Object(s["a"])(n,c["a"].name,c["a"]),Object(s["a"])(n,r["a"].name,r["a"]),n),props:{showTitleLine:{type:Boolean,default:!1},title:{type:String,default:"--"},checked:{type:[Number,String,Boolean],default:""},hasChecked:{type:Boolean,default:!1},checkboxUseVmodel:{type:Boolean,default:!1},defaultFold:{type:Boolean,default:!1}},data:function(){return{isFold:this.defaultFold||!1,observer:null}},methods:{setFold:function(t){this.isFold=t},toggle:function(){var t=this;this.countHeight(),window.setTimeout((function(){t.isFold=!t.isFold}),0),window.setTimeout((function(){var e=t.$refs["fold-content"];e.style.height="auto"}),310),this.$emit("click",!this.isFold)},countHeight:function(){var t=this.$refs["fold-content"],e=t.childNodes[0];t.style.height=e.offsetHeight+"px"}}},d=u,p=(a("47fd"),a("5d22")),f=Object(p["a"])(d,i,o,!1,null,"41f0537d",null);e["a"]=f.exports},fb1f:function(t,e,a){"use strict";a.r(e);var n,i,o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-manage-wrapper"},[a("app-header",{attrs:{title:"合同管理"}}),a("div",{staticClass:"verify-list"},[a("van-tabs",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("van-tab",{attrs:{title:"已授权"}},[a("list",{attrs:{type:"auth"}})],1),a("van-tab",{attrs:{title:"审批中"}},[a("list",{attrs:{type:"approve"}})],1)],1)],1),a("div",{staticClass:"footer-ctrl"},[a("app-button",{on:{click:t.toAuth}},[t._v("申请合同权限")])],1)],1)},s=[],l=(a("1d7a"),a("28f8")),c=a("266e"),r=a("f6df"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-pull-refresh",{staticClass:"manage-list-wrapper",on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[a("empty-page",{attrs:{emptyMsg:"暂无消息",showEmpty:!t.list.length}}),a("van-list",{staticClass:"list",attrs:{finished:!0,"immediate-check":!1}},t._l(t.list,(function(e){return a("app-fold",{key:e.org_id,staticClass:"mt10",attrs:{title:e.proj_name,showTitleLine:!0,defaultFold:!0}},[a("Item",{attrs:{list:e.contract_list,showInfo:"approve"==t.type,type:t.type}})],1)})),1)],1)},d=[],p=(a("402f"),a("e060")),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contract-item-wrapper",on:{click:function(e){return t.$emit("click")}}},t._l(t.list,(function(e,n){return a("div",{key:n},[a("div",{staticClass:"item-con",class:{"bottom-border":n!==t.list.length-1},on:{click:function(a){return t.toDetail(e)}}},[t._m(0,!0),"auth"==t.type?a("div",{staticClass:"name"},[t._v(t._s(e.name))]):a("div",{staticClass:"name"},[t._v(t._s(e.contract_keyword))]),t.showInfo?a("van-icon",{staticClass:"info-icon",attrs:{name:"info-o"}}):t._e()],1)])})),0)},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"icon-box"},[a("i",{staticClass:"super-app-iconfont super-app-iconcontract-apply"}),a("i",{staticClass:"super-app-iconfont super-app-iconcontract-apply-in light"})])}],m={props:{type:{type:String,default:""},list:{type:Array,default:function(){return[]}},showInfo:{type:Boolean,default:!1}},data:function(){return{}},methods:{toDetail:function(t){"approve"===this.type&&this.$router.push({name:"applyDetail",params:{applyId:t.apply_user_id,keywordId:t.id}})}}},v=m,b=(a("b10b"),a("5d22")),y=Object(b["a"])(v,f,h,!1,null,"6ee3815e",null),g=y.exports,_=a("9d6d"),w=a("5e13"),j={auth:{approvalState:1},approve:{approvalState:0}},k={props:{type:{type:String,default:""}},components:(n={},Object(l["a"])(n,_["a"].name,_["a"]),Object(l["a"])(n,"AppFold",p["a"]),Object(l["a"])(n,"Item",g),n),data:function(){return{isLoading:!1,list:[]}},created:function(){this.init()},activated:function(){this.init()},methods:{init:function(){if(this.loading)return!1;this.loading=!1,this.list=[],this.load()},load:function(){var t=this;return this.loading?Promise.reject(!1):(this.loading=!0,Object(w["b"])(j[this.type]).then((function(e){return t.list=e||[],t.loading=!1,Promise.resolve()})).catch((function(e){return console.log("获取失败",e),t.loading=!1,Promise.reject()})))},onRefresh:function(){var t=this;if(this.loading)return!1;this.isLoading=!0,this.load().then((function(){t.isLoading=!1})).catch((function(){t.isLoading=!1,console.log("this.isLoading  ===> ",t.isLoading)}))},openFlow:function(t){return"1"!==t.approval_state&&this.$router.push({path:"/user/apply-info",query:{applyId:t.apply_id,projectId:t.project_id}}),!1}}},C=k,O=(a("d924"),Object(b["a"])(C,u,d,!1,null,"17aedfa4",null)),F=O.exports,L=a("5047"),$=a("468b"),x=a("1f03"),I={components:(i={},Object(l["a"])(i,c["a"].name,c["a"]),Object(l["a"])(i,r["a"].name,r["a"]),Object(l["a"])(i,"List",F),Object(l["a"])(i,"AppButton",L["a"]),i),data:function(){return{active:0}},methods:{toAuth:function(){var t=Object(x["getUserContext"])();return $["a"].openPage("/auth/role",{realname:t.realname,realnameReadonly:"1",apply_contract:1})}}},B=I,A=(a("b350"),Object(b["a"])(B,o,s,!1,null,"724d8b68",null));e["default"]=A.exports}}]);