(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-5dca72b6"],{1304:function(t,e,i){"use strict";var n=i("c5a7");e.__esModule=!0,e.SlotsMixin=void 0;var a=n(i("329b")).default.extend({methods:{slots:function(t,e){void 0===t&&(t="default");var i=this.$slots,n=this.$scopedSlots[t];return n?n(e):i[t]}}});e.SlotsMixin=a},"19a9":function(t,e,i){"use strict";i("7d4e")},2064:function(t,e,i){"use strict";e.__esModule=!0,e.addUnit=function(t){if(!(0,n.isDef)(t))return;return t=String(t),(0,a.isNumber)(t)?t+"px":t};var n=i("b7b4"),a=i("f24f")},"27c4":function(t,e,i){var n=i("db6b2");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i("85cb").default)("42e360af",n,!0,{sourceMap:!1,shadowMode:!1})},3050:function(t,e,i){"use strict";e.__esModule=!0,e.default=void 0;e.default={name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",complete:"完成",loading:"加载中...",telEmpty:"请填写电话",nameEmpty:"请填写姓名",confirmDelete:"确定要删除么",telInvalid:"请填写正确的电话",vanContactCard:{addText:"添加联系人"},vanContactList:{addText:"新建联系人"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计："},vanCoupon:{valid:"有效期",unlimited:"无使用门槛",discount:function(t){return t+"折"},condition:function(t){return"满"+t+"元可用"}},vanCouponCell:{title:"优惠券",tips:"使用优惠",count:function(t){return t+"张可用"}},vanCouponList:{empty:"暂无优惠券",exchange:"兑换",close:"不使用优惠",enable:"可使用优惠券",disabled:"不可使用优惠券",placeholder:"请输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码格式不正确",defaultAddress:"设为默认收货地址",telPlaceholder:"收货人手机号",namePlaceholder:"收货人姓名",areaPlaceholder:"选择省 / 市 / 区"},vanAddressEditDetail:{label:"详细地址",placeholder:"街道门牌、楼层房间号等信息"},vanAddressList:{add:"新增地址"}}},4412:function(t,e,i){"use strict";e.__esModule=!0,e.createBEM=function(t){return function(e,i){return e&&"string"!=typeof e&&(i=e,e=""),e=n(t,e,"__"),i?[e,a(e,i)]:e}};function n(t,e,i){return e?t+i+e:t}function a(t,e){if("string"==typeof e)return n(t,e,"--");if(Array.isArray(e))return e.map((function(e){return a(t,e)}));var i={};return e&&Object.keys(e).forEach((function(n){i[t+"--"+n]=e[n]})),i}},"4aef":function(t,e,i){"use strict";var n=i("dd16").a,a=i("17cc"),o=Object(a.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("span",{class:this.classSet[this.status]},[this._v(this._s(this.text||this.status))])}),[],!1,null,null,null);e.a=o.exports},"4d1b":function(t,e,i){"use strict";var n=i("c5a7");e.__esModule=!0,e.default=void 0;var a=n(i("329b")),o=i("53a5"),r=n(i("3050")),s=a.default.prototype,l=a.default.util.defineReactive;l(s,"$vantLang","zh-CN"),l(s,"$vantMessages",{"zh-CN":r.default});var c={messages:function(){return s.$vantMessages[s.$vantLang]},use:function(t,e){var i;s.$vantLang=t,this.add(((i={})[t]=e,i))},add:function(t){void 0===t&&(t={}),(0,o.deepAssign)(s.$vantMessages,t)}};e.default=c},"53a5":function(t,e,i){"use strict";e.__esModule=!0,e.deepAssign=o;var n=i("b7b4"),a=Object.prototype.hasOwnProperty;function o(t,e){return Object.keys(e).forEach((function(i){!function(t,e,i){var r=e[i];(0,n.isDef)(r)&&(a.call(t,i)&&(0,n.isObj)(r)&&"function"!=typeof r?t[i]=o(Object(t[i]),e[i]):t[i]=r)}(t,e,i)})),t}},6147:function(t,e,i){"use strict";e.__esModule=!0,e.createNamespace=function(t){return t="van-"+t,[(0,a.createComponent)(t),(0,n.createBEM)(t),(0,o.createI18N)(t)]};var n=i("4412"),a=i("7e06"),o=i("65af")},"65af":function(t,e,i){"use strict";var n=i("c5a7");e.__esModule=!0,e.createI18N=function(t){var e=(0,o.camelize)(t)+".";return function(t){for(var i=(0,a.get)(r.default.messages(),e+t)||(0,a.get)(r.default.messages(),t),n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return"function"==typeof i?i.apply(void 0,o):i}};var a=i("b7b4"),o=i("a1aa"),r=n(i("4d1b"))},6718:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));i("163d"),i("cc57");var n=i("b7b4"),a={name:"SwipeTab",props:{title:{type:String}},data:function(){return{offset:0,style:{},bem:Object(n.createNamespace)("swipe-item")[1](),parent:{}}},computed:{index:function(){return this.parent.tabs.indexOf(this)}},beforeCreate:function(){this.$parent.swipes.push(this)},created:function(){this.findParent("SwipeTabs")},destroyed:function(){this.$parent.swipes.splice(this.$parent.swipes.indexOf(this),1)},mounted:function(){var t=this,e=this.parent.tabs,i=this.parent.$slots.default.indexOf(this.$vnode);e.splice(-1===i?e.length:i,0,this),this.$nextTick((function(){var e=t.$parent,i=e.vertical,n=e.computedWidth,a=e.computedHeight;t.style={width:n+"px",height:i?n+"px":a+"px",transform:"translate".concat(i?"Y":"X","(").concat(t.offset,"px)")}}))},methods:{findParent:function(t){for(var e=this.$parent;e;){if(e.$options.name===t){this.parent=e;break}e=e.$parent}}}},o=i("17cc"),r=Object(o.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div",this._g({class:this.bem,style:this.style},this.$listeners),[this._t("default")],2)}),[],!1,null,null,null).exports,s={name:"SwipeTabs",model:{prop:"tabIndex",event:"change"},props:{tabIndex:{type:Number,default:0},markType:{type:String,default:"line"},showTabs:{type:Boolean,default:!0},touchable:{type:Boolean,default:!0}},data:function(){return{curIndex:0,initIndex:0,tabs:[],tabScrollVersion:null}},computed:{tabsPadding:function(){return Math.max(24-4*this.tabs.length,0)},markLeft:function(){var t=(100-2*this.tabsPadding)/this.tabs.length;return this.tabsPadding+(this.curIndex+.5)*t}},watch:{tabIndex:function(t){t!==this.curIndex&&(this.curIndex=t,this.$refs.swipe.swipeTo(t,{immediate:!0}))},curIndex:function(){this.scrollTabsTocurrent()}},created:function(){this.initIndex=this.tabIndex,this.curIndex=this.tabIndex},activated:function(){this.initIndex=this.tabIndex,this.curIndex=this.tabIndex},mounted:function(){this.$nextTick(this.scrollTabsTocurrent)},methods:{changeIndex:function(t){this.$refs.swipe.swipeTo(t)},onChange:function(t){this.curIndex=t,this.$emit("change",t)},scrollTabsTocurrent:function(){var t=this.$refs["tabs-scroll"],e=this.$refs["tab-point"]?this.$refs["tab-point"][this.curIndex]:null;if(t&&e){var i=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=n.left-i.left,o=i.right-n.right;a<0&&this.tabScrollBy(a),o<0&&this.tabScrollBy(-o)}},tabScrollBy:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=this.$refs["tabs-scroll"];if(n){var a=n.scrollLeft,o=a+t,r=Math.round(i/16.7),s=t/r,l=a,c=this.tabScrollVersion=+new Date;return a===o?Promise.resolve():new Promise((function(t){!function i(){window.requestAnimationFrame((function(){c===e.tabScrollVersion&&(l+=s,n.scrollLeft=l,a<o&&l<o||a>o&&l>o?i():(n.scrollTop=o,t()))}))}()}))}}}},l=(i("bcf4"),Object(o.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"swipe-tabs"},[t.showTabs?["line"===t.markType?i("div",{staticClass:"tabs border-bottom",style:{padding:"0 "+Math.max(24-4*t.tabs.length,0)+"%"}},[t._l(t.tabs,(function(e){return i("div",{key:e.index,staticClass:"tab",class:{"tab-current":e.index===t.curIndex},on:{click:function(i){t.changeIndex(e.index)}}},[t._v("\n        "+t._s(e.title)+"\n      ")])})),i("div",{staticClass:"mark-line",style:{left:t.markLeft+"%"}})],2):t._e(),"point"===t.markType?i("div",{staticClass:"tabs-point border-bottom"},[i("div",{ref:"tabs-scroll",staticClass:"tabs-scroll"},t._l(t.tabs,(function(e){return i("div",{key:e.index,ref:"tab-point",refInFor:!0,staticClass:"tab-point",class:{"tab-current":e.index===t.curIndex},on:{click:function(i){t.changeIndex(e.index)}}},[t._v("\n          "+t._s(e.title)+"\n        ")])})))]):t._e()]:t._e(),t._t("fixed"),i("van-swipe",{ref:"swipe",attrs:{"initial-swipe":t.initIndex,"show-indicators":!1,duration:250,loop:!1,touchable:t.touchable},on:{change:t.onChange}},[t._t("default")],2)],2)}),[],!1,null,"025feb99",null));e.b=l.exports},"774b":function(t,e,i){"use strict";var n=i("d18d").a,a=(i("b225"),i("17cc")),o=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"scroll-warp",staticClass:"scroll-warp",class:{"scroll-warp-pulling":t.pulling,"scroll-warp-complete":!t.hasNext&&!t.isEmpty,"scroll-warp-empty":t.isEmpty},style:{"padding-bottom":t.numberKeyboardCoverHeight+"px"},on:{scroll:t.onScroll,touchstart:t.onTouchstart,touchmove:t.onTouchmove,touchend:t.onTouchend}},[t.allowPullDown?i("div",{staticClass:"pull-refresh-warp",style:{height:t.pullDist+"px"}},[i("div",{staticClass:"pull-refresh"},[i("div",{staticClass:"animation-refresher",class:{refreshing:t.refreshing}}),t.updateTime?i("p",{staticClass:"pull-refresh-date"},[t._v("最后成功同步："+t._s(t.updateTime))]):t._e()])]):t._e(),t._t("default"),t.loading?i("div",{staticClass:"page-loading"},[i("svg",{staticClass:"svg-loading",attrs:{viewBox:"0 0 80 80"}},[i("circle",{attrs:{cx:"40",cy:"40",r:"36"}})])]):t._e(),t.hasNext||t.isEmpty?t._e():[t.$slots.end?t._t("end"):t._e(),!t.$slots.end&&t.endText?i("div",{staticClass:"end-text"},[t._v("\n      "+t._s(t.endText)+"\n    ")]):t._e()]],2)}),[],!1,null,"2b1a346c",null);e.a=o.exports},"7d4e":function(t,e,i){var n=i("c59b");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i("85cb").default)("62c5f5a2",n,!0,{sourceMap:!1,shadowMode:!1})},"7e06":function(t,e,i){"use strict";var n=i("c5a7");e.__esModule=!0,e.unifySlots=s,e.createComponent=function(t){return function(e){var i;return"function"==typeof e&&(e={functional:!0,props:(i=e).props,model:i.model,render:function(t,e){return i(t,e.props,s(e),e)}}),e.functional||(e.mixins=e.mixins||[],e.mixins.push(o.SlotsMixin)),e.name=t,e.install=r,e}},i("4d1b");var a=i("a1aa"),o=i("1304");n(i("329b"));function r(t){var e=this.name;t.component(e,this),t.component((0,a.camelize)("-"+e),this)}function s(t){var e=t.scopedSlots||t.data.scopedSlots||{},i=t.slots();return Object.keys(i).forEach((function(t){e[t]||(e[t]=function(){return i[t]})})),e}},"851d":function(t,e,i){"use strict";(function(t){i("cc57");var n=i("774b"),a=i("fa4f"),o=i("6718"),r=i("3122"),s=i("1b7e"),l=i("162a"),c=i("e2a7"),u=i("6f9e");e.a={name:"MeetingIndex",components:{Scroller:n.a,ItemList:a.a,SwipeTabs:o.b,SwipeTab:o.a},data:function(){return{tabIndex:0,pageindex:1,pagesize:20,draftData:[],draftPage:1,draftLoading:!0,draftNeedReload:!0,submittedData:[],submittedPage:1,submittedPageTotal:0,submittedLoading:!0,submittedEmptyTips:"",submittedNeedReload:!0}},computed:{projId:function(){return this.$store.state.global.currentProject.id},draftDataKey:function(){return"module-meeting-data-list-"+this.$store.state.global.currentProject.id},draftRender:function(){return this.draftData&&this.draftData.length?this.draftData.slice(0,this.draftPage*this.pagesize):[]},submittedRender:function(){return this.submittedData&&this.submittedData.length?this.submittedData.slice(0,this.submittedPage*this.pagesize):[]}},created:function(){var t=this;u.a.$on("module-meeting-has-draft-change",(function(){t.tabIndex=0,t.draftNeedReload=!0})),u.a.$on("module-meeting-has-new-submitted",(function(){t.tabIndex=1,t.submittedNeedReload=!0}))},activated:function(){var e=this;this.$router.isBack||(this.tabIndex=0,this.draftPage=1,this.submittedPage=1,this.draftData=[],this.submittedData=[],this.draftLoading=!0,this.submittedLoading=!0,this.draftNeedReload=!0,this.submittedNeedReload=!0),this.init().then((function(){e.$router.isBack||!t.isEmpty(e.draftData)||t.isEmpty(e.submittedData)||(e.tabIndex=1)}))},methods:{init:function(){var e=this;return Promise.resolve().then((function(){return e.draftNeedReload||t.isEmpty(e.draftData)?e.getDraftData():(e.draftLoading=!1,Promise.resolve())})).then((function(){return e.submittedNeedReload||t.isEmpty(e.submittedData)?e.getSubmittedData():(e.submittedLoading=!1,Promise.resolve())})).then((function(){e.draftNeedReload=!1,e.submittedNeedReload=!1}))},getDraftData:function(){var e=this;return mmkv.getUserKey(this.draftDataKey).then((function(i){i=i||[];var n=t.map(i,(function(e){return{id:e.id,thumbnail:t.isEmpty(e.images)?"static/photo-empty.png":r.a.getThumbnailFromObject(e.images[0]),title:e.contractor&&e.contractor.name?e.contractor.name:"",date:e.date,createdOn:e.createdOn,status:"暂存"}}));n=t.sortBy(n,(function(t){return t.createdOn})).reverse(),e.draftData=n,e.draftLoading=!1})).catch((function(t){console.error(t),e.draftLoading=!1}))},getSubmittedData:function(){var e=this;return s.a.getHasNetwork().then((function(t){if(!t)return $q.reject({errmsg:"当前无网络连接"})})).then((function(){return l.a.request("/online/safety-party/get-list",{proj_id:e.projId,page:e.submittedPage,pageSize:e.pagesize}).then((function(i){if(!i)return Promise.reject({errmsg:"获取数据失败"});var n=t.map(i.list||[],(function(e){var i=JSON.parse(e.image_files||"[]");return{id:e.id,thumbnail:t.isEmpty(i)?"static/photo-empty.png":r.a.getThumbnailFromUrl(i[0].url),title:e.construction_unit||"",date:e.meeting_at}}));1===e.submittedPage?e.submittedData=n:e.submittedData=e.submittedData.concat(n),e.submittedPageTotal=i&&i.totalSize?i.totalSize:0,t.isEmpty(e.submittedData)&&(e.submittedEmptyTips="暂无晨会记录"),e.submittedLoading=!1}))})).catch((function(t){e.submittedEmptyTips=t.errmsg||"获取晨会记录失败",e.submittedLoading=!1,1!==e.submittedPage&&c.a.alert(e.submittedEmptyTips)}))},pageDraft:function(){this.draftPage=this.draftPage+1},pageSubmitted:function(){return this.submittedPage=this.submittedPage+1,this.getSubmittedData()},clickItem:function(t){t&&"暂存"===t.status?this.$router.push({name:"MeetingEdit",query:{id:t.id}}):this.$router.push({name:"MeetingDetail",query:{id:t.id}})},addNew:function(){this.$router.push({name:"MeetingEdit"})}}}}).call(this,i("391c"))},"967a":function(t,e,i){"use strict";var n=i("8d95");e.a={REPAIR_DEADLINE_STATUS:{name:"repair_deadline_status",status:["待整改"],module:[n.a.CHECK]}}},"9d55":function(t,e,i){(t.exports=i("690e")(!1)).push([t.i,'.zjapp .scroll-warp[data-v-2b1a346c]{flex:1;overflow:auto;-webkit-overflow-scrolling:touch}.zjapp .scroll-warp-pulling[data-v-2b1a346c]{overflow:hidden}.zjapp .scroll-warp-complete[data-v-2b1a346c]:after{content:"";display:block;height:100px}.zjapp .scroll-warp-empty[data-v-2b1a346c]{display:flex;flex-direction:column}.zjapp .pull-refresh-warp[data-v-2b1a346c]{position:relative;height:0;overflow:hidden}.zjapp .pull-refresh[data-v-2b1a346c]{position:absolute;left:0;bottom:0;height:70px;width:100%;padding:6px;text-align:center}.zjapp .pull-refresh-date[data-v-2b1a346c]{margin-top:4px;height:16px;line-height:16px;font-size:12px;color:#bcbcbc}.zjapp .page-loading[data-v-2b1a346c]{padding:10px;text-align:center}.zjapp .end-text[data-v-2b1a346c]{color:#c8c8c8;background:#f4f4f4;position:relative;line-height:76px;height:76px;text-align:center}.zjapp .end-text[data-v-2b1a346c]:after,.zjapp .end-text[data-v-2b1a346c]:before{content:"";position:absolute;width:48px;height:1px;background:#e4e4e4;top:50%;margin-top:-1px}.zjapp .end-text[data-v-2b1a346c]:after{left:50%;transform:translateX(-92px)}.zjapp .end-text[data-v-2b1a346c]:before{right:50%;transform:translateX(90px)}.zjapp .end-slot[data-v-2b1a346c]{padding:30px;line-height:18px;text-align:center;color:#c8c8c8}',""])},a0ee:function(t,e,i){"use strict";i.r(e);var n=i("851d").a,a=i("17cc"),o=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("page-content",{attrs:{title:"安全晨会"}},[i("swipe-tabs",{staticClass:"bg-white",model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[i("swipe-tab",{attrs:{title:"草稿"}},[i("scroller",{attrs:{"is-empty":!t.draftRender.length,"has-next":t.draftPage*t.pagesize<t.draftData.length,"memory-scroll-top":!t.draftNeedReload},on:{loadNext:t.pageDraft}},[!t.draftLoading&&t.draftRender.length?t._l(t.draftRender,(function(e){return i("item-list",{key:e.id,attrs:{img:e.thumbnail,title:e.title,detail:"",footer:t._f("formatDate")(e.date),status:e.status},on:{click:function(i){t.clickItem(e)}}},[e.title?t._e():i("span",{staticClass:"color-gray",attrs:{slot:"title"},slot:"title"},[t._v("未选施工单位")]),e.date?t._e():i("span",{staticClass:"color-gray7",attrs:{slot:"footer"},slot:"footer"},[t._v("未选晨会时间")])])})):t._e(),i("loading-status",{attrs:{"is-loading":t.draftLoading,"is-empty":!t.draftRender.length,"empty-text":"暂无晨会记录"}})],2)],1),i("swipe-tab",{attrs:{title:"已提交"}},[i("scroller",{attrs:{"is-empty":!t.submittedRender.length,"has-next":t.submittedPage*t.pagesize<=t.submittedPageTotal,"memory-scroll-top":!t.submittedNeedReload},on:{loadNext:t.pageSubmitted}},[!t.submittedLoading&&t.submittedRender.length?[t._l(t.submittedRender,(function(e){return i("item-list",{key:e.id,attrs:{img:e.thumbnail,title:e.title,detail:"",footer:t._f("formatDate")(e.date)},on:{click:function(i){t.clickItem(e)}}})})),i("div",{staticClass:"end-slot",attrs:{slot:"end"},slot:"end"},[t._v("\n            只显示最近30天的记录"),i("br"),t._v("如需查看更多，请登录后台查询\n          ")])]:t._e(),i("loading-status",{attrs:{"is-loading":t.submittedLoading,"is-empty":!t.submittedRender.length,"empty-text":t.submittedEmptyTips}})],2)],1)],1),i("app-button-group",{attrs:{"fixed-bottom":""}},[i("app-button",{on:{click:t.addNew}},[i("van-icon",{attrs:{name:"plus"}}),t._v("\n      新增晨会\n    ")],1)],1)],1)}),[],!1,null,null,null);e.default=o.exports},a1aa:function(t,e,i){"use strict";e.__esModule=!0,e.camelize=function(t){return t.replace(n,(function(t,e){return e.toUpperCase()}))},e.padZero=function(t,e){void 0===e&&(e=2);var i=t+"";for(;i.length<e;)i="0"+i;return i};var n=/-(\w)/g},b225:function(t,e,i){"use strict";i("ef48")},b7b4:function(t,e,i){"use strict";var n=i("c5a7");e.__esModule=!0,e.noop=function(){},e.isDef=l,e.isObj=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)},e.get=function(t,e){var i=e.split("."),n=t;return i.forEach((function(t){n=l(n[t])?n[t]:""})),n},e.isServer=e.addUnit=e.createNamespace=void 0;var a=n(i("329b")),o=i("6147");e.createNamespace=o.createNamespace;var r=i("2064");e.addUnit=r.addUnit;var s=a.default.prototype.$isServer;function l(t){return null!=t}e.isServer=s},bcf4:function(t,e,i){"use strict";i("27c4")},c59b:function(t,e,i){(t.exports=i("690e")(!1)).push([t.i,".zjapp .item-list{position:relative;padding:10px;display:flex;align-items:center;background-color:#fff;min-height:100px}.zjapp .item-list .img{display:block;width:80px;height:80px;background:no-repeat 50%;background-size:cover;background-color:#ddd}.zjapp .item-list .item-list-con{flex:1;padding:0 15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.zjapp .item-list .item-list-con .title{height:30px;line-height:24px;color:#111;font-size:16px;padding-top:6px;margin:0;padding-right:10px;margin-right:-10px;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important;font-weight:400}.zjapp .item-list .item-list-con .title .type-tag{display:inline-block;height:16px;line-height:16px;padding:0 4px;border-radius:2px;border:1px solid #4275e8;color:#4275e8;font-size:12px;zoom:.8;margin:3px 0 0 0;vertical-align:text-top}.zjapp .item-list .item-list-con .text{height:30px;line-height:24px;color:#8c8c8c;padding-bottom:6px;padding-right:11px;margin-right:-10px}.zjapp .item-list .item-list-con .text,.zjapp .item-list .item-list-con .time{font-size:14px;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important}.zjapp .item-list .item-list-con .time{height:20px;line-height:20px;color:#b3b3b3;padding-right:11px!important;margin-right:-10px!important}.zjapp .item-list .item-list-con .time .ion{color:#a6a6a6;font-size:20px;font-weight:700;margin-right:5px;vertical-align:top}.zjapp .item-list .item-list-r{width:60px;line-height:18px;text-align:center}.zjapp .item-list .item-list-status{min-width:4em;line-height:18px;text-align:center;white-space:normal;font-size:14px}.zjapp .item-list .icon-unread{display:inline-block;text-align:center;width:12px;height:12px;border-radius:6px;background-color:red}.zjapp .item-list .icon-return,.zjapp .item-list .icon-timeout,.zjapp .item-list .icon-urgent{display:inline-block;width:16px;height:16px;text-align:center;line-height:16px;font-size:12px;font-style:normal;color:#fff;border-radius:2px;-webkit-border-radius:2px;vertical-align:top;margin-top:4px;margin-right:5px}.zjapp .item-list .icon-timeout{background:#964bfe}.zjapp .item-list .icon-return{background:#fe8b00}.zjapp .item-list .icon-urgent{background:#ff3c3d}.zjapp .item-list .icon-return:last-child,.zjapp .item-list .icon-timeout:last-child,.zjapp .item-list .icon-urgent:last-child{margin-right:0}.zjapp .item-list-tip{height:70px;line-height:60px;color:#b4b4b4;text-align:center}.zjapp .status-new-tag{position:absolute;right:0;top:0;width:50px;height:50px;overflow:hidden;z-index:10}.zjapp .status-new-tag>.tag{position:absolute;right:-32px;bottom:22px;height:20px;line-height:20px;width:100px;color:#fff;font-size:12px;transform:rotate(45deg);text-align:center;border-width:1px;border-style:solid}.zjapp .time-status{font-size:10px;color:#999}",""])},c5a7:function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},d18d:function(t,e,i){"use strict";(function(t){i("2b45");var n,a=i("4360"),o=i("48f4"),r=i("162a"),s=i("e2a7"),l=i("a500"),c=i("6f9e"),u={};e.a={name:"Scroller",props:{buildingId:{type:String,default:""},hasNext:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},isSync:{type:Boolean,default:!0},endText:{type:String,default:""},memoryScrollTop:{type:Boolean,default:!0},keepScrollTop:{type:Boolean},hasPullDown:{type:Boolean,default:!0},onPullDown:{type:Function}},data:function(){return{pullDist:0,refreshing:!1,pulling:!1,loading:!1,scrollTop:0,isCurrKeyboard:!1,gapBottom:0}},computed:{allowPullDown:function(){return this.hasPullDown&&(!!this.$listeners.pullDown||!!this.onPullDown)},updateTime:function(){return a.a.state.global.businessDownloadTime},numberKeyboardCoverHeight:function(){return a.a.state.global.isNumberInputOpen?a.a.state.global.numberKeyboardHeight-this.gapBottom:0}},mounted:function(){var t=this;c.a.$on("numberKeyboardOpen",this.onNumberKeyboardOpen),this.$nextTick((function(){var e=t.$refs["scroll-warp"]&&t.$refs["scroll-warp"].getBoundingClientRect&&t.$refs["scroll-warp"].getBoundingClientRect();e&&(t.gapBottom=document.documentElement.clientHeight-e.bottom),t.$el&&t.$el.addEventListener("focus",(function(e){var i=e&&e.target,n=i&&i.tagName&&i.tagName.toLowerCase();if("input"===n||"textarea"===n){window.addEventListener("resize",(function e(){var n=i.getBoundingClientRect(),a=t.$el.getBoundingClientRect(),o=n.bottom-a.bottom;o>0&&t.scrollBy(o),window.removeEventListener("resize",e,!1)}),!1)}}),!0)}))},destroyed:function(){c.a.$off("numberKeyboardOpen",this.onNumberKeyboardOpen)},activated:function(){var t=this.keepScrollTop||this.$router.isBack&&this.memoryScrollTop;this.scrollTop&&t&&(this.$refs["scroll-warp"].scrollTop=this.scrollTop)},deactivated:function(){this.memoryScrollTop&&(this.scrollTop=this.$refs["scroll-warp"].scrollTop)},methods:{onScroll:function(t){var e=this,i=this.$refs["scroll-warp"].scrollTop,n=this.$refs["scroll-warp"].scrollHeight;if(i+this.$refs["scroll-warp"].clientHeight>=n-5&&!this.loading&&this.hasNext){this.loading=!0;var a=this.$listeners.loadNext();a&&a.then&&"function"==typeof a.then?a.then((function(){e.loading=!1})):this.loading=!1}this.$emit("scroll",t)},getTouchDiretion:function(t){if(!(u&&t&&t.touches&&t.touches[0]))return"";var e=t.touches[0].clientX,i=t.touches[0].clientY;return Math.abs(i-u.y)>Math.abs(e-u.x)&&Math.abs(i-u.y)>=3?i>u.y?"down":"up":""},onTouchstart:function(t){this.allowPullDown&&t.touches&&1===t.touches.length&&(u={x:t.touches[0].clientX,y:t.touches[0].clientY,scrollTop:this.$refs["scroll-warp"].scrollTop,pullDist:this.pullDist})},onTouchmove:function(t){if(this.allowPullDown&&t.touches&&1===t.touches.length){var e=this.$refs["scroll-warp"].scrollTop,i=t.touches[0].clientY,n=i-u.y,a=this.getTouchDiretion(t);"down"===a?!this.refreshing&&e<=0?(this.pulling=!0,this.pullDist=(n-u.scrollTop)/2,t.preventDefault()):this.pulling=!1:"up"===a?this.pullDist>0&&(this.pullDist=u.pullDist-(u.y-i),t.preventDefault()):this.pullDist=u.pullDist}},onTouchend:function(){var t=this;this.allowPullDown&&(u={},this.pulling=!1,this.pullDist>=70&&this.isSync?this.refreshing?this.makePullTo(70):this.makePullTo(70).then((function(){if(t.refreshing=!0,t.onPullDown){var e=t.onPullDown();e&&e.then&&"function"==typeof e?e.finally((function(){t.refreshing=!1,t.makePullTo(0)})):(t.refreshing=!1,t.makePullTo(0))}else t.dataSync().then((function(){t.refreshing=!1,t.makePullTo(0),t.$emit("pullDown")})).catch((function(){t.refreshing=!1,t.makePullTo(0),t.$emit("pullDown")}))})):(this.refreshing=!1,this.makePullTo(0)))},makePullTo:function(t){var e=this,i=this.pullDist,n=t,a=n-i,o=i;return i===n?Promise.resolve():new Promise((function(t){!function r(){window.requestAnimationFrame((function(){o+=a/6,e.pullDist=o,i<n&&o<n||i>n&&o>n?r():(e.pullDist=n,e.refreshing=!1,t())}))}()}))},dataSync:function(){var t,e=o.default.getCurrentModuleCode(),i=o.default.getCurrentRoute(),n=i.meta&&i.meta.isTodo;if(o.default.isModuleNeedBuilding(e)&&!n){if(!this.buildingId)return new Promise((function(t){setTimeout((function(){t()}),500)}));t=this.buildingId}return l.a.addTrack("公共-手动下拉刷新","",""),r.a.beginManualUpdate(),o.default.checkSync(t).then((function(t){return r.a.endManualUpdate(),t})).catch((function(t){$log.error("下拉刷新错误",t),t&&"Error: Network Error"===t.toString()?s.a.alert("当前网络无法同步数据"):s.a.alert(t),r.a.endManualUpdate()}))},getScrollHeight:function(){return this.$refs["scroll-warp"].offsetHeight},getScrollTop:function(){return this.$refs["scroll-warp"].scrollTop},setScrollTop:function(t){this.$refs["scroll-warp"].scrollTop=t},scrollBy:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a=this.getScrollTop(),o=a+t,r=Math.round(i/16.7),s=t/r,l=a,c=n=+new Date;return a===o?Promise.resolve():new Promise((function(t){!function i(){window.requestAnimationFrame((function(){c===n&&(l+=s,e.$refs["scroll-warp"].scrollTop=l,a<o&&l<o||a>o&&l>o?i():(e.$refs["scroll-warp"].scrollTop=o,t()))}))}()}))},scrollTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=this.getScrollTop(),n=t-i;return this.scrollBy(n,e)},scrollToEle:function(t){var e=t.keyboardHeight||232,i=(t=t.$el?t.$el:t).getBoundingClientRect(),n=this.$refs["scroll-warp"].getBoundingClientRect();if(i&&n){var o=document.documentElement.clientHeight-(a.a.state.global.isNumberInputOpen?e:0),r=n.bottom<o?n.bottom:o,s=n.top-i.top,l=i.bottom-r;s>0?this.scrollBy(-s-10):l>0&&this.scrollBy(l+10)}},isCurrent:function(e,i){var n=this;e.length&&t.each(e,(function(t){t._uid===i?n.isCurrKeyboard=!0:n.isCurrent(t.$children,i)}))},onNumberKeyboardOpen:function(t){this.isCurrKeyboard=!1,this.isCurrent(this.$children,t._uid),this.isCurrKeyboard&&this.scrollToEle(t)}}}}).call(this,i("391c"))},db6b2:function(t,e,i){(t.exports=i("690e")(!1)).push([t.i,'.zjapp .swipe-tabs[data-v-025feb99]{display:flex;flex-direction:column;flex:1;overflow:hidden}.zjapp .tabs[data-v-025feb99]{position:relative;display:flex;background-color:#fff}.zjapp .tab[data-v-025feb99]{flex:1;height:40px;line-height:20px;padding:10px;font-size:14px;text-align:center;box-sizing:border-box}.zjapp .tab-current[data-v-025feb99]{color:#4275e8}.zjapp .mark-line[data-v-025feb99]{position:absolute;bottom:0;left:0;width:20px;height:2px;margin-left:-10px;background-image:linear-gradient(90deg,#5ea2ff,#4f83eb 50%,#4275e8);transition:left .4s cubic-bezier(.1,.7,.1,1)}.zjapp .tabs-point[data-v-025feb99]{position:relative;z-index:1;height:40px;font-size:0;text-align:center;background-color:#fff;overflow:visible}.zjapp .tabs-scroll[data-v-025feb99]{position:relative;padding-bottom:3px;margin-bottom:-3px;white-space:nowrap;overflow-x:auto}.zjapp .tabs-scroll[data-v-025feb99]::-webkit-scrollbar{display:none}.zjapp .tab-point[data-v-025feb99]{display:inline-block;padding:10px 15px;line-height:20px;font-size:16px;color:#333;white-space:nowrap}.zjapp .tab-point.tab-current[data-v-025feb99]{position:relative;z-index:3;color:#4275e8}.zjapp .tab-point.tab-current[data-v-025feb99]:after{content:"";position:absolute;z-index:3;bottom:-3px;left:50%;margin-left:-3px;width:7px;height:7px;border-radius:50%;background-color:#4275e8}',""])},dd16:function(t,e,i){"use strict";(function(t){e.a={name:"StatusText",props:{status:{type:String},text:{type:String},extend:{type:Object,default:function(){return{}}}},data:function(){return{classSet:t.extend({"草稿":"color-gray","暂存":"color-gray","检查中":"color-orange","待整改":"color-red","待复验":"color-orange","待验收":"color-red","待报验":"color-red","待申请进场":"color-red","待初验":"color-red","待送检":"color-red","待上传报告":"color-red","待退场":"color-red","待建设单位验收":"color-red","待区域验收":"color-red","供应链退回":"color-red","预创建":"color-status-blue","已提交":"color-green","已整改":"color-green","已验收":"color-green","已通过":"color-green","已退场":"color-gray","已关闭":"color-gray","非正常关闭":"color-gray","已退回":"color-red","已完成":"color-green","已甩项":"color-gray","检查完毕":"color-green","送检合格":"color-green","复验合格":"color-green","验收合格":"color-green","验收不合格":"color-red","未验收":"color-orange","待点评":"color-orange","已点评":"color-green","合格":"color-green","不合格":"color-red","进度正常":"color-green","进度滞后":"color-red","施工单位验收合格":"color-green","监理单位验收合格":"color-green","建设单位验收合格":"color-green","施工单位验收不合格":"color-red","监理单位验收不合格":"color-red","建设单位验收不合格":"color-red"},this.extend)}},mounted:function(){}}}).call(this,i("391c"))},ef48:function(t,e,i){var n=i("9d55");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i("85cb").default)("a1a65c0c",n,!0,{sourceMap:!1,shadowMode:!1})},f24f:function(t,e,i){"use strict";e.__esModule=!0,e.isNumber=function(t){return/^\d+(\.\d+)?$/.test(t)},e.isNaN=function(t){if(Number.isNaN)return Number.isNaN(t);return t!=t}},fa4f:function(t,e,i){"use strict";var n=i("4aef"),a=i("967a"),o={name:"ItemList",components:{StatusText:n.a},props:{img:{type:String,default:""},title:{type:String,default:""},detail:{type:String,default:""},footer:{type:String,default:""},status:{type:String,default:""},isShowNewStatus:{type:Boolean,default:!1},statusText:{type:String,default:""},statusClassSet:{type:Object,default:function(){return{}}},typeTag:{type:String,default:""},isUnread:{type:Boolean,default:!1},isTimeout:{type:Boolean,default:!1},isUrgent:{type:Boolean,default:!1},isReturn:{type:Boolean,default:!1},repairDeadline:{type:String,default:null}},data:function(){return{repairDeadlineStatus:a.a.REPAIR_DEADLINE_STATUS.status}},computed:{bgNewClass:function(){return{"草稿":"bg-gray7 b-color","暂存":"bg-gray b-color","检查中":"bg-orange b-color","待整改":"bg-red2 b-color ","待复验":"bg-purple b-color","待验收":"bg-red b-color","待报验":"bg-red b-color","待申请进场":"bg-red b-color","待初验":"bg-red b-color","待送检":"bg-red b-color","待上传报告":"bg-red b-color","待退场":"bg-red b-color","待建设单位验收":"bg-red b-color","待区域验收":"bg-red b-color","已提交":"bg-green b-color","已整改":"bg-green b-color","已验收":"bg-green b-color","已通过":"bg-green2 b-color","已退场":"bg-gray b-color","已关闭":"bg-gray7 b-color","非正常关闭":"bg-gray b-color","已退回":"bg-red b-color","已完成":"bg-green b-color","已甩项":"bg-gray b-color","检查完毕":"bg-green b-color","送检合格":"bg-green b-color","复验合格":"bg-green b-color","验收合格":"bg-green b-color","验收不合格":"bg-red b-color","未验收":"bg-orange b-color","待点评":"bg-orange b-color","已点评":"bg-green b-color","合格":"bg-green b-color","不合格":"bg-red b-color","进度正常":"bg-green2 b-color","进度滞后":"bg-red2 b-color","施工单位验收合格":"bg-green b-color","监理单位验收合格":"bg-green b-color","建设单位验收合格":"bg-green b-color","施工单位验收不合格":"bg-red b-color","监理单位验收不合格":"bg-red b-color","建设单位验收不合格":"bg-red b-color"}}},activated:function(){}},r=(i("19a9"),i("17cc")),s=Object(r.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._g({staticClass:"item-list border-bottom"},t.$listeners),[t.isShowNewStatus?i("div",{staticClass:"status-new-tag"},[i("div",{staticClass:"tag",class:t.bgNewClass[t.status]},[t._v("\n      "+t._s(t.status)+"\n    ")])]):t._e(),t.img?i("div",{staticClass:"img",style:{"background-image":"url("+t.img+")"}}):t._e(),i("div",{staticClass:"item-list-con"},[i("h2",{staticClass:"title"},[t.isUnread?i("i",{staticClass:"icon-unread"}):t._e(),t.isTimeout?i("i",{staticClass:"icon-timeout"},[t._v("\n        超\n      ")]):t._e(),t.isUrgent?i("i",{staticClass:"icon-urgent"},[t._v("\n        急\n      ")]):t._e(),t.isReturn?i("i",{staticClass:"icon-return"},[t._v("\n        退\n      ")]):t._e(),t.$slots.title?t._t("title"):[t.typeTag?i("span",{staticClass:"type-tag"},[t._v(t._s(t.typeTag))]):t._e(),t._v("\n        "+t._s(t.title||"")+"\n      ")]],2),i("p",{staticClass:"text"},[t._v(t._s(t.detail||""))]),t.$slots.footer?t._t("footer"):i("p",{staticClass:"time",domProps:{innerHTML:t._s(t.footer||"")}})],2),t.status&&!t.isShowNewStatus?i("div",{staticClass:"item-list-status"},[i("status-text",{attrs:{status:t.status,text:t.statusText,extend:t.statusClassSet}}),t.repairDeadline&&t.repairDeadlineStatus.includes(t.status)?i("p",{staticClass:"time-status"},[t._v("\n      "+t._s(t._f("timeStatus")(t.repairDeadline))+"\n    ")]):t._e()],1):t._e()])}),[],!1,null,null,null);e.a=s.exports}}]);