(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-68464449"],{"04da":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .comment-list .cl-total[data-v-636dc866]{padding:0 15px;line-height:46px;color:#999;font-size:16px;border-bottom:1px solid #ececec;background:#fff}.zjapp .comment-list .cl-list[data-v-636dc866]{padding:0 15px;background:#fff}.zjapp .comment-list .cl-item[data-v-636dc866]{display:flex;padding:15px 0 0;position:relative}.zjapp .comment-list .cl-img[data-v-636dc866]{width:32px;height:32px;border-radius:50%;margin-right:10px}.zjapp .comment-list .cl-flex[data-v-636dc866]{width:calc(100% - 40px);flex:1;padding-bottom:15px;border-bottom:1px solid #ececec}.zjapp .comment-list .cl-name[data-v-636dc866]{line-height:22px;color:#6b7ba9;font-size:16px;vertical-align:top;margin-bottom:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.zjapp .comment-list .cl-content[data-v-636dc866]{color:#333;font-size:16px;margin-bottom:8px}.zjapp .comment-list .cl-date[data-v-636dc866]{line-height:20px;color:#999;font-size:14px}.zjapp .comment-list .cl-delete[data-v-636dc866]{position:absolute;bottom:15px;right:0;color:#666;font-size:14px}.zjapp .comment-list .comment-list-loading[data-v-636dc866]{min-height:230px}",""])},"0f6f":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,'.zjapp .comment-button-input[data-v-efd269da]{padding:0;margin:0;border-top:1px solid #ececec;min-height:46px}.zjapp .comment-button-input .cbi-flex[data-v-efd269da]{width:100%;display:flex}.zjapp .comment-button-input .cbi-field[data-v-efd269da]{padding:12px 15px;font-size:16px;color:#333}.zjapp .comment-button-input .cbi-field[data-v-efd269da] textarea{line-height:22px;min-height:22px;max-height:66px}.zjapp .comment-button-input .cbi-field[data-v-efd269da] textarea::-moz-placeholder{color:#c8c8c8;font-size:16px}.zjapp .comment-button-input .cbi-field[data-v-efd269da] textarea:-ms-input-placeholder{color:#c8c8c8;font-size:16px}.zjapp .comment-button-input .cbi-field[data-v-efd269da] textarea::placeholder{color:#c8c8c8;font-size:16px}.zjapp .comment-button-input .cbi-field[data-v-efd269da] .van-field__left-icon{height:22px;display:none}.zjapp .comment-button-input .cbi-field.active[data-v-efd269da] .van-field__left-icon{display:block}.zjapp .comment-button-input .cbi-field[data-v-efd269da]:before{content:"";width:1px;height:calc(100% - 30px);background:#ececec;position:absolute;right:0;top:15px;bottom:15px}.zjapp .comment-button-input .cbi-field[data-v-efd269da]:after{content:none}.zjapp .comment-button-input .cbi-right[data-v-efd269da]{position:relative;min-width:80px}.zjapp .comment-button-input .cbi-button[data-v-efd269da]{width:auto;height:28px;line-height:18px;min-width:50px;padding:5px 11px;background:linear-gradient(270deg,#55abff,#4c7aff);border-radius:14px;color:#fff;font-size:14px;position:absolute;bottom:10px;right:15px;opacity:.5}.zjapp .comment-button-input .cbi-button.active[data-v-efd269da]{opacity:1}.zjapp .comment-button-input .cbi-button[data-v-efd269da] .svg-loading{width:16px;height:16px;margin:0}.zjapp .comment-button-input .cbi-icon[data-v-efd269da]{color:#c8c8c8;font-size:16px;position:relative;top:-1px}',""])},"15e7":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAMAAAC7m5rvAAAAk1BMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////ROyVeAAAAMHRSTlMAAvqA55Q+zQVaRph2bSQQ9PHEsY/RvqV7cWo3My4L696phoV3ZmBRGwnh2sagVRmd7JA7AAABWElEQVRIx+2U2XKCQBBFYdgCKgLiGtdoTMx6/v/rgljQVUJFOq/mvNBAneLO0D3W/RKH82iolV53AOn8QWUNt1zoqbQpmF0+Bo4Ka20gsizbg0ChRZCdr6cU4u7aolrUBKLumgNOtcawu9aDRVnkMOiujeClLGbgdNfG8FgWfchV+78uK08T8hkCSdu5HzcwqNOuOloPGbjDS5lAxylYfQBfl3oJieM4h/D7Ruf7ngH2dbdUjNp6zO4Hhhr5VSE1adS0JiAEvrwJnTN5BiSNvTkgeK2t679Bdv0wgFk5/YDVztJUjSMYKKxfNWva7E7AuqUN4FOjScP1/qD1YKDXbBd8veaDa+s1DzxLo0lGlSYZVZpk1GiSUaVJRpUmGTWaZNRroWRUDE7sQr+4asbUjucbcE8tWh+huH0yXJHKYLcfQaa4TbjifdlmyYGH2Te+th0dbeufe+UH6dlKY34y9JcAAAAASUVORK5CYII="},"2e96":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .beyond-hidding[data-v-43be98b8]{word-wrap:break-word}.zjapp .beyond-hidding .bh-display_section[data-v-43be98b8]{position:relative;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical}.zjapp .beyond-hidding .all[data-v-43be98b8]{position:absolute;bottom:0;right:0;background:#fff;z-index:3;width:63px;display:flex;justify-content:space-between}.zjapp .beyond-hidding .all-span[data-v-43be98b8]{color:#4275e8;margin-left:10px}",""])},"2f8f":function(t,e,a){"use strict";a("e5d4")},"3eeb":function(t,e,a){"use strict";a("cc57"),a("5490"),a("163d"),a("6bf2");var i=a("162a"),n=a("1b7e"),o=a("fd50");a("9315");e.a={checkNetwork:function(){return n.a.getHasNetwork().then((function(t){if(!t)return o.a.reject({errmsg:"当前无网络连接"})}))},getDetail:function(t){return i.a.request("/project-highlight/get-detail",{id:t}).then((function(t){return{id:t.id,title:t.title,image_file:JSON.parse(t.image_file||"[]"),remark:t.remark,type:{id:t.type,name:t.type,type:Number(t.case_type)},project:{id:t.proj_id,name:t.proj_name},creator:t.user,user:t.user,pv_num:t.pv_num,praise_num:t.praise_num,has_praise:t.has_praise,link:t.link,link_name:t.link_name,headimg_url:t.headimg_url,created_on:t.created_on,comment_num:Number(t.comment_num)}}))},getCommentList:function(t,e,a){return i.a.request("/webapi/project-highlight/get-comment-list",{highlight_id:t,page:e,page_size:a})},postAddComment:function(t,e){return i.a.post("/webapi/project-highlight/add-comment",null,{highlight_id:t,content:e})},postDeleteComment:function(t,e){return i.a.post("/webapi/project-highlight/delete-comment",null,{highlight_id:t,comment_id:e})},getTypeList:function(){return i.a.request("/online/project-highlight/type-list").then((function(t){return{1:(t=(t||[]).map((function(t){return t.id=t.name,t.type=Number(t.case_type),t}))).filter((function(t){return 1===Number(t.case_type)})),2:t.filter((function(t){return 2===Number(t.case_type)}))}}))}}},"625a":function(t,e,a){"use strict";a("163d");var i=a("3122"),n=a("6bf2"),o=a.n(n),r={name:"BeyondHiding",components:{},props:{data:{type:String,default:""},lineHeight:{type:String,default:"22px"},maxLine:{type:Number,default:6}},data:function(){return{show:!0,showAllButton:!1,MaxLineComputed:0}},watch:{maxLine:function(t){this.MaxLineComputed=t}},mounted:function(){this.MaxLineComputed=this.maxLine+1;var t=this.$refs.bhDisplaySection;t&&(this.showAllButton=t.offsetHeight/(parseInt(t.style.lineHeight)||1)>6)},methods:{lineHeightNum:function(t){return t.offectHeight}}},s=(a("ad130"),a("17cc")),c={name:"CommentList",components:{BeyondHiding:Object(s.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"beyond-hidding"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"bhDisplaySection",staticClass:"bh-display_section",style:{"-webkit-line-clamp":t.MaxLineComputed,"line-height":t.lineHeight}},[t._v(t._s(t.data)+"\n    "),t.showAllButton?a("div",{staticClass:"all",on:{click:function(e){t.show=!1}}},[t._v("..."),a("span",{staticClass:"all-span"},[t._v("全部")])]):t._e()]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"bh-display_all",style:{"line-height":t.lineHeight},on:{click:function(e){t.show=!0}}},[t._v(t._s(t.data))])])}),[],!1,null,"43be98b8",null).exports},props:{commentTotal:{type:Number,default:0},list:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{getUserLogo:function(t){try{return t?i.a.getThumbnailFromUrl(t):"static/default_img_simple.png"}catch(t){return"static/default_img_simple.png"}},timeConversion:function(t){return o()(t).calendar(null,{sameDay:"[今天] HH:mm",lastDay:"[昨天] HH:mm",nextDay:"YYYY.MM.DD HH:mm",nextWeek:"YYYY.MM.DD HH:mm",lastWeek:"YYYY.MM.DD HH:mm",sameElse:"YYYY.MM.DD HH:mm"})},deleteComment:function(t){this.$emit("onDeleteComment",t.comment_id)}}},l=(a("d9fd"),Object(s.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment-list"},[a("div",{staticClass:"cl-total"},[t._v("评论 ("+t._s(t.commentTotal)+")")]),a("div",{staticClass:"cl-list"},t._l(t.list,(function(e){return a("div",{key:e.comment_id},[a("div",{staticClass:"cl-item"},[a("img",{staticClass:"cl-img",attrs:{src:t.getUserLogo(e.avatar)}}),a("div",{staticClass:"cl-flex"},[a("div",{staticClass:"cl-name"},[t._v(t._s(e.user_name))]),a("beyond-hiding",{staticClass:"cl-content",attrs:{"line-height":"22px","max-line":6,data:e.content}}),a("div",{staticClass:"cl-date"},[t._v(t._s(t.timeConversion(e.created_on)))])],1),e.can_del?a("div",{staticClass:"cl-delete",on:{click:function(a){t.deleteComment(e)}}},[t._v("删除")]):t._e()])])}))),a("loading-status",{staticClass:"comment-list-loading",attrs:{type:"message","is-empty":t.list.length<=0,"empty-text":"暂无评论，快来抢沙发"}})],1)}),[],!1,null,"636dc866",null));e.a=l.exports},6832:function(t,e,a){"use strict";(function(t){a("6d57"),a("06a2"),a("cc57");var i=a("3bd5"),n=a("162a"),o=a("4ad6"),r=a("3122"),s=a("1601"),c=a("e2a7"),l=a("3eeb"),p=a("774b"),d=a("07d2"),m=a("e68e"),u=a("625a"),h=a("ca02"),g=a("1b7e"),f=a("6bf2"),b=a.n(f);e.a={name:"ProjectHighlightDetail",components:{Item:d.default,ItemImgList:m.a,Scroller:p.default,CommentList:u.a,CommentButtonInput:h.a},data:function(){return{isLoading:!1,problemId:"",user:i.a.getUser(),model:{},typeOptions:[{id:"质量",name:"质量"},{id:"安全文明",name:"安全文明"},{id:"工艺",name:"工艺"},{id:"综合",name:"综合"},{id:"其他",name:"其他"}],problemData:{creator:{},type:{},project:{}},commentTotal:0,commentPage:1,commentPageSize:10,commentList:[]}},computed:{caseName:function(){var t="";switch(this.problemData.type.type){case 1:t="优秀做法-";break;case 2:t="不良做法-"}return t+this.problemData.type.name},noData:function(){return!this.isLoading&&this.problemData.id},commentIsNext:function(){return this.commentList.length<this.commentTotal&&0!==this.commentTotal}},activated:function(){this.init()},methods:{init:function(){var t=this,e=this.$route.params;if(this.problemId=e&&e.id?e.id:"",this.problemId){this.isLoading=!0;var a=this.getDetail(),i=this.firstGetCommentList();return Promise.all([a,i]).then((function(){t.isLoading=!1}))}},getDetail:function(){var t=this;return l.a.getDetail(this.problemId).then((function(e){e.publishDate=t.timeConversion(e.created_on),e.user.headimg_url||(e.user.headimg_url=t.getImage(e.user.headimg_url,"avater")),e.image_file=e.image_file.map((function(t){return{id:t.id,url:t.url,videoUrl:t.videoUrl}})),t.problemData=e})).catch((function(t){$log.error("工程案例-案例详情-error：",t)}))},openHeaderImg:function(t){var e;e="img/default_img_simple.png"===t.headimg_url?r.a.fixUrl(o.a.appCodePath()+t.headimg_url):t.headimg_url,o.a.openImageBrowser([e],0)},toUrl:function(t){t&&window.MUtils.openUrlInBrowser(t)},openIm:function(e){if($rootScope.allowIM&&1===e.is_im_user&&e.id!==this.user.user_id)if(t.has(e,"headimg_url")){var a=i.a.getUser().tenant_code+"_"+e.id;s.a.openIm(a,e.name,e.headimg_url).catch((function(t){c.a.alert(t)}))}else s.a.openUserChat(e.id).catch((function(t){c.a.alert(t)}))},praise:function(t){var e=this;if(1!==t.has_praise)return l.a.checkNetwork().then((function(){return n.a.post("/project-highlight/praise",{},{id:t.id}).then((function(){e.problemData.has_praise=1,e.problemData.praise_num=parseInt(e.problemData.praise_num||0)+1,c.a.alert("已点赞")}))})).catch((function(t){c.a.alert(t.errmsg)}));c.a.alert("一天只能点赞1次，明天再来哦~")},doEdit:function(){this.$router.push("/project-highlight-add/".concat(this.problemId))},onDeleteComment:function(t){var e=this;$log.log("工程案例-删除评论-数据：",{"案例id":this.problemId,"评论id":t}),this.getHasNetwork().then((function(){c.a.confirm({message:"确定要删除自己的评论？",okText:"删除"},(function(){l.a.postDeleteComment(e.problemId,t).then((function(t){c.a.alert("删除成功"),e.updateCommentList()})).catch((function(t){$log.error("工程案例-删除评论-error：",t)}))}))}))},onPostComment:function(t,e){var a=this;$log.log("工程案例-发表评论-数据：",{"案例id":this.problemId,"发表的内容":t}),this.getHasNetwork().then((function(){l.a.postAddComment(a.problemId,t).then((function(t){a.updateCommentList(),a.$refs.commentButtonInput.result();var i=a.$refs.detailMain.offsetHeight+10;a.$refs.scroller.$el.scrollTop=i,c.a.alert("发表成功"),e&&e()})).catch((function(t){$log.error("工程案例-发表评论-error：",t),e&&e()}))}))},firstGetCommentList:function(){return this.commentList=[],this.commentPage=1,this.getCommentList()},updateCommentList:function(){this.commentPage=1,this.getCommentList()},onceAgainGetCommentList:function(){if(this.commentIsNext)return this.commentPage=this.commentPage+1,this.getCommentList(!0)},getCommentList:function(t){var e=this;return l.a.getCommentList(this.problemId,this.commentPage,this.commentPageSize).then((function(a){e.commentList=t?e.commentList.concat(a.list):a.list,e.commentTotal=a.total,console.log("评论列表：",a)})).catch((function(t){e.commentList=[],$log.error("工程案例-评论列表-error：",t)}))},getHasNetwork:function(){return new Promise((function(t,e){g.a.getHasNetwork().then((function(e){e?t():c.a.alert("当前无网络连接")})).catch((function(t){$log.error("工程案例-详情-判断是否有网-error：",t)}))}))},timeConversion:function(t){return b()(t).calendar(null,{sameDay:"[今天]",lastDay:"[昨天]",nextDay:"YYYY.M.D",nextWeek:"YYYY.M.D",lastWeek:"YYYY.M.D",sameElse:"YYYY.M.D"})},getImage:function(t,e){try{return t?r.a.getThumbnailFromUrl(t):"image"===e?"static/photo-default.png":"static/default_img_simple.png"}catch(t){return"image"===e?"static/photo-default.png":"static/default_img_simple.png"}}}}}).call(this,a("391c"))},7073:function(t,e,a){var i=a("a59f");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("9d1116d4",i,!0,{sourceMap:!1,shadowMode:!1})},9315:function(t,e,a){t.exports=a.p+"img/default_img_simple.a294f54c.png"},9434:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAMAAAC7m5rvAAAAe1BMVEUAAADJycnh4eHJycnZ2dnKysrKysrJycnJycnJycnLy8vMzMzJycnJycnIyMjJycnKysrKysrKysrMzMzJycnJycnJycnJycnKysrJycnMzMzJycnKysrIyMjJycnKysrKysrLy8vIyMjIyMjIyMjJycnIyMjMzMzIyMinXpOoAAAAKHRSTlMAmQXhCXRbscVsUg6Q8NGghn9AFOW8pYtuTDIrlPbQaGEY8+nb1DgjsORnRQAAAYNJREFUSMftVNuygyAMFKsiilW01kurvV/+/wtPQucAttJ2fOuM+0QSlllCWGfGjJ/Apqk5DWnKRXD4lnOtFncDF964HzmeUByNxe4Dcb+S+xK69aO8CZgoO5lY1Z6dlPe45URy43A3z+RR59bGqqWg4FU4Q+HdfpzFoXYUo2LcXQJFMlLzKBRC3e448v0oVuGtx3L8wgohvVZ3KshdghRqQ4o870lFCclMP/dC9X6jkgzC0h2wUCFTYYGsJSFL5BUDHjV5a0j4OgSFiWxokIBOnffxIuY2VKgQQ4gs5MHS6EN2N46pINg6GhEo/F+DzsgobWFr9Vi2sEwdA75xJEH1BrCf7UTaNJHTWjL9AaY/tx4u9n64Mj1cw1FOPfsou2s1yiZi5PU328c5YJmOfTiCJjJuNp44QpFb/KfDy7DXIwN51dqxoD1Ll8qGFkROmO3zNy5ZPwyvKwULmjzyOU0ehmfxH202Y/aqjclObPhlwKmuzpc4BIKnNKS8bjbOjBm/gD+FRD4bgfnMpAAAAABJRU5ErkJggg=="},a325:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAMAAAC7m5rvAAAAjVBMVEUAAABBdulCdelCdepBdOpCdepCdelCdepJiv9CdelCdelCdulDdutCdelCdelCdulCdepCdupIfPRVVf9CdelCdelCdupDdulCdupCd+lDdOpCeutDeOtFfvdPfupCdupCdupDdupDdupCeOpEdepBeOtEd+xCdOpCdehBdOlEdOtCdej////7/P+lvfTkjHGPAAAAK3RSTlMAZv3ladn6vwX00cqn4dau8bUgA/brt5SKd25TMRXywKqhnJt8cV5B7btL0FHq8wAAAUtJREFUSMft1NluwjAURVF8ExIyA2UsUGZou2n///OaBEqqOFJsXul+X9KRZbvzvH1Os/nQFi0dirKelRp6XEutWALynhR2b6FWgmRKuQ4EFuwAI5V3FDibsxgcVRTA3JytoVuyMUzNWQpRyRLYmDMHJiXL/dqcjWBbshAiq/M//o7MjNkWPFXWh5mpWgpEV+bBwlD1+iDzUrnA0EwtcsWHKtuB+L4/mS5bbr4bCtBV1yJuiXNu2jUIhHuSqls+9+Sgqzf+5MXqnt8tSkZCw9lMqHIy1VAs0K+zAL6/LnmAam4ncKoxgVJVTG8Mfo0BlzYWQfcxlj7AHNjYM1fAtWcxyIs9cyDsWDNX4NWS6Rt1ZrRRZ0YbdWa0UWemG3XWvNGe+dVGi4czExjUSNszdWchIKsGNqAtpRntC9LzThqpPrzmxBvve53/nrUfMYFZrO18/qgAAAAASUVORK5CYII="},a59f:function(t,e,a){var i=a("5454");(t.exports=a("690e")(!1)).push([t.i,".zjapp .project-highlight-header[data-v-027bc640]{display:flex;align-items:center;justify-content:center;padding:8px 15px;border:none;background-image:linear-gradient(0deg,#ddd,#ddd 66.6667%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}.zjapp .project-highlight-header .img[data-v-027bc640]{height:30px;margin-right:8px;border-radius:15px}.zjapp .project-highlight-header .user[data-v-027bc640]{flex:1;line-height:18px;color:#333;font-size:14px}.zjapp .project-highlight-header .im[data-v-027bc640]{font-size:14px;color:#7a95d1;margin-left:5px}.zjapp .project-highlight-header .date[data-v-027bc640]{padding-left:10px;white-space:nowrap;color:#999;font-size:12px}.zjapp .project-highlight-footer[data-v-027bc640]{padding:9px 15px;background-color:#fff;border:none;background-image:linear-gradient(180deg,#dcdcdc,#dcdcdc 66.6667%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:top;display:-moz-flex;display:flex;-moz-align-items:center;align-items:center;-webkit-box-align:center;-moz-box-align:center;-ms-flex-align:center;-moz-justify-content:center;justify-content:center}.zjapp .project-highlight-footer .view-num[data-v-027bc640]{-moz-flex:1;flex:1;font-size:14px;line-height:16px;color:#999}.zjapp .project-highlight-footer .btn-con .btn[data-v-027bc640]{height:28px;line-height:28px;min-width:74px}.zjapp .project-highlight-footer .num-view[data-v-027bc640]{display:inline-block;vertical-align:top;height:18px;line-height:18px;padding-left:21px;background:url("+i(a("9434"))+") no-repeat;background-size:18px 18px}.zjapp .project-highlight-footer .num-praise[data-v-027bc640]{background:url("+i(a("15e7"))+") no-repeat;background-size:18px 18px}.zjapp .project-highlight-footer .num-praise[data-v-027bc640],.zjapp .project-highlight-footer .num-praise-alrealy[data-v-027bc640]{display:inline-block;vertical-align:top;height:18px;line-height:18px;margin-top:5px;padding-left:21px;font-size:14px}.zjapp .project-highlight-footer .num-praise-alrealy[data-v-027bc640]{background:url("+i(a("a325"))+") no-repeat;background-size:18px 18px}.zjapp .project-highlight-footer .btn[data-v-027bc640]{border:none;background-color:#5197ff;display:block;width:100%;padding:0 5px;text-align:center;height:46px;line-height:46px;font-size:16px;color:#fff;text-decoration:none;border-radius:23px;background-image:linear-gradient(90deg,#5ea1ff,#4275e8);background-size:100% 100%}.zjapp .project-highlight-footer .btn-gradient[data-v-027bc640]{height:45px;line-height:45px;padding:0 15px;border:none;border-radius:22.5px;background-image:linear-gradient(90deg,#5ea1ff,#4275e8);background-size:100% 100%}.zjapp .project-highlight-footer .btn-gradient-disabled[data-v-027bc640]{background-color:#fff;color:#4275e8;background-image:linear-gradient(90deg,rgba(94,161,255,.15),rgba(66,117,232,.15))}",""])},a84d:function(t,e,a){var i=a("04da");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("09a6300c",i,!0,{sourceMap:!1,shadowMode:!1})},a8ab:function(t,e,a){"use strict";a.r(e);var i=a("6832").a,n=(a("f17a"),a("17cc")),o=Object(n.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-content",{attrs:{title:"案例详情","show-go-root":!0}},[a("div",{staticClass:"header-btn",attrs:{slot:"header-bar-right"},slot:"header-bar-right"},[t.user.user_id===t.problemData.creator.id?a("span",{on:{click:t.doEdit}},[t._v("修改")]):t._e()]),t.noData?[a("div",{staticClass:"project-highlight-header"},[a("img",{directives:[{name:"track",rawName:"v-track",value:"工程案例-详情页-点击头像",expression:"'工程案例-详情页-点击头像'"}],staticClass:"img",attrs:{src:t.problemData.creator.headimg_url,alt:""},on:{click:function(e){t.openHeaderImg(t.problemData.creator)}}}),a("div",{directives:[{name:"track",rawName:"v-track",value:"工程案例-详情页-聊天",expression:"'工程案例-详情页-聊天'"}],staticClass:"user",on:{click:function(e){t.openIm(t.problemData.creator)}}},[a("span",[t._v(t._s(t.problemData.creator.name))]),t.user.user_id!==t.problemData.creator.id?a("icon",{staticClass:"im",attrs:{name:"liaotian"}}):t._e()],1),a("div",{staticClass:"date"},[t._v(t._s(t.problemData.publishDate+"分享"))])]),t.noData?a("scroller",{ref:"scroller",attrs:{"has-next":t.commentIsNext,"is-empty":!t.commentList.length},on:{loadNext:t.onceAgainGetCommentList}},[a("div",{ref:"detailMain"},[a("item",{attrs:{label:"主题"}},[a("div",{staticClass:"item-text",attrs:{slot:"right"},slot:"right"},[a("p",{staticClass:"pb5 color-black"},[t._v(t._s(t.problemData.title))]),a("item-img-list",{attrs:{editabled:!1,"online-mode":!0},model:{value:t.problemData.image_file,callback:function(e){t.$set(t.problemData,"image_file",e)},expression:"problemData.image_file"}})],1)]),t.problemData.link?a("item",{attrs:{label:"超链接"}},[a("div",{staticClass:"item-text",attrs:{slot:"right"},slot:"right"},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.toUrl(t.problemData.link)}}},[a("i",{staticClass:"iconfont icon-icon-tianjiachaolianjie"}),t._v("\n              "+t._s(t.problemData.link_name)+"\n            ")])])]):t._e(),a("item",{attrs:{label:"补充说明",text:t.problemData.remark}}),a("item",{attrs:{label:"案例类型",text:t.caseName}}),a("item",{attrs:{label:"项目",text:t.problemData.project.name}}),a("div",{staticClass:"project-highlight-footer mb10"},[a("div",{staticClass:"view-num"},[a("span",{staticClass:"num-view"},[t._v(t._s(t.problemData.pv_num+"次围观"))])]),a("div",{staticClass:"btn-con"},[a("button",{directives:[{name:"track",rawName:"v-track",value:"工程案例-详情页-点赞",expression:"'工程案例-详情页-点赞'"}],staticClass:"btn btn-gradient",class:1===t.problemData.has_praise?"btn-gradient-disabled":"",on:{click:function(e){t.praise(t.problemData)}}},[a("span",{class:1===t.problemData.has_praise?"num-praise-alrealy":"num-praise"},[t._v("\n                "+t._s(t.problemData.praise_num)+"\n              ")])])])])],1),a("comment-list",{attrs:{list:t.commentList,"comment-total":t.commentTotal},on:{onDeleteComment:t.onDeleteComment}})],1):t._e()]:t._e(),a("loading-status",{attrs:{"is-loading":t.isLoading,"is-empty":!t.problemData.id,"empty-text":"加载详情失败"}}),t.noData?a("comment-button-input",{ref:"commentButtonInput",on:{onPostComment:t.onPostComment}}):t._e()],2)}),[],!1,null,"027bc640",null);e.default=o.exports},ad130:function(t,e,a){"use strict";a("f4da")},ca02:function(t,e,a){"use strict";a("f548");var i=a("e2a7"),n={name:"CommentButtonInput",components:{},props:{},data:function(){return{data:"",isFocus:!1}},computed:{inputStatus:function(){var t=this.data,e=this.isFocus,a=t?t.replace(/\s/g,"").length:0;return!e&&a<=0?1:e&&a<=0?2:a>0?3:4}},methods:{onInput:function(t){this.data=this.emojiFilter(t)},postComment:function(){var t=this;if(0!==(this.data?this.data.replace(/\s/g,"").length:0))return new Promise((function(e){t.$emit("onPostComment",t.data,(function(){e()}))}));i.a.alert("请输入评论")},result:function(){this.data="",this.isFocus=!1},onFocus:function(){this.isFocus=!0},onBlur:function(){this.isFocus=!1},emojiFilter:function(t){if("string"!=typeof t)return t;return t.replace(/[^\u4e00-\u9fa5a-zA-Z\d,\.。,，（）();；‘’【】:'"{}\[\]<>《》`·!！？?@#$%^&*-+|=\-\/\ ]+/g,"")}}},o=(a("2f8f"),a("17cc")),r=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-button-group",{staticClass:"comment-button-input",attrs:{"fixed-bottom":""}},[a("div",{staticClass:"cbi-flex"},[a("van-field",{staticClass:"cbi-field",class:{active:1===t.inputStatus},attrs:{rows:"1",autosize:"",type:"textarea",placeholder:1===t.inputStatus?"发表评论...":"期待您的精彩评论"},on:{input:t.onInput,focus:t.onFocus,blur:t.onBlur},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}},[a("template",{slot:"left-icon"},[a("Icon",{staticClass:"cbi-icon",attrs:{name:"gongchenganli-pinglun"}})],1)],2),a("div",{directives:[{name:"show",rawName:"v-show",value:1!==t.inputStatus,expression:"inputStatus !== 1"}],staticClass:"cbi-right"},[a("app-button",{staticClass:"cbi-button",class:{active:3===t.inputStatus},attrs:{"active-text":""},on:{click:t.postComment}},[t._v("\n        发表\n      ")])],1)],1)])}),[],!1,null,"efd269da",null);e.a=r.exports},d9fd:function(t,e,a){"use strict";a("a84d")},e5d4:function(t,e,a){var i=a("0f6f");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("646594b2",i,!0,{sourceMap:!1,shadowMode:!1})},f17a:function(t,e,a){"use strict";a("7073")},f4da:function(t,e,a){var i=a("2e96");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("dfe0c42a",i,!0,{sourceMap:!1,shadowMode:!1})}}]);