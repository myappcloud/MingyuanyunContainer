(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-159fd5d7"],{1711:function(a,e,t){(a.exports=t("690e")(!1)).push([a.i,'.zjapp .page-clear[data-v-4b9a369c]{background:#f2f2f2}.zjapp .page-clear .canvas[data-v-4b9a369c]{background-color:#fff;border-bottom:1px solid #e6e6e6;overflow:hidden;position:relative;z-index:1}.zjapp .page-clear .canvas .circular_pos[data-v-4b9a369c]{width:100%;height:260px;position:absolute;left:0;top:0;text-align:center;line-height:260px;font-size:16px}.zjapp .page-clear .canvas .circular[data-v-4b9a369c]{border:10px solid #4275e8;width:200px;height:200px;margin:30px auto;border-radius:50%}.zjapp .page-clear .afterClear[data-v-4b9a369c]{height:auto;width:100%;position:absolute;z-index:10;left:0;top:260px;overflow:hidden}.zjapp .page-clear .tips-content[data-v-4b9a369c]{padding:15px 40px 5px;line-height:2em;color:#888;text-align:center}.zjapp .loader[data-v-4b9a369c],.zjapp .loader[data-v-4b9a369c]:after,.zjapp .loader[data-v-4b9a369c]:before{border-radius:50%;width:200px;height:200px}.zjapp .loader[data-v-4b9a369c]{margin:30px auto;border:10px solid #e2e2e2;border-top:10px solid #4275e8;transform:rotate(30deg);position:relative}.zjapp .loader-ani[data-v-4b9a369c]{-webkit-animation:load8-data-v-4b9a369c 1.1s linear infinite;animation:load8-data-v-4b9a369c 1.1s linear infinite}.zjapp .loader[data-v-4b9a369c]:after{border:10px solid transparent;border-top:10px solid #e2e2e2;transform:rotate(30deg);position:absolute;left:-10px;top:-10px;content:"";display:block}@-webkit-keyframes load8-data-v-4b9a369c{0%{transform:rotate(30deg)}to{transform:rotate(390deg)}}@keyframes load8-data-v-4b9a369c{0%{transform:rotate(30deg)}to{transform:rotate(390deg)}}',""])},3553:function(a,e,t){"use strict";t.r(e);var r=t("7194").a,n=(t("cddb"),t("17cc")),o=Object(n.a)(r,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("page-content",{attrs:{title:"清除数据"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!a.isBackUp,expression:"!isBackUp"}],staticClass:"page-clear"},[t("div",{staticClass:"canvas"},[t("div",{staticClass:"circular_pos",attrs:{id:"circular_pos"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:"clearing"===a.clearStatus,expression:"clearStatus === 'clearing'"}],staticClass:"loader loader-ani",attrs:{id:"loader"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:"clearing"!==a.clearStatus,expression:"clearStatus !== 'clearing'"}],staticClass:"circular",attrs:{id:"circular"}})]),"success"===a.clearStatus?t("div",{staticClass:"afterClear",attrs:{id:"afterClear"}},[t("div",{staticClass:"tips-content",attrs:{id:"tips-content"}},[t("p",[a._v("已清除所有数据")])]),t("app-button-group",[t("app-button",{on:{click:a.gotoIndex}},[a._v("\n          返回\n        ")])],1)],1):a._e(),"error"===a.clearStatus?t("app-button-group",[t("app-button",{on:{click:a.doClear}},[a._v("\n        重试\n      ")])],1):a._e()],1)])}),[],!1,null,"4b9a369c",null);e.default=o.exports},7194:function(a,e,t){"use strict";(function(a){t("cc57");var r=t("fd50"),n=t("e2a7"),o=t("48f4"),i=t("60af"),c=t("6900"),s=t("3516"),l=t("6144"),d=t("aaa9"),u=t("162a"),p=t("1b7e");e.a={name:"SuperDataClear",data:function(){return{clearStatus:"clearing",isBackUp:!0}},activated:function(){this.isBackUp=!0,this.backupData()},methods:{backupData:function(){var e=this;return $rootScope.execCheckAppUpdate?(this.gotoMe(),n.a.alert("后台正在进行App更新检测，请稍后重试")):u.a.isBackgroundTaskWorking()?(this.gotoMe(),n.a.alert("后台正在进行问题数据更新，请稍后重试")):p.a.getHasNetwork().then((function(a){if(!a)return r.a.reject({errmsg:"当前网络无法同步数据"})})).then((function(){o.default.clearDownloadImageQueue();var t="";n.a.loading("正在备份数据..."),$log.log("正在上传数据库文件..."),d.a.uploadDebugData().then((function(a){return t=a,$log.log("正在提交备份数据..."),d.a.backupDatabase(a)})).then((function(){n.a.hideLoading()})).catch((function(e){return n.a.hideLoading(),r.a.when().then((function(){if(e&&e.isNotify)n.a.alert(e.msg);else{if("当前网络无法同步数据"!==e)return a.isString(e)||(e=JSON.stringify(e)),$log.error("备份数据失败",e),n.a.alert("备份数据失败，产品团队会排查问题并通知您"),d.a.submitFeedback({remark:e,debug_file:t,is_sys_submit:1}).catch((function(a){}));n.a.alert(e)}})).then((function(){return n.a.confirm("备份数据失败，是否继续清除数据？").then((function(a){if(!a)return r.a.reject(e)}))}))})).then((function(){var r=!1;return u.a.beginManualUpdate(),o.default.executeUpload().then((function(){e.isBackUp=!1,r=!0,e.doClear()})).catch((function(o){if(o&&o.isNotify)n.a.alert(o.msg);else if("当前网络无法同步数据"===o)n.a.alert(o);else if(!r)return a.isString(o)||(o=JSON.stringify(o)),n.a.alert("上传数据失败，产品团队会排查问题并通知您"),d.a.submitFeedback({remark:o,debug_file:t,is_sys_submit:1}).then((function(){return n.a.confirm("上传数据失败，是否继续清除数据？").then((function(a){a?(e.isBackUp=!1,e.doClear()):e.gotoMe()}))}))})).finally((function(){u.a.endManualUpdate()}))}))})).catch((function(a){n.a.alert(a.errmsg||a),e.gotoMe()}))},clearData:function(a){var e=this,t=document.getElementById("loader"),n=r.a.defer(),o=2e3+1e3*Math.random();return setTimeout((function(){circular_pos.innerHTML=a?"清除完毕":"清除失败,请重试",t.style.display="none",e.clearStatus=a?"success":"error",n.resolve()}),o),n.promise},doClear:function(){var a=this,e=document.getElementById("loader"),t=document.getElementById("circular_pos");this.clearStatus="clearing",t.innerHTML="数据清除中...",e.style.display="block",setTimeout((function(){var e=a.$router.currentRoute.name;i.a.createGlobalTask((function(){return c.a.clearData().then((function(e){return a.clearData(!0)})).then((function(){o.default.setLocalChanged(),s.a.setLocalChanged()}))}),"清除数据").then((function(){return o.default.executeSync().then(null,null,(function(e){e&&e.basedataDownloaded&&a.gotoIndex()}))})).then((function(){a.$router.currentRoute.name===e&&a.gotoIndex()})).catch((function(e){return a.clearData(!1),$log.error(e),r.a.reject(e)}))}),1e3)},gotoIndex:function(){l.a.saveString("userIsNotFirstLogin",1,l.a.level.user),this.gotoMe()},gotoMe:function(){window.__YL__.router.me()}}}}).call(this,t("391c"))},"953f":function(a,e,t){var r=t("1711");"string"==typeof r&&(r=[[a.i,r,""]]),r.locals&&(a.exports=r.locals);(0,t("85cb").default)("f43039d6",r,!0,{sourceMap:!1,shadowMode:!1})},cddb:function(a,e,t){"use strict";t("953f")}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3ZpZXdzL215L3N1cGVyRGF0YUNsZWFyLnZ1ZT9iMTUwIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvdmlld3MvbXkvc3VwZXJEYXRhQ2xlYXIudnVlPzQ2YmIiLCJ3ZWJwYWNrOi8vX19tb2R1bGVfZW50cnlfemphcHBfXy8uL3NyYy92aWV3cy9teS9zdXBlckRhdGFDbGVhci52dWU/ZTcyNCIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3ZpZXdzL215L3N1cGVyRGF0YUNsZWFyLnZ1ZSIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fL3NyYy92aWV3cy9teS9zdXBlckRhdGFDbGVhci52dWUiLCJ3ZWJwYWNrOi8vX19tb2R1bGVfZW50cnlfemphcHBfXy8uL3NyYy92aWV3cy9teS9zdXBlckRhdGFDbGVhci52dWU/Zjc2NCIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3ZpZXdzL215L3N1cGVyRGF0YUNsZWFyLnZ1ZT8zY2UwIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJwdXNoIiwiaSIsImNvbXBvbmVudCIsIl92bSIsInRoaXMiLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsImF0dHJzIiwiZGlyZWN0aXZlcyIsIm5hbWUiLCJyYXdOYW1lIiwidmFsdWUiLCJpc0JhY2tVcCIsImV4cHJlc3Npb24iLCJzdGF0aWNDbGFzcyIsImNsZWFyU3RhdHVzIiwiX3YiLCJvbiIsImdvdG9JbmRleCIsIl9lIiwiZG9DbGVhciIsImRhdGEiLCJhY3RpdmF0ZWQiLCJiYWNrdXBEYXRhIiwibWV0aG9kcyIsIiRyb290U2NvcGUiLCJleGVjQ2hlY2tBcHBVcGRhdGUiLCJnb3RvTWUiLCJoYXNOZXR3b3JrIiwiJGxvZyIsImxvZyIsImRlYnVnVXJsIiwidXJsIiwiZXJyb3IiLCJpc05vdGlmeSIsIl8iLCJpc1N0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZW1hcmsiLCJkZWJ1Z19maWxlIiwiaXNfc3lzX3N1Ym1pdCIsImlzT0siLCJpc0JhY2tVcFN1Y2Nlc3MiLCJjbGVhckRhdGEiLCJzZXRUaW1lb3V0IiwiY2lyY3VsYXJfcG9zIiwiaW5uZXJIVE1MIiwiZmxhZyIsImxvYWRlciIsInN0eWxlIiwiZGlzcGxheSIsImRlZmVycmVkIiwicmVzb2x2ZSIsInByb21pc2UiLCJjaXJjdWxhclBvcyIsImN1cnJlbnRTdGF0ZU5hbWUiLCJ3aW5kb3ciLCJfX1lMX18iLCJyb3V0ZXIiLCJtZSIsImNvbnRlbnQiLCJsb2NhbHMiLCJhZGQiLCJkZWZhdWx0Il0sIm1hcHBpbmdzIjoic0lBQVVBLEVBQU9DLFFBQVUsRUFBUSxPQUFSLEVBQThFLElBS2pHQyxLQUFLLENBQUNGLEVBQU9HLEVBQUksdWlEQUEwaUQsTSx5Q0NMbmtELElDQTJjLEUsVUFBRyxFLHdCQ1ExY0MsRUFBWSxZQUNkLEdGVFcsV0FBYSxJQUFJQyxFQUFJQyxLQUFTQyxFQUFHRixFQUFJRyxlQUFtQkMsRUFBR0osRUFBSUssTUFBTUQsSUFBSUYsRUFBRyxPQUFPRSxFQUFHLGVBQWUsQ0FBQ0UsTUFBTSxDQUFDLE1BQVEsU0FBUyxDQUFDRixFQUFHLE1BQU0sQ0FBQ0csV0FBVyxDQUFDLENBQUNDLEtBQUssT0FBT0MsUUFBUSxTQUFTQyxPQUFRVixFQUFJVyxTQUFVQyxXQUFXLGNBQWNDLFlBQVksY0FBYyxDQUFDVCxFQUFHLE1BQU0sQ0FBQ1MsWUFBWSxVQUFVLENBQUNULEVBQUcsTUFBTSxDQUFDUyxZQUFZLGVBQWVQLE1BQU0sQ0FBQyxHQUFLLGtCQUFrQkYsRUFBRyxNQUFNLENBQUNHLFdBQVcsQ0FBQyxDQUFDQyxLQUFLLE9BQU9DLFFBQVEsU0FBU0MsTUFBMkIsYUFBcEJWLEVBQUljLFlBQTRCRixXQUFXLCtCQUErQkMsWUFBWSxvQkFBb0JQLE1BQU0sQ0FBQyxHQUFLLFlBQVlGLEVBQUcsTUFBTSxDQUFD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UUFFdkJOLFlBQVcsV0FDVCxJQUFJVyxFQUFtQixFQUEvQiwwQkFDUSxFQUFSLCtCQUNVLE9BQU8sRUFBakIsZ0NBQ1ksT0FBWixtQkFDQSxpQkFDWSxFQUFaLDBCQUNZLEVBQVoseUJBRUEseUJBQ1UsT0FBVixvREFDQSx5QkFDYyxFQUFkLGtCQUdBLGlCQUNBLGlDQUNZLEVBQVosZUFFQSxtQkFHVSxPQUZBLEVBQVYsY0FDVSxLQUFWLFNBQ0EsbUJBRUEsTUFHSXRDLFVBdkpKLFdBeUpNLEVBQU4scURBQ01oQixLQUFLeUIsVUFFUEEsT0E1SkosV0E2Sk04QixPQUFPQyxPQUFPQyxPQUFPQyxVLDZDQ25OM0IsSUFBSUMsRUFBVSxFQUFRLFFBQ0EsaUJBQVpBLElBQXNCQSxFQUFVLENBQUMsQ0FBQ2pFLEVBQU9HLEVBQUk4RCxFQUFTLE1BQzdEQSxFQUFRQyxTQUFRbEUsRUFBT0MsUUFBVWdFLEVBQVFDLFNBRy9CQyxFQURILEVBQVEsUUFBMEZDLFNBQzNGLFdBQVlILEdBQVMsRUFBTSxDQUFDLFdBQVksRUFBTSxZQUFhLEssa0NDUjVFIiwiZmlsZSI6ImpzL2NodW5rLTE1OWZkNWQ3LmpzP3YxNjA4NzE0NDUxMTk1Iiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY3NzLWxvYWRlckAxLjAuMUBjc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuemphcHAgLnBhZ2UtY2xlYXJbZGF0YS12LTRiOWEzNjljXXtiYWNrZ3JvdW5kOiNmMmYyZjJ9LnpqYXBwIC5wYWdlLWNsZWFyIC5jYW52YXNbZGF0YS12LTRiOWEzNjljXXtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2U2ZTZlNjtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246cmVsYXRpdmU7ei1pbmRleDoxfS56amFwcCAucGFnZS1jbGVhciAuY2FudmFzIC5jaXJjdWxhcl9wb3NbZGF0YS12LTRiOWEzNjljXXt3aWR0aDoxMDAlO2hlaWdodDoyNjBweDtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7dGV4dC1hbGlnbjpjZW50ZXI7bGluZS1oZWlnaHQ6MjYwcHg7Zm9udC1zaXplOjE2cHh9LnpqYXBwIC5wYWdlLWNsZWFyIC5jYW52YXMgLmNpcmN1bGFyW2RhdGEtdi00YjlhMzY5Y117Ym9yZGVyOjEwcHggc29saWQgIzQyNzVlODt3aWR0aDoyMDBweDtoZWlnaHQ6MjAwcHg7bWFyZ2luOjMwcHggYXV0bztib3JkZXItcmFkaXVzOjUwJX0uemphcHAgLnBhZ2UtY2xlYXIgLmFmdGVyQ2xlYXJbZGF0YS12LTRiOWEzNjljXXtoZWlnaHQ6YXV0bzt3aWR0aDoxMDAlO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTA7bGVmdDowO3RvcDoyNjBweDtvdmVyZmxvdzpoaWRkZW59LnpqYXBwIC5wYWdlLWNsZWFyIC50aXBzLWNvbnRlbnRbZGF0YS12LTRiOWEzNjljXXtwYWRkaW5nOjE1cHggNDBweCA1cHg7bGluZS1oZWlnaHQ6MmVtO2NvbG9yOiM4ODg7dGV4dC1hbGlnbjpjZW50ZXJ9LnpqYXBwIC5sb2FkZXJbZGF0YS12LTRiOWEzNjljXSwuemphcHAgLmxvYWRlcltkYXRhLXYtNGI5YTM2OWNdOmFmdGVyLC56amFwcCAubG9hZGVyW2RhdGEtdi00YjlhMzY5Y106YmVmb3Jle2JvcmRlci1yYWRpdXM6NTAlO3dpZHRoOjIwMHB4O2hlaWdodDoyMDBweH0uemphcHAgLmxvYWRlcltkYXRhLXYtNGI5YTM2OWNde21hcmdpbjozMHB4IGF1dG87Ym9yZGVyOjEwcHggc29saWQgI2UyZTJlMjtib3JkZXItdG9wOjEwcHggc29saWQgIzQyNzVlODt0cmFuc2Zvcm06cm90YXRlKDMwZGVnKTtwb3NpdGlvbjpyZWxhdGl2ZX0uemphcHAgLmxvYWRlci1hbmlbZGF0YS12LTRiOWEzNjljXXstd2Via2l0LWFuaW1hdGlvbjpsb2FkOC1kYXRhLXYtNGI5YTM2OWMgMS4xcyBsaW5lYXIgaW5maW5pdGU7YW5pbWF0aW9uOmxvYWQ4LWRhdGEtdi00YjlhMzY5YyAxLjFzIGxpbmVhciBpbmZpbml0ZX0uemphcHAgLmxvYWRlcltkYXRhLXYtNGI5YTM2OWNdOmFmdGVye2JvcmRlcjoxMHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci10b3A6MTBweCBzb2xpZCAjZTJlMmUyO3RyYW5zZm9ybTpyb3RhdGUoMzBkZWcpO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTEwcHg7dG9wOi0xMHB4O2NvbnRlbnQ6XFxcIlxcXCI7ZGlzcGxheTpibG9ja31ALXdlYmtpdC1rZXlmcmFtZXMgbG9hZDgtZGF0YS12LTRiOWEzNjljezAle3RyYW5zZm9ybTpyb3RhdGUoMzBkZWcpfXRve3RyYW5zZm9ybTpyb3RhdGUoMzkwZGVnKX19QGtleWZyYW1lcyBsb2FkOC1kYXRhLXYtNGI5YTM2OWN7MCV7dHJhbnNmb3JtOnJvdGF0ZSgzMGRlZyl9dG97dHJhbnNmb3JtOnJvdGF0ZSgzOTBkZWcpfX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygncGFnZS1jb250ZW50Jyx7YXR0cnM6e1widGl0bGVcIjpcIua4hemZpOaVsOaNrlwifX0sW19jKCdkaXYnLHtkaXJlY3RpdmVzOlt7bmFtZTpcInNob3dcIixyYXdOYW1lOlwidi1zaG93XCIsdmFsdWU6KCFfdm0uaXNCYWNrVXApLGV4cHJlc3Npb246XCIhaXNCYWNrVXBcIn1dLHN0YXRpY0NsYXNzOlwicGFnZS1jbGVhclwifSxbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiY2FudmFzXCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJjaXJjdWxhcl9wb3NcIixhdHRyczp7XCJpZFwiOlwiY2lyY3VsYXJfcG9zXCJ9fSksX2MoJ2Rpdicse2RpcmVjdGl2ZXM6W3tuYW1lOlwic2hvd1wiLHJhd05hbWU6XCJ2LXNob3dcIix2YWx1ZTooX3ZtLmNsZWFyU3RhdHVzID09PSAnY2xlYXJpbmcnKSxleHByZXNzaW9uOlwiY2xlYXJTdGF0dXMgPT09ICdjbGVhcmluZydcIn1dLHN0YXRpY0NsYXNzOlwibG9hZGVyIGxvYWRlci1hbmlcIixhdHRyczp7XCJpZFwiOlwibG9hZGVyXCJ9fSksX2MoJ2Rpdicse2RpcmVjdGl2ZXM6W3tuYW1lOlwic2hvd1wiLHJhd05hbWU6XCJ2LXNob3dcIix2YWx1ZTooX3ZtLmNsZWFyU3RhdHVzICE9PSAnY2xlYXJpbmcnKSxleHByZXNzaW9uOlwiY2xlYXJTdGF0dXMgIT09ICdjbGVhcmluZydcIn1dLHN0YXRpY0NsYXNzOlwiY2lyY3VsYXJcIixhdHRyczp7XCJpZFwiOlwiY2lyY3VsYXJcIn19KV0pLChfdm0uY2xlYXJTdGF0dXMgPT09ICdzdWNjZXNzJyk/X2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiYWZ0ZXJDbGVhclwiLGF0dHJzOntcImlkXCI6XCJhZnRlckNsZWFyXCJ9fSxbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwidGlwcy1jb250ZW50XCIsYXR0cnM6e1wiaWRcIjpcInRpcHMtY29udGVudFwifX0sW19jKCdwJyxbX3ZtLl92KFwi5bey5riF6Zmk5omA5pyJ5pWw5o2uXCIpXSldKSxfYygnYXBwLWJ1dHRvbi1ncm91cCcsW19jKCdhcHAtYnV0dG9uJyx7b246e1wiY2xpY2tcIjpfdm0uZ290b0luZGV4fX0sW192bS5fdihcIlxcbiAgICAgICAgICDov5Tlm55cXG4gICAgICAgIFwiKV0pXSwxKV0sMSk6X3ZtLl9lKCksKF92bS5jbGVhclN0YXR1cyA9PT0gJ2Vycm9yJyk/X2MoJ2FwcC1idXR0b24tZ3JvdXAnLFtfYygnYXBwLWJ1dHRvbicse29uOntcImNsaWNrXCI6X3ZtLmRvQ2xlYXJ9fSxbX3ZtLl92KFwiXFxuICAgICAgICDph43or5VcXG4gICAgICBcIildKV0sMSk6X3ZtLl9lKCldLDEpXSl9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL190aHJlYWQtbG9hZGVyQDIuMS4zQHRocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19iYWJlbC1sb2FkZXJAOC4yLjFAYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NhY2hlLWxvYWRlckAyLjAuMUBjYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS43LjBAdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3N1cGVyRGF0YUNsZWFyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NhY2hlLWxvYWRlckAyLjAuMUBjYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3RocmVhZC1sb2FkZXJAMi4xLjNAdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2JhYmVsLWxvYWRlckA4LjIuMUBiYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3VwZXJEYXRhQ2xlYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9zdXBlckRhdGFDbGVhci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NGI5YTM2OWMmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vc3VwZXJEYXRhQ2xlYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9zdXBlckRhdGFDbGVhci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vc3VwZXJEYXRhQ2xlYXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NGI5YTM2OWMmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiNGI5YTM2OWNcIixcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCI8dGVtcGxhdGU+XG4gIDxwYWdlLWNvbnRlbnQgdGl0bGU9XCLmuIXpmaTmlbDmja5cIj5cbiAgICA8ZGl2IGNsYXNzPVwicGFnZS1jbGVhclwiIHYtc2hvdz1cIiFpc0JhY2tVcFwiPlxuICAgICAgPGRpdiBjbGFzcz1cImNhbnZhc1wiPlxuICAgICAgICA8ZGl2IGlkPVwiY2lyY3VsYXJfcG9zXCIgY2xhc3M9XCJjaXJjdWxhcl9wb3NcIj48L2Rpdj5cbiAgICAgICAgPGRpdiB2LXNob3c9XCJjbGVhclN0YXR1cyA9PT0gJ2NsZWFyaW5nJ1wiIGlkPVwibG9hZGVyXCIgY2xhc3M9XCJsb2FkZXIgbG9hZGVyLWFuaVwiPjwvZGl2PlxuICAgICAgICA8ZGl2IHYtc2hvdz1cImNsZWFyU3RhdHVzICE9PSAnY2xlYXJpbmcnXCIgaWQ9XCJjaXJjdWxhclwiIGNsYXNzPVwiY2lyY3VsYXJcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiB2LWlmPVwiY2xlYXJTdGF0dXMgPT09ICdzdWNjZXNzJ1wiIGlkPVwiYWZ0ZXJDbGVhclwiIGNsYXNzPVwiYWZ0ZXJDbGVhclwiPlxuICAgICAgICA8ZGl2IGlkPVwidGlwcy1jb250ZW50XCIgY2xhc3M9XCJ0aXBzLWNvbnRlbnRcIj5cbiAgICAgICAgICA8cD7lt7LmuIXpmaTmiYDmnInmlbDmja48L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxhcHAtYnV0dG9uLWdyb3VwPlxuICAgICAgICAgIDxhcHAtYnV0dG9uIEBjbGljaz1cImdvdG9JbmRleFwiPlxuICAgICAgICAgICAg6L+U5ZueXG4gICAgICAgICAgPC9hcHAtYnV0dG9uPlxuICAgICAgICA8L2FwcC1idXR0b24tZ3JvdXA+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGFwcC1idXR0b24tZ3JvdXAgdi1pZj1cImNsZWFyU3RhdHVzID09PSAnZXJyb3InXCI+XG4gICAgICAgIDxhcHAtYnV0dG9uIEBjbGljaz1cImRvQ2xlYXJcIj5cbiAgICAgICAgICDph43or5VcbiAgICAgICAgPC9hcHAtYnV0dG9uPlxuICAgICAgPC9hcHAtYnV0dG9uLWdyb3VwPlxuICAgIDwvZGl2PlxuICA8L3BhZ2UtY29udGVudD5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5pbXBvcnQgJHEgZnJvbSAnQHN0YXRpYy9saWIvcHJvbWlzZSc7XG5pbXBvcnQgUG9wdXAgZnJvbSAnQHNyYy91dGlscy9wb3B1cCc7XG5pbXBvcnQgRGF0YVN5bmNocm9uaXplciBmcm9tICdAc3JjL3NlcnZpY2UvY29tbW9uL2RhdGEtc3luY2hyb25pemVyJztcbmltcG9ydCBUYXNrUG9vbFNlcnZpY2UgZnJvbSAnQHNyYy9zZXJ2aWNlL2NvbW1vbi90YXNrLXBvb2wtc2VydmljZSc7XG5pbXBvcnQgQ29tbW9uUGx1Z2luRGF0YVNlcnZpY2UgZnJvbSAnQHNyYy9zZXJ2aWNlL2NvbW1vbi9wbHVnaW4tZGF0YS1zZXJ2aWNlJztcbmltcG9ydCBCYXRjaFNlcnZpY2UgZnJvbSAnQHNyYy9zZXJ2aWNlL2NvbW1vbi9iYXRjaC1zZXJ2aWNlJztcbmltcG9ydCBsb2NhbFN0b3JhZ2VBcGkgZnJvbSAnQHNyYy9mcmFtZXdvcmsvbG9jYWxTdG9yYWdlJztcbmltcG9ydCBGZWVkYmFja1NlcnZpY2UgZnJvbSAnQHNyYy9zZXJ2aWNlL3VzZXIvZmVlZGJhY2stc2VydmljZSc7XG5pbXBvcnQgV2ViU2VydmljZSBmcm9tICdAc3JjL3NlcnZpY2UvY29tbW9uL3dlYi1zZXJ2aWNlJztcbmltcG9ydCBuZXR3b3JrIGZyb20gJ0BzcmMvZnJhbWV3b3JrL25ldHdvcmsnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdTdXBlckRhdGFDbGVhcicsXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNsZWFyU3RhdHVzOiAnY2xlYXJpbmcnLFxuXG4gICAgICBpc0JhY2tVcDogdHJ1ZSxcbiAgICB9O1xuICB9LFxuICAvLyBtb3VudGVkKCkge1xuICAvLyAgICRsb2cubG9nKHRoaXMuJHJvdXRlcik7XG4gIC8vIH0sXG4gIGFjdGl2YXRlZCgpIHtcbiAgICB0aGlzLmlzQmFja1VwID0gdHJ1ZTtcbiAgICB0aGlzLmJhY2t1cERhdGEoKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGJhY2t1cERhdGEoKSB7XG4gICAgICBpZiAoJHJvb3RTY29wZS5leGVjQ2hlY2tBcHBVcGRhdGUpIHtcbiAgICAgICAgdGhpcy5nb3RvTWUoKTtcbiAgICAgICAgcmV0dXJuIFBvcHVwLmFsZXJ0KCflkI7lj7DmraPlnKjov5vooYxBcHDmm7TmlrDmo4DmtYvvvIzor7fnqI3lkI7ph43or5UnKTtcbiAgICAgIH1cbiAgICAgIGlmIChXZWJTZXJ2aWNlLmlzQmFja2dyb3VuZFRhc2tXb3JraW5nKCkpIHtcbiAgICAgICAgdGhpcy5nb3RvTWUoKTtcbiAgICAgICAgcmV0dXJuIFBvcHVwLmFsZXJ0KCflkI7lj7DmraPlnKjov5vooYzpl67popjmlbDmja7mm7TmlrDvvIzor7fnqI3lkI7ph43or5UnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXR3b3JrLmdldEhhc05ldHdvcmsoKS50aGVuKGhhc05ldHdvcmsgPT4ge1xuICAgICAgICBpZiAoIWhhc05ldHdvcmspIHtcbiAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KHsgZXJybXNnOiAn5b2T5YmN572R57uc5peg5rOV5ZCM5q2l5pWw5o2uJyB9KTtcbiAgICAgICAgfVxuICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgIERhdGFTeW5jaHJvbml6ZXIuY2xlYXJEb3dubG9hZEltYWdlUXVldWUoKTtcbiAgICAgICAgbGV0IGRlYnVnVXJsID0gJyc7XG4gICAgICAgIFBvcHVwLmxvYWRpbmcoJ+ato+WcqOWkh+S7veaVsOaNri4uLicpO1xuICAgICAgICAkbG9nLmxvZygn5q2j5Zyo5LiK5Lyg5pWw5o2u5bqT5paH5Lu2Li4uJyk7XG4gICAgICAgIEZlZWRiYWNrU2VydmljZS51cGxvYWREZWJ1Z0RhdGEoKS50aGVuKHVybCA9PiB7XG4gICAgICAgICAgZGVidWdVcmwgPSB1cmw7XG4gICAgICAgICAgJGxvZy5sb2coJ+ato+WcqOaPkOS6pOWkh+S7veaVsOaNri4uLicpO1xuICAgICAgICAgIHJldHVybiBGZWVkYmFja1NlcnZpY2UuYmFja3VwRGF0YWJhc2UodXJsKTtcbiAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgUG9wdXAuaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIFBvcHVwLmhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgcmV0dXJuICRxLndoZW4oKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnJvciAmJiBlcnJvci5pc05vdGlmeSkge1xuICAgICAgICAgICAgICBQb3B1cC5hbGVydChlcnJvci5tc2cpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvciA9PT0gJ+W9k+WJjee9kee7nOaXoOazleWQjOatpeaVsOaNricpIHtcbiAgICAgICAgICAgICAgUG9wdXAuYWxlcnQoZXJyb3IpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKCFfLmlzU3RyaW5nKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIGVycm9yID0gSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgJGxvZy5lcnJvcign5aSH5Lu95pWw5o2u5aSx6LSlJywgZXJyb3IpO1xuICAgICAgICAgICAgICBQb3B1cC5hbGVydCgn5aSH5Lu95pWw5o2u5aSx6LSl77yM5Lqn5ZOB5Zui6Zif5Lya5o6S5p+l6Zeu6aKY5bm26YCa55+l5oKoJyk7XG4gICAgICAgICAgICAgIHJldHVybiBGZWVkYmFja1NlcnZpY2Uuc3VibWl0RmVlZGJhY2soe1xuICAgICAgICAgICAgICAgIHJlbWFyazogZXJyb3IsXG4gICAgICAgICAgICAgICAgZGVidWdfZmlsZTogZGVidWdVcmwsXG4gICAgICAgICAgICAgICAgaXNfc3lzX3N1Ym1pdDogMSxcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIC8vIOW/veeVpeWPjemmiOmXrumimOWksei0pVxuICAgICAgICAgICAgICAgIC8vIFBvcHVwLmFsZXJ0KCfoh6rliqjlj43ppojlh7rplJknKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gUG9wdXAuY29uZmlybSgn5aSH5Lu95pWw5o2u5aSx6LSl77yM5piv5ZCm57un57ut5riF6Zmk5pWw5o2u77yfJykudGhlbihpc09LID0+IHtcbiAgICAgICAgICAgICAgaWYgKCFpc09LKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgIGxldCBpc0JhY2tVcFN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgV2ViU2VydmljZS5iZWdpbk1hbnVhbFVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gRGF0YVN5bmNocm9uaXplci5leGVjdXRlVXBsb2FkKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzQmFja1VwID0gZmFsc2U7XG4gICAgICAgICAgICBpc0JhY2tVcFN1Y2Nlc3MgPSAgdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZG9DbGVhcigpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgIGlmIChlcnJvciAmJiBlcnJvci5pc05vdGlmeSkge1xuICAgICAgICAgICAgICBQb3B1cC5hbGVydChlcnJvci5tc2cpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvciA9PT0gJ+W9k+WJjee9kee7nOaXoOazleWQjOatpeaVsOaNricpIHtcbiAgICAgICAgICAgICAgUG9wdXAuYWxlcnQoZXJyb3IpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYoIWlzQmFja1VwU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIGlmICghXy5pc1N0cmluZyhlcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgIGVycm9yID0gSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIFBvcHVwLmFsZXJ0KCfkuIrkvKDmlbDmja7lpLHotKXvvIzkuqflk4Hlm6LpmJ/kvJrmjpLmn6Xpl67popjlubbpgJrnn6XmgqgnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gRmVlZGJhY2tTZXJ2aWNlLnN1Ym1pdEZlZWRiYWNrKHtcbiAgICAgICAgICAgICAgICAgIHJlbWFyazogZXJyb3IsXG4gICAgICAgICAgICAgICAgICBkZWJ1Z19maWxlOiBkZWJ1Z1VybCxcbiAgICAgICAgICAgICAgICAgIGlzX3N5c19zdWJtaXQ6IDEsXG4gICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gUG9wdXAuY29uZmlybSgn5LiK5Lyg5pWw5o2u5aSx6LSl77yM5piv5ZCm57un57ut5riF6Zmk5pWw5o2u77yfJykudGhlbihpc09LID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzT0spIHtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQmFja1VwID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb0NsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5nb3RvTWUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgIFdlYlNlcnZpY2UuZW5kTWFudWFsVXBkYXRlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBQb3B1cC5hbGVydChlcnJvci5lcnJtc2cgfHwgZXJyb3IpO1xuICAgICAgICB0aGlzLmdvdG9NZSgpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICAvLyDmuIXpmaTmlbDmja5cbiAgICBjbGVhckRhdGEoZmxhZykge1xuICAgICAgY29uc3QgbG9hZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWRlcicpO1xuICAgICAgY29uc3QgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgY29uc3QgZGVsYXlUaW1lID0gMjAwMCArIE1hdGgucmFuZG9tKCkgKiAxMDAwO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNpcmN1bGFyX3Bvcy5pbm5lckhUTUwgPSBmbGFnID8gJ+a4hemZpOWujOavlScgOiAn5riF6Zmk5aSx6LSlLOivt+mHjeivlSc7XG4gICAgICAgIGxvYWRlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB0aGlzLmNsZWFyU3RhdHVzID0gZmxhZyA/ICdzdWNjZXNzJyA6ICdlcnJvcic7XG5cbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgfSwgZGVsYXlUaW1lKTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfSxcbiAgICAvLyDmiafooYzmuIXpmaRcbiAgICBkb0NsZWFyKCkge1xuICAgICAgY29uc3QgbG9hZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWRlcicpO1xuICAgICAgY29uc3QgY2lyY3VsYXJQb3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2lyY3VsYXJfcG9zJyk7XG4gICAgICB0aGlzLmNsZWFyU3RhdHVzID0gJ2NsZWFyaW5nJztcbiAgICAgIGNpcmN1bGFyUG9zLmlubmVySFRNTCA9ICfmlbDmja7muIXpmaTkuK0uLi4nO1xuICAgICAgbG9hZGVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZU5hbWUgPSB0aGlzLiRyb3V0ZXIuY3VycmVudFJvdXRlLm5hbWU7XG4gICAgICAgIFRhc2tQb29sU2VydmljZS5jcmVhdGVHbG9iYWxUYXNrKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gQ29tbW9uUGx1Z2luRGF0YVNlcnZpY2UuY2xlYXJEYXRhKCkudGhlbihjID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xlYXJEYXRhKHRydWUpO1xuICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIERhdGFTeW5jaHJvbml6ZXIuc2V0TG9jYWxDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgIEJhdGNoU2VydmljZS5zZXRMb2NhbENoYW5nZWQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCAn5riF6Zmk5pWw5o2uJykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gRGF0YVN5bmNocm9uaXplci5leGVjdXRlU3luYygpLnRoZW4obnVsbCwgbnVsbCwgbm90aWZ5ID0+IHtcbiAgICAgICAgICAgICAgaWYgKG5vdGlmeSAmJiBub3RpZnkuYmFzZWRhdGFEb3dubG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nb3RvSW5kZXgoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy4kcm91dGVyLmN1cnJlbnRSb3V0ZS5uYW1lID09PSBjdXJyZW50U3RhdGVOYW1lKSB7XG4gICAgICAgICAgICAgIHRoaXMuZ290b0luZGV4KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbGVhckRhdGEoZmFsc2UpO1xuICAgICAgICAgICAgJGxvZy5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH0sXG4gICAgLy8g5Y676K6+572u6aaW6aG1XG4gICAgZ290b0luZGV4KCkge1xuICAgICAgLy8g6YeN572u56ys5LiA5qyh55m75b2V54q25oCBXG4gICAgICBsb2NhbFN0b3JhZ2VBcGkuc2F2ZVN0cmluZygndXNlcklzTm90Rmlyc3RMb2dpbicsIDEsIGxvY2FsU3RvcmFnZUFwaS5sZXZlbC51c2VyKTtcbiAgICAgIHRoaXMuZ290b01lKCk7XG4gICAgfSxcbiAgICBnb3RvTWUoKSB7XG4gICAgICB3aW5kb3cuX19ZTF9fLnJvdXRlci5tZSgpO1xuICAgIH0sXG4gIH0sXG59O1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cbi5wYWdlLWNsZWFyIHtcbiAgYmFja2dyb3VuZDogI2YyZjJmMjtcbn1cbi5wYWdlLWNsZWFyIC5jYW52YXMge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTZlNjtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB6LWluZGV4OiAxO1xufVxuLnBhZ2UtY2xlYXIgLmNhbnZhcyAuY2lyY3VsYXJfcG9zIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMjYwcHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMDtcbiAgdG9wOiAwO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGxpbmUtaGVpZ2h0OiAyNjBweDtcbiAgZm9udC1zaXplOiAxNnB4O1xufVxuLnBhZ2UtY2xlYXIgLmNhbnZhcyAuY2lyY3VsYXIge1xuICBib3JkZXI6IDEwcHggc29saWQgJHRoZW1lQ29sb3I7XG4gIHdpZHRoOiAyMDBweDtcbiAgaGVpZ2h0OiAyMDBweDtcbiAgbWFyZ2luOiAzMHB4IGF1dG87XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbn1cbi5wYWdlLWNsZWFyIC5hZnRlckNsZWFyIHtcbiAgaGVpZ2h0OiBhdXRvO1xuICB3aWR0aDogMTAwJTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB6LWluZGV4OiAxMDtcbiAgbGVmdDogMDtcbiAgdG9wOiAyNjBweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbi5wYWdlLWNsZWFyIC50aXBzLWNvbnRlbnQge1xuICBwYWRkaW5nOiAxNXB4IDQwcHggNXB4O1xuICBsaW5lLWhlaWdodDogMmVtO1xuICBjb2xvcjogIzg4ODtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4ubG9hZGVyLFxuLmxvYWRlcjo6YmVmb3JlLFxuLmxvYWRlcjo6YWZ0ZXIge1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIHdpZHRoOiAyMDBweDtcbiAgaGVpZ2h0OiAyMDBweDtcbn1cbi5sb2FkZXIge1xuICBtYXJnaW46IDMwcHggYXV0bztcbiAgYm9yZGVyOiAxMHB4IHNvbGlkICNlMmUyZTI7XG4gIGJvcmRlci10b3A6IDEwcHggc29saWQgJHRoZW1lQ29sb3I7XG4gIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMzBkZWcpO1xuICB0cmFuc2Zvcm06IHJvdGF0ZSgzMGRlZyk7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cbi5sb2FkZXItYW5pIHtcbiAgLXdlYmtpdC1hbmltYXRpb246IGxvYWQ4IDEuMXMgaW5maW5pdGUgbGluZWFyO1xuICBhbmltYXRpb246IGxvYWQ4IDEuMXMgaW5maW5pdGUgbGluZWFyO1xufVxuXG4ubG9hZGVyOjphZnRlciB7XG4gIGJvcmRlcjogMTBweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgYm9yZGVyLXRvcDogMTBweCBzb2xpZCAjZTJlMmUyO1xuICB0cmFuc2Zvcm06IHJvdGF0ZSgzMGRlZyk7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogLTEwcHg7XG4gIHRvcDogLTEwcHg7XG4gIGNvbnRlbnQ6ICcnO1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuQGtleWZyYW1lcyBsb2FkOCB7XG4gIDAlIHtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDMwZGVnKTtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzMGRlZyk7XG4gIH1cbiAgMTAwJSB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgzOTBkZWcpO1xuICAgIHRyYW5zZm9ybTogcm90YXRlKDM5MGRlZyk7XG4gIH1cbn1cbjwvc3R5bGU+XG4iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDEuMC4xQGNzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjkuNUB2dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Nhc3MtbG9hZGVyQDcuMS4wQHNhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tOC1vbmVPZi0xLTQhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zdXBlckRhdGFDbGVhci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD00YjlhMzY5YyZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLXN0eWxlLWxvYWRlckA0LjEuMkB2dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcImY0MzAzOWQ2XCIsIGNvbnRlbnQsIHRydWUsIHtcInNvdXJjZU1hcFwiOmZhbHNlLFwic2hhZG93TW9kZVwiOmZhbHNlfSk7IiwiZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtc3R5bGUtbG9hZGVyQDQuMS4yQHZ1ZS1zdHlsZS1sb2FkZXIvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDEuMC4xQGNzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjkuNUB2dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Nhc3MtbG9hZGVyQDcuMS4wQHNhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tOC1vbmVPZi0xLTQhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zdXBlckRhdGFDbGVhci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD00YjlhMzY5YyZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCIiXSwic291cmNlUm9vdCI6IiJ9