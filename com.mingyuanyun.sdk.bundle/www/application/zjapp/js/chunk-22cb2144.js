(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-22cb2144","chunk-59fa3e5d","chunk-0b5b35be"],{"0c52":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .app-stepper[data-v-03df57b7]{display:inline-block;width:110px;height:34px;margin:-2px 0;white-space:nowrap;font-size:0;line-height:0;vertical-align:top}.zjapp .app-stepper .number-input[data-v-03df57b7]{width:51px;height:34px;border:1px solid #dcdcdc;border-radius:0;font-size:14px;text-align:center;background-color:#fff;color:#111;box-sizing:border-box}.zjapp .app-stepper .number-input-focus[data-v-03df57b7]{border-color:#4275e8}.zjapp .btn-add[data-v-03df57b7],.zjapp .btn-minus[data-v-03df57b7]{display:inline-block;width:28px;height:34px;line-height:34px;padding:0;border:1px solid #dcdcdc;color:#666;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-sizing:border-box;background-color:#fff}.zjapp .btn-minus[data-v-03df57b7]{border-right:none;border-radius:4px 0 0 4px}.zjapp .btn-add[data-v-03df57b7]{border-left:none;border-radius:0 4px 4px 0}.zjapp .icon-add[data-v-03df57b7],.zjapp .icon-minus[data-v-03df57b7]{font-size:11px;vertical-align:top;display:inline-block;margin-top:10.5px}.zjapp .disabled[data-v-03df57b7]{color:#c8c8c8}.zjapp .activing[data-v-03df57b7]{color:#4275e8}",""])},"0cb6":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .problem-detail-header[data-v-0901aadd]{display:flex;align-items:center;justify-content:center;height:40px;padding:0 15px;line-height:40px;background-color:#f2f2f2}.zjapp .problem-detail-header .status[data-v-0901aadd]{flex:1;height:16px;line-height:16px;border-left:5px solid #ddd;padding-left:5px;color:#111;font-size:16px}.zjapp .problem-detail-header .status-red[data-v-0901aadd]{border-color:#ff3d3d}.zjapp .problem-detail-header .status-blue[data-v-0901aadd]{border-color:#4275e8}.zjapp .problem-detail-header .status-green[data-v-0901aadd]{border-color:#0bc666}.zjapp .problem-detail-header .status-orange[data-v-0901aadd]{border-color:#fc8b01}.zjapp .problem-detail-header .status-black[data-v-0901aadd]{border-color:#333}.zjapp .problem-detail-header .status-gray[data-v-0901aadd]{border-color:#999}.zjapp .problem-detail-header .return[data-v-0901aadd],.zjapp .problem-detail-header .timeout[data-v-0901aadd],.zjapp .problem-detail-header .urgent[data-v-0901aadd]{display:block;padding:0 5px;margin-left:6px;height:16px;line-height:16px;color:#fff;font-size:12px;border-radius:2px;-webkit-border-radius:2px}.zjapp .problem-detail-header .urgent[data-v-0901aadd]{background-color:#ff3d3d}.zjapp .problem-detail-header .timeout[data-v-0901aadd]{background-color:#954cfe}.zjapp .problem-detail-header .return[data-v-0901aadd]{background-color:#fc8b01}.zjapp .problem-detail-header .operat[data-v-0901aadd]{height:40px;line-height:40px;white-space:nowrap;font-size:16px;color:#6b7ba9}",""])},"0f7b":function(t,e,a){"use strict";a("f548"),a("163d");var i,s,n={name:"AppStepper",components:{NumberInput:a("6948").a},props:{value:{type:[String,Number],default:""},max:{type:[String,Number],default:200},range:{type:Array}},data:function(){return{addActiving:!1,minusActiving:!1}},computed:{rangeMin:function(){return this.range&&this.range[0]||0},rangeMax:function(){return this.range&&this.range[1]?this.range[1]:this.max},allowAdd:function(){return""!==this.value&&this.value<this.rangeMax},allowMinus:function(){return""!==this.value&&this.value>this.rangeMin}},methods:{onChange:function(t){t&&(t=String(t).replace(/\D/g,"")),parseInt(t,10)>parseInt(this.max,10)&&(t=this.max),this.$emit("input",Number(t)),this.$emit("change",Number(t))},add:function(){if(this.allowAdd){var t=parseInt(this.value,10)+1;this.isInRange(t)&&(this.$emit("input",t),this.$emit("change",t)),this.setActiving("add")}},minus:function(){if(this.allowMinus){var t=parseInt(this.value,10)-1;this.isInRange(t)&&(this.$emit("input",t),this.$emit("change",t)),this.setActiving("minus")}},isInRange:function(t){return t>=this.rangeMin&&t<=this.rangeMax},setActiving:function(t){var e=this;t&&("minus"===t?(this.minusActiving=!0,clearTimeout(s),s=setTimeout((function(){e.minusActiving=!1}),300)):(this.addActiving=!0,clearTimeout(i),i=setTimeout((function(){e.addActiving=!1}),300)))}}},o=(a("91cb"),a("17cc")),r=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-stepper"},[a("button",{staticClass:"btn-minus",class:{disabled:!t.allowMinus,activing:t.minusActiving},on:{click:t.minus}},[a("icon",{attrs:{name:"minus"}})],1),a("number-input",{attrs:{value:t.value,type:"int",range:t.range},on:{input:t.onChange}}),a("button",{staticClass:"btn-add",class:{disabled:!t.allowAdd,activing:t.addActiving},on:{click:t.add}},[a("icon",{attrs:{name:"add"}})],1)],1)}),[],!1,null,"03df57b7",null);e.a=r.exports},"17c6":function(t,e,a){"use strict";(function(t){a("cc57");var i=a("07d2"),s=a("774b"),n=a("cd05"),o=a("e68e"),r=a("3c64"),l=a("5a71"),c=a("da1c"),p=a("5e1b"),d=a("0f7b"),u=a("c130"),h=a("37d5"),m=a("3bd5"),f=a("e2a7"),b=a("c745"),g=a("5ff0"),v=a("6bf2"),x=a.n(v),y=a("75ca"),k=a("59a7");e.a={name:"TempletPlanDetail",components:{item:i.default,Scroller:s.default,UserSelect:n.a,ItemImgList:o.a,ItemTextarea:r.a,SingleSelect:l.a,ProblemDetailHeader:c.a,AppStepper:d.a},data:function(){return{isLoading:!0,templetId:"",problemId:"",problemData:{},currentUserId:m.a.getUser().id,isRepair:!1,isReinspect:!1,isRegist:!1,allowReinspectPass:!1,allowRepair:!1,allowReinspectReject:!1,allowClose:!1,allowChangeRepairDeadline:!1,allowChangeRepair:!1,allowChangeContractor:!1,allowChangeReinspect:!1,allowChangeCc:!1,contractorOptions:[],repairOptions:[],ccOptions:[],reinspectOptions:[]}},computed:{tabsWidth:function(){return window.innerWidth/2}},activated:function(){this.templetId=this.$route.params.templetId,this.problemId=this.$route.params.problemId,this.loadDetail()},methods:{loadDetail:function(){var e=this;this.isLoading=!0,(this.problemId?u.a.getProblemDetail(this.problemId):u.a.createNewProblem(this.templetId)).then((function(t){e.problemData=t,e.$set(e.problemData,"mode",e.problemData.status&&"草稿"!==e.problemData.status?"view":"edit")})).then((function(){return h.default.getProjectUsers(e.problemData.project.id,[31,32,33]).then((function(a){e.repairOptions=t.clone(a),e.ccOptions=t.clone(a),e.reinspectOptions=t.clone(a)}))})).then((function(){return e.loadContractor()})).then((function(){return e.reloadActionPermissions()})).then((function(){e.isLoading=!1})).catch((function(t){console.error(t),e.isLoading=!1}))},loadContractor:function(){var e=this;return b.a.allowGroupUserByConstructor().then((function(a){if(a&&e.problemData.repair&&e.problemData.repair.id)return b.a.getOwnedContractorList(e.problemData.repair.id).then((function(a){t.isEmpty(a)||(e.contractorOptions=a,e.problemData.contractor=a[0])}))})).then((function(){if(t.isEmpty(e.contractorOptions))return g.a.getAllContractorList().then((function(t){e.contractorOptions=t}))}))},reloadActionPermissions:function(){var t=m.a.getUser().user_id;this.isRepair=t===this.problemData.repair.id,this.isReinspect=t===this.problemData.reinspect.id,this.isRegist=t===this.problemData.regist.id,this.allowReinspectPass="待复验"===this.problemData.status&&this.isReinspect,this.allowRepair="待整改"===this.problemData.status&&this.isRepair,this.allowReinspectReject="待复验"===this.problemData.status&&this.isReinspect,this.allowClose="待整改"===this.problemData.status&&this.isRegist,this.allowChangeRepairDeadline="待整改"===this.problemData.status&&this.isRegist&&this.$store.state.global.allowModifyRepairDeadline,this.allowChangeRepair="待整改"===this.problemData.status&&(this.isRepair||this.isRegist),this.allowChangeContractor="待整改"===this.problemData.status&&this.isRegist||"待复验"===this.problemData.status&&this.isReinspect,this.allowChangeReinspect="待整改"===this.problemData.status&&this.isRegist||"待复验"===this.problemData.status&&(this.isRegist||this.isReinspect),this.allowChangeCc="待整改"===this.problemData.status&&this.isRegist||"待复验"===this.problemData.status&&this.isReinspect},selectRepair:function(){this.loadContractor(),this.saveProblem()},selectDeadline:function(){var t=this;this.allowChangeRepairDeadline&&p.a.openPopup({from:x()().toDate(),inputDate:x()(this.problemData.repair_deadline).toDate(),callback:function(e){t.problemData.repair_deadline=x()(e).format("YYYY-MM-DD"),f.a.loading("正在提交..."),u.a.changeRepairDeadline(t.problemData).then((function(){f.a.hideLoading(),f.a.alert("修改成功")})).catch((function(t){f.a.hideLoading(),f.a.alert(t)}))}})},beforeChangeRepair:function(t){return!(!t||!t.id)&&new Promise((function(e){f.a.popBox({title:"确定将整改人修改为【"+t.name+"】吗？",cancelText:"取消",okText:"确认",callback:function(t){e(t)}})}))},changeRepair:function(){var t=this;this.problemData.repair&&this.problemData.repair.id&&(f.a.loading("正在提交..."),u.a.changeRepair(this.problemData).then((function(){return t.loadContractor()})).then((function(){f.a.hideLoading(),f.a.alert("修改成功"),t.reloadActionPermissions()})).catch((function(t){f.a.hideLoading(),f.a.alert(t)})))},changeContractor:function(){var t=this;this.problemData.contractor&&this.problemData.contractor.id&&(f.a.loading("正在提交..."),u.a.changeContractor(this.problemData).then((function(){f.a.hideLoading(),f.a.alert("修改成功"),t.reloadActionPermissions()})).catch((function(t){f.a.hideLoading(),f.a.alert(t)})))},beforeChangeReinspect:function(){return new Promise((function(t){f.a.popBox({title:"确定修改复验人吗？",cancelText:"取消",okText:"确认",callback:function(e){t(e)}})}))},changeReinspect:function(){var t=this;f.a.loading("正在提交..."),u.a.changeReinspect(this.problemData).then((function(){f.a.hideLoading(),f.a.alert("修改成功"),t.reloadActionPermissions(t.problemData)})).catch((function(t){f.a.hideLoading(),f.a.alert(t)}))},changeCc:function(){var t=this;f.a.loading("正在提交..."),u.a.changeCc(this.problemData).then((function(){f.a.loading("正在提交..."),f.a.alert("修改成功"),t.reloadActionPermissions(t.problemData)})).catch((function(t){f.a.loading("正在提交..."),f.a.alert(t)}))},saveProblem:function(){var t=this;return u.a.saveProblem(this.problemData).then((function(e){t.problemData.id||(t.problemData.id=e)}))},deleteProblem:function(){var t=this;f.a.popBox({title:"确定删除吗？",cancelText:"取消",okText:"通过"}).then((function(e){if(e)return u.a.delProblem(t.problemData).then((function(){t.$router.go(-1)})).catch((function(t){f.a.alert(t)}))}))},clickToSave:function(){var t=this;return this.saveProblem().then((function(){f.a.alert("保存成功"),setTimeout((function(){t.$router.go(-1)}),500)}))},submit:function(){var t=this;return u.a.addProblem(this.problemData).then((function(){t.$router.go(-1)})).catch((function(t){f.a.alert(t)}))},reinspect:function(){var e=this;return this.$store.state.global.isPhotoRequired.TEMPLET_REVIEW&&t.isEmpty(this.problemData.reinspect_image_file)?f.a.alert("请拍摄复验照片"):f.a.popBox({title:"确定通过吗？",cancelText:"取消",okText:"通过"}).then((function(t){if(t)return u.a.reinspectProblem(e.problemData).then((function(){return e.loadDetail()})).catch((function(t){f.a.alert(t)}))}))},repair:function(){var t=this;return u.a.repairProblem(this.problemData).then((function(){return t.loadDetail()})).catch((function(t){f.a.alert(t)}))},back:function(){var e=this;y.a.openPopup({callback:function(a){e.allowReinspectReject&&(a&&a.reason&&a.reason.id&&(1===a.reason.id?e.problemData.sent_back_remark=a.reason.text:e.problemData.sent_back_remark=a.remark),t.isEmpty(a.images)?e.problemData.sent_back_image_file=[]:e.problemData.sent_back_image_file=a.images,f.a.loading("正在提交..."),u.a.reinspectReject(e.problemData).then((function(){return f.a.hideLoading(),f.a.alert("提交成功"),e.loadDetail()})).catch((function(t){f.a.hideLoading(),f.a.alert(t)})))}})},close:function(){var t=this;k.a.openPopup({callback:function(e){t.allowClose&&(t.problemData.close_reason=e,f.a.loading("正在提交..."),u.a.close(t.problemData).then((function(){return f.a.hideLoading(),f.a.alert("提交成功"),t.loadDetail()})).catch((function(t){f.a.hideLoading(),f.a.alert(t)})))}})}}}}).call(this,a("391c"))},"1f63":function(t,e,a){"use strict";a("7434")},"29be":function(t,e,a){"use strict";(function(t){a("5ab2"),a("6d57"),a("e10e");var i=a("28f8"),s=(a("cc57"),a("163d"),a("07d2")),n=a("a5c6"),o=a("6144");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}e.a={name:"SingleSelect",components:{Item:s.default},props:{title:{type:String,default:""},pageTitle:{type:String,default:""},placeholder:{type:String,default:""},value:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},optionsDisabled:{type:Array,default:function(){return[]}},required:{type:Boolean,default:!0},mode:{type:String,default:"edit"},editabled:{type:Boolean,default:!0},memory:{type:Boolean,default:!1},autoSelect:{type:Boolean,default:!1},beforeOpen:{type:Function,default:function(){}},searchBar:{type:Boolean,default:!0},grouping:{type:String,default:""},autoOpen:{type:Boolean,default:!1},rightBtn:{type:String,default:""},rightBtnEvent:{type:Function,default:function(){return 0}},ifToggle:{type:Boolean,default:!1},formCheck:{type:Boolean,default:!1},editorAddData:{type:Boolean,default:!1},lineLimit:{type:[Number,String],default:1}},data:function(){return{memoryKey:this.$route.name+encodeURI(this.title)}},watch:{options:function(){this.setSelected()}},mounted:function(){this.setSelected()},methods:{openSelect:function(){var e=this;if(this.editabled){var a=this.beforeOpen();a&&a.then&&t.isFunction(a.then)?a.then((function(t){!1!==t&&e.openPopup()})):!1!==a&&this.openPopup()}},openPopup:function(){var e=this;if(this.optionsDisabled&&this.optionsDisabled.length){var a={};t.each(this.optionsDisabled,(function(t){t.id&&(a[t.id]=t)})),t.each(this.options,(function(t,i){a[t.id]?e.options[i].disabled=!0:e.options[i].disabled=!1}))}n.a.openPopup({title:this.pageTitle||"选择"+this.title,selected:this.value,options:this.options,required:this.required,searchBar:this.searchBar,grouping:this.grouping,autoOpen:this.autoOpen,rightBtn:this.rightBtn,ifToggle:this.ifToggle,lineLimit:this.lineLimit,editorAddData:this.editorAddData,onSelect:function(a){var i=t.cloneDeep(e.value);a=t.isArray(a)?t.map(a,(function(t){return l({},t)})):l({},a),e.$emit("input",a,i),e.$emit("onSelect",a,i)},rightBtnEvent:function(a){var i=t.cloneDeep(e.value);e.$emit("rightBtnEvent",a,i)}})},closePopup:function(){n.a.closePopup()},onSelect:function(t){o.a.saveObject(this.memoryKey,t,o.a.level.user),this.$emit("input",t[0]),this.$emit("onSelect",t[0])},setSelected:function(){var e=o.a.getObject(this.memoryKey,o.a.level.user);!1===this.editabled||t.isEmpty(this.options)||(t.isEmpty(this.value)?this.memory&&!t.isEmpty(e)&&t.some(this.options,{id:e.id})&&(this.$emit("input",e),this.autoSelect&&this.$emit("onSelect",e)):this.autoSelect&&this.$emit("onSelect",this.value))}}}}).call(this,a("391c"))},"2a54":function(t,e,a){var i=a("d77c");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("a2ffe54e",i,!0,{sourceMap:!1,shadowMode:!1})},"2c76":function(t,e,a){"use strict";a("c070")},"2dd6":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .single-item[data-v-6920dde7]{min-height:44px}.zjapp .single-item>div[data-v-6920dde7]{display:flex}.zjapp .single-item>div>span[data-v-6920dde7]{flex:1;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical}.zjapp .single-item>div>span[data-v-6920dde7] label{color:#4174e9}.zjapp .single-item i[data-v-6920dde7]{line-height:24px;font-size:24px;color:#4275e8}.zjapp .single-item .disabled-item[data-v-6920dde7]{color:#aaa}",""])},"2ddb":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .supplier-editor[data-v-e465319c]{margin-bottom:10px;padding:8px;display:flex;justify-content:space-between;align-items:center;height:52px;color:#4275e8;background-color:#fff}.zjapp .supplier-editor .icon[data-v-e465319c]{border-left:1px solid #c8c8c8;padding-left:12px}.zjapp .supplier-editor .icon-edit[data-v-e465319c]{color:#c8c8c8;font-size:18px}.zjapp .supplier-editor .icon-qualified[data-v-e465319c]{color:#4275e8}.zjapp .supplier-editor .margin-r[data-v-e465319c]{margin-right:10px}.zjapp .list-title[data-v-e465319c]{position:relative;top:0;color:#888;font-size:14px;line-height:30px;min-height:40px;margin-bottom:0;margin-top:0;padding:8px 16px 2px}.zjapp .search-item>div[data-v-e465319c]{padding-right:35px}.zjapp .search-item i[data-v-e465319c]{position:absolute;color:#ccc;font-size:26px;right:0;top:50%;transform:translateY(-50%)}.zjapp .van-popup--right[data-v-e465319c]{width:100%;height:100%}[data-v-e465319c] .van-cell__title{color:#4174e9;font-weight:700}[data-v-e465319c] .van-collapse-item__content{transform:translateZ(0);padding:0 0 0 25px}[data-v-e465319c] .van-collapse-item__content .van-cell{padding-left:0}",""])},"3156b":function(t,e,a){"use strict";a("163d");var i={name:"SingleSelectItem",props:{item:{type:Object,default:function(){return{id:"",name:""}}},checked:{type:Boolean,default:!1},renderField:{type:String,default:"name"},lineLimit:{type:[Number,String],default:1}},methods:{selectItem:function(t){t.disabled||this.$emit("click",t)}}},s=(a("9788"),a("17cc")),n=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-cell",{staticClass:"single-item",attrs:{clickable:!0},on:{click:function(e){t.selectItem(t.item)}}},[a("span",{class:{"disabled-item":t.item.disabled},style:{"-webkit-line-clamp":"unlimited"===t.lineLimit?"initial":t.lineLimit},domProps:{innerHTML:t._s(t.item[t.renderField])}}),t.checked?a("van-icon",{attrs:{name:"success"}}):t._e()],1)}),[],!1,null,"6920dde7",null);e.a=n.exports},3480:function(t,e,a){"use strict";(function(t){a("5ab2"),a("6d57"),a("e10e");var i=a("28f8"),s=a("e2a7"),n=a("e89f"),o=a("07d2"),r=a("3c64"),l=a("e68e");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}e.a={name:"ProblemBack",components:{Item:o.default,ItemTextarea:r.a,ItemImgList:l.a},mixins:[n.a],props:{},data:function(){return{show:!1,multiple:!1,reasonList:[],reason:{},remark:"",images:[],placeholder:"补充说明",isBack:!1,photoRequest:"",allowSelectAlbum:void 0,allowBuildinAlbum:void 0}},methods:{openPopup:function(e){e.reasonList?this.reasonList=t.clone(e.reasonList):this.reasonList=[{id:1,text:"整改不合格"},{id:2,text:"其它",remarkRequire:!0}],this.isBack=e.isBack||!1,this.reason=t.clone(e.reason)||{},this.images=t.map(e.images,(function(t){return function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t)})),this.remark=e.remark||"",this.placeholder=e.placeholder?e.placeholder:"补充说明",this.multiple=e.multiple,t.isEmpty(e.reasonList)||(this.reasonList=t.clone(e.reasonList)),this.callback=e.callback,this.beforeCallback=e.beforeCallback,this.photoRequest=e.photoRequest||"",e.allowSelectAlbum&&(this.allowSelectAlbum=Boolean(e.allowSelectAlbum)),e.allowBuildinAlbum&&(this.allowBuildinAlbum=Boolean(e.allowBuildinAlbum)),this.value=!0,this.show=!0,this.$emit("open")},closePopup:function(){this.value=!1,this.show=!1,this.$emit("close")},selectItem:function(t){this.multiple?this.$set(t,"checked",!t.checked):this.reason=t},submit:function(){var e=this;if(this.multiple){if(this.reason=t.filter(this.reasonList,{checked:!0}),t.isEmpty(this.remark))return void s.a.alert("补充说明必填")}else{if(t.isUndefined(this.reason.id))return void s.a.alert("请填写退回原因");if(this.reason.remarkRequire&&t.isEmpty(this.remark))return void s.a.alert("补充说明必填");if(this.photoRequest&&t.isEmpty(this.images))return void s.a.alert("请拍摄退回照片")}var a={reason:this.reason,remark:this.remark,images:this.images},i=!this.beforeCallback||this.beforeCallback(a);i&&i.then&&t.isFunction(i.then)?i.then((function(t){!1!==t&&(e.callback&&e.callback(a),e.closePopup())})):!1!==i&&(this.callback&&this.callback(a),this.closePopup())}}}}).call(this,a("391c"))},"3c64":function(t,e,a){"use strict";a("163d");var i={name:"ItemTextarea",components:{},props:{value:{type:String,default:""},placeholder:{type:String,default:""},maxlength:{type:Number,default:200},borderBottom:{type:Boolean,default:!0}},data:function(){return{textareaHeight:40,isLock:!1,blurTime:null}},computed:{lastLength:function(){var t=this.value&&this.value.length||0,e=this.maxlength-t;return e>0?e:0}},mounted:function(){var t=this;this.$nextTick((function(){t.textareaHeight=t.$refs.rule&&t.$refs.rule.offsetHeight||40}))},methods:{onfocus:function(){var t=(new Date).getTime();this.blurTime&&t-this.blurTime<300&&window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(this.$refs.input.blur(),window.cordova.plugins.Keyboard.close()),this.blurTime=null,this.$emit("focus")},onblur:function(){this.blurTime=(new Date).getTime(),this.$emit("blur")},setStatus:function(t){console.log(t),this.isLock=t},oninput:function(t){var e=this;setTimeout((function(){if(!e.isLock){var a=t.target.value;a.length>e.maxlength&&(a=a.substring(0,e.maxlength),e.$refs.input.value=a),e.$refs.rule.innerText=a,e.textareaHeight=e.$refs.rule&&e.$refs.rule.offsetHeight+20,e.$emit("input",a),e.$emit("change",a)}}),0)}}},s=(a("2c76"),a("17cc")),n=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-textarea",class:{"border-bottom":t.borderBottom}},[a("div",{staticClass:"item-textarea-content"},[a("textarea",{ref:"input",style:{height:t.textareaHeight+"px"},attrs:{placeholder:t.placeholder},domProps:{value:t.value},on:{focus:t.onfocus,blur:t.onblur,compositionstart:function(e){t.setStatus(!0)},compositionend:function(e){t.setStatus(!1)},input:t.oninput}}),a("div",{ref:"rule",staticClass:"rule"},[t._v("\n      "+t._s(t.value)+"\n    ")]),t.maxlength!==1/0?a("p",{staticClass:"counter"},[t._v("\n      "+t._s(t.lastLength)+"\n    ")]):t._e()])])}),[],!1,null,null,null);e.a=n.exports},"409b":function(t,e,a){"use strict";(function(t){a("5ab2"),a("6d57"),a("e10e");var i=a("28f8"),s=a("e2a7"),n=a("e89f"),o=a("07d2"),r=a("3c64"),l=a("e68e");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}e.a={name:"ProblemBack",components:{Item:o.default,ItemTextarea:r.a,ItemImgList:l.a},mixins:[n.a],props:{},data:function(){return{show:!1,reasonList:[],hasImages:!1,fixedRemark:!1,reason:{id:"",text:""},images:[],remark:""}},methods:{openPopup:function(e){t.isEmpty(e.reasonList)?this.reasonList=[{id:1,text:"问题登记错误"},{id:2,text:"已整改并复验通过"},{id:4,text:"无法整改"},{id:5,text:"延误整改窗口期"},{id:6,text:"留待后期整改"},{id:3,text:"其它",remarkRequire:!0}]:this.reasonList=t.clone(e.reasonList),this.callback=e.callback,this.beforeCallback=e.beforeCallback,this.value=!0,this.show=!0,t.isEmpty(e.reason)?(this.reason.id="",this.reason.text=""):(this.reason.id=e.reason.id,this.reason.text=e.reason.text),this.images=t.map(e.images,(function(t){return function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t)})),this.remark=e.remark||"",this.hasImages=!!e.hasImages,this.fixedRemark=!!e.fixedRemark,this.$emit("open")},closePopup:function(){this.value=!1,this.show=!1,this.$emit("close")},selectItem:function(t){this.reason=t},submit:function(){var e,a=this,i="";if(this.reason&&this.reason.id)i=this.reason.text;else if(""===this.remark)return void s.a.alert("请选择关闭原因");if(this.reason.remarkRequire){if(""===this.remark)return void s.a.alert("请输入关闭原因");i=this.remark}e=this.hasImages?{reason:this.reason,remark:this.remark,images:this.images}:i;var n=!this.beforeCallback||this.beforeCallback(e);n&&n.then&&t.isFunction(n.then)?n.then((function(t){!1!==t&&(a.callback&&a.callback(e),a.closePopup())})):!1!==n&&(this.callback&&this.callback(e),this.closePopup())}}}}).call(this,a("391c"))},"542f":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .layout-main[data-v-29e0b631] .layout-content{overflow:auto}[data-v-29e0b631] .item .icon{color:#4275e8}.zjapp .item-con[data-v-29e0b631] .item-img-list{margin-top:-8px}",""])},"574c":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .item-textarea{background-color:#fff;padding:5px 15px}.zjapp .item-textarea-content{position:relative}.zjapp .item-textarea .rule,.zjapp .item-textarea textarea{width:100%;min-height:40px;line-height:20px;font-size:16px;padding:0;border:none}.zjapp .item-textarea .rule{position:absolute;top:0;left:0;visibility:hidden;word-break:break-all}.zjapp .item-textarea .counter{text-align:right;margin:0 0 -5px 0;height:15px;line-height:15px;color:#b2b2b2;font-size:12px}",""])},"59a7":function(t,e,a){"use strict";var i=a("329b"),s=a("409b").a,n=(a("d2d4"),a("17cc")),o=Object(n.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"slide-right"}},[t.show?a("page-content",{attrs:{mode:"dialog",title:"选择非正常关闭原因","on-close":t.closePopup}},[t._l(t.reasonList,(function(e,i){return a("item",{key:i,staticStyle:{"min-height":"46px","align-items":"center"},attrs:{mode:"view",border:"bottom",text:e.text,"icon-right":e.id===t.reason.id?"qualified":"","icon-right-color":"color-theme"},on:{click:function(a){t.selectItem(e)}}})})),a("div",{staticClass:"mt10"},[t.hasImages?a("item",{staticClass:"p15"},[a("item-img-list",{model:{value:t.images,callback:function(e){t.images=e},expression:"images"}})],1):t._e(),t.reason.remarkRequire||t.fixedRemark?a("item-textarea",{staticClass:"border-tb",attrs:{placeholder:"补充说明"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}}):t._e()],1),a("app-button-group",[a("app-button",{on:{click:t.submit}},[t._v("提交")])],1)],2):t._e()],1)}),[],!1,null,"e24c0d3a",null).exports,r=!1;r||(r=new(i.default.extend(o))({el:document.createElement("div")}),document.body.appendChild(r.$el));e.a=r},"5a71":function(t,e,a){"use strict";var i=a("29be").a,s=a("17cc"),n=Object(s.a)(i,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("item",{class:t.required,attrs:{label:t.title,text:t.value&&t.value.id?t.value.name:"view"===t.mode?"无":"",mode:t.mode,editabled:t.editabled,placeholder:t.required?t.placeholder||"请选择":"选填","form-check":t.formCheck},on:{click:t.openSelect}})}),[],!1,null,null,null);e.a=n.exports},"5e1b":function(t,e,a){"use strict";var i=a("329b"),s=(a("6d57"),a("e10e"),a("6bf2")),n=a.n(s);var o={name:"DatepickerDialog",components:{},mixins:[a("e89f").a],props:{},data:function(){return{show:!1,isLoading:!0,today:"",currentYear:"",currentMonth:"",currentDate:"",yearsList:[],monthsList:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],weeksList:["日","一","二","三","四","五","六"],showYearSelect:!1,showMonthSelect:!1,dayList:[]}},methods:{openPopup:function(t){this.value=!0,this.show=!0,this.from=t.from,this.to=t.to,this.inputDate=n()(t.inputDate).isValid()?n()(n()(t.inputDate).format("YYYY-MM-DD")):n()(n()().format("YYYY-MM-DD")),this.callback=t.callback,this.today=n()(n()().format("YYYY-MM-DD")).valueOf(),this.from?this.fromDate=n()(n()(this.from).format("YYYY-MM-DD")).valueOf():this.fromDate=0,this.to?this.toDate=n()(n()(this.to).format("YYYY-MM-DD")).valueOf():this.toDate=1/0,this.selctedDateEpoch=n()(n()(this.inputDate).format("YYYY-MM-DD")).valueOf(),this.refreshDateList(this.inputDate),this.$emit("open")},closePopup:function(){this.value=!1,this.show=!1,this.$emit("close")},closeSelectList:function(){this.showYearSelect=!1,this.showMonthSelect=!1},prevMonth:function(){this.currentDate=n()(this.currentDate).subtract(1,"month"),this.currentMonth=this.monthsList[this.currentDate.month()],this.currentYear=this.currentDate.year(),this.refreshDateList(this.currentDate)},nextMonth:function(){this.currentDate=n()(this.currentDate).add(1,"month"),this.currentMonth=this.monthsList[this.currentDate.month()],this.currentYear=this.currentDate.year(),this.refreshDateList(this.currentDate)},selectYear:function(){this.showYearSelect=!this.showYearSelect,this.showMonthSelect=!1},setYear:function(t){this.currentYear=t,this.yearChanged(t),this.showYearSelect=!1},selectMonth:function(){this.showYearSelect=!1,this.showMonthSelect=!this.showMonthSelect},setMonth:function(t){this.currentMonth=t,this.monthChanged(t),this.showMonthSelect=!1},dateSelected:function(t){t&&0!==Object.keys(t).length&&(this.selctedDateEpoch=t.epoch,this.callback(this.selctedDateEpoch),this.closePopup())},monthChanged:function(t){var e=this.monthsList.indexOf(t);this.currentDate.month(e),this.refreshDateList(this.currentDate)},yearChanged:function(t){this.currentDate.year(t),this.refreshDateList(this.currentDate)},refreshDateList:function(t){var e=[];this.isLoading=!0,t=n()(n()(t).format("YYYY-MM-DD")),this.currentDate=t,this.currentYear="",this.currentMonth="";var a,i,s=this.currentDate.daysInMonth();this.yearsList=function(t,e){var a=[],i=2015,s=2100;i=t?n()(t).year():i,s=e?n()(e).year():s;for(var o=i;o<=s;o++)a.push(o);return a}(),this.dayList=[];var o=n()(this.currentDate).startOf("month").day();this.firstDayEpoch=n()(this.currentDate).startOf("month").valueOf(),this.lastDayEpoch=n()(this.currentDate).endOf("month").startOf("day").valueOf();for(var r=1;r<=s;r++)i=(a=n()(this.currentDate).date(r)).valueOf()<this.fromDate||a.valueOf()>this.toDate,e.push({date:a.date(),month:a.month(),year:a.year(),day:a.day(),epoch:a.valueOf(),disabled:i}),this.dayList=e;for(var l=0;l<o;l++)this.dayList.unshift({});this.rows=[0,7,14,21,28,35],this.cols=[0,1,2,3,4,5,6],this.currentMonth=this.monthsList[t.month()],this.currentYear=this.currentDate.year(),this.numColumns=7,this.isLoading=!1}}},r=(a("80d8"),a("17cc")),l=Object(r.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"slide-right"}},[t.show?a("page-content",{attrs:{mode:"dialog",title:"选择日期","on-close":t.closePopup},on:{click:function(e){t.closeSelectList()}}},[t.isLoading?t._e():a("div",{staticClass:"datepicker-hd"},[a("div",{class:{"datepicker-prev":!0,disabled:t.firstDayEpoch-864e5<t.fromDate},on:{click:t.prevMonth}},[a("icon",{attrs:{name:"arrow-left"}})],1),a("div",{staticClass:"datepicker-hd-center"},[a("div",{staticClass:"datepicker-year",on:{click:function(e){return e.stopPropagation(),t.selectYear(e)}}},[t._v("\n          "+t._s(t.currentYear)+"\n\n          "),a("transition",{attrs:{name:"spread"}},[t.showYearSelect?a("div",{staticClass:"select-list",on:{click:function(t){t.stopPropagation()}}},t._l(t.yearsList,(function(e,i){return a("div",{key:i,class:{"select-item":!0,"item-selected":t.currentYear===e},on:{click:function(a){t.setYear(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])}))):t._e()])],1),a("div",{staticClass:"datepicker-month",on:{click:function(e){e.stopPropagation(),t.selectMonth()}}},[t._v("\n          "+t._s(t.currentMonth)+"\n          "),a("transition",{attrs:{name:"spread"}},[t.showMonthSelect?a("div",{staticClass:"select-list",on:{click:function(t){t.stopPropagation()}}},t._l(t.monthsList,(function(e,i){return a("div",{key:i,class:{"select-item":!0,"item-selected":t.currentMonth===e},on:{click:function(a){t.setMonth(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])}))):t._e()])],1)]),a("div",{class:{"datepicker-next":!0,disabled:t.lastDayEpoch+864e5>t.toDate},on:{click:t.nextMonth}},[a("icon",{attrs:{name:"arrow-right"}})],1)]),t.isLoading?t._e():a("div",{staticClass:"calendar"},[a("div",{staticClass:"weeks-row"},t._l(t.weeksList,(function(e,i){return a("div",{key:i,staticClass:"weeks-cell"},[t._v("\n          "+t._s(e)+"\n        ")])}))),t._l(t.rows,(function(e,i){return a("div",{key:i,staticClass:"date-row"},t._l(t.cols,(function(i,s){return a("div",{key:s,staticClass:"date-cell",class:{"date-cell-selected":t.dayList[e+i]&&t.dayList[e+i].epoch===t.selctedDateEpoch,today:t.dayList[e+i]&&t.dayList[e+i].epoch===t.today,disabled:t.dayList[e+i]&&t.dayList[e+i].disabled},on:{click:function(a){t.dateSelected(t.dayList[e+i])}}},[t._v("\n          "+t._s(t.dayList[e+i]&&t.dayList[e+i].date)+"\n        ")])})))}))],2)]):t._e()],1)}),[],!1,null,"0a266c44",null).exports,c=!1;c||(c=new(i.default.extend(l))({el:document.createElement("div")}),document.body.appendChild(c.$el));e.a=c},6272:function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,'.zjapp .number-input[data-v-74068386]{position:relative;display:inline-block;vertical-align:top;width:61px;height:30px;border:1px solid #e5e5e5;border-radius:3px;text-align:center;font-size:14px;color:#333}@media screen and (min-width:320px){.zjapp .number-input[data-v-74068386]{width:50px}}@media screen and (min-width:360px){.zjapp .number-input[data-v-74068386]{width:58px}}@media screen and (min-width:375px){.zjapp .number-input[data-v-74068386]{width:61px}}.zjapp .text[data-v-74068386]{position:relative;display:inline-block;vertical-align:top;width:100%;height:100%;line-height:28px;overflow:hidden}.zjapp .text.disabled[data-v-74068386]{background:#f5f5f5;color:#666}.zjapp .value[data-v-74068386]{position:absolute;top:50%;right:0;margin-top:-14px;min-width:100%;height:28px;color:inherit}.zjapp .placeholder[data-v-74068386],.zjapp .value[data-v-74068386]{line-height:28px;pointer-events:none}.zjapp .placeholder[data-v-74068386]{display:inline-block;vertical-align:top;width:100%;height:100%;color:#b2b2b2}.zjapp .icon-minus[data-v-74068386]{position:absolute;top:-9px;right:-9px;width:18px;height:18px;border-radius:9px;background-color:#ff4546}.zjapp .icon-minus[data-v-74068386]:before{content:"";position:absolute;left:4px;top:8px;width:10px;height:2px;background-color:#fff}.zjapp .icon-minus[data-v-74068386]:after{content:"";position:absolute;left:-5px;top:-5px;width:28px;height:28px;border-radius:9px}.zjapp .number-input-select-all .value-handle[data-v-74068386]{background-color:#cbdaf9}.zjapp .number-input.unqualified[data-v-74068386]{border:1px solid #ffe8e8;background-color:#fff3f3;color:#ff5050}.zjapp .number-input.qualified .text[data-v-74068386]{color:#333}.zjapp .number-input.number-input-focus[data-v-74068386]{border-color:#4275e8;box-shadow:0 0 8px 0 rgba(66,117,232,.37)}.zjapp .number-input.number-input-empty[data-v-74068386]{border-color:#ff3d3d;box-shadow:0 0 8px 0 rgba(255,59,48,.37)}',""])},6948:function(t,e,a){"use strict";a("2b45"),a("163d");var i=a("329b"),s=a("8c3d").a,n=(a("b55a"),a("17cc")),o=Object(n.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"slide-up"},on:{leave:t.startClose,afterLeave:t.onClose}},[t.show?a("div",{staticClass:"number-keyboard-con",class:{"ios-bezel-less":t.isIOSBezelLess},style:{"z-index":t.zIndex},on:{touchstart:t.keyTouchstart,touchend:t.keyTouchend}},["true-or-false"===t.type?[a("div",{staticClass:"keyboard-row"},[a("div",{staticClass:"row-span-3 keys-row"},[a("div",{staticClass:"keys col color-green",attrs:{direct:"setTure"}},[a("icon",{attrs:{name:"qualified"}}),t._v("\n            合格\n          ")],1),a("div",{staticClass:"keys col color-red",attrs:{direct:"setFalse"}},[a("icon",{attrs:{name:"unqualified"}}),t._v("\n            不合格\n          ")],1)]),a("div",{staticClass:"row-span-1"},[a("div",{staticClass:"keys-row"},[a("div",{staticClass:"keys keys-ok",attrs:{direct:"closeKeyboard"}},[a("icon",{attrs:{name:"keyboard-close"}})],1)]),a("div",{staticClass:"keys-row"},[a("div",{staticClass:"keys keys-delete",attrs:{direct:"delete"}},[a("icon",{attrs:{name:"keyboard-delete"}})],1)])])]),a("div",{staticClass:"keyboard-row"},[a("div",{staticClass:"keys keys-prev",class:{disabled:!t.hasPrev},attrs:{direct:"prev"}},[t._v("\n          上一项\n        ")]),a("div",{staticClass:"keys keys-next",class:{disabled:!t.hasNext},attrs:{direct:"next"}},[t._v("\n          下一项\n        ")])])]:[a("div",{staticClass:"keyboard-row"},[a("div",{staticClass:"keys",attrs:{direct:"1"}},[t._v("1")]),a("div",{staticClass:"keys",attrs:{direct:"2"}},[t._v("2")]),a("div",{staticClass:"keys",attrs:{direct:"3"}},[t._v("3")]),a("div",{staticClass:"keys keys-ok",attrs:{direct:"closeKeyboard"}},[a("icon",{attrs:{name:"keyboard-close"}})],1)]),a("div",{staticClass:"keyboard-row"},[a("div",{staticClass:"keys",attrs:{direct:"4"}},[t._v("4")]),a("div",{staticClass:"keys",attrs:{direct:"5"}},[t._v("5")]),a("div",{staticClass:"keys",attrs:{direct:"6"}},[t._v("6")]),a("div",{staticClass:"keys keys-delete",attrs:{direct:"delete"}},[a("icon",{attrs:{name:"keyboard-delete"}})],1)]),a("div",{staticClass:"keyboard-row"},[a("div",{staticClass:"keys",attrs:{direct:"7"}},[t._v("7")]),a("div",{staticClass:"keys",attrs:{direct:"8"}},[t._v("8")]),a("div",{staticClass:"keys",attrs:{direct:"9"}},[t._v("9")]),a("div",{staticClass:"keys keys-prev",class:{disabled:!t.hasPrev},attrs:{direct:"prev"}},[t._v("\n          上一项\n        ")])]),a("div",{staticClass:"keyboard-row"},[a("div",{staticClass:"keys",class:{disabled:t.isDisabledMinus},attrs:{direct:"-"}},[t._v("-")]),a("div",{staticClass:"keys",attrs:{direct:"0"}},[t._v("0")]),a("div",{staticClass:"keys",class:{disabled:t.isDisabledPoint},attrs:{direct:"."}},[t._v(".")]),a("div",{staticClass:"keys keys-next",class:{disabled:!t.hasNext},attrs:{direct:"next"}},[t._v("\n          下一项\n        ")])])]],2):t._e()])}),[],!1,null,"6337f428",null).exports,r=!1;r||(r=new(i.default.extend(o))({el:document.createElement("div")}),document.body.appendChild(r.$el));var l=r,c=a("6f9e"),p=a("4360"),d={name:"NumberInput",props:{value:{type:[String,Number]},type:{type:String,default:"all"},decimal:{type:Number,default:2},placeholder:{type:String,default:""},nextEvent:{type:Function},range:{type:Array,default:function(){return[]}},overflowAutoRecover:{type:Boolean,default:!1},required:{type:Boolean},emptyAutoRecover:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},isSetEmptyTip:{type:Boolean,default:!1}},data:function(){return{rawValue:"",isFocusing:!1,isSelectAll:!1,keyboardHeight:p.a.state.app.isIOSBezelLess?266:"true-or-false"===this.type?176:232}},computed:{min:function(){return isNaN(this.range[0])?-1/0:parseFloat(this.range[0])},max:function(){return isNaN(this.range[1])?1/0:parseFloat(this.range[1])}},created:function(){c.a.$on("numberInputBlur",this.setBlur),c.a.$on("numberKeyboardClose",this.setBlur)},beforeDestroy:function(){this.isFocusing&&l.closeKeyboard()},destroyed:function(){c.a.$off("numberInputBlur",this.setBlur),c.a.$off("numberKeyboardClose",this.setBlur)},methods:{hasVal:function(t){return null!=t&&""!==t},openKeyboard:function(){this.disabled||(this.isFocusing?this.isSelectAll=!1:(c.a.$emit("numberInputBlur"),this.setFocus(),l.openKeyboard({inputComponent:this})))},setFocus:function(){this.isFocusing=!0,"true-or-false"!==this.type&&(this.isSelectAll=!0),this.rawValue=this.value,l.$on("keyboardInput",this.input),l.$on("keyboardAssign",this.assign),l.$on("keyboardDelete",this.deleteValue),l.$on("keyboardClear",this.clear),this.$emit("focus")},setBlur:function(){if(this.isFocusing){var t=this.checkValue();this.isFocusing=!1,this.isSelectAll=!1,l.$off("keyboardInput",this.input),l.$off("keyboardAssign",this.assign),l.$off("keyboardDelete",this.deleteValue),l.$off("keyboardClear",this.clear),this.$emit("input",t),this.$emit("blur",t),this.$nextTick((function(){l.calcTab()}))}},input:function(t){var e=this.hasVal(this.value)?this.value.toString():"",a="";this.isSelectAll?(a=t,this.isSelectAll=!1):a=e+t,console.log("newValue =====",a),this.$emit("input",a),l.setKeysStatus(a,this.type)},assign:function(t){this.isSelectAll=!1,this.$emit("input",t),l.setKeysStatus(t,this.type)},deleteValue:function(){var t=this.hasVal(this.value)?this.value.toString():"",e="";this.hasVal(t)&&(e=this.isSelectAll?"":t.substr(0,t.length-1)),this.$emit("input",e),l.setKeysStatus(e,this.type)},clear:function(){this.$emit("input",""),l.setKeysStatus("",this.type)},checkValue:function(){var t=this.hasVal(this.value)?this.value.toString():"";"-"===t&&(t=""),"."===t.substr(-1)&&(t=t.substr(0,t.length-1));var e=t.indexOf(".");return e>0&&(t=parseFloat(t.substring(0,e+this.decimal+1))),t=parseFloat(t),isNaN(t)?this.required&&this.emptyAutoRecover?(t=this.rawValue,this.$emit("onEmpty")):t="":(t<this.min&&(t=this.overflowAutoRecover?this.rawValue:this.min,this.$emit("overflowRange")),t>this.max&&(t=this.overflowAutoRecover?this.rawValue:this.max,this.$emit("overflowRange"))),t}}},u=(a("6abe"),Object(n.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"number-input component-number-input",class:{"number-input-focus":t.isFocusing,"number-input-empty":t.isSetEmptyTip&&!t.value&&!t.isFocusing,"number-input-select-all":t.isSelectAll,qualified:"true-or-false"===t.type&&1===t.value,unqualified:"true-or-false"===t.type&&0===t.value}},[a("div",{staticClass:"text",class:{disabled:t.disabled},on:{click:function(e){return e.stopPropagation(),t.openKeyboard(e)}}},[t.hasVal(t.value)?a("span",{staticClass:"value"},[a("span",{staticClass:"value-handle"},[t._v(t._s("true-or-false"===t.type?1===t.value?"合格":"不合格":t.value))])]):a("span",{staticClass:"placeholder"},[t._v("\n      "+t._s(t.placeholder)+"\n    ")])]),t._t("extend")],2)}),[],!1,null,"74068386",null));e.a=u.exports},"6abe":function(t,e,a){"use strict";a("bebe")},7434:function(t,e,a){var i=a("0cb6");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("f6a1180a",i,!0,{sourceMap:!1,shadowMode:!1})},"75ca":function(t,e,a){"use strict";var i=a("329b"),s=a("3480").a,n=(a("d6fa"),a("17cc")),o=Object(n.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"slide-right"}},[t.show?a("page-content",{attrs:{mode:"dialog",title:(t.multiple?"":"选择")+"退回原因","on-close":t.closePopup}},[t.multiple?t._e():a("div",[a("div",{staticClass:"list"},t._l(t.reasonList,(function(e,i){return a("item",{key:i,attrs:{mode:"edit","icon-right":e.id===t.reason.id?"qualified":"","icon-right-color":"color-theme"},on:{click:function(a){t.selectItem(e)}}},[a("div",{staticClass:"item-text"},[t._v("\n            "+t._s(e.text)+"\n          ")])])}))),a("item-textarea",{staticClass:"mt10",attrs:{placeholder:t.placeholder},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}}),a("item",{staticClass:"p15"},[a("item-img-list",{attrs:{maxlength:15,"allow-select-album":t.allowSelectAlbum,"allow-buildin-album":t.allowBuildinAlbum},model:{value:t.images,callback:function(e){t.images=e},expression:"images"}})],1),a("app-button-group",[a("app-button",{on:{click:t.submit}},[t._v("提交")])],1)],1),t.multiple?a("div",[a("div",{staticClass:"list"},t._l(t.reasonList,(function(e,i){return a("item",{key:i,attrs:{mode:"edit","icon-back":t.isBack,"icon-left":e.checked?"qualified":""},on:{click:function(a){t.selectItem(e)}}},[a("div",{staticClass:"item-text"},[t._v("\n            "+t._s(e.text)+"\n          ")])])}))),a("div",{staticClass:"list mt10"},[a("item",{staticClass:"p15"},[a("item-img-list",{attrs:{maxlength:15,"allow-select-album":t.allowSelectAlbum,"allow-buildin-album":t.allowBuildinAlbum},model:{value:t.images,callback:function(e){t.images=e},expression:"images"}})],1),a("item-textarea",{staticClass:"mt10",attrs:{placeholder:t.placeholder},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1),a("app-button-group",[a("app-button",{on:{click:t.submit}},[t._v("确认退回")])],1)],1):t._e()]):t._e()],1)}),[],!1,null,"29e0b631",null).exports,r=!1;r||(r=new(i.default.extend(o))({el:document.createElement("div")}),document.body.appendChild(r.$el));e.a=r},"80d8":function(t,e,a){"use strict";a("e60b")},"8c3d":function(t,e,a){"use strict";(function(t){a("ed63"),a("163d"),a("2b45"),a("e204"),a("cc57");var i,s,n=a("07d2"),o=a("cf09"),r=a("6f9e"),l=a("4360"),c=[],p=[0,1,2,3,4,5,6,7,8,9,".","-"];function d(t){return null!=t&&""!==t}e.a={name:"NumberKeyboard",components:{Item:n.default},data:function(){return{show:!1,isClosing:!1,zIndex:0,willOpenParams:null,inputComponent:"",type:"",hasPrev:!1,hasNext:!1,isDisabledMinus:!1,isDisabledPoint:!1}},computed:{isIOSBezelLess:function(){return l.a.state.app.isIOSBezelLess}},watch:{isClosing:function(t){var e=this;this.$nextTick((function(){!t&&e.willOpenParams&&e.openKeyboard(e.willOpenParams)}))}},created:function(){r.a.$on("routerBeforeEach",this.closeKeyboard),r.a.$on("pageContentClick",this.closeKeyboard)},destroyed:function(){r.a.$off("routerBeforeEach",this.closeKeyboard),r.a.$off("pageContentClick",this.closeKeyboard)},methods:{openKeyboard:function(t){this.isClosing?this.willOpenParams=t:(this.willOpenParams=null,this.show=!0,this.inputComponent=t.inputComponent,this.zIndex=o.a?++o.a.zIndex:1,l.a.commit("global/SET_IS_NUMBER_INPUT_OPEN",!0),l.a.commit("global/SET_NUMBER_KEYBOARD_HEIGHT",l.a.state.app.isIOSBezelLess?266:"true-or-false"===this.inputComponent.type?176:232),this.calcTab(),this.type=this.inputComponent.type,this.setKeysStatus(this.inputComponent.value,this.inputComponent.type),r.a.$emit("numberKeyboardOpen",this.inputComponent))},closeKeyboard:function(){this.show=!1,r.a.$emit("numberKeyboardClose")},startClose:function(){this.isClosing=!0},onClose:function(){this.isClosing=!1,l.a.commit("global/SET_IS_NUMBER_INPUT_OPEN",!1),r.a.$emit("afterNumberKeyboardClose")},input:function(t){"-"===t&&this.isDisabledMinus||"."===t&&this.isDisabledPoint||this.$emit("keyboardInput",t)},delete:function(t){var e=this;this.$emit("keyboardDelete"),i=setTimeout((function(){e.$emit("keyboardClear")}),500)},calcTab:function(){var e=function t(e){return e&&e.$parent?"Scroller"===e.$parent.$options.name?e.$parent:t(e.$parent):null}(this.inputComponent),a=e&&e.$el.querySelectorAll(".component-number-input");if(c=[],a&&t.each(a,(function(t){c.push(t.__vue__)})),t.isEmpty(c))this.hasPrev=!1,this.hasNext=!1;else{var i=t.findIndex(c,this.inputComponent);this.hasPrev=i>0,this.hasNext=i<c.length-1}this.inputComponent&&this.inputComponent.nextEvent&&(this.hasNext=!0)},prev:function(){var e=t.findIndex(c,this.inputComponent),a=c[e-1];a&&(r.a.$emit("numberInputBlur"),a.setFocus(),this.openKeyboard({inputComponent:a}))},next:function(){var e=t.findIndex(c,this.inputComponent),a=c[e+1];a?(r.a.$emit("numberInputBlur"),a.setFocus(),this.openKeyboard({inputComponent:a})):this.inputComponent&&this.inputComponent.nextEvent&&this.inputComponent.nextEvent()},setTure:function(){this.$emit("keyboardAssign",1)},setFalse:function(){this.$emit("keyboardAssign",0)},setKeysStatus:function(t,e){t=d(t)?t.toString():"",d(t)||e.indexOf("positive")>=0?this.isDisabledMinus=!0:this.isDisabledMinus=!1,!/\d/.test(t)||t.indexOf(".")>=0||e.indexOf("int")>=0?this.isDisabledPoint=!0:this.isDisabledPoint=!1},setKeyActiving:function(t,e){t&&t.classList.contains("keys")&&!t.classList.contains("disabled")&&(e?t.classList.add("activing"):t.classList.remove("activing"))},keyTouchstart:function(t){var e=t&&t.target;if(e){+new Date,s=e,this.setKeyActiving(e,!0);var a=e.getAttribute("direct");"closeKeyboard"!==a&&this.clickHandler(a)}},keyTouchend:function(t){var e=t&&t.target;if(e){this.setKeyActiving(e,!1),this.setKeyActiving(s,!1);var a=e.getAttribute("direct");"delete"===a?clearTimeout(i):"closeKeyboard"===a&&this.clickHandler(a)}},clickHandler:function(t){t&&(isNaN(t)||(t=Number(t)),"function"==typeof this[t]?this[t]():p.includes(t)&&this.input(t))}}}}).call(this,a("391c"))},"8f6b":function(t,e,a){"use strict";a.r(e);var i=a("17c6").a,s=a("17cc"),n=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-content",{attrs:{title:"edit"===t.problemData.mode?"编辑问题":"问题详情","show-go-root":!0}},[t.isLoading||"view"!==t.problemData.mode?t._e():a("problem-detail-header",{attrs:{status:t.problemData.status,"status-text":"已关闭"===t.problemData.status?"非正常关闭":t.problemData.status}}),t.isLoading||"edit"!==t.problemData.mode?t._e():a("scroller",[a("div",{staticClass:"bg-white"},[a("item",{attrs:{label:"项目",text:t.problemData.project.name,mode:"edit"}}),a("item",{attrs:{label:"样板",text:t.problemData.plan.name+"-"+t.problemData.templet.name,mode:"edit"}}),a("item",{attrs:{border:"bottom"}},[a("div",{staticClass:"item-con"},[a("item-img-list",{on:{callback:t.saveProblem},model:{value:t.problemData.image_file,callback:function(e){t.$set(t.problemData,"image_file",e)},expression:"problemData.image_file"}})],1)]),a("item-textarea",{attrs:{placeholder:"补充说明"},on:{input:t.saveProblem},model:{value:t.problemData.remark,callback:function(e){t.$set(t.problemData,"remark",e)},expression:"problemData.remark"}})],1),a("div",{staticClass:"bg-white mt10"},[a("item",{attrs:{label:"整改期限",mode:"edit",border:"bottom"}},[a("template",{slot:"right"},[a("div",{staticClass:"item-con align-r"},[a("app-stepper",{staticClass:"date",attrs:{max:"999"},on:{change:t.saveProblem},model:{value:t.problemData.deadline,callback:function(e){t.$set(t.problemData,"deadline",e)},expression:"problemData.deadline"}})],1),a("div",{staticClass:"item-font ml5"},[t._v("天")])])],2),a("user-select",{attrs:{title:"整改人",options:t.repairOptions},on:{onSelect:t.selectRepair},model:{value:t.problemData.repair,callback:function(e){t.$set(t.problemData,"repair",e)},expression:"problemData.repair"}}),a("single-select",{attrs:{title:"责任单位","if-toggle":!0,options:t.contractorOptions},on:{onSelect:t.saveProblem},model:{value:t.problemData.contractor,callback:function(e){t.$set(t.problemData,"contractor",e)},expression:"problemData.contractor"}}),a("user-select",{attrs:{title:"复验人",options:t.reinspectOptions},on:{onSelect:t.saveProblem},model:{value:t.problemData.reinspect,callback:function(e){t.$set(t.problemData,"reinspect",e)},expression:"problemData.reinspect"}}),a("user-select",{attrs:{title:"抄送人",multi:!0,options:t.ccOptions},on:{onSelect:t.saveProblem},model:{value:t.problemData.cc,callback:function(e){t.$set(t.problemData,"cc",e)},expression:"problemData.cc"}})],1),t.problemData.id?a("app-button-group",[a("app-button",{attrs:{type:"text"},on:{click:t.deleteProblem}},[t._v("\n        删除此草稿\n      ")])],1):t._e()],1),t.isLoading||"view"!==t.problemData.mode?t._e():a("scroller",[a("div",{staticClass:"bg-white"},[a("item",{attrs:{label:"项目",text:t.problemData.project.name}}),a("item",{attrs:{label:"样板",text:t.problemData.plan.name+"-"+t.problemData.templet.name}}),a("item",{attrs:{label:"问题照片"}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[t.problemData.remark?a("p",{staticClass:"item-font color-balck"},[t._v("\n            "+t._s(t.problemData.remark)+"\n          ")]):t._e(),a("item-img-list",{attrs:{editabled:!1},model:{value:t.problemData.image_file,callback:function(e){t.$set(t.problemData,"image_file",e)},expression:"problemData.image_file"}})],1)]),a("user-select",{attrs:{title:"提交人",date:t._f("formatDate")(t.problemData.regist_date),editabled:!1,mode:"view"},model:{value:t.problemData.regist,callback:function(e){t.$set(t.problemData,"regist",e)},expression:"problemData.regist"}}),a("item",{attrs:{label:"整改期限",text:t._f("formatDate")(t.problemData.repair_deadline,"YYYY-MM-DD"),editabled:t.allowChangeRepairDeadline},on:{click:t.selectDeadline}}),a("user-select",{attrs:{title:"整改人",mode:"view",options:t.repairOptions,date:t._f("formatDate")(t.problemData.repair_date),editabled:t.allowChangeRepair,"is-read":t.problemData.repair.id===t.currentUserId?"":1===t.problemData.has_read||0!==t.problemData.has_read&&"","before-select":t.beforeChangeRepair},on:{onSelect:t.changeRepair},model:{value:t.problemData.repair,callback:function(e){t.$set(t.problemData,"repair",e)},expression:"problemData.repair"}}),a("single-select",{attrs:{title:"责任单位",mode:"view","if-toggle":!0,options:t.contractorOptions,editabled:t.allowChangeContractor},on:{onSelect:t.changeContractor},model:{value:t.problemData.contractor,callback:function(e){t.$set(t.problemData,"contractor",e)},expression:"problemData.contractor"}}),"待整改"!==t.problemData.status?[t.problemData.repair_image_file.length?a("item",{attrs:{label:"整改照片"}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[t.problemData.repair_remark?a("div",{staticClass:"item-font"},[t._v("\n              "+t._s(t.problemData.repair_remark)+"\n            ")]):t._e(),a("item-img-list",{attrs:{editabled:!1},model:{value:t.problemData.repair_image_file,callback:function(e){t.$set(t.problemData,"repair_image_file",e)},expression:"problemData.repair_image_file"}})],1)]):t._e(),!t.problemData.repair_image_file.length&&t.problemData.repair_remark?a("item",{attrs:{label:"整改补充说明",text:t.problemData.repair_remark}}):t._e()]:t._e(),t.allowRepair?[a("item",{attrs:{label:"整改照片"}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[a("item-img-list",{attrs:{maxlength:15},model:{value:t.problemData.repair_image_file,callback:function(e){t.$set(t.problemData,"repair_image_file",e)},expression:"problemData.repair_image_file"}})],1)]),a("item-textarea",{staticClass:"border-tb",attrs:{placeholder:"整改补充说明（选填）"},model:{value:t.problemData.repair_remark,callback:function(e){t.$set(t.problemData,"repair_remark",e)},expression:"problemData.repair_remark"}})]:t._e(),a("user-select",{attrs:{title:"复验人",mode:"view",options:t.reinspectOptions,date:t._f("formatDate")(t.problemData.reinspect_date),editabled:t.allowChangeReinspect,"before-select":t.beforeChangeReinspect},on:{onSelect:t.changeReinspect},model:{value:t.problemData.reinspect,callback:function(e){t.$set(t.problemData,"reinspect",e)},expression:"problemData.reinspect"}}),"待复验"!==t.problemData.status?[t.problemData.reinspect_image_file.length?a("item",{attrs:{label:"复验照片"}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[t.problemData.reinspect_remark?a("div",{staticClass:"item-font"},[t._v("\n              "+t._s(t.problemData.reinspect_remark)+"\n            ")]):t._e(),a("item-img-list",{attrs:{editabled:!1},model:{value:t.problemData.reinspect_image_file,callback:function(e){t.$set(t.problemData,"reinspect_image_file",e)},expression:"problemData.reinspect_image_file"}})],1)]):t._e(),!t.problemData.reinspect_image_file.length&&t.problemData.reinspect_remark?a("item",{attrs:{label:"复验补充说明",text:t.problemData.reinspect_remark}}):t._e()]:t._e(),t.allowReinspectPass?[a("item",{attrs:{label:"复验照片"}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[a("item-img-list",{attrs:{maxlength:15},model:{value:t.problemData.reinspect_image_file,callback:function(e){t.$set(t.problemData,"reinspect_image_file",e)},expression:"problemData.reinspect_image_file"}})],1)]),a("item-textarea",{staticClass:"border-tb",attrs:{placeholder:"复验补充说明（选填）"},model:{value:t.problemData.reinspect_remark,callback:function(e){t.$set(t.problemData,"reinspect_remark",e)},expression:"problemData.reinspect_remark"}})]:t._e(),t.problemData.sent_back_remark?a("item",{attrs:{label:"退回原因"}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[t.problemData.sent_back_remark?a("div",{staticClass:"item-font"},[t._v("\n            "+t._s(t.problemData.sent_back_remark)+"\n          ")]):t._e(),t.problemData.sent_back_image_file.length?a("item-img-list",{attrs:{editabled:!1},model:{value:t.problemData.sent_back_image_file,callback:function(e){t.$set(t.problemData,"sent_back_image_file",e)},expression:"problemData.sent_back_image_file"}}):t._e()],1)]):t._e(),a("user-select",{attrs:{title:"抄送人",mode:"view",multi:!0,options:t.ccOptions,editabled:t.allowChangeCc,required:!1},on:{onSelect:t.changeCc},model:{value:t.problemData.cc,callback:function(e){t.$set(t.problemData,"cc",e)},expression:"problemData.cc"}}),t.problemData.close_date?a("item",{attrs:{label:"关闭时间",text:t._f("formatDate")(t.problemData.close_date)}}):t._e(),t.problemData.close_reason?a("item",{attrs:{label:"关闭原因",text:t.problemData.close_reason}}):t._e()],2),a("app-button-group",{attrs:{direction:"column"}},[t.allowReinspectPass?a("app-button",{on:{click:t.reinspect}},[t._v("\n        通过\n      ")]):t._e(),t.allowRepair?a("app-button",{on:{click:t.repair}},[t._v("\n        完成整改\n      ")]):t._e(),t.allowReinspectReject?a("app-button",{attrs:{type:"warning",rimless:"",plain:""},on:{click:t.back}},[t._v("\n        退回\n      ")]):t._e(),t.allowClose?a("app-button",{attrs:{type:"warning",rimless:"",plain:""},on:{click:t.close}},[t._v("\n        非正常关闭\n      ")]):t._e()],1)],1),t.isLoading||"edit"!==t.problemData.mode?t._e():a("app-button-group",{attrs:{"fixed-bottom":"",seamless:""}},[a("app-button",{staticStyle:{width:"50%"},attrs:{plain:""},on:{click:t.clickToSave}},[t._v("\n      暂存\n    ")]),a("app-button",{on:{click:t.submit}},[t._v("\n      提交\n    ")])],1),a("loading-status",{attrs:{"is-loading":t.isLoading,"is-empty":!t.isLoading&&!t.problemData,"empty-text":"加载问题详情失败"}})],1)}),[],!1,null,null,null);e.default=n.exports},9120:function(t,e,a){var i=a("2ddb");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("cb55f532",i,!0,{sourceMap:!1,shadowMode:!1})},"91cb":function(t,e,a){"use strict";a("c82d")},9446:function(t,e,a){var i=a("2dd6");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("2192cd00",i,!0,{sourceMap:!1,shadowMode:!1})},9788:function(t,e,a){"use strict";a("9446")},"9ab7":function(t,e,a){var i=a("542f");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("8c69df94",i,!0,{sourceMap:!1,shadowMode:!1})},a093:function(t,e,a){"use strict";(function(t){a("5ab2"),a("6d57"),a("e10e"),a("f548");var i=a("28f8"),s=(a("9dd9"),a("cc57"),a("e204"),a("9eea")),n=a("3156b"),o=a("774b"),r=a("e89f"),l=a("6f9e");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}e.a={name:"AppSingleSelect",components:{appSearchBar:s.default,item:n.a,Scroller:o.default},mixins:[r.a],props:{},data:function(){return{activeTab:[],storageKey:encodeURI(this.title||"singleSelectMark"),storageVal:[],keyword:"",searchStatus:!1,checkedItem:{},show:!1,searchData:[],options:[],optionsLimit:20,pagingOptions:!1,searchBar:!0,category:[],ifToggle:!1,editorAddData:!1,lineLimit:1}},computed:{optionsShow:function(){return this.options&&this.options.length?this.grouping?this.getGroupData():this.options.slice(0,this.optionsLimit):[]}},watch:{keyword:function(t){var e=this;this.$nextTick((function(){e.filterList(t)}))}},methods:{openPopup:function(e){if(console.log(e),this.value=!0,this.show=!0,this.category=[],l.a.$on("closeDialog",this.closePopup),this.title=e.title,this.selected=e.selected,this.checkedItem=e.selected,this.options=e.options,this.onSelect=e.onSelect,this.searchBar=e.searchBar,this.grouping=e.grouping,this.rightBtn=e.rightBtn,this.rightBtnEvent=e.rightBtnEvent,this.ifToggle=e.ifToggle,this.lineLimit=e.lineLimit,this.editorAddData=e.editorAddData,e.grouping&&e.autoOpen){var a=t.uniqBy(t.map(this.options,e.grouping));this.activeTab=t.map(a,(function(t,e){return e}))}this.storageKey=encodeURI(this.title||"singleSelectMark"),this.$emit("open")},closePopup:function(){this.value=!1,this.show=!1,this.$emit("close")},closeEvent:function(){l.a.$off("closeDialog",this.closePopup),this.value=!1,this.show=!1,this.keyword="",this.searchStatus=!1,this.$refs["app-search-bar"]&&this.$refs["app-search-bar"].cancelSearch()},customAddSupplier:function(t){return this.options.findIndex((function(e){return e.name===t}))},selectItem:function(t){var e=this;this.ifToggle&&this.checkedItem.id===t.id?this.checkedItem={}:this.checkedItem=t,this.onSelect(this.checkedItem),this.$refs["app-search-bar"]&&this.$refs["app-search-bar"].saveHistory(),window.setTimeout((function(){e.closeEvent()}),300)},onSearchTypeChange:function(t){this.searchStatus=t},filterList:function(t){var e,a,i=this,s=new RegExp("("+t+")","gmi");if(this.category=[],this.keyword=t,this.searchData=[],!t)return!1;this.options.map((function(t){return s.test(t.name)&&(a=p(p({},t),{},{rename:t.name.replace(s,"<label>$1</label>")}),i.grouping?-1===(e=i.category.indexOf(a[i.grouping]))?(i.category.push(a[i.grouping]),i.searchData.push({name:a[i.grouping],children:[a]})):i.searchData[e].children.push(a):i.searchData.push(a)),t}))},pageOptions:function(){this.optionsLimit=this.optionsLimit+20,this.pagingOptions=!1},getGroupData:function(){var t,e=this,a=[];return this.category=[],this.options.map((function(i){return-1===(t=e.category.indexOf(i[e.grouping]))?(e.category.push(i[e.grouping]),a.push({name:i[e.grouping],children:[i]})):a[t].children.push(i),i})),a}}}}).call(this,a("391c"))},a5c6:function(t,e,a){"use strict";var i=a("329b"),s=a("a093").a,n=(a("f3d7"),a("17cc")),o=Object(n.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"slide-right"}},[t.show?a("page-content",{attrs:{title:t.title,mode:"dialog","on-close":t.closeEvent}},[t.rightBtn&&!t.editorAddData||t.rightBtn&&t.editorAddData&&(!t.selected.name||t.customAddSupplier(t.selected.name)>-1)?a("div",{staticClass:"header-btn",attrs:{slot:"header-bar-right"},on:{click:function(e){t.rightBtnEvent(t.category)}},slot:"header-bar-right"},[t._v("\n      "+t._s(t.rightBtn)+"\n    ")]):t._e(),a("scroller",{attrs:{"has-next":!t.searchStatus&&!t.grouping&&t.optionsLimit<t.options.length,"end-text":"","is-empty":0===t.optionsShow.length},on:{loadNext:t.pageOptions}},[t.searchBar?a("app-search-bar",{ref:"app-search-bar",attrs:{placeholder:"搜索","history-key":t.storageKey},on:{changeSearchStatus:t.onSearchTypeChange},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}):t._e(),t.searchStatus?[t.keyword?[t.grouping?a("van-collapse",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},t._l(t.searchData,(function(e,i){return a("van-collapse-item",{key:i,attrs:{title:e.name,name:i}},t._l(e.children,(function(e,i){return a("item",{key:i,attrs:{checked:t.checkedItem.id===e.id,item:e,"line-limit":t.lineLimit,"render-field":"rename"},on:{click:t.selectItem}})})))}))):t._e(),t.grouping&&!t.searchData.length?a("loading-status",{attrs:{"is-empty":!0,"empty-text":"没有内容","show-style":"search"}}):t._e(),t.grouping?t._e():[t._l(t.searchData,(function(e,i){return a("item",{key:i,attrs:{checked:t.checkedItem.id===e.id,item:e,"line-limit":t.lineLimit,"render-field":"rename"},on:{click:t.selectItem}})})),t.searchData.length?t._e():a("loading-status",{attrs:{"is-empty":!0,"empty-text":"没有内容","show-style":"search"}})]]:t._e()]:["-1"===t.selected.id&&t.customAddSupplier(t.selected.name)<0&&t.editorAddData?a("div",{staticClass:"supplier-editor",on:{click:t.closePopup}},[a("span",{staticClass:"title"},[t._v(t._s(t.selected.name))]),a("span",{staticClass:"icon"},[a("i",{staticClass:"iconfont icon-edit margin-r",on:{click:t.rightBtnEvent}}),a("i",{staticClass:"iconfont icon-qualified"})])]):t._e(),t.grouping?a("van-collapse",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},t._l(t.optionsShow,(function(e,i){return a("van-collapse-item",{key:i,attrs:{title:e.name,name:i}},t._l(e.children,(function(e,i){return a("item",{key:i,attrs:{checked:t.checkedItem.id===e.id,item:e,"line-limit":t.lineLimit},on:{click:t.selectItem}})})))}))):t._l(t.optionsShow,(function(e,i){return a("item",{key:i,attrs:{checked:t.checkedItem.id===e.id,item:e,"line-limit":t.lineLimit},on:{click:t.selectItem}})})),t.optionsShow.length?t._e():a("loading-status",{attrs:{"is-empty":!0,"empty-text":"暂无数据","show-style":"search"}})]],2)],1):t._e()],1)}),[],!1,null,"e465319c",null).exports,r=!1;r||(r=new(i.default.extend(o))({el:document.createElement("div")}),document.body.appendChild(r.$el));e.a=r},b55a:function(t,e,a){"use strict";a("c001")},bebe:function(t,e,a){var i=a("6272");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("53478790",i,!0,{sourceMap:!1,shadowMode:!1})},c001:function(t,e,a){var i=a("f53a");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("bd5eb062",i,!0,{sourceMap:!1,shadowMode:!1})},c070:function(t,e,a){var i=a("574c");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("35590dcb",i,!0,{sourceMap:!1,shadowMode:!1})},c82d:function(t,e,a){var i=a("0c52");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("26e0fa2e",i,!0,{sourceMap:!1,shadowMode:!1})},cf0d:function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,'.zjapp .layout-main[data-v-0a266c44] .layout-content{overflow:auto}.zjapp .datepicker-hd[data-v-0a266c44]{display:flex;text-align:center;padding:5px 5px 15px 5px}.zjapp .datepicker-hd-center[data-v-0a266c44]{flex:1;display:flex;padding:10px 5px}.zjapp .datepicker-month[data-v-0a266c44],.zjapp .datepicker-year[data-v-0a266c44]{position:relative;flex:1;border:none;border-bottom:1px solid #4374ea;padding:0;line-height:26px;font-size:14px;text-align:center}.zjapp .datepicker-month[data-v-0a266c44]{margin-left:10px}.zjapp .datepicker-month[data-v-0a266c44]:after,.zjapp .datepicker-year[data-v-0a266c44]:after{position:absolute;top:50%;right:5px;margin-top:-3px;width:0;height:0;border-top:5px solid;border-right:5px solid transparent;border-left:5px solid transparent;content:"";pointer-events:none;color:#4374ea}.zjapp .datepicker-next[data-v-0a266c44],.zjapp .datepicker-prev[data-v-0a266c44]{width:10%;padding:10px 5px;font-size:24px;color:#4374ea}.zjapp .select-list[data-v-0a266c44]{position:absolute;top:27px;left:0;width:100%;max-height:380px;overflow:auto;background-color:#fff;box-shadow:0 0 5px #333}.zjapp .select-item[data-v-0a266c44]{padding:5px;height:38px;line-height:28px}.zjapp .item-selected[data-v-0a266c44]{background-color:#4374ea;color:#fff}.zjapp .weeks-row[data-v-0a266c44]{padding:5px;display:flex}.zjapp .weeks-cell[data-v-0a266c44]{flex:1;line-height:20px;text-align:center;font-size:14px;font-weight:700}.zjapp .date-row[data-v-0a266c44]{padding:0 5px;display:flex}.zjapp .date-cell[data-v-0a266c44]{flex:1;height:50px;line-height:50px;text-align:center;font-size:14px}.zjapp .date-cell-selected[data-v-0a266c44]{background-color:#4374ea;color:#fff;font-weight:700}.zjapp .date-cell.today[data-v-0a266c44]{border:1px solid #4374ea}.zjapp .disabled[data-v-0a266c44]{pointer-events:none;color:#aaa}',""])},d2d4:function(t,e,a){"use strict";a("2a54")},d6fa:function(t,e,a){"use strict";a("9ab7")},d77c:function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .layout-main[data-v-e24c0d3a] .layout-content{overflow:auto}[data-v-e24c0d3a] .item .icon{color:#4275e8}",""])},da1c:function(t,e,a){"use strict";a("163d");var i=a("65a8"),s={name:"ProblemHeader",props:{status:{type:String,default:""},statusText:{type:String,default:""},level:{type:String,default:""},isTimeout:{type:Boolean,default:!1},sentBackTimes:{type:[Number,String],default:0}},data:function(){return{edOptions:{}}},created:function(){var t=this;i.a.getOptions("紧急程度").then((function(e){t.edOptions=e}))}},n=(a("1f63"),a("17cc")),o=Object(n.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._g({staticClass:"problem-detail-header border-bottom"},t.$listeners),[a("div",{staticClass:"status",class:{"待整改":"status-red","不合格":"status-red","已退回":"status-red","待复验":"status-orange","已放水待验收":"status-orange","检查中":"status-orange","待验收":"status-orange","已通过":"status-green","已整改":"status-green","已提交":"status-green","合格":"status-green","检查完毕":"status-green","已验收":"status-green","已关闭":"status-black","进度正常":"status-green","进度滞后":"status-red","验收中":"status-orange","已抽验":"status-green"}[t.status]},[t._v(t._s(t.statusText||t.status))]),"紧急"===t.level||"特急"===t.level?a("span",{staticClass:"urgent"},[t._v(t._s(t.edOptions[t.level]))]):t._e(),t.isTimeout?a("span",{staticClass:"timeout"},[t._v("超时")]):t._e(),t.sentBackTimes>0?a("span",{staticClass:"return"},[t._v("退回"+t._s(t.sentBackTimes)+"次")]):t._e(),t._t("operat")],2)}),[],!1,null,"0901aadd",null);e.a=o.exports},e60b:function(t,e,a){var i=a("cf0d");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("1be2b028",i,!0,{sourceMap:!1,shadowMode:!1})},f3d7:function(t,e,a){"use strict";a("9120")},f53a:function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .number-keyboard-con[data-v-6337f428]{position:absolute;left:0;bottom:0;width:100%;padding:4px 0;background-color:#fafafa;box-shadow:0 -4px 8px 0 rgba(0,0,0,.08);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.zjapp .ios-bezel-less[data-v-6337f428]{padding-bottom:34px}.zjapp .keyboard-row[data-v-6337f428],.zjapp .keys-row[data-v-6337f428]{display:flex}.zjapp .row-span-1[data-v-6337f428]{flex:1}.zjapp .row-span-2[data-v-6337f428]{flex:2}.zjapp .row-span-3[data-v-6337f428]{flex:3}.zjapp .keys[data-v-6337f428]{flex:1;height:48px;line-height:48px;text-align:center;font-size:18px;margin:4px;border:1px solid rgba(5,5,5,.07);border-radius:8px;background-color:#fff;padding:0}.zjapp .keys-next[data-v-6337f428],.zjapp .keys-prev[data-v-6337f428]{font-size:14px;color:#4275e8}.zjapp .keys-ok[data-v-6337f428]{font-size:14px;color:#999}.zjapp .keys-delete[data-v-6337f428]{color:#999}.zjapp .icon[data-v-6337f428]{pointer-events:none}.zjapp .icon-keyboard-close[data-v-6337f428]{font-size:20px;color:#999}.zjapp .icon-keyboard-delete[data-v-6337f428]{vertical-align:top;margin-top:13px;font-size:14px;color:#333}.zjapp .activing[data-v-6337f428]{background-color:#ececec}.zjapp .disabled[data-v-6337f428]{color:#999}.zjapp .col[data-v-6337f428]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:104px;line-height:36px}",""])}}]);