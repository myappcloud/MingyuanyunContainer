(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-5ec4446a"],{be2b:function(e,a,t){"use strict";(function(e){t("f548"),t("6d57"),t("e697"),t("616f"),t("cc57");var r,n=t("fd50"),o=t("3bd5"),u=t("ed08"),c=t("3516"),l=t("aab3"),d=t("e865"),p=t("48f4"),m=t("bcc7"),_=t("2f02"),h=t("334f"),f=t("b725"),b=t("7aa5"),y=t("729d"),g=t("c1c2"),v=t("6144"),k=t("c745"),V=t("b20c"),M=t("0136"),D=t("7cb8");a.a=r={measureRooms:[],save:function(a,t){t=t||a.status;var i=1===a.entry_requirements?a.exceedVal:a.realityVal,s={id:a.id,proj_id:a.proj_id,bidsection_id:a.bidsection_id,batch_id:a.batch_id,batch_type:a.batch_type||"实测实量(新)",item_id:a.checkItem.id,building_id:a.roomData.building_id,floor:a.roomData.floor||"",room_id:a.roomData.id,status:t,parent_id:a.parent_id||null,regist_by:a.regist_by,regist_date:a.regist_date,measurement_points:parseInt(a.pointNum),problem_points:parseInt(a.exceedNum),problem_values:Object(D.o)(i),image_file:Object(D.o)(a.img),remark:a.remark||"",standard_min:a.standard_min,standard_max:a.standard_max,passrate_mode:a.passrate_mode,entry_requirements:a.entry_requirements,unit:a.unit,emergency_degree:a.emergency_degree||"一般",process_mode:a.process_mode||1};return e.isEmpty(a.drawing_file)||(e.isArray(a.drawing_file)?s.drawing_file=Object(D.o)(a.drawing_file):s.drawing_file=Object(D.o)([a.drawing_file])),n.a.when().then((function(){return s.id?d.a.update(s,[],a.repair).then((function(){return r.addTodo(s,a.repair)})):(s.id=u.a.uuid(),s.created_on=u.a.now(),s.created_by=o.a.getUser().user_id,d.a.insert(s).then((function(){a.id=s.id})))})).then((function(){return r.appendToCC(s.id,"被抄送",a.cc)})).then((function(){return n.a.resolve(s.id)})).catch((function(e){return $log.error(e),n.a.reject(e)}))},appendToCC:function(a,t,r){return h.a.getProblemCCAllColumn(a).then((function(i){return n.a.all(e.map(r,(function(r){if(!e.some(i,(function(e){return e.cc===r.id&&e.type===t}))){var n={id:r.id,name:r.name,type:t};return h.a.appendCC(a,n)}}))).then((function(){return h.a.updateProblemReadingTime(a)}))}))},getMeasureProblem:function(a,t,n){return d.a.getMeasureProblem(a,t,n).then((function(e){return r.unzipProblemValues(e)})).then((function(a){return a?d.a.getProblemRepairs(a.id).then((function(t){return e.isEmpty(t)||(a.repair=t[0]),a})):a})).then((function(e){return e?h.a.getCC(e.id).then((function(a){return e.cc=a,e})):e}))},getMeasureProblemById:function(e){return d.a.getMeasureProblemById(e).then((function(e){return r.unzipProblemValues(e)})).then((function(e){return e?h.a.getCC(e.id).then((function(a){return e.cc=a,e})):e}))},getMeasureProblemsByStatus:function(e,a){return d.a.getMeasureProblemsByStatus(e,a).then((function(e){return r.unzipProblemValues(e)}))},getMeasureProblemsByRoom:function(e,a){return d.a.getMeasureProblemsByRoom(e,a).then((function(e){return r.unzipProblemValues(e)}))},submitSingleCheck:function(a){if(a.status&&"检查中"!==a.status)return n.a.reject("错误的状态");var t;if(a.needRepair){if(e.isEmpty(a.repair))return n.a.reject("请选择整改人");t="待整改"}else t="检查完毕";return r.save(a,t).then((function(){if(a.needRepair)return r.changeSingleRoomRepair(a,!1);var e=o.a.getUser();return r.appendToCC(a.id,"操作人",[{id:e.user_id,name:e.user_name}])})).then((function(){return r.changeCC(a,!1)})).then((function(){return a.status=t,a.needRepair?p.default.addSyncGroup([["checkquality_problem",a.id],["checkquality_repair",a.id],["checkquality_cc",a.id]]):p.default.addSyncGroup([["checkquality_problem",a.id],["checkquality_cc",a.id]]),n.a.resolve(a.id)})).catch((function(e){return $log.error(e),n.a.reject(e)}))},resubmitSingleCheck:function(e){return r.save(e,e.status).then((function(){if(e.repair_hasChanged)return r.changeSingleRoomRepair(e,!1)})).then((function(){var a=o.a.getUser();return r.appendToCC(e.id,"操作人",[{id:a.user_id,name:a.user_name}])})).then((function(){return r.changeCC(e,!1)})).then((function(){p.default.addSyncGroup([["checkquality_problem",e.id],["checkquality_repair",e.id],["checkquality_cc",e.id]])})).catch((function(e){return $log.error(e),n.a.reject(e)}))},submitSingleRepair:function(e){return"待整改"!==e.status?n.a.reject("错误的状态"):d.a.updateProblem(e.id,{status:"已整改",repair_by:o.a.getUser().user_id,repair_remark:e.repair_remark,repair_date:u.a.now(),repair_image_file:Object(D.o)(e.repair_img)}).then((function(){var a=o.a.getUser();return r.appendToCC(e.id,"操作人",[{id:a.user_id,name:a.user_name}])})).then((function(){return r.changeCC(e,!1)})).then((function(){return p.default.addSyncGroup([["checkquality_problem",e.id],["checkquality_cc",e.id]])})).then((function(){return r.addTodo(e,[])}))},changeCC:function(a,t){return c.a.getBatchCCs(a.batch_id).then((function(t){return t=e.map(t,(function(e){return{id:e.user_id,name:e.user_name}})),e.isEmpty(a.cc)||(t=t.concat(a.cc),t=e.uniqBy(t,e.property("id"))),h.a.saveProblemCC(a.id,t)})).then((function(){t&&p.default.addSyncGroup([["checkquality_problem",a.id],["checkquality_cc",a.id]])}))},getRoomProblems:function(a,t){return d.a.getRoomProblems(a,t).then((function(e){return r.unzipProblemValues(e)})).then((function(t){return c.a.getBatch(a).then((function(r){return"实测巡检"===r.batch_type?c.a.getBatchCheckitems(a).then((function(a){var r=[];return e.each(t,(function(t){e.some(a,e.matches({item_id:t.pc_id}))&&r.push(t)})),r})):t}))}))},getReportData:function(a){return c.a.getBatch(a).then((function(t){return n.a.all([d.a.getSingleRoomMeasureCheckitems(a),d.a.getSingleRoomMeasureReportData(a),c.a.getBatchRooms(a)]).then((function(a){var t={},r=a[0],i=a[1],u=a[2];return n.a.all([d.a.getProblemRepairs(t.id),d.a.getProblemCC(t.id)]).then((function(a){return e.isEmpty(a[0])&&e.isEmpty(a[1])?n.a.all(e.map(r,(function(e){return m.a.getBidSectionCheckItemInfo(t.proj_id,t.bidsection_id,e.id,"实测实量")}))).then((function(a){var t=e.reduce(a,(function(e,a){return e.concat(a.repair)}),[]);t=e.uniqBy(t,e.property("id"));var r=e.reduce(a,(function(e,a){return e.concat(a.cc)}),[]);return[t,r=e.uniqBy(r,e.property("id"))]})):a})).then((function(a){var n=a[0],c=a[1],l=e.groupBy(i,"room_id"),d={id:t.id,status:t.status,proj_id:t.proj_id,bidsection_id:t.bidsection_id,batch_id:t.batch_id,batch_name:t.batch_name,remark:t.remark,is_regist:t.regist_by===o.a.getUser().user_id,checkBy:{id:t.regist_by,name:t.regist_name,phone:t.regist_phone,date:t.regist_date},checkItem:e.map(r,(function(e){return{id:e.id,name:e.name,parent_name:e.parent_name,status:e.status,repairBy:{id:e.repair_id,name:e.repair_name,phone:e.repair_phone,date:e.repair_date},detail:JSON.parse(e.repair_image_file||"[]").length>0||!!e.repair_remark}})),checkData:e.map(l,(function(a,t){var r=e.reduce(a,(function(e,a){return e+Math.max((a.measurement_points||0)-(a.problem_points||0),0)}),0),n=e.reduce(a,(function(e,a){return e+(a.measurement_points||0)}),0),i=a[0].building_name;return a[0].unit&&(i+=a[0].unit,s.endsWith(i,"单元")||(i+="单元")),{roomId:t,roomName:a[0].room_no,buildName:i,passRate:(n?Math.round(1e4*r/n)/100:0)+"%",passPoints:r,measurePoints:n,isEmpty:!1,data:e.reduce(a,(function(e,a){var t=a.measurement_points||0,r=Math.max(t-(a.problem_points||0),0);return e[a.item_id]={pointNum:t,passNum:r,passRate:(t?Math.round(1e4*r/t)/100:0)+"%"},e}),{})}})),repair:n,cc:c};e.each(u,(function(a){if(!e.find(d.checkData,(function(e){return e.roomId===a.room_id}))){var t=a.building_name;a.unit&&(t+=a.unit,s.endsWith(t,"单元")||(t+="单元")),d.checkData.push({roomId:a.room_id,roomName:a.room_name,buildName:t,passRate:"",data:{},isEmpty:!0})}})),e.each(d.checkData,(function(a){e.each(d.checkItem,(function(e){e.id in a.data||(a.data[e.id]={pointNum:"",passNum:"",passRate:""})}))}));var p=e.reduce(d.checkData,(function(e,a){return e+(a.passPoints||0)}),0),m=e.reduce(d.checkData,(function(e,a){return e+(a.measurePoints||0)}),0),_=e.groupBy(i,"item_id");return d.total={passRate:(m?Math.round(1e4*p/m)/100:0)+"%",data:e.mapValues(_,(function(a){var t=e.reduce(a,(function(e,a){return e+Math.max((a.measurement_points||0)-(a.problem_points||0),0)}),0),r=e.reduce(a,(function(e,a){return e+(a.measurement_points||0)}),0);return{pointNum:r,passNum:t,passRate:(r?Math.round(1e4*t/r)/100:0)+"%"}}))},d}))}))}))},changeRepair:function(a){return e.isEmpty(a.repair)?n.a.reject("请指定一个整改人"):d.a.updateProblemModifiedBy(a.id).then((function(){return f.a.changeProblemRepair(a.id,a.repair)})).then((function(){var t=e.map(a.repair,"id").join(","),r=e.map(a.oldRepair,"id").join(",");return _.a.saveProblemFpInfo(a.proj_id,a.bidsection_id,a.batch_id,a.id,t,r,"分配整改人")})).then((function(){var e=o.a.getUser();return r.appendToCC(a.id,"操作人",[{id:e.user_id,name:e.user_name}])})).then((function(){return p.default.addSyncGroup([["checkquality_problem",a.id],["checkquality_repair",a.id],["checkquality_cc",a.id]])})).catch((function(e){return $log.error(e),n.a.reject(e)}))},changeSingleRoomRepair:function(a,t){return e.isEmpty(a.repair)?n.a.reject("请指定整改人"):d.a.updateProblemModifiedBy(a.id).then((function(){return f.a.changeProblemRepair(a.id,a.repair).then((function(){return r.addTodo(a,a.repair)}))})).then((function(){var e=a.repair.id;return _.a.saveProblemFpInfo(a.proj_id,a.bidsection_id,a.batch_id,a.id,e,"","分配整改人")})).then((function(){var e=o.a.getUser();return r.appendToCC(a.id,"操作人",[{id:e.user_id,name:e.user_name}])})).then((function(){if(!1!==t)return p.default.addSyncGroup([["checkquality_problem",a.id],["checkquality_repair",a.id],["checkquality_cc",a.id]])})).catch((function(e){return $log.error(e),n.a.reject(e)}))},getProblemRepairs:function(e){return d.a.getProblemRepairs(e)},getProblemCC:function(e){return d.a.getProblemCC(e)},getTopMeasureProblem:function(e){return d.a.getTopMeasureProblem(e)},getMeasureEmptyRooms:function(e){return d.a.getMeasureEmptyRooms(e)},getRoomsAndData:function(a,t,r,i,o,u){return n.a.when().then((function(){return l.a.getBuildingRooms(r,i).then((function(a){return e.clone(a)}))})).then((function(a){return b.a.getSectionBatchs(t,"实测实量(新)","正式").then((function(t){var s=[],c=[],l=[0,0,0],p=0;return e.each(t,(function(e){-1!==e.name.indexOf("施工单位")?s[0]=e.id:-1!==e.name.indexOf("监理单位")?s[1]=e.id:-1!==e.name.indexOf("建设单位")&&(s[2]=e.id)})),s=s.slice(0,u),o&&(c=e.map(s,(function(e){return d.a.getMeasureNewBatchRoomProblems(e,r,i,[o.id])}))),n.a.all(c).then((function(t){for(var r={},n={},i=0;i<t.length;i++)for(var o=0;o<t[i].length;o++)t[i][o].room_id?r[t[i][o].room_id]=i+1:n[t[i][o].floor]=i+1,l[i]||(l[i]=0),l[i]+=1;e.isEmpty(r)&&(p+=a.length),e.each(a,(function(a){e.isEmpty(r)?a.done=n[a.floor]||0:(p+=a.rooms.length,e.each(a.rooms,(function(e){e.done=r[e.id]||0})))})),a.completion=[],p=Math.max(p,1);for(var u=0;u<l.length;u++)a.completion[u]=(l[u]/p*100).toFixed(1)+"%"}))})).then((function(){return a}))}))},getRoomsAndDataByIdentity:function(a,t,n,i,o,u){return l.a.getBuildingRooms(n,i).then((function(s){for(var c=[],l=u;l>0;)c.push(l),l--;var d=[];return o.subitem?d=e.map(o.subitem,(function(e){return e.id})):d.push(o.id),r.getMeasureDataDetailByIdentities(a,t,n,i,d,c).then((function(a){return e.each(s,(function(t){e.each(t.rooms,(function(t){t.done=[],t.problems=[],t.done_num=[];for(var r=u;r>0;){var n;switch(r){case 3:n=a.construct;break;case 2:n=a.supervision;break;case 1:n=a.repair}var i=e.filter(n,(function(e){return e.room_id===t.id})),o=0,s=0,c=!0,l=0;e.each(i,(function(e){o+=e.measurement_points||0,s+=e.problem_points||0,c=!!c&&"检查中"!==e.status,l+="检查中"!==e.status?1:0})),t.done_num[r]=l,i.length===d.length&&c?t.done[r]=r:t.done[r]=0,i.length<=1?t.problems[r]=i[0]||{}:t.problems[r]={measurement_points:o,problem_points:s,batch_id:i[0].batch_id},r--}}))})),s}))}))},getMeasureDataDetailByIdentities:function(a,t,o,u,s,c){var l=[];for(i=0;i<c.length;i++){var d=r.getMeasureDataDetailByIdentity(a,t,o,u,s,c[i]);l.push(d)}return n.a.all(l).then((function(a){var t={repair:[],supervision:[],construct:[]};return e.each(a,(function(e){switch(e.identity){case 1:t.repair=e.data;break;case 2:t.supervision=e.data;break;case 3:t.construct=e.data}})),t}))},getMeasureDataDetailByIdentity:function(e,a,t,i,o,u){return r.getMeasureDefaultBatch(e,a,u).then((function(e){return d.a.getMeasureNewBatchRoomProblems(e.id,t,i,o)})).then((function(e){return r.unzipProblemValues(e)})).then((function(e){return n.a.resolve({data:e,identity:u})}))},getMeasureUserIdentity:function(a){var t=o.a.getUser();return g.a.getModulePermission(t.user_id,[31,32,33]).then((function(a){return e.some(a,(function(e){return 33===e.role_type}))?3:e.some(a,(function(e){return 32===e.role_type}))?2:1}))},getIdentityByProblemId:function(e){return r.getMeasureProblemById(e).then((function(e){return e})).then((function(e){return b.a.getBatch(e.batch_id).then((function(e){var a;return e.name.indexOf("默认批次-施工单位")>-1?a=1:e.name.indexOf("默认批次-监理单位")>-1?a=2:e.name.indexOf("默认批次-建设单位")>-1&&(a=3),a}))}))},getMeasureDefaultBatch:function(e,a,t){return b.a.getProjectBatchByIdentity(e,a,t,"实测实量(新)").then((function(e){return e&&(e.identity=t),e||{}}))},getAllMeasureCheckItems:function(a){var t=v.a.getObject("MeasureCheckItemMemory")||{};return n.a.when().then((function(){return k.a.measureCheckItems.length?e.filter(k.a.measureCheckItems,(function(e){return e.sec_id===a})):y.a.getBidSectionCheckItemList(a,41)})).then((function(a){var r=[],n={},i={};return e.each(a,(function(e,a){e&&"实测实量"!==e.parent_item_full_name&&(n[e.parent_item_id]||(i=n[e.parent_item_id]={id:e.parent_item_id,name:e.parent_item_full_name,full_name:e.parent_item_full_name,process_mode:e.process_mode,subitem:[],isOpen:!!t[e.parent_item_id]},r.push(i)),n[e.parent_item_id].subitem.push({id:e.item_id,name:e.item_name,full_name:e.full_name,process_mode:e.process_mode,parent_id:e.parent_item_id}))})),r}))},getAllMeasureBuildingCheckItems:function(a,t){return d.a.getAllMeasureBuildingCheckItems(a,t).then((function(a){var t=e.groupBy(a,(function(e){return e.pp_item_name})),r=e.keys(t),i=[];return e.each(r,(function(e){for(var a={id:t[e][0].pp_item_id,name:e,subitem:[]},r=0;r<t[e].length;r++){var n={id:t[e][r].pc_item_id,name:t[e][r].pc_item_name,full_name:t[e][r].pc_full_name,process_mode:t[e][r].process_mode,note:["","分户","不分单元整层","整栋","","分单元整层"][t[e][r].process_mode]};a.subitem.push(n)}i.push(a)})),n.a.resolve(i)}))},informRepair:function(e,a){return d.a.changeProblemStatus(e.id,a).then((function(){return r.changeSingleRoomRepair(e,!1)})).then((function(){return p.default.addSyncGroup([["checkquality_problem",e.id],["checkquality_repair",e.id],["checkquality_cc",e.id]])})).catch((function(e){return $log.error(e),n.a.reject(e)}))},getMeasureRoomItemDetailByIdentities:function(a,t,o,u,s){var c=[];for(i=0;i<s.length;i++){var l=r.getMeasureRoomItemDetailByIdentity(a,t,o,u,s[i]);c.push(l)}return n.a.all(c).then((function(a){var t={repair:[],supervision:[],construct:[]};return e.each(a,(function(e){switch(e.identity){case 1:t.repair=e.data;break;case 2:t.supervision=e.data;break;case 3:t.construct=e.data}})),t}))},getMeasureRoomItemDetailByIdentity:function(a,t,n,i,o){return r.getMeasureDefaultBatch(a,t,o).then((function(e){return d.a.getMeasureNewRoomItemProblem(e.id,n,i)})).then((function(e){return r.unzipProblemValues(e)})).then((function(a){return e.isEmpty(a)?{data:a,identity:o}:h.a.getCC(a[0].id).then((function(e){return a[0].cc=e,{data:a,identity:o}}))}))},getMeasureFloorDetailByIdentity:function(a,t,n,i,o,u,s){return r.getMeasureDefaultBatch(a,t,s).then((function(e){return d.a.getMeasureNewFloorProblem(e.id,n,i,o,u)})).then((function(e){return r.unzipProblemValues(e)})).then((function(a){return e.isEmpty(a)?{data:a,identity:s}:h.a.getCC(a[0].id).then((function(e){return a[0].cc=e,{data:a,identity:s}}))}))},getMeasureFloorDetailByIdentitys:function(a,t,o,u,s,c,l){var d=[];for(i=0;i<l.length;i++){var p=r.getMeasureFloorDetailByIdentity(a,t,o,u,s,c,l[i]);d.push(p)}return n.a.all(d).then((function(a){var t={repair:[],supervision:[],construct:[]};return e.each(a,(function(e){switch(e.identity){case 1:t.repair=e.data;break;case 2:t.supervision=e.data;break;case 3:t.construct=e.data}})),t}))},unzipProblemValues:function(a){if(!a)return n.a.when(a);var t=e.isArray(a)?a:[a];return n.a.all(e.map(t,(function(e){return e.problem_values_zip&&!e.problem_values?u.a.unzipString(e.problem_values_zip).then((function(a){return e.problem_values=a,d.a.updateProblem(e.id,{problem_values:a})})).then((function(){return e})):n.a.when()}))).then((function(){return a}))},getMeasureInspectBatchRoomStatus:function(e,a){return d.a.getMeasureInspectBatchRoomStatus(e,a)},getMeasureInspectStatisticalData:function(a){return d.a.getMeasureInspectStatisticalData(a).then((function(a){var t={},r={},n={id:"sum",name:"总计",data:[{id:"sum",mp:0,pp:0,name:"总计"}]};e.each(a,(function(a){var i,o=a.building_name+(a.unit?a.unit.replace("单元","")+"单元":"")+"<br>"+a.room_no;t[a.parent_id]||(t[a.parent_id]={name:a.parent_name,children:[],data:[{id:"sum",mp:0,pp:0,name:"合格率"}]}),r[a.id]||(r[a.id]={name:a.item_name,data:[{id:"sum",mp:0,pp:0,name:"合格率"}]}),i={id:a.room_id,name:o,mp:a.m_points||0,pp:a.p_points||0},r[a.id].data.push(i),e.find(t[a.parent_id].children,{id:a.id})||t[a.parent_id].children.push({id:a.id,name:r[a.id].name,data:r[a.id].data});var u=e.find(t[a.parent_id].data,{id:a.room_id});u||(u={id:a.room_id,name:o,mp:0,pp:0},t[a.parent_id].data.push(u)),u.mp+=a.m_points||0,u.pp+=a.p_points||0,t[a.parent_id].data[0].mp+=a.m_points||0,t[a.parent_id].data[0].pp+=a.p_points||0,r[a.id].data[0].mp+=a.m_points||0,r[a.id].data[0].pp+=a.p_points||0;var s=e.find(n.data,{id:a.room_id});s||(s={id:a.room_id,name:o,mp:0,pp:0},n.data.push(s)),s.mp+=a.m_points||0,s.pp+=a.p_points||0,n.data[0].mp+=a.m_points||0,n.data[0].pp+=a.p_points||0}));var i=[];return e.each(t,(function(a,t){i.push(e.extend(a,{id:t}))})),i.push(n),i}))},uniqueMeasureProblem:function(e){var a=e.problem;return $log.log("存在冲突的问题，清理本地无效数据，服务器返回的数据",e),d.a.uniqueMeasureProblem(a.batch_id,a.id,a.item_id,a.room_id)},uniqueMeasureFloorProblem:function(e){var a=e.problem;return $log.log("存在冲突的问题，清理本地无效数据，服务器返回的数据",e),d.a.uniqueMeasureFloorProblem(a.batch_id,a.building_id,a.floor,a.item_id,a.id)},uniqueMeasureFloorUnitProblem:function(e){var a=e.problem;return $log.log("存在冲突的问题，清理本地无效数据，服务器返回的数据",e),d.a.uniqueMeasureFloorUnitProblem(a.batch_id,a.building_id,a.unit,a.floor,a.item_id,a.id)},removeDuplicatedMeasureNew:function(){return d.a.getDuplicatedMeasure().then((function(a){return n.a.all(e.map(a,(function(e){return d.a.removeCheckingMeasure(e.batch_id,e.item_id,e.room_id)})))}))},deleteBatchProblems:function(e,a){return d.a.deleteBatchProblems(e,a)},getMeasureCheckitemRealProcessMode:function(e,a){return d.a.getOneMeasureByBuildingAndItem(e,a).then((function(e){return e?e.process_mode||1:V.a.getCheckItem(a).then((function(e){return e.process_mode}))}))},addTodo:function(a,t){if("检查中"===a.status)return n.a.when();e.isArray(t)||(t=[t]);var r,i=o.a.getUser().user_id;return r=e.find(t,(function(e){return e.id===i}))?1:2,p.default.setLocalChanged(),M.a.saveTodo({biz_id:a.id,type:r,module_code:"measure-inspect",proj_id:a.proj_id})},hasVal:function(e){return null!=e&&""!==e},getAreaDataFromPoints:function(a){var t=[];return e.each(a,(function(n){if(!e.some(t,(function(e){return e.name===n.area}))){var i=e.filter(a,{area:n.area}).length;t.push({name:n.area,setVal:r.hasVal(n.setVal)?n.setVal:"",pointNum:i})}})),t},getDrawPoints:function(a,t){var n=[],i=[];return 1===(a=e.clone(a)).problemData[0].passrate_mode?(i=a.problemData[0].realityVal,e.each(a.problemData,(function(a){e.each(a.realityVal,(function(e,a){i[a]&&(i[a].isQualified=!0)}))})),e.each(a.problemData,(function(a){e.each(a.realityVal,(function(e,a){e.isExceed&&i[a]&&(i[a].isQualified=!1),e.isWarning&&i[a]&&(i[a].isWarning=!0)}))}))):2===a.problemData[0].passrate_mode?(n=r.getAreaDataFromPoints(a.problemData[0].realityVal),i=e.map(n,(function(t){var r=e.filter(a.problemData[0].realityVal,{area:t.name}),n=e.some(r,(function(e){return e.isExceed})),i=e.some(r,(function(e){return e.isWarning}));return{x:r[0].x,y:r[0].y,area:t.name,isQualified:!n,isWarning:i,pointId:r[0].pointId}}))):3===a.problemData[0].passrate_mode?i=a.problemData[0].realityVal:4===a.problemData[0].passrate_mode||(5===a.problemData[0].passrate_mode||6===a.problemData[0].passrate_mode?(n=r.getAreaDataFromPoints(a.problemData[0].realityVal),i=e.map(n,(function(t){var r=e.filter(a.problemData[0].realityVal,{area:t.name}),n=e.some(r,(function(e){return e.isExceed})),i=e.some(r,(function(e){return e.isWarning}));return{x:r[0].x,y:r[0].y,area:t.name,isQualified:!n,isWarning:i,pointId:r[0].pointId}}))):7===a.problemData[0].passrate_mode?(n=r.getAreaDataFromPoints(a.problemData[0].realityVal),i=e.map(n,(function(t){var r=e.filter(a.problemData[0].realityVal,{area:t.name}),n=e.some(r,(function(e){return e.isExceed})),i=e.some(r,(function(e){return e.isWarning}));return{x:r[0].x,y:r[0].y,area:t.name,isQualified:!n,isWarning:i,pointId:r[0].pointId}}))):8===a.problemData[0].passrate_mode?i=a.problemData[0].realityVal:12===a.problemData[0].passrate_mode||13===a.problemData[0].passrate_mode?(n=r.getAreaDataFromPoints(a.problemData[0].realityVal),i=e.map(n,(function(t){var r=e.filter(a.problemData[0].realityVal,{area:t.name}),n=e.some(r,(function(e){return e.isExceed})),i=e.some(r,(function(e){return e.isWarning}));return{x:r[0].x,y:r[0].y,area:t.name,isQualified:!n,isWarning:i,pointId:r[0].pointId}}))):console.error("算法错误")),e.each(i,(function(e,a){void 0!==t&&a===t?e.color="#4275e8":e.isQualified?e.color="#0bc666":e.color="#ff4545",e.index=a})),i},getProblemAreaData:function(a){var t=[];return e.each(a.realityVal,(function(n){if(!e.some(t,(function(e){return e.name===n.area}))){var i=e.filter(a.realityVal,{area:n.area}).length;t.push({name:n.area,setVal:r.hasVal(n.setVal)?n.setVal:"",pointNum:i})}})),t},addPoint:function(a,t){var n,i=a.problemData[0].passrate_mode;return 1===i?(n={val:"",x:t.x,y:t.y,area:"测区1"},e.each(a.problemData,(function(a){a.realityVal.push(e.clone(n))}))):2===i?e.each(a.problemData,(function(a){var n=r.getProblemAreaData(a),i=e.map(n,(function(e){return/^测区\d+$/.test(e.name)?parseInt(e.name.substr(2)):0})),o=e.maxBy(i);o=o===-1/0?0:o;for(var u={val:"",x:t.x,y:t.y,area:"测区"+(o+1)},s=0;s<5;s++)a.realityVal.push(e.clone(u));a.areaData=r.getProblemAreaData(a)})):3===i?(n={val:"",x:t.x,y:t.y,area:"测区1",setVal:""},e.each(a.problemData,(function(e){e.realityVal.push(n)}))):4===i||(5===i?e.each(a.problemData,(function(a){var n=r.getProblemAreaData(a),i=e.map(n,(function(e){return/^测区\d+$/.test(e.name)?parseInt(e.name.substr(2)):0})),o=e.maxBy(i);o=o===-1/0?0:o;for(var u={val:"",x:t.x,y:t.y,area:"测区"+(o+1)},s=0;s<2;s++)u.label="高",a.realityVal.push(e.clone(u));for(var c=0;c<2;c++)u.label="宽",a.realityVal.push(e.clone(u));a.areaData=r.getProblemAreaData(a)})):6===i?e.each(a.problemData,(function(a){var n=r.getProblemAreaData(a),i=e.map(n,(function(e){return/^测区\d+$/.test(e.name)?parseInt(e.name.substr(2)):0})),o=e.maxBy(i);o=o===-1/0?0:o;for(var u={val:"",x:t.x,y:t.y,area:"测区"+(o+1)},s=0;s<2;s++)u.label="开间",a.realityVal.push(e.clone(u));for(var c=0;c<2;c++)u.label="进深",a.realityVal.push(e.clone(u));a.areaData=r.getProblemAreaData(a)})):7===i?e.each(a.problemData,(function(a){var n=r.getProblemAreaData(a),i=e.map(n,(function(e){return/^测区\d+$/.test(e.name)?parseInt(e.name.substr(2)):0})),o=e.maxBy(i);o=o===-1/0?0:o;for(var u={val:"",x:t.x,y:t.y,area:"测区"+(o+1)},s=0;s<3;s++)a.realityVal.push(e.clone(u));a.areaData=r.getProblemAreaData(a)})):8===i&&(n={val:"",x:t.x,y:t.y,area:"测区1"},e.each(a.problemData,(function(a){a.realityVal.push(e.clone(n))})))),a},delPoint:function(a,t){var n=a.problemData[0].passrate_mode;return 1===n?e.each(a.problemData,(function(e){e.realityVal.splice(t,1)})):2===n?e.each(a.problemData,(function(e){e.realityVal.splice(5*t,5),e.areaData=r.getProblemAreaData(e)})):3===n?e.each(a.problemData,(function(e){e.realityVal.splice(t,1)})):4===n||(5===n||6===n?e.each(a.problemData,(function(e){e.realityVal.splice(4*t,4),e.areaData=r.getProblemAreaData(e)})):7===n?e.each(a.problemData,(function(e){e.realityVal.splice(3*t,3),e.areaData=r.getProblemAreaData(e)})):8===n&&e.each(a.problemData,(function(e){e.realityVal.splice(t,1)}))),a},pointsHandle:function(a){var t,n=r.hasVal(a.standard_min)?parseFloat(a.standard_min):-1/0,i=r.hasVal(a.standard_max)?parseFloat(a.standard_max):1/0,o=!e.isEmpty(a.drawing_file);return e.each(a.realityVal,(function(e){r.hasVal(e.val)&&(e.val=parseFloat(e.val))})),1===a.passrate_mode||3===a.passrate_mode?e.each(a.realityVal,(function(e){var a=parseFloat(e.val)-parseFloat(e.setVal||0),t=r.hasVal(e.val)&&(a<n||a>i),u=r.hasVal(e.val)&&a>=n&&a<=i;e.isExceed=t,e.isQualified=u,e.showMark=r.hasVal(e.val)&&o,e.hasMark=r.hasVal(e.x)&&r.hasVal(e.y)})):2===a.passrate_mode?(0===n&&(n=i),t=e.groupBy(a.realityVal||[],"area"),e.each(t,(function(t){if(e.some(t,(function(e){return!r.hasVal(e.val)})))e.each(t,(function(e){e.isExceed=!1,e.isQualified=!1,e.showMark=r.hasVal(e.val)&&o,e.hasMark=r.hasVal(e.x)&&r.hasVal(e.y)}));else{var u,s,c=e.maxBy(t,"val"),l=e.minBy(t,"val"),d=parseFloat(c.val)-parseFloat(c.setVal||0),p=parseFloat(l.val)-parseFloat(l.setVal||0),m=d-p;m<=n?e.each(t,(function(e){e.isExceed=!1,e.isQualified=!0,e.showMark=r.hasVal(e.val)&&o,e.hasMark=r.hasVal(e.x)&&r.hasVal(e.y)})):m>i?e.each(t,(function(e){e.isExceed=!0,e.isQualified=!1,e.showMark=r.hasVal(e.val)&&o,e.hasMark=r.hasVal(e.x)&&r.hasVal(e.y)})):(s=e.some(t,(function(e){return void 0!==e.isExceed})),"检查中"===a.status||s?u=-1:e.each(t,(function(e){var a=parseFloat(e.val)-parseFloat(e.setVal||0);a-p>n&&(u-=1),d-a>n&&(u+=1)})),e.each(t,(function(e){var a=parseFloat(e.val)-parseFloat(e.setVal||0);u<0?a-p>n?(e.isExceed=!0,e.isQualified=!1,e.showMark=r.hasVal(e.val)&&o,e.hasMark=r.hasVal(e.x)&&r.hasVal(e.y)):(e.isExceed=!1,e.isQualified=!0,e.showMark=r.hasVal(e.val)&&o,e.hasMark=r.hasVal(e.x)&&r.hasVal(e.y)):d-a>n?(e.isExceed=!0,e.isQualified=!1,e.showMark=r.hasVal(e.val)&&o,e.hasMark=r.hasVal(e.x)&&r.hasVal(e.y)):(e.isExceed=!1,e.isQualified=!0,e.showMark=r.hasVal(e.val)&&o,e.hasMark=r.hasVal(e.x)&&r.hasVal(e.y))})))}}))):4===a.passrate_mode||(5===a.passrate_mode||6===a.passrate_mode?(t=e.groupBy(a.realityVal||[],(function(e){return e.area+"-"+e.label})),e.each(t,(function(a){if(e.some(a,(function(e){return!r.hasVal(e.val)||!r.hasVal(e.setVal)})))e.each(a,(function(e){e.isExceed=!1,e.isQualified=!1,e.showMark=r.hasVal(e.val)&&o,e.hasMark=r.hasVal(e.x)&&r.hasVal(e.y)}));else{var t=e.maxBy(a,(function(e){return Math.abs(e.val-e.setVal)})),u=parseFloat(t.val)-parseFloat(t.setVal||0);r.hasVal(t.val)&&(u<n||u>i)?(e.each(a,(function(e){e.isExceed=!1,e.isQualified=!1,e.showMark=r.hasVal(e.val)&&o,e.hasMark=r.hasVal(e.x)&&r.hasVal(e.y)})),t.isExceed=!0):e.each(a,(function(e){e.isExceed=!1,e.isQualified=!0,e.showMark=r.hasVal(e.val)&&o,e.hasMark=r.hasVal(e.x)&&r.hasVal(e.y)}))}}))):7===a.passrate_mode?(t=e.groupBy(a.realityVal||[],"area"),e.each(t,(function(a){if(e.some(a,(function(e){return!r.hasVal(e.val)})))e.each(a,(function(e){e.isExceed=!1,e.isQualified=!1,e.showMark=r.hasVal(e.val)&&o,e.hasMark=r.hasVal(e.x)&&r.hasVal(e.y)}));else{var t=e.maxBy(a,"val").val-e.minBy(a,"val").val;t<n||t>i?e.each(a,(function(e){e.isExceed=!0,e.isQualified=!1,e.showMark=r.hasVal(e.val)&&o,e.hasMark=r.hasVal(e.x)&&r.hasVal(e.y)})):e.each(a,(function(e){e.isExceed=!1,e.isQualified=!0,e.showMark=r.hasVal(e.val)&&o,e.hasMark=r.hasVal(e.x)&&r.hasVal(e.y)}))}}))):8===a.passrate_mode&&e.each(a.realityVal,(function(e){var a=parseFloat(e.val),t=r.hasVal(e.val)&&!a,n=r.hasVal(e.val)&&!!a;e.isExceed=t,e.isQualified=n,e.showMark=r.hasVal(e.val)&&o,e.hasMark=r.hasVal(e.x)&&r.hasVal(e.y)}))),a.realityVal},problemHandle:function(a){var t,n,i=1;3===a.entry_requirements&&e.each(a.realityVal,(function(e){r.hasVal(e.val)?delete e.isFict:e.isFict=1})),1===a.entry_requirements?(a.realityVal=a.exceedVal,a.exceedNum=a.exceedVal.length,a.inputComplete=!e.some(a.exceedVal,(function(e){return!r.hasVal(e.val)})),a.pointNum?a.passrate=(a.pointNum-a.exceedNum)/a.pointNum:a.passrate=0,a.hasExceed=!0):(n=e.filter(a.realityVal,(function(e){return!e.isFict})),5===a.passrate_mode||6===a.passrate_mode?i=2:7===a.passrate_mode&&(i=3),a.exceedVal=e.filter(n,(function(e){return e.isExceed})),a.pointNum=n.length/i,t=e.filter(n,(function(e){return!0!==e.isQualified})),a.exceedNum=t.length/i,a.inputComplete=!e.some(n,(function(e){return!r.hasVal(e.val)})),a.pointNum?a.passrate=(a.pointNum-a.exceedNum)/a.pointNum:a.passrate=0,a.hasExceed=e.some(n,(function(e){return e.isExceed})))}}}).call(this,t("391c"))},e865:function(e,a,t){"use strict";(function(e){var r,n=t("fd50"),i=t("fc9f"),o=t("3bd5"),u=t("334f"),s=t("b725"),c=t("6b81"),l="checkquality_problem";r={getRoomProblems:function(e,a){return i.a.query("SELECT p.id AS id, pp.name AS pp_name, pc.name AS pc_name, pp.id AS pp_id, pc.id AS pc_id, p.id AS problem_id,                 p.room_id as room_id, p.batch_id as batch_id, p.status as status,                 p.measurement_points as measurement_points, p.problem_points as problem_points, p.problem_values as problem_values, p.problem_values_zip as problem_values_zip,                 p.entry_requirements as p_entry_requirements, p.standard_min as p_standard_min, p.standard_max as p_standard_max,                 batch.entry_requirements as entry_requirements, pc.standard_min as standard_min, pc.standard_max as standard_max,                 case when p.id is null then pc.passrate_mode else p.passrate_mode end as passrate_mode             FROM problem_class pp             INNER JOIN problem_class pc ON pp.id = pc.parent_id AND pp.type = 41 AND ifnull(pp.parent_id, '') != ''             inner join section_checkitem sc on sc.item_id = pc.id             inner join batch on batch.bidsection_id = sc.bidsection_id and batch.id = ?             LEFT JOIN checkquality_problem p ON pc.id = p.item_id AND p.batch_id = ? AND p.room_id = ? AND p.batch_type in ('实测实量(新)', '实测巡检')             ORDER BY pp.code, pc.code",[e,e,a])},getMeasureNewBatchRoomProblems:function(a,t,r,n){var o="";r&&(o=" and p.unit = '"+r+"' ");var u=e.reduce(n,(function(e,a){return e+",'"+a+"'"}),"");u&&(u=u.substr(1));var s="SELECT * FROM             checkquality_problem p             WHERE p.batch_type = '实测实量(新)'             AND p.status != '检查中'             AND p.batch_id = ?             AND p.building_id = ?             "+o+"             AND p.item_id IN (             "+u+"             )";return i.a.query(s,[a,t])},getMeasureNewRoomItemProblem:function(e,a,t){return i.a.query("SELECT p.*, uReg.name as regist_by_name, uReg.mobile as regist_by_mobile, uRep.name as repair_name, uRep.mobile as repair_mobile,                     uRep.is_im_user as repair_is_im_user , uReg.is_im_user as regist_is_im_user                     FROM checkquality_problem p                     LEFT JOIN user uReg on p.regist_by = uReg.id                     LEFT JOIN user uRep on p.repair_by = uRep.id                     WHERE p.batch_id = ?                     AND p.room_id = ?                     AND p.item_id = ?",[e,a,t])},getMeasureNewFloorProblem:function(e,a,t,r,n){var o="";t&&(o=" and p.unit = '"+t+"' ");var u="SELECT p.*, uReg.name as regist_by_name, uReg.mobile as regist_by_mobile, uRep.name as repair_name, uRep.mobile as repair_mobile,                     uRep.is_im_user as repair_is_im_user , uReg.is_im_user as regist_is_im_user                     FROM checkquality_problem p                     LEFT JOIN user uReg on p.regist_by = uReg.id                     LEFT JOIN user uRep on p.repair_by = uRep.id                     WHERE p.batch_id = ?                     AND p.building_id = ?                     "+o+"                    AND p.floor = ?                     AND p.item_id = ?";return i.a.query(u,[e,a,r,n])},insert:function(e){return i.a.insertObject(l,e)},update:function(e,a,t,r){return e.modified_by=o.a.getUser().user_id,i.a.update(l,e,{id:e.id}).then((function(){return u.a.saveProblemCC(e.id,a)})).then((function(){return s.a.saveProblemRepair(e.id,t)})).then((function(){return c.a.saveProblemReinspect(e.id,r)}))},getMeasureProblem:function(e,a,t){return i.a.queryOne("select p.*, u.name as regist_by_name, u.mobile as regist_by_mobile, u.is_im_user as regist_is_im_user, pp.status as parent_status,                     urepair.name as repair_name, urepair.mobile as repair_mobile, urepair.is_im_user as repair_is_im_user                 from checkquality_problem p                 left join checkquality_problem pp on p.parent_id = pp.id                 left join user u on p.regist_by = u.id                 left join user urepair on p.repair_by = urepair.id                 where p.batch_id = ? and p.item_id = ? and p.room_id = ? ",[e,a,t])},getMeasureProblemById:function(e){return i.a.queryOne("select p.*, u.name as regist_by_name, u.mobile as regist_by_mobile, u.is_im_user as regist_is_im_user, pp.status as parent_status,                     urepair.name as repair_name, urepair.mobile as repair_mobile, urepair.is_im_user as repair_is_im_user                 from checkquality_problem p                 left join checkquality_problem pp on p.parent_id = pp.id                 left join user u on p.regist_by = u.id                 left join user urepair on p.repair_by = urepair.id                 where p.id = ? ",[e])},getMeasureProblemsByStatus:function(a,t){var r=[a];e.isArray(t)?r=r.concat(t):r.push(t);var n="select * from checkquality_problem where batch_id = ? and ("+e.map(t,(function(){return"status = ?"})).join(" or ")+") and ifnull(parent_id, '') != ''";return i.a.query(n,r)},getMeasureProblemsByRoom:function(a,t){var r="select * from checkquality_problem where batch_id = ? and ifnull(parent_id, '') != '' and room_id in ("+(e.map(t,(function(e){return"'"+e+"'"})).join(", ")||"''")+")";return i.a.query(r,[a])},updateProblem:function(e,a){return i.a.update("checkquality_problem",a,{id:e})},getSingleRoomMeasureCheckitems:function(e){return i.a.query("select pc.id, pc.name, pc2.name as parent_name, u.id as repair_id, u.name as repair_name, u.mobile as repair_phone, p.repair_date,                    p.repair_image_file, p.repair_remark                from checkquality_problem p                join room r on r.id = p.room_id                join problem_class pc on p.item_id = pc.id                join problem_class pc2 on pc.parent_id = pc2.id                left join user u on u.id = p.repair_by                where p.batch_id = ? and p.status != '检查中'                 group by pc.id, pc.name",[e])},getSingleRoomMeasureReportData:function(e){return i.a.query("select p.room_id, r.room_no, r.unit, b.name as building_name, p.item_id, p.measurement_points, p.problem_points                from checkquality_problem p                join room r on r.id = p.room_id                join building b on r.building_id = b.id                join building_floor bf on r.building_id = bf.building_id and r.floor = bf.floor                where p.batch_id = ? and p.status != '检查中'                order by b.sort, b.code, bf.sort, r.no, r.room_no",[e])},getProblemRepairs:function(e){return i.a.query("select u.* from checkquality_repair r                join user u on u.id = r.repair                where r.checkquality_problem_id = ?",[e])},getProblemCC:function(e){return i.a.query("select u.* from checkquality_cc cc                join user u on u.id = cc.cc                where cc.checkquality_problem_id = ? and cc.type = '被抄送'",[e])},updateProblemModifiedBy:function(e){return i.a.update(l,{modified_by:o.a.getUser().user_id},{id:e})},getMeasureEmptyRooms:function(e){return i.a.query("select * from batch_room br where br.batch_id = ? and not exists (                select 1 from checkquality_problem p where p.batch_id = br.batch_id and p.room_id = br.room_id             )",[e])},getDuplicatedMeasure:function(){return i.a.query("select * from checkquality_problem p where batch_type = '实测实量(新)' group by batch_id, room_id, item_id having count(1) > 1",[])},removeCheckingMeasure:function(e,a,t){return i.a.executeSql("delete from checkquality_problem where batch_id = ? and item_id = ? and room_id = ? and status = '检查中'",[e,a,t])},hasAcceptCheckItems:function(e){var a=[e];return i.a.queryOne("SELECT count(1) as count                 FROM problem_class pc                 INNER JOIN problem_class pp ON pc.parent_id = pp.id                 INNER JOIN section_checkitem sci on sci.item_id = pc.id and sci.bidsection_id = ?                WHERE pp.type = 41                 AND ifnull(pp.parent_id, '') != ''                 ORDER BY pp.code, pc.code",a)},isSectionHasCheckItem:function(a){if(!e.isArray(a))return n.a.reject("参数错误");var t="SELECT sci.bidsection_id as section_id, count(1) as count                             FROM problem_class pc                             INNER JOIN problem_class pp ON pc.parent_id = pp.id                             INNER JOIN section_checkitem sci on sci.item_id = pc.id and sci.bidsection_id in ("+e.map(a,(function(e){return"?"})).join(", ")+")                            WHERE pc.type = 41 AND ifnull(pp.parent_id, '') != ''                             group by sci.bidsection_id";return i.a.query(t,a)},getTopMeasureProblem:function(e){return i.a.queryOne("select p.*, u.name as regist_name, u.mobile as regist_phone, b.name as batch_name                    from checkquality_problem p left join user u on p.regist_by = u.id                    left join batch b on p.batch_id = b.id                    where p.batch_id = ? and ifnull(p.parent_id, '') = ''",[e])},changeProblemStatus:function(e,a){return i.a.executeSql("update checkquality_problem set status = ? where id = ?",[a,e])},getMeasureInspectBatchRoomStatus:function(e,a){return i.a.query("select p.batch_id, p.item_id, p.room_id, p.status,                             p.building_id, p.unit                             from checkquality_problem p                             where p.batch_id = ? and p.item_id = ? and p.status <> '检查中'",[e,a])},getMeasureInspectStatisticalData:function(e){return i.a.query("select item.id, item.name as item_name, item.parent_id,                 parent_item.name as parent_name,                 r.id as room_id, r.room_no, r.unit, b.name as building_name,                 points.m_points, points.p_points                 from batch_checkitem b_item                 join batch_room b_room on b_room.batch_id = b_item.batch_id                 join room r on b_room.room_id = r.id                 join problem_class item on item.id = b_item.item_id                 join building_floor bf on bf.building_id = r.building_id and r.floor = bf.floor                 left join (                 select batch_id, item_id, room_id, measurement_points as m_points, problem_points as p_points                 from checkquality_problem p                 WHERE p.batch_id = ? and p.status <> '检查中'                 ) points on points.room_id = r.id and points.item_id = item.id                 left join problem_class parent_item on parent_item.id = item.parent_id                 left join building b on b.id = r.building_id                 where b_item.batch_id = ?                 ORDER BY item.code, b.sort, b.code, r.unit, bf.sort, r.no",[e,e])},uniqueMeasureProblem:function(e,a,t,r){return i.a.executeSql("delete from checkquality_problem where batch_id = ? and item_id = ? and room_id = ? and id != ?",[e,t,r,a])},uniqueMeasureFloorProblem:function(e,a,t,r,n){return i.a.executeSql("delete from checkquality_problem where batch_id = ? and building_id = ? and floor = ? and item_id = ? and id != ?",[e,a,t,r,n])},uniqueMeasureFloorUnitProblem:function(e,a,t,r,n,o){return i.a.executeSql("delete from checkquality_problem where batch_id = ? and building_id = ? and unit = ? and floor = ? and item_id = ? and id != ?",[e,a,t,r,n,o])},uniqueMeasureBuildingProblem:function(e,a,t){return i.a.executeSql("delete from checkquality_problem where batch_id = ? and building_id = ? and item_id = ?",[e,a,t])},deleteBatchProblems:function(e,a){var t="delete from checkquality_problem where batch_id = ? and room_id in ("+new Array(a.length+1).join("?,").slice(0,-1)+")";return i.a.executeSql(t,[e].concat(a))},getAllMeasureBuildingCheckItems:function(e,a){return i.a.query("SELECT                     pp.id AS pp_item_id,                     pp.name AS pp_item_name,                     pc.id AS pc_item_id,                     pc.name AS pc_item_name,                     pc.full_name AS pc_full_name,                     case when ifnull(t.process_mode, '') != '' and t.process_mode = '' then 1 when ifnull(t.process_mode, '') != '' and t.process_mode != '' then t.process_mode else pc.process_mode end as process_mode                 FROM problem_class pc                 INNER JOIN problem_class pp ON pc.parent_id = pp.id                 INNER JOIN section_checkitem sci on sci.item_id = pc.id and sci.bidsection_id = ?                left join (select p.item_id, ifnull(p.process_mode, '') as process_mode from checkquality_problem p where p.batch_type = '实测实量(新)' and p.building_id = ? group by p.item_id, ifnull(p.process_mode, '')) t on pc.id = t.item_id                 WHERE pp.type = 41                 AND ifnull(pp.parent_id, '') != ''                 GROUP BY pc.id                 ORDER BY pp.code, pc.code",[e,a])},getOneMeasureByBuildingAndItem:function(e,a){return i.a.queryOne("select * from checkquality_problem where building_id = ? and item_id = ?",[e,a])},getRoomAllProblems:function(e,a){return i.a.query("select cp.*, pc.parent_id as parent_item_id from checkquality_problem cp                     left join problem_class pc on pc.id = cp.item_id                     where batch_id = ? and room_id = ? and batch_type = '实测巡检'",[e,a])}},a.a=r}).call(this,t("391c"))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3NlcnZpY2UvbWVhc3VyZS1pbnNwZWN0L21lYXN1cmUtaW5zcGVjdC1zZXJ2aWNlLmpzIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvcmVwb3NpdG9yaWVzL21lYXN1cmUtaW5zcGVjdC1yZXBvc2l0b3J5LmpzIl0sIm5hbWVzIjpbIl9zZWxmIiwibWVhc3VyZVJvb21zIiwic2F2ZSIsInByb2JsZW1EYXRhIiwic3RhdHVzIiwicmVhbGl0eVZhbCIsImVudHJ5X3JlcXVpcmVtZW50cyIsImV4Y2VlZFZhbCIsImRhdGEiLCJpZCIsInByb2pfaWQiLCJiaWRzZWN0aW9uX2lkIiwiYmF0Y2hfaWQiLCJiYXRjaF90eXBlIiwiaXRlbV9pZCIsImNoZWNrSXRlbSIsImJ1aWxkaW5nX2lkIiwicm9vbURhdGEiLCJmbG9vciIsInJvb21faWQiLCJwYXJlbnRfaWQiLCJyZWdpc3RfYnkiLCJyZWdpc3RfZGF0ZSIsIm1lYXN1cmVtZW50X3BvaW50cyIsInBhcnNlSW50IiwicG9pbnROdW0iLCJwcm9ibGVtX3BvaW50cyIsImV4Y2VlZE51bSIsInByb2JsZW1fdmFsdWVzIiwidG9Kc29uIiwiaW1hZ2VfZmlsZSIsImltZyIsInJlbWFyayIsInN0YW5kYXJkX21pbiIsInN0YW5kYXJkX21heCIsInBhc3NyYXRlX21vZGUiLCJ1bml0IiwiZW1lcmdlbmN5X2RlZ3JlZSIsInByb2Nlc3NfbW9kZSIsIl8iLCJpc0VtcHR5IiwiZHJhd2luZ19maWxlIiwiaXNBcnJheSIsIiRxIiwid2hlbiIsInRoZW4iLCJNZWFzdXJlSW5zcGVjdFJlcG9zaXRvcnkiLCJ1cGRhdGUiLCJyZXBhaXIiLCJhZGRUb2RvIiwiVXRpbHMiLCJ1dWlkIiwiY3JlYXRlZF9vbiIsIm5vdyIsImNyZWF0ZWRfYnkiLCJjb250ZXh0IiwiZ2V0VXNlciIsInVzZXJfaWQiLCJpbnNlcnQiLCJhcHBlbmRUb0NDIiwiY2MiLCJyZXNvbHZlIiwiY2F0Y2giLCJlcnJvciIsIiRsb2ciLCJyZWplY3QiLCJ0eXBlIiwidXNlcnMiLCJDaGVja1F1YWxpdHlQcm9ibGVtQ0NSZXBvc2l0b3J5IiwiZ2V0UHJvYmxlbUNDQWxsQ29sdW1uIiwiY2NfbGlzdCIsImFsbCIsIm1hcCIsInVzZXIiLCJzb21lIiwibmFtZSIsImFwcGVuZENDIiwidXBkYXRlUHJvYmxlbVJlYWRpbmdUaW1lIiwiZ2V0TWVhc3VyZVByb2JsZW0iLCJiYXRjaElkIiwiY2hlY2tJdGVtSWQiLCJyb29tSWQiLCJwcm9ibGVtIiwidW56aXBQcm9ibGVtVmFsdWVzIiwicCIsImdldFByb2JsZW1SZXBhaXJzIiwicmVwYWlycyIsImdldENDIiwiY2NMaXN0IiwiZ2V0TWVhc3VyZVByb2JsZW1CeUlkIiwicHJvYmxlbUlkIiwiZ2V0TWVhc3VyZVByb2JsZW1zQnlTdGF0dXMiLCJwcm9ibGVtcyIsImdldE1lYXN1cmVQcm9ibGVtc0J5Um9vbSIsInJvb21JZHMiLCJzdWJtaXRTaW5nbGVDaGVjayIsIm5lZWRSZXBhaXIiLCJjaGFuZ2VTaW5nbGVSb29tUmVwYWlyIiwiY3VycmVudFVzZXIiLCJ1c2VyX25hbWUiLCJjaGFuZ2VDQyIsIkRhdGFTeW5jaHJvbml6ZXIiLCJhZGRTeW5jR3JvdXAiLCJyZXN1Ym1pdFNpbmdsZUNoZWNrIiwicmVwYWlyX2hhc0NoYW5nZWQiLCJzdWJtaXRTaW5nbGVSZXBhaXIiLCJ1cGRhdGVQcm9ibGVtIiwicmVwYWlyX2J5IiwicmVwYWlyX3JlbWFyayIsInJlcGFpcl9kYXRlIiwicmVwYWlyX2ltYWdlX2ZpbGUiLCJyZXBhaXJfaW1nIiwiZG9VcGxvYWQiLCJCYXRjaFNlcnZpY2UiLCJnZXRCYXRjaENDcyIsImNvbmNhdCIsInVuaXFCeSIsInByb3BlcnR5Iiwic2F2ZVByb2JsZW1DQyIsImdldFJvb21Qcm9ibGVtcyIsImdldEJhdGNoIiwiYmF0Y2giLCJnZXRCYXRjaENoZWNraXRlbXMiLCJjaGVja2l0ZW1zIiwicmVzdWx0IiwiZWFjaCIsIm1hdGNoZXMiLCJwY19pZCIsInB1c2giLCJnZXRSZXBvcnREYXRhIiwiZ2V0U2luZ2xlUm9vbU1lYXN1cmVDaGVja2l0ZW1zIiwiZ2V0U2luZ2xlUm9vbU1lYXN1cmVSZXBvcnREYXRhIiwiZ2V0QmF0Y2hSb29tcyIsInRvcFByb2JsZW0iLCJtZWFzdXJlRGF0YSIsImJhdGNoUm9vbXMiLCJnZXRQcm9ibGVtQ0MiLCJjaGVja2l0ZW0iLCJDb21tb25DaGVja0l0ZW1TZXJ2aWNlIiwiZ2V0QmlkU2VjdGlvbkNoZWNrSXRlbUluZm8iLCJpdGVtSW5mb3MiLCJyZWR1Y2UiLCJyZXQiLCJpdGVtIiwibWVhc3VyZURhdGFHcm91cCIsImdyb3VwQnkiLCJyZXBvcnREYXRhIiwiYmF0Y2hfbmFtZSIsImlzX3JlZ2lzdCIsImNoZWNrQnkiLCJyZWdpc3RfbmFtZSIsInBob25lIiwicmVnaXN0X3Bob25lIiwiZGF0ZSIsInBhcmVudF9uYW1lIiwicmVwYWlyQnkiLCJyZXBhaXJfaWQiLCJyZXBhaXJfbmFtZSIsInJlcGFpcl9waG9uZSIsImRldGFpbCIsIkpTT04iLCJwYXJzZSIsImxlbmd0aCIsImNoZWNrRGF0YSIsIm1lYXN1cmVHcm91cEl0ZW1zIiwicGFzc1BvaW50cyIsImkiLCJtZWFzdXJlR3JvdXBJdGVtIiwiTWF0aCIsIm1heCIsIm1lYXN1cmVQb2ludHMiLCJidWlsZGluZ05hbWUiLCJidWlsZGluZ19uYW1lIiwicyIsImVuZHNXaXRoIiwicm9vbU5hbWUiLCJyb29tX25vIiwiYnVpbGROYW1lIiwicGFzc1JhdGUiLCJyb3VuZCIsIm9iaiIsInBhc3NQb2ludE51bSIsInBhc3NOdW0iLCJiYXRjaFJvb20iLCJmaW5kIiwicm9vbV9uYW1lIiwidG90YWxQYXNzUG9pbnRzIiwiY2hlY2tEYXRhSXRlbSIsInRvdGFsTWVhc3VyZVBvaW50cyIsIm1lYXN1cmVJdGVtR3JvdXAiLCJ0b3RhbCIsIm1hcFZhbHVlcyIsIm1lYXN1cmVJdGVtR3JvdXBJdGVtcyIsIm1lYXN1cmVJdGVtR3JvdXBJdGVtIiwiY2hhbmdlUmVwYWlyIiwicHJvYmxlbV9kYXRhIiwidXBkYXRlUHJvYmxlbU1vZGlmaWVkQnkiLCJDaGVja1F1YWxpdHlQcm9ibGVtUmVwYWlyUmVwb3NpdG9yeSIsImNoYW5nZVByb2JsZW1SZXBhaXIiLCJqb2luIiwib2xkUmVwYWlyIiwiQ2hlY2tRdWFsaXR5UHJvYmxlbUZwSW5mb1JlcG9zaXRvcnkiLCJzYXZlUHJvYmxlbUZwSW5mbyIsInVwbG9hZERhdGEiLCJnZXRUb3BNZWFzdXJlUHJvYmxlbSIsImdldE1lYXN1cmVFbXB0eVJvb21zIiwiZ2V0Um9vbXNBbmREYXRhIiwicHJvaklkIiwic2VjdGlvbklkIiwiYnVpbGRpbmdJZCIsImlkZW50aXR5IiwiQnVpbGRpbmdTZXJ2aWNlIiwiZ2V0QnVpbGRpbmdSb29tcyIsImNsb25lIiwiQmF0Y2hSZXBvc2l0b3J5IiwiZ2V0U2VjdGlvbkJhdGNocyIsImJhdGNoZXMiLCJiYXRjaEFyciIsInByb21pc2VzIiwiY29tcGxldGlvbiIsInJvb21OdW1iZXIiLCJiYXRjaERhdGEiLCJpbmRleE9mIiwic2xpY2UiLCJnZXRNZWFzdXJlTmV3QmF0Y2hSb29tUHJvYmxlbXMiLCJyb29tU2V0IiwiZmxvb3JTZXQiLCJqIiwiZmxvb3JPYmoiLCJkb25lIiwicm9vbXMiLCJyb29tIiwiayIsInRvRml4ZWQiLCJnZXRSb29tc0FuZERhdGFCeUlkZW50aXR5IiwiYXJyIiwia2V5IiwiY2hlY2tJdGVtcyIsInN1Yml0ZW0iLCJnZXRNZWFzdXJlRGF0YURldGFpbEJ5SWRlbnRpdGllcyIsIm1lYXN1cmVQcm9ibGVtcyIsImRvbmVfbnVtIiwidGVtcCIsImNvbnN0cnVjdCIsInN1cGVydmlzaW9uIiwicmVjb3JkcyIsImZpbHRlciIsImRvbmVfc3RhdHVzIiwicmVjb3JkIiwiaWRlbnRpdGllcyIsInByb21pc2VBcnJheSIsInByb21pc2UiLCJnZXRNZWFzdXJlRGF0YURldGFpbEJ5SWRlbnRpdHkiLCJnZXRNZWFzdXJlRGVmYXVsdEJhdGNoIiwiZ2V0TWVhc3VyZVVzZXJJZGVudGl0eSIsImN1clVzZXIiLCJIb21lUGFnZVJlcG9zaXRvcnkiLCJnZXRNb2R1bGVQZXJtaXNzaW9uIiwicm9sZXMiLCJyIiwicm9sZV90eXBlIiwiZ2V0SWRlbnRpdHlCeVByb2JsZW1JZCIsImdldFByb2plY3RCYXRjaEJ5SWRlbnRpdHkiLCJnZXRBbGxNZWFzdXJlQ2hlY2tJdGVtcyIsIm1lbW9yeSIsImxvY2FsU3RvcmFnZSIsImdldE9iamVjdCIsIkNvbW1vbkJhc2VkYXRhU2VydmljZSIsIm1lYXN1cmVDaGVja0l0ZW1zIiwic2VjX2lkIiwiQmlkU2VjdGlvbkNoZWNrSXRlbVJlcG9zaXRvcnkiLCJnZXRCaWRTZWN0aW9uQ2hlY2tJdGVtTGlzdCIsImNoZWNrSXRlbUxpc3QiLCJyb290SXRlbU9iamVjdCIsImxldmVsT25lSXRlbSIsImluZGV4IiwicGFyZW50X2l0ZW1fZnVsbF9uYW1lIiwicGFyZW50X2l0ZW1faWQiLCJmdWxsX25hbWUiLCJpc09wZW4iLCJpdGVtX25hbWUiLCJnZXRBbGxNZWFzdXJlQnVpbGRpbmdDaGVja0l0ZW1zIiwicHBfaXRlbV9uYW1lIiwia2V5cyIsInBwX2l0ZW1faWQiLCJjIiwicGNfaXRlbV9pZCIsInBjX2l0ZW1fbmFtZSIsInBjX2Z1bGxfbmFtZSIsIm5vdGUiLCJpbmZvcm1SZXBhaXIiLCJjaGFuZ2VQcm9ibGVtU3RhdHVzIiwiZ2V0TWVhc3VyZVJvb21JdGVtRGV0YWlsQnlJZGVudGl0aWVzIiwiaXRlbUlkIiwiZ2V0TWVhc3VyZVJvb21JdGVtRGV0YWlsQnlJZGVudGl0eSIsImdldE1lYXN1cmVOZXdSb29tSXRlbVByb2JsZW0iLCJnZXRNZWFzdXJlRmxvb3JEZXRhaWxCeUlkZW50aXR5IiwiZ2V0TWVhc3VyZU5ld0Zsb29yUHJvYmxlbSIsImdldE1lYXN1cmVGbG9vckRldGFpbEJ5SWRlbnRpdHlzIiwiaW5wdXQiLCJwcm9ibGVtX3ZhbHVlc196aXAiLCJ1bnppcFN0cmluZyIsInN0ciIsImdldE1lYXN1cmVJbnNwZWN0QmF0Y2hSb29tU3RhdHVzIiwiZ2V0TWVhc3VyZUluc3BlY3RTdGF0aXN0aWNhbERhdGEiLCJ0b3BDaGVja0l0ZW0iLCJsZWFmQ2hlY2tJdGVtIiwibXAiLCJwcCIsIm8iLCJyZXBsYWNlIiwiY2hpbGRyZW4iLCJtX3BvaW50cyIsInBfcG9pbnRzIiwic2luZ2xlSXRlbVJvb21Ub3RhbCIsInNpbmdsZVJvb21Ub3RhbCIsImhhbmRlZERhdGEiLCJ2YWx1ZSIsImV4dGVuZCIsInVuaXF1ZU1lYXN1cmVQcm9ibGVtIiwibG9nIiwidW5pcXVlTWVhc3VyZUZsb29yUHJvYmxlbSIsInVuaXF1ZU1lYXN1cmVGbG9vclVuaXRQcm9ibGVtIiwicmVtb3ZlRHVwbGljYXRlZE1lYXN1cmVOZXciLCJnZXREdXBsaWNhdGVkTWVhc3VyZSIsInJlbW92ZUNoZWNraW5nTWVhc3VyZSIsImRlbGV0ZUJhdGNoUHJvYmxlbXMiLCJyb29tc0lkIiwiZ2V0TWVhc3VyZUNoZWNraXRlbVJlYWxQcm9jZXNzTW9kZSIsImdldE9uZU1lYXN1cmVCeUJ1aWxkaW5nQW5kSXRlbSIsIkNoZWNrSXRlbVJlcG9zaXRvcnkiLCJnZXRDaGVja0l0ZW0iLCJpdGVtRGF0YSIsImJpekRhdGEiLCJjdXJVc2VySWQiLCJzZXRMb2NhbENoYW5nZWQiLCJUb2RvU2VydmljZSIsInNhdmVUb2RvIiwiYml6X2lkIiwibW9kdWxlX2NvZGUiLCJoYXNWYWwiLCJ2YWwiLCJnZXRBcmVhRGF0YUZyb21Qb2ludHMiLCJhcmVhRGF0YSIsInBvaW50IiwiYXJlYSIsImxlbiIsInNldFZhbCIsImdldERyYXdQb2ludHMiLCJkZXRhaWxEYXRhIiwiY3VySW5kZXgiLCJkcmF3UG9pbnRzIiwicEluZGV4IiwiaXNRdWFsaWZpZWQiLCJpc0V4Y2VlZCIsImlzV2FybmluZyIsImFyZWFQb2ludHMiLCJoYXNFeGNlZWQiLCJoYXNXYXJuaW5nIiwieCIsInkiLCJwb2ludElkIiwiY29uc29sZSIsInVuZGVmaW5lZCIsImNvbG9yIiwiZ2V0UHJvYmxlbUFyZWFEYXRhIiwiYWRkUG9pbnQiLCJuZXdQb2ludCIsImFsbEluZGV4IiwidGVzdCIsInN1YnN0ciIsIm1heEluZGV4IiwibWF4QnkiLCJJbmZpbml0eSIsImdpIiwibGFiZWwiLCJraSIsImRlbFBvaW50Iiwic3BsaWNlIiwicG9pbnRzSGFuZGxlIiwicG9pbnRzR3JvdXAiLCJtaW4iLCJwYXJzZUZsb2F0IiwiaGFzRGlhZ3JhbSIsIm1hdGhWYWwiLCJzaG93TWFyayIsImhhc01hcmsiLCJncm91cCIsImV4Y2VlZFR5cGUiLCJoYXNJc0V4Y2VlZCIsIm1heFBvaW50IiwibWluUG9pbnQiLCJtaW5CeSIsIm1heFZhbCIsIm1pblZhbCIsImxpbWl0RGlmZiIsImFicyIsInByb2JsZW1IYW5kbGUiLCJleGNlZWRzIiwidmFsaWRQb2ludCIsIm51bVJhdGlvIiwiaXNGaWN0IiwiaW5wdXRDb21wbGV0ZSIsInBhc3NyYXRlIiwiX3RhYmxlTmFtZSIsImxvY2FsREIiLCJxdWVyeSIsInNxbEZpbHRlclVuaXQiLCJzcWxGaWx0ZXJDaGVja0l0ZW1zIiwic3FsIiwiaW5zZXJ0T2JqZWN0IiwiY2Nfc2V0IiwicmVwYWlyX3NldCIsInJlaW5zcGVjdF9zZXQiLCJtb2RpZmllZF9ieSIsInNhdmVQcm9ibGVtUmVwYWlyIiwiQ2hlY2tRdWFsaXR5UHJvYmxlbVJlaW5zcGVjdFJlcG9zaXRvcnkiLCJzYXZlUHJvYmxlbVJlaW5zcGVjdCIsInF1ZXJ5T25lIiwicHMiLCJleGVjdXRlU3FsIiwiaGFzQWNjZXB0Q2hlY2tJdGVtcyIsInBhcmFtcyIsImlzU2VjdGlvbkhhc0NoZWNrSXRlbSIsInNlY3Rpb25JZHMiLCJjaGVja2l0ZW1JZCIsInVuaXF1ZU1lYXN1cmVCdWlsZGluZ1Byb2JsZW0iLCJBcnJheSIsImJpZHNlY3Rpb25JZCIsImdldFJvb21BbGxQcm9ibGVtcyJdLCJtYXBwaW5ncyI6InFOQW9CSUEsRSxvT0FLV0EsTUFBUSxDQUVyQkMsYUFBYyxHQUtkQyxLQUFNLFNBQVNDLEVBQWFDLEdBTTFCQSxFQUFTQSxHQUFVRCxFQUFZQyxPQUMvQixJQUFJ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RzdELE9BQU9vVSxJQUFRZSxXQURMLGtHQUNxQixDQUFDclYsRUFBU0MsRUFBYUMsRUFBUVMsS0FHbEV1TywwQkFBMkIsU0FBU2xQLEVBQVNrSSxFQUFZL0wsRUFBT3VaLEVBQWEvVSxHQUV6RSxPQUFPMlQsSUFBUWUsV0FETCxvSEFDcUIsQ0FBQ3JWLEVBQVNrSSxFQUFZL0wsRUFBT3VaLEVBQWEvVSxLQUc3RXdPLDhCQUErQixTQUFTblAsRUFBU2tJLEVBQVk3SyxFQUFNbEIsRUFBT3VaLEVBQWEvVSxHQUVuRixPQUFPMlQsSUFBUWUsV0FETCxpSUFDcUIsQ0FBQ3JWLEVBQVNrSSxFQUFZN0ssRUFBTWxCLEVBQU91WixFQUFhL1UsS0FHbkZnViw2QkFBOEIsU0FBUzNWLEVBQVNrSSxFQUFZd04sR0FFeEQsT0FBT3BCLElBQVFlLFdBREwsMEZBQ3FCLENBQUNyVixFQUFTa0ksRUFBWXdOLEtBS3pEbkcsb0JBQXFCLFNBQVN2UCxFQUFTd1AsR0FDbkMsSUFDSWtGLEVBQU0sdUVBRE0sSUFBSWtCLE1BQU1wRyxFQUFRckssT0FBTyxHQUFHcUMsS0FBSyxNQUFNd0IsTUFBTSxHQUFJLEdBQzBCLElBQzNGLE9BQU9zTCxJQUFRZSxXQUFXWCxFQUFLLENBQUMxVSxHQUFTb0MsT0FBT29OLEtBTXBEOUMsZ0NBQWlDLFNBQVNtSixFQUFjM04sR0FpQnBELE9BQU9vTSxJQUFRQyxNQWhCTCwyaENBZ0JnQixDQUFDc0IsRUFBYzNOLEtBSzdDd0gsK0JBQWdDLFNBQVN4SCxFQUFZb0YsR0FFakQsT0FBT2dILElBQVFhLFNBREwsMkVBQ21CLENBQUNqTixFQUFZb0YsS0FJOUN3SSxtQkFBb0IsU0FBUzlWLEVBQVNFLEdBS2xDLE9BQU9vVSxJQUFRQyxNQUpMLCtOQUlnQixDQUFDdlUsRUFBU0UsTUFJakNqRixRIiwiZmlsZSI6ImpzL2NodW5rLTVlYzQ0NDZhLmpzP3YxNjA4NzE0NDUxMTk1Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICRxIGZyb20gJ0BzdGF0aWMvbGliL3Byb21pc2UnO1xuaW1wb3J0IGNvbnRleHQgZnJvbSAnQHNyYy9mcmFtZXdvcmsvY29udGV4dCc7XG5pbXBvcnQgVXRpbHMgZnJvbSAnQHNyYy91dGlscy9pbmRleCc7XG5pbXBvcnQgQmF0Y2hTZXJ2aWNlIGZyb20gJ0BzcmMvc2VydmljZS9jb21tb24vYmF0Y2gtc2VydmljZSc7XG5pbXBvcnQgQnVpbGRpbmdTZXJ2aWNlIGZyb20gJ0BzcmMvc2VydmljZS9jb21tb24vYnVpbGRpbmctc2VydmljZSc7XG5pbXBvcnQgTWVhc3VyZUluc3BlY3RSZXBvc2l0b3J5IGZyb20gJ0BzcmMvcmVwb3NpdG9yaWVzL21lYXN1cmUtaW5zcGVjdC1yZXBvc2l0b3J5JztcbmltcG9ydCBEYXRhU3luY2hyb25pemVyIGZyb20gJ0BzcmMvc2VydmljZS9jb21tb24vZGF0YS1zeW5jaHJvbml6ZXInO1xuaW1wb3J0IENvbW1vbkNoZWNrSXRlbVNlcnZpY2UgZnJvbSAnQHNyYy9zZXJ2aWNlL2NvbW1vbi9jaGVjay1pdGVtLXNlcnZpY2UnO1xuaW1wb3J0IENoZWNrUXVhbGl0eVByb2JsZW1GcEluZm9SZXBvc2l0b3J5IGZyb20gJ0BzcmMvcmVwb3NpdG9yaWVzL2NoZWNrLXF1YWxpdHktcHJvYmxlbS1mcGluZm8tcmVwb3NpdG9yeSc7XG5pbXBvcnQgQ2hlY2tRdWFsaXR5UHJvYmxlbUNDUmVwb3NpdG9yeSBmcm9tICdAc3JjL3JlcG9zaXRvcmllcy9jaGVjay1xdWFsaXR5LXByb2JsZW0tY2MtcmVwb3NpdG9yeSc7XG5pbXBvcnQgQ2hlY2tRdWFsaXR5UHJvYmxlbVJlcGFpclJlcG9zaXRvcnkgZnJvbSAnQHNyYy9yZXBvc2l0b3JpZXMvY2hlY2stcXVhbGl0eS1wcm9ibGVtLXJlcGFpci1yZXBvc2l0b3J5JztcbmltcG9ydCBCYXRjaFJlcG9zaXRvcnkgZnJvbSAnQHNyYy9yZXBvc2l0b3JpZXMvYmF0Y2gtcmVwb3NpdG9yeSc7XG5pbXBvcnQgQmlkU2VjdGlvbkNoZWNrSXRlbVJlcG9zaXRvcnkgZnJvbSAnQHNyYy9yZXBvc2l0b3JpZXMvYmlkc2VjdGlvbi1jaGVjay1pdGVtLXJlcG9zaXRvcnknO1xuaW1wb3J0IEhvbWVQYWdlUmVwb3NpdG9yeSBmcm9tICdAc3JjL3JlcG9zaXRvcmllcy9ob21lLXBhZ2UtcmVwb3NpdG9yeSc7XG5pbXBvcnQgbG9jYWxTdG9yYWdlIGZyb20gJ0BzcmMvZnJhbWV3b3JrL2xvY2FsU3RvcmFnZSc7XG5pbXBvcnQgQ29tbW9uQmFzZWRhdGFTZXJ2aWNlIGZyb20gJ0BzcmMvc2VydmljZS9jb21tb24vY29tbW9uLWJhc2VkYXRhLXNlcnZpY2UnO1xuaW1wb3J0IENoZWNrSXRlbVJlcG9zaXRvcnkgZnJvbSAnQHNyYy9yZXBvc2l0b3JpZXMvY2hlY2staXRlbS1yZXBvc2l0b3J5JztcbmltcG9ydCBUb2RvU2VydmljZSBmcm9tICdAc3JjL3NlcnZpY2UvdG9kby90b2RvLXNlcnZpY2UnO1xuaW1wb3J0IHsgdG9Kc29uIH0gZnJvbSAnQHNyYy9jb21tb24vZGF0YS1oYW5kbGUnO1xuXG52YXIgX3NlbGY7XG5cbi8qKlxuICog5pyN5Yqh5YWs5byA55qE5a+56LGhXFzmlrnms5VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgX3NlbGYgPSB7XG4gIC8vIOWunua1i+WunumHj+aIv+mXtOe8k+WtmFxuICBtZWFzdXJlUm9vbXM6IFtdLFxuICAvKipcbiAgICog5L+d5a2YXG4gICAqIEBwYXJhbSBwcm9ibGVtRGF0YVxuICAgKi9cbiAgc2F2ZTogZnVuY3Rpb24ocHJvYmxlbURhdGEsIHN0YXR1cykge1xuICAgIC8qIGlmICggcHJvYmxlbURhdGEuc3RhdHVzICE9PSAn5qOA5p+l5LitJyApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdCgn5peg5pWI55qE6Zeu6aKY54q25oCBJyk7XG4gICAgICAgICAgICB9ICovXG5cbiAgICBzdGF0dXMgPSBzdGF0dXMgfHwgcHJvYmxlbURhdGEuc3RhdHVzO1xuICAgIHZhciByZWFsaXR5VmFsID1cbiAgICAgIHByb2JsZW1EYXRhLmVudHJ5X3JlcXVpcmVtZW50cyA9PT0gMSA/IHByb2JsZW1EYXRhLmV4Y2VlZFZhbCA6IHByb2JsZW1EYXRhLnJlYWxpdHlWYWw7XG5cbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIGlkOiBwcm9ibGVtRGF0YS5pZCxcbiAgICAgIHByb2pfaWQ6IHByb2JsZW1EYXRhLnByb2pfaWQsXG4gICAgICBiaWRzZWN0aW9uX2lkOiBwcm9ibGVtRGF0YS5iaWRzZWN0aW9uX2lkLFxuICAgICAgYmF0Y2hfaWQ6IHByb2JsZW1EYXRhLmJhdGNoX2lkLFxuICAgICAgYmF0Y2hfdHlwZTogcHJvYmxlbURhdGEuYmF0Y2hfdHlwZSB8fCAn5a6e5rWL5a6e6YePKOaWsCknLFxuICAgICAgaXRlbV9pZDogcHJvYmxlbURhdGEuY2hlY2tJdGVtLmlkLFxuICAgICAgYnVpbGRpbmdfaWQ6IHByb2JsZW1EYXRhLnJvb21EYXRhLmJ1aWxkaW5nX2lkLFxuICAgICAgZmxvb3I6IHByb2JsZW1EYXRhLnJvb21EYXRhLmZsb29yIHx8ICcnLFxuICAgICAgcm9vbV9pZDogcHJvYmxlbURhdGEucm9vbURhdGEuaWQsXG4gICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgIHBhcmVudF9pZDogcHJvYmxlbURhdGEucGFyZW50X2lkIHx8IG51bGwsXG4gICAgICByZWdpc3RfYnk6IHByb2JsZW1EYXRhLnJlZ2lzdF9ieSxcbiAgICAgIHJlZ2lzdF9kYXRlOiBwcm9ibGVtRGF0YS5yZWdpc3RfZGF0ZSxcbiAgICAgIG1lYXN1cmVtZW50X3BvaW50czogcGFyc2VJbnQocHJvYmxlbURhdGEucG9pbnROdW0pLFxuICAgICAgcHJvYmxlbV9wb2ludHM6IHBhcnNlSW50KHByb2JsZW1EYXRhLmV4Y2VlZE51bSksXG4gICAgICBwcm9ibGVtX3ZhbHVlczogdG9Kc29uKHJlYWxpdHlWYWwpLFxuICAgICAgaW1hZ2VfZmlsZTogdG9Kc29uKHByb2JsZW1EYXRhLmltZyksXG4gICAgICByZW1hcms6IHByb2JsZW1EYXRhLnJlbWFyayB8fCAnJyxcbiAgICAgIHN0YW5kYXJkX21pbjogcHJvYmxlbURhdGEuc3RhbmRhcmRfbWluLFxuICAgICAgc3RhbmRhcmRfbWF4OiBwcm9ibGVtRGF0YS5zdGFuZGFyZF9tYXgsXG4gICAgICBwYXNzcmF0ZV9tb2RlOiBwcm9ibGVtRGF0YS5wYXNzcmF0ZV9tb2RlLFxuICAgICAgZW50cnlfcmVxdWlyZW1lbnRzOiBwcm9ibGVtRGF0YS5lbnRyeV9yZXF1aXJlbWVudHMsXG4gICAgICB1bml0OiBwcm9ibGVtRGF0YS51bml0LFxuICAgICAgZW1lcmdlbmN5X2RlZ3JlZTogcHJvYmxlbURhdGEuZW1lcmdlbmN5X2RlZ3JlZSB8fCAn5LiA6IisJyxcbiAgICAgIHByb2Nlc3NfbW9kZTogcHJvYmxlbURhdGEucHJvY2Vzc19tb2RlIHx8IDEsXG4gICAgfTtcblxuICAgIGlmICghXy5pc0VtcHR5KHByb2JsZW1EYXRhLmRyYXdpbmdfZmlsZSkpIHtcbiAgICAgIGlmIChfLmlzQXJyYXkocHJvYmxlbURhdGEuZHJhd2luZ19maWxlKSkge1xuICAgICAgICBkYXRhLmRyYXdpbmdfZmlsZSA9IHRvSnNvbihwcm9ibGVtRGF0YS5kcmF3aW5nX2ZpbGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YS5kcmF3aW5nX2ZpbGUgPSB0b0pzb24oW3Byb2JsZW1EYXRhLmRyYXdpbmdfZmlsZV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAkcVxuICAgICAgLndoZW4oKVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghZGF0YS5pZCkge1xuICAgICAgICAgIGRhdGEuaWQgPSBVdGlscy51dWlkKCk7XG4gICAgICAgICAgZGF0YS5jcmVhdGVkX29uID0gVXRpbHMubm93KCk7XG4gICAgICAgICAgZGF0YS5jcmVhdGVkX2J5ID0gY29udGV4dC5nZXRVc2VyKCkudXNlcl9pZDtcbiAgICAgICAgICByZXR1cm4gTWVhc3VyZUluc3BlY3RSZXBvc2l0b3J5Lmluc2VydChkYXRhKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcHJvYmxlbURhdGEuaWQgPSBkYXRhLmlkO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBNZWFzdXJlSW5zcGVjdFJlcG9zaXRvcnkudXBkYXRlKGRhdGEsIFtdLCBwcm9ibGVtRGF0YS5yZXBhaXIpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gX3NlbGYuYWRkVG9kbyhkYXRhLCBwcm9ibGVtRGF0YS5yZXBhaXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIOS/neWtmOaKhOmAgeS6ulxuICAgICAgICByZXR1cm4gX3NlbGYuYXBwZW5kVG9DQyhkYXRhLmlkLCAn6KKr5oqE6YCBJywgcHJvYmxlbURhdGEuY2MpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJHEucmVzb2x2ZShkYXRhLmlkKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgJGxvZy5lcnJvcihlcnJvcik7XG4gICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyb3IpO1xuICAgICAgfSk7XG4gIH0sXG5cbiAgYXBwZW5kVG9DQzogZnVuY3Rpb24oaWQsIHR5cGUsIHVzZXJzKSB7XG4gICAgcmV0dXJuIENoZWNrUXVhbGl0eVByb2JsZW1DQ1JlcG9zaXRvcnkuZ2V0UHJvYmxlbUNDQWxsQ29sdW1uKGlkKS50aGVuKGZ1bmN0aW9uKGNjX2xpc3QpIHtcbiAgICAgIHJldHVybiAkcVxuICAgICAgICAuYWxsKFxuICAgICAgICAgIF8ubWFwKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgICAgICAvLyDlsIblvZPliY3kurrliqDlhaXmioTpgIHkurrpm4blkIhcbiAgICAgICAgICAgIC8vIOWmguaenOaKhOmAgeS6uumbhuWQiOW3sue7j+WMheWQq+mXrumimOeahOeZu+iusOS6uu+8jOWImeS4jeWGjemHjeWkjea3u+WKoFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAhXy5zb21lKGNjX2xpc3QsIGZ1bmN0aW9uKGNjKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNjLmNjID09PSB1c2VyLmlkICYmIGNjLnR5cGUgPT09IHR5cGU7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdmFyIGNjID0ge1xuICAgICAgICAgICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIC8vIHJlYWRpbmdfdGltZTogVXRpbHMuZ2V0Tm93RGF0ZSgpIC8vIOaWsOWKoOWFpeeahOW6lOivpeaYr+acquivu+eKtuaAgVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gQ2hlY2tRdWFsaXR5UHJvYmxlbUNDUmVwb3NpdG9yeS5hcHBlbmRDQyhpZCwgY2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy8g5pu05paw5b2T5YmN5Lq66ZiF6K+75pe26Ze0XG4gICAgICAgICAgcmV0dXJuIENoZWNrUXVhbGl0eVByb2JsZW1DQ1JlcG9zaXRvcnkudXBkYXRlUHJvYmxlbVJlYWRpbmdUaW1lKGlkKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIOiOt+WPluaMh+WumuaJueasoeajgOafpemhueeahOWunua1i+WunumHj+mXrumimOWvueixoVxuICAgKiBAcGFyYW0gYmF0Y2hJZFxuICAgKiBAcGFyYW0gY2hlY2tJdGVtSWRcbiAgICogQHBhcmFtIHJvb21JZFxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIGdldE1lYXN1cmVQcm9ibGVtOiBmdW5jdGlvbihiYXRjaElkLCBjaGVja0l0ZW1JZCwgcm9vbUlkKSB7XG4gICAgcmV0dXJuIE1lYXN1cmVJbnNwZWN0UmVwb3NpdG9yeS5nZXRNZWFzdXJlUHJvYmxlbShiYXRjaElkLCBjaGVja0l0ZW1JZCwgcm9vbUlkKVxuICAgICAgLnRoZW4oZnVuY3Rpb24ocHJvYmxlbSkge1xuICAgICAgICByZXR1cm4gX3NlbGYudW56aXBQcm9ibGVtVmFsdWVzKHByb2JsZW0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKHAgPT4ge1xuICAgICAgICBpZiAocCkge1xuICAgICAgICAgIHJldHVybiBNZWFzdXJlSW5zcGVjdFJlcG9zaXRvcnkuZ2V0UHJvYmxlbVJlcGFpcnMocC5pZCkudGhlbihyZXBhaXJzID0+IHtcbiAgICAgICAgICAgIGlmICghXy5pc0VtcHR5KHJlcGFpcnMpKSB7XG4gICAgICAgICAgICAgIHAucmVwYWlyID0gcmVwYWlyc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24ocCkge1xuICAgICAgICBpZiAocCkge1xuICAgICAgICAgIHJldHVybiBDaGVja1F1YWxpdHlQcm9ibGVtQ0NSZXBvc2l0b3J5LmdldENDKHAuaWQpLnRoZW4oZnVuY3Rpb24oY2NMaXN0KSB7XG4gICAgICAgICAgICBwLmNjID0gY2NMaXN0O1xuXG4gICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIOiOt+WPluWunua1i+WunumHj+mXrumimOWvueixoVxuICAgKiBAcGFyYW0gcHJvYmxlbUlkXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZ2V0TWVhc3VyZVByb2JsZW1CeUlkOiBmdW5jdGlvbihwcm9ibGVtSWQpIHtcbiAgICByZXR1cm4gTWVhc3VyZUluc3BlY3RSZXBvc2l0b3J5LmdldE1lYXN1cmVQcm9ibGVtQnlJZChwcm9ibGVtSWQpXG4gICAgICAudGhlbihmdW5jdGlvbihwcm9ibGVtKSB7XG4gICAgICAgIHJldHVybiBfc2VsZi51bnppcFByb2JsZW1WYWx1ZXMocHJvYmxlbSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24ocCkge1xuICAgICAgICBpZiAocCkge1xuICAgICAgICAgIHJldHVybiBDaGVja1F1YWxpdHlQcm9ibGVtQ0NSZXBvc2l0b3J5LmdldENDKHAuaWQpLnRoZW4oZnVuY3Rpb24oY2NMaXN0KSB7XG4gICAgICAgICAgICBwLmNjID0gY2NMaXN0O1xuXG4gICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH0sXG5cbiAgZ2V0TWVhc3VyZVByb2JsZW1zQnlTdGF0dXM6IGZ1bmN0aW9uKGJhdGNoSWQsIHN0YXR1cykge1xuICAgIHJldHVybiBNZWFzdXJlSW5zcGVjdFJlcG9zaXRvcnkuZ2V0TWVhc3VyZVByb2JsZW1zQnlTdGF0dXMoYmF0Y2hJZCwgc3RhdHVzKS50aGVuKGZ1bmN0aW9uKFxuICAgICAgcHJvYmxlbXNcbiAgICApIHtcbiAgICAgIHJldHVybiBfc2VsZi51bnppcFByb2JsZW1WYWx1ZXMocHJvYmxlbXMpO1xuICAgIH0pO1xuICB9LFxuXG4gIGdldE1lYXN1cmVQcm9ibGVtc0J5Um9vbTogZnVuY3Rpb24oYmF0Y2hJZCwgcm9vbUlkcykge1xuICAgIHJldHVybiBNZWFzdXJlSW5zcGVjdFJlcG9zaXRvcnkuZ2V0TWVhc3VyZVByb2JsZW1zQnlSb29tKGJhdGNoSWQsIHJvb21JZHMpLnRoZW4oZnVuY3Rpb24oXG4gICAgICBwcm9ibGVtc1xuICAgICkge1xuICAgICAgcmV0dXJuIF9zZWxmLnVuemlwUHJvYmxlbVZhbHVlcyhwcm9ibGVtcyk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIOajgOafpeWujOavlSAmIOe7p+e7reajgOafpVxuICAgKi9cbiAgLyog6YCC55So5LqO5a6e5rWL5a6e6YeP77yI5pen77yJXG4gICAgICAgIHVwZGF0ZUNoZWNrU3RhdHVzOiBmdW5jdGlvbihtb2RlbCwgbmV3U3RhdHVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobmV3U3RhdHVzICE9ICd2aWV3JyAmJiBuZXdTdGF0dXMgIT0gJ2VkaXQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoJ+aXoOaViOeahOeKtuaAge+8micgKyBuZXdTdGF0dXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vZGVsLm1vZGUgIT0gJ3ZpZXcnICYmIG1vZGVsLm1vZGUgIT0gJ2VkaXQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoJ+aXoOaViOeahOaIv+mXtOmXrumimOeKtuaAge+8micgKyBtb2RlbC5tb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdTdGF0dXMgPT0gbW9kZWwubW9kZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KCfpl67popjnirbmgIHlt7Lnu4/ov4fmnJ8nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbW9kZWwubW9kZSA9IG5ld1N0YXR1cztcbiAgICAgICAgICAgIHJldHVybiBfc2VsZi5zYXZlKG1vZGVsKS50aGVuKGZ1bmN0aW9uKClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAobmV3U3RhdHVzID09ICd2aWV3JylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIOWKoOWFpeW+heS4iuS8oOmYn+WIl1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGF0YVN5bmNocm9uaXplci5hZGRTeW5jR3JvdXAoW1xuICAgICAgICAgICAgICAgICAgICAgICAgWydjaGVja3F1YWxpdHlfcHJvYmxlbScsIG1vZGVsLnByb2JsZW1EYXRhLmlkXSxcbiAgICAgICAgICAgICAgICAgICAgXSkudGhlbihmdW5jdGlvbiAoKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWwucHJvYmxlbURhdGEuaWQ7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZXNvbHZlKG1vZGVsLnByb2JsZW1EYXRhLmlkKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICRsb2cuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sICovXG5cbiAgLyoqXG4gICAqIOaPkOS6pOWNleaIv+aVtOaUueajgOafpeiusOW9lVxuICAgKiBAcGFyYW0gcHJvYmxlbURhdGFcbiAgICovXG4gIHN1Ym1pdFNpbmdsZUNoZWNrOiBmdW5jdGlvbihwcm9ibGVtRGF0YSkge1xuICAgIGlmIChwcm9ibGVtRGF0YS5zdGF0dXMgJiYgcHJvYmxlbURhdGEuc3RhdHVzICE9PSAn5qOA5p+l5LitJykge1xuICAgICAgcmV0dXJuICRxLnJlamVjdCgn6ZSZ6K+v55qE54q25oCBJyk7XG4gICAgfVxuXG4gICAgbGV0IHN0YXR1cztcblxuICAgIGlmIChwcm9ibGVtRGF0YS5uZWVkUmVwYWlyKSB7XG4gICAgICBpZiAoXy5pc0VtcHR5KHByb2JsZW1EYXRhLnJlcGFpcikpIHtcbiAgICAgICAgcmV0dXJuICRxLnJlamVjdCgn6K+36YCJ5oup5pW05pS55Lq6Jyk7XG4gICAgICB9XG4gICAgICBzdGF0dXMgPSAn5b6F5pW05pS5JztcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdHVzID0gJ+ajgOafpeWujOavlSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9zZWxmXG4gICAgICAuc2F2ZShwcm9ibGVtRGF0YSwgc3RhdHVzKVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChwcm9ibGVtRGF0YS5uZWVkUmVwYWlyKSB7XG4gICAgICAgICAgcmV0dXJuIF9zZWxmLmNoYW5nZVNpbmdsZVJvb21SZXBhaXIocHJvYmxlbURhdGEsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyDlsIblvZPliY3kurrliqDlhaXmioTpgIHkurrpm4blkIhcbiAgICAgICAgICB2YXIgY3VycmVudFVzZXIgPSBjb250ZXh0LmdldFVzZXIoKTtcbiAgICAgICAgICByZXR1cm4gX3NlbGYuYXBwZW5kVG9DQyhwcm9ibGVtRGF0YS5pZCwgJ+aTjeS9nOS6uicsIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IGN1cnJlbnRVc2VyLnVzZXJfaWQsXG4gICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRVc2VyLnVzZXJfbmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgLy8g6KKr5oqE6YCB5Lq6XG4gICAgICAgIHJldHVybiBfc2VsZi5jaGFuZ2VDQyhwcm9ibGVtRGF0YSwgZmFsc2UpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICBwcm9ibGVtRGF0YS5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIGlmIChwcm9ibGVtRGF0YS5uZWVkUmVwYWlyKSB7XG4gICAgICAgICAgRGF0YVN5bmNocm9uaXplci5hZGRTeW5jR3JvdXAoW1xuICAgICAgICAgICAgWydjaGVja3F1YWxpdHlfcHJvYmxlbScsIHByb2JsZW1EYXRhLmlkXSxcbiAgICAgICAgICAgIFsnY2hlY2txdWFsaXR5X3JlcGFpcicsIHByb2JsZW1EYXRhLmlkXSxcbiAgICAgICAgICAgIFsnY2hlY2txdWFsaXR5X2NjJywgcHJvYmxlbURhdGEuaWRdLFxuICAgICAgICAgIF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIERhdGFTeW5jaHJvbml6ZXIuYWRkU3luY0dyb3VwKFtcbiAgICAgICAgICAgIFsnY2hlY2txdWFsaXR5X3Byb2JsZW0nLCBwcm9ibGVtRGF0YS5pZF0sXG4gICAgICAgICAgICBbJ2NoZWNrcXVhbGl0eV9jYycsIHByb2JsZW1EYXRhLmlkXSxcbiAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJHEucmVzb2x2ZShwcm9ibGVtRGF0YS5pZCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICRsb2cuZXJyb3IoZXJyb3IpO1xuICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycm9yKTtcbiAgICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiDloavplJnkuobvvIzmlLnlgLxcbiAgICogQHBhcmFtIHByb2JsZW1EYXRhXG4gICAqL1xuICByZXN1Ym1pdFNpbmdsZUNoZWNrOiBmdW5jdGlvbihwcm9ibGVtRGF0YSkge1xuICAgIHJldHVybiBfc2VsZlxuICAgICAgLnNhdmUocHJvYmxlbURhdGEsIHByb2JsZW1EYXRhLnN0YXR1cylcbiAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAocHJvYmxlbURhdGEucmVwYWlyX2hhc0NoYW5nZWQpIHtcbiAgICAgICAgICByZXR1cm4gX3NlbGYuY2hhbmdlU2luZ2xlUm9vbVJlcGFpcihwcm9ibGVtRGF0YSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjdXJyZW50VXNlciA9IGNvbnRleHQuZ2V0VXNlcigpO1xuICAgICAgICByZXR1cm4gX3NlbGYuYXBwZW5kVG9DQyhwcm9ibGVtRGF0YS5pZCwgJ+aTjeS9nOS6uicsIFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogY3VycmVudFVzZXIudXNlcl9pZCxcbiAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRVc2VyLnVzZXJfbmFtZSxcbiAgICAgICAgICB9LFxuICAgICAgICBdKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgLy8g6KKr5oqE6YCB5Lq6XG4gICAgICAgIHJldHVybiBfc2VsZi5jaGFuZ2VDQyhwcm9ibGVtRGF0YSwgZmFsc2UpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICBEYXRhU3luY2hyb25pemVyLmFkZFN5bmNHcm91cChbXG4gICAgICAgICAgWydjaGVja3F1YWxpdHlfcHJvYmxlbScsIHByb2JsZW1EYXRhLmlkXSxcbiAgICAgICAgICBbJ2NoZWNrcXVhbGl0eV9yZXBhaXInLCBwcm9ibGVtRGF0YS5pZF0sXG4gICAgICAgICAgWydjaGVja3F1YWxpdHlfY2MnLCBwcm9ibGVtRGF0YS5pZF0sXG4gICAgICAgIF0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAkbG9nLmVycm9yKGVycm9yKTtcbiAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnJvcik7XG4gICAgICB9KTtcbiAgfSxcblxuICBzdWJtaXRTaW5nbGVSZXBhaXI6IGZ1bmN0aW9uKHByb2JsZW1EYXRhKSB7XG4gICAgaWYgKHByb2JsZW1EYXRhLnN0YXR1cyAhPT0gJ+W+heaVtOaUuScpIHtcbiAgICAgIHJldHVybiAkcS5yZWplY3QoJ+mUmeivr+eahOeKtuaAgScpO1xuICAgIH1cblxuICAgIHJldHVybiBNZWFzdXJlSW5zcGVjdFJlcG9zaXRvcnkudXBkYXRlUHJvYmxlbShwcm9ibGVtRGF0YS5pZCwge1xuICAgICAgc3RhdHVzOiAn5bey5pW05pS5JyxcbiAgICAgIHJlcGFpcl9ieTogY29udGV4dC5nZXRVc2VyKCkudXNlcl9pZCxcbiAgICAgIHJlcGFpcl9yZW1hcms6IHByb2JsZW1EYXRhLnJlcGFpcl9yZW1hcmssXG4gICAgICByZXBhaXJfZGF0ZTogVXRpbHMubm93KCksXG4gICAgICByZXBhaXJfaW1hZ2VfZmlsZTogdG9Kc29uKHByb2JsZW1EYXRhLnJlcGFpcl9pbWcpLFxuICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgLy8g5bCG5b2T5YmN5Lq65Yqg5YWl5oqE6YCB5Lq66ZuG5ZCIXG4gICAgICAgIHZhciBjdXJyZW50VXNlciA9IGNvbnRleHQuZ2V0VXNlcigpO1xuICAgICAgICByZXR1cm4gX3NlbGYuYXBwZW5kVG9DQyhwcm9ibGVtRGF0YS5pZCwgJ+aTjeS9nOS6uicsIFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogY3VycmVudFVzZXIudXNlcl9pZCxcbiAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRVc2VyLnVzZXJfbmFtZSxcbiAgICAgICAgICB9LFxuICAgICAgICBdKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgLy8g6KKr5oqE6YCB5Lq6XG4gICAgICAgIHJldHVybiBfc2VsZi5jaGFuZ2VDQyhwcm9ibGVtRGF0YSwgZmFsc2UpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gRGF0YVN5bmNocm9uaXplci5hZGRTeW5jR3JvdXAoW1xuICAgICAgICAgIFsnY2hlY2txdWFsaXR5X3Byb2JsZW0nLCBwcm9ibGVtRGF0YS5pZF0sXG4gICAgICAgICAgWydjaGVja3F1YWxpdHlfY2MnLCBwcm9ibGVtRGF0YS5pZF0sXG4gICAgICAgIF0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gX3NlbGYuYWRkVG9kbyhwcm9ibGVtRGF0YSwgW10pO1xuICAgICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIOabtOaUueaKhOmAgeS6ulxuICAgKi9cbiAgY2hhbmdlQ0M6IGZ1bmN0aW9uKHByb2JsZW1EYXRhLCBkb1VwbG9hZCkge1xuICAgIHJldHVybiBCYXRjaFNlcnZpY2UuZ2V0QmF0Y2hDQ3MocHJvYmxlbURhdGEuYmF0Y2hfaWQpXG4gICAgICAudGhlbihmdW5jdGlvbih1c2Vycykge1xuICAgICAgICAvLyDmibnmrKHmioTpgIHkurrlhajpg6jliqDlhaXliLDooqvmioTpgIHmioTpgIHkurrliJfooahcbiAgICAgICAgdXNlcnMgPSBfLm1hcCh1c2VycywgZnVuY3Rpb24odXNlcikge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogdXNlci51c2VyX2lkLFxuICAgICAgICAgICAgbmFtZTogdXNlci51c2VyX25hbWUsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghXy5pc0VtcHR5KHByb2JsZW1EYXRhLmNjKSkge1xuICAgICAgICAgIHVzZXJzID0gdXNlcnMuY29uY2F0KHByb2JsZW1EYXRhLmNjKTtcbiAgICAgICAgICB1c2VycyA9IF8udW5pcUJ5KHVzZXJzLCBfLnByb3BlcnR5KCdpZCcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBDaGVja1F1YWxpdHlQcm9ibGVtQ0NSZXBvc2l0b3J5LnNhdmVQcm9ibGVtQ0MocHJvYmxlbURhdGEuaWQsIHVzZXJzKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGRvVXBsb2FkKSB7XG4gICAgICAgICAgRGF0YVN5bmNocm9uaXplci5hZGRTeW5jR3JvdXAoW1xuICAgICAgICAgICAgWydjaGVja3F1YWxpdHlfcHJvYmxlbScsIHByb2JsZW1EYXRhLmlkXSxcbiAgICAgICAgICAgIFsnY2hlY2txdWFsaXR5X2NjJywgcHJvYmxlbURhdGEuaWRdLFxuICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICog6I635Y+W5p+Q5Liq5om55qyh5LiL5oi/6Ze055qE5omA5pyJ5qOA5p+l6Zeu6aKY5a+56LGhXG4gICAqIEBwYXJhbSBiYXRjaElkXG4gICAqIEBwYXJhbSByb29tSWRcbiAgICovXG4gIGdldFJvb21Qcm9ibGVtczogZnVuY3Rpb24oYmF0Y2hJZCwgcm9vbUlkKSB7XG4gICAgcmV0dXJuIE1lYXN1cmVJbnNwZWN0UmVwb3NpdG9yeS5nZXRSb29tUHJvYmxlbXMoYmF0Y2hJZCwgcm9vbUlkKVxuICAgICAgLnRoZW4oZnVuY3Rpb24ocHJvYmxlbXMpIHtcbiAgICAgICAgcmV0dXJuIF9zZWxmLnVuemlwUHJvYmxlbVZhbHVlcyhwcm9ibGVtcyk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24ocHJvYmxlbXMpIHtcbiAgICAgICAgcmV0dXJuIEJhdGNoU2VydmljZS5nZXRCYXRjaChiYXRjaElkKS50aGVuKGZ1bmN0aW9uKGJhdGNoKSB7XG4gICAgICAgICAgaWYgKGJhdGNoLmJhdGNoX3R5cGUgPT09ICflrp7mtYvlt6Hmo4AnKSB7XG4gICAgICAgICAgICAvLyDmoLnmja7mibnmrKHmo4Dmn6Xpobnov4fmu6RcbiAgICAgICAgICAgIHJldHVybiBCYXRjaFNlcnZpY2UuZ2V0QmF0Y2hDaGVja2l0ZW1zKGJhdGNoSWQpLnRoZW4oZnVuY3Rpb24oY2hlY2tpdGVtcykge1xuICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgICAgICAgIF8uZWFjaChwcm9ibGVtcywgZnVuY3Rpb24ocHJvYmxlbSkge1xuICAgICAgICAgICAgICAgIGlmIChfLnNvbWUoY2hlY2tpdGVtcywgXy5tYXRjaGVzKHsgaXRlbV9pZDogcHJvYmxlbS5wY19pZCB9KSkpIHtcbiAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHByb2JsZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvYmxlbXM7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiDojrflj5bmibnmrKHmsYfmgLvmlbDmja5cbiAgICogQHBhcmFtIGJhdGNoSWRcbiAgICovXG4gIGdldFJlcG9ydERhdGE6IGZ1bmN0aW9uKGJhdGNoSWQpIHtcbiAgICByZXR1cm4gQmF0Y2hTZXJ2aWNlLmdldEJhdGNoKGJhdGNoSWQpLnRoZW4oZnVuY3Rpb24oYmF0Y2gpIHtcbiAgICAgIHJldHVybiAkcVxuICAgICAgICAuYWxsKFtcbiAgICAgICAgICBNZWFzdXJlSW5zcGVjdFJlcG9zaXRvcnkuZ2V0U2luZ2xlUm9vbU1lYXN1cmVDaGVja2l0ZW1zKGJhdGNoSWQpLFxuICAgICAgICAgIE1lYXN1cmVJbnNwZWN0UmVwb3NpdG9yeS5nZXRTaW5nbGVSb29tTWVhc3VyZVJlcG9ydERhdGEoYmF0Y2hJZCksXG4gICAgICAgICAgQmF0Y2hTZXJ2aWNlLmdldEJhdGNoUm9vbXMoYmF0Y2hJZCksXG4gICAgICAgIF0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHZhciB0b3BQcm9ibGVtID0ge307XG4gICAgICAgICAgdmFyIGNoZWNraXRlbXMgPSByZXN1bHRbMF07XG4gICAgICAgICAgdmFyIG1lYXN1cmVEYXRhID0gcmVzdWx0WzFdO1xuICAgICAgICAgIHZhciBiYXRjaFJvb21zID0gcmVzdWx0WzJdO1xuXG4gICAgICAgICAgcmV0dXJuICRxXG4gICAgICAgICAgICAuYWxsKFtcbiAgICAgICAgICAgICAgTWVhc3VyZUluc3BlY3RSZXBvc2l0b3J5LmdldFByb2JsZW1SZXBhaXJzKHRvcFByb2JsZW0uaWQpLFxuICAgICAgICAgICAgICBNZWFzdXJlSW5zcGVjdFJlcG9zaXRvcnkuZ2V0UHJvYmxlbUNDKHRvcFByb2JsZW0uaWQpLFxuICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICBpZiAoXy5pc0VtcHR5KHJlc3VsdFswXSkgJiYgXy5pc0VtcHR5KHJlc3VsdFsxXSkpIHtcbiAgICAgICAgICAgICAgICAvLyDojrflj5bpu5jorqTmlbTmlLnkurrjgIHmioTpgIHkurpcbiAgICAgICAgICAgICAgICByZXR1cm4gJHFcbiAgICAgICAgICAgICAgICAgIC5hbGwoXG4gICAgICAgICAgICAgICAgICAgIF8ubWFwKGNoZWNraXRlbXMsIGZ1bmN0aW9uKGNoZWNraXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDb21tb25DaGVja0l0ZW1TZXJ2aWNlLmdldEJpZFNlY3Rpb25DaGVja0l0ZW1JbmZvKFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wUHJvYmxlbS5wcm9qX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wUHJvYmxlbS5iaWRzZWN0aW9uX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ+Wunua1i+WunumHjydcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oaXRlbUluZm9zKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXBhaXJzID0gXy5yZWR1Y2UoXG4gICAgICAgICAgICAgICAgICAgICAgaXRlbUluZm9zLFxuICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJldCwgaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldC5jb25jYXQoaXRlbS5yZXBhaXIpO1xuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgW11cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgcmVwYWlycyA9IF8udW5pcUJ5KHJlcGFpcnMsIF8ucHJvcGVydHkoJ2lkJykpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYyA9IF8ucmVkdWNlKFxuICAgICAgICAgICAgICAgICAgICAgIGl0ZW1JbmZvcyxcbiAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXQsIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQuY29uY2F0KGl0ZW0uY2MpO1xuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgW11cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY2MgPSBfLnVuaXFCeShjYywgXy5wcm9wZXJ0eSgnaWQnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtyZXBhaXJzLCBjY107XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgIHZhciByZXBhaXJzID0gcmVzdWx0WzBdO1xuICAgICAgICAgICAgICB2YXIgY2MgPSByZXN1bHRbMV07XG4gICAgICAgICAgICAgIHZhciBtZWFzdXJlRGF0YUdyb3VwID0gXy5ncm91cEJ5KG1lYXN1cmVEYXRhLCAncm9vbV9pZCcpO1xuXG4gICAgICAgICAgICAgIHZhciByZXBvcnREYXRhID0ge1xuICAgICAgICAgICAgICAgIGlkOiB0b3BQcm9ibGVtLmlkLFxuICAgICAgICAgICAgICAgIHN0YXR1czogdG9wUHJvYmxlbS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgcHJval9pZDogdG9wUHJvYmxlbS5wcm9qX2lkLFxuICAgICAgICAgICAgICAgIGJpZHNlY3Rpb25faWQ6IHRvcFByb2JsZW0uYmlkc2VjdGlvbl9pZCxcbiAgICAgICAgICAgICAgICBiYXRjaF9pZDogdG9wUHJvYmxlbS5iYXRjaF9pZCxcbiAgICAgICAgICAgICAgICBiYXRjaF9uYW1lOiB0b3BQcm9ibGVtLmJhdGNoX25hbWUsXG4gICAgICAgICAgICAgICAgcmVtYXJrOiB0b3BQcm9ibGVtLnJlbWFyayxcbiAgICAgICAgICAgICAgICBpc19yZWdpc3Q6IHRvcFByb2JsZW0ucmVnaXN0X2J5ID09PSBjb250ZXh0LmdldFVzZXIoKS51c2VyX2lkLCAvLyDlvZPliY3kurrmmK/lkKbnmbvorrDkurpcbiAgICAgICAgICAgICAgICBjaGVja0J5OiB7XG4gICAgICAgICAgICAgICAgICBpZDogdG9wUHJvYmxlbS5yZWdpc3RfYnksXG4gICAgICAgICAgICAgICAgICBuYW1lOiB0b3BQcm9ibGVtLnJlZ2lzdF9uYW1lLFxuICAgICAgICAgICAgICAgICAgcGhvbmU6IHRvcFByb2JsZW0ucmVnaXN0X3Bob25lLFxuICAgICAgICAgICAgICAgICAgZGF0ZTogdG9wUHJvYmxlbS5yZWdpc3RfZGF0ZSxcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrSXRlbTogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2l0ZW0xJyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAn5re35rOl5Zyf5bel56iLJyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICflt7LmlbTmlLknICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGFpckJ5OiB7aWQ6IDQ1NiAsIG5hbWU6ICfmlbTmlLnkuronLCBwaG9uZTogJzEzMzMzMzMzMzMnLCBkYXRlOiAnMjAxNS0xMS0yMCAxMzoyMCd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB0cnVlIC8vIOaYr+WQpuacieivpuaDhVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aWQ6ICdpdGVtMicgLCBuYW1lOiAn6KOF6aWw5bel56iLJyAsIHN0YXR1czogJ+W+heaVtOaUuSd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aWQ6ICdpdGVtMycgLCBuYW1lOiAn5oi35YaF6Zeo5bel56iLJyAsIHN0YXR1czogJ+W+heaVtOaUuSd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aWQ6ICdpdGVtNCcgLCBuYW1lOiAn5aKZ5Zyw56CW5bel56iLJyAsIHN0YXR1czogJ+W+heaVtOaUuSd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aWQ6ICdpdGVtNScgLCBuYW1lOiAn5YWs5YWx6YOo5L2N5bel56iLJyAsIHN0YXR1czogJ+W+heaVtOaUuSd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjaGVja0l0ZW06IF8ubWFwKGNoZWNraXRlbXMsIGZ1bmN0aW9uKGNoZWNraXRlbSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGNoZWNraXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogY2hlY2tpdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudF9uYW1lOiBjaGVja2l0ZW0ucGFyZW50X25hbWUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogY2hlY2tpdGVtLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgcmVwYWlyQnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZDogY2hlY2tpdGVtLnJlcGFpcl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBjaGVja2l0ZW0ucmVwYWlyX25hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgcGhvbmU6IGNoZWNraXRlbS5yZXBhaXJfcGhvbmUsXG4gICAgICAgICAgICAgICAgICAgICAgZGF0ZTogY2hlY2tpdGVtLnJlcGFpcl9kYXRlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6XG4gICAgICAgICAgICAgICAgICAgICAgSlNPTi5wYXJzZShjaGVja2l0ZW0ucmVwYWlyX2ltYWdlX2ZpbGUgfHwgJ1tdJykubGVuZ3RoID4gMCB8fFxuICAgICAgICAgICAgICAgICAgICAgICEhY2hlY2tpdGVtLnJlcGFpcl9yZW1hcmssIC8vIOaYr+WQpuacieivpuaDhVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0RhdGE6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vbUlkOiAxICxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb21OYW1lOiAxMDEgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGROYW1lOiAnMeagiycgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc1JhdGU6IDY2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0xIDoge3BvaW50TnVtOiA3ICwgcGFzc051bTogNCwgcGFzc1JhdGU6IDY2fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtMiA6IHtwb2ludE51bTogOCAsIHBhc3NOdW06IDQsIHBhc3NSYXRlOiA2Nn0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTMgOiB7cG9pbnROdW06IDkgLCBwYXNzTnVtOiA0LCBwYXNzUmF0ZTogNjZ9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW00IDoge3BvaW50TnVtOiAxMCAsIHBhc3NOdW06IDQsIHBhc3NSYXRlOiA2Nn0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTUgOiB7cG9pbnROdW06IDExICwgcGFzc051bTogNCwgcGFzc1JhdGU6IDY2fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb29tSWQ6IDIgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vbU5hbWU6IDEwMiAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZE5hbWU6ICcx5qCLJyAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzUmF0ZTogNjYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTEgOiB7cG9pbnROdW06IDcgLCBwYXNzTnVtOiA0LCBwYXNzUmF0ZTogNjZ9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0yIDoge3BvaW50TnVtOiA4ICwgcGFzc051bTogNCwgcGFzc1JhdGU6IDY2fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtMyA6IHtwb2ludE51bTogOSAsIHBhc3NOdW06IDQsIHBhc3NSYXRlOiA2Nn0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTQgOiB7cG9pbnROdW06IDEwICwgcGFzc051bTogNCwgcGFzc1JhdGU6IDY2fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtNSA6IHtwb2ludE51bTogMTEgLCBwYXNzTnVtOiA0LCBwYXNzUmF0ZTogNjZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNoZWNrRGF0YTogXy5tYXAobWVhc3VyZURhdGFHcm91cCwgZnVuY3Rpb24obWVhc3VyZUdyb3VwSXRlbXMsIHJvb21JZCkge1xuICAgICAgICAgICAgICAgICAgdmFyIHBhc3NQb2ludHMgPSBfLnJlZHVjZShcbiAgICAgICAgICAgICAgICAgICAgbWVhc3VyZUdyb3VwSXRlbXMsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGksIG1lYXN1cmVHcm91cEl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgaSArXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKG1lYXN1cmVHcm91cEl0ZW0ubWVhc3VyZW1lbnRfcG9pbnRzIHx8IDApIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobWVhc3VyZUdyb3VwSXRlbS5wcm9ibGVtX3BvaW50cyB8fCAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgIHZhciBtZWFzdXJlUG9pbnRzID0gXy5yZWR1Y2UoXG4gICAgICAgICAgICAgICAgICAgIG1lYXN1cmVHcm91cEl0ZW1zLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihpLCBtZWFzdXJlR3JvdXBJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgKyAobWVhc3VyZUdyb3VwSXRlbS5tZWFzdXJlbWVudF9wb2ludHMgfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgIHZhciBidWlsZGluZ05hbWUgPSBtZWFzdXJlR3JvdXBJdGVtc1swXS5idWlsZGluZ19uYW1lO1xuICAgICAgICAgICAgICAgICAgaWYgKG1lYXN1cmVHcm91cEl0ZW1zWzBdLnVuaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdOYW1lICs9IG1lYXN1cmVHcm91cEl0ZW1zWzBdLnVuaXQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcy5lbmRzV2l0aChidWlsZGluZ05hbWUsICfljZXlhYMnKSkge1xuICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nTmFtZSArPSAn5Y2V5YWDJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByb29tSWQ6IHJvb21JZCxcbiAgICAgICAgICAgICAgICAgICAgcm9vbU5hbWU6IG1lYXN1cmVHcm91cEl0ZW1zWzBdLnJvb21fbm8sXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkTmFtZTogYnVpbGRpbmdOYW1lLFxuICAgICAgICAgICAgICAgICAgICBwYXNzUmF0ZTpcbiAgICAgICAgICAgICAgICAgICAgICAobWVhc3VyZVBvaW50cyA/IE1hdGgucm91bmQoKHBhc3NQb2ludHMgKiAxMDAwMCkgLyBtZWFzdXJlUG9pbnRzKSAvIDEwMCA6IDApICtcbiAgICAgICAgICAgICAgICAgICAgICAnJScsXG4gICAgICAgICAgICAgICAgICAgIHBhc3NQb2ludHM6IHBhc3NQb2ludHMsXG4gICAgICAgICAgICAgICAgICAgIG1lYXN1cmVQb2ludHM6IG1lYXN1cmVQb2ludHMsXG4gICAgICAgICAgICAgICAgICAgIGlzRW1wdHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBfLnJlZHVjZShcbiAgICAgICAgICAgICAgICAgICAgICBtZWFzdXJlR3JvdXBJdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihvYmosIG1lYXN1cmVHcm91cEl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb2ludE51bSA9IG1lYXN1cmVHcm91cEl0ZW0ubWVhc3VyZW1lbnRfcG9pbnRzIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFzc1BvaW50TnVtID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50TnVtIC0gKG1lYXN1cmVHcm91cEl0ZW0ucHJvYmxlbV9wb2ludHMgfHwgMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmpbbWVhc3VyZUdyb3VwSXRlbS5pdGVtX2lkXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnROdW06IHBvaW50TnVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzTnVtOiBwYXNzUG9pbnROdW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NSYXRlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwb2ludE51bSA/IE1hdGgucm91bmQoKHBhc3NQb2ludE51bSAqIDEwMDAwKSAvIHBvaW50TnVtKSAvIDEwMCA6IDApICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJScsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIHt9XG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICAgICAgcmVwYWlyOiByZXBhaXJzLFxuICAgICAgICAgICAgICAgIGNjOiBjYyxcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAvLyDloavlhYXmsqHmnInmo4Dmn6Xlrozmr5XnmoTmiL/pl7RcbiAgICAgICAgICAgICAgXy5lYWNoKGJhdGNoUm9vbXMsIGZ1bmN0aW9uKGJhdGNoUm9vbSkge1xuICAgICAgICAgICAgICAgIHZhciByb29tRGF0YSA9IF8uZmluZChyZXBvcnREYXRhLmNoZWNrRGF0YSwgZnVuY3Rpb24ocm9vbURhdGEpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiByb29tRGF0YS5yb29tSWQgPT09IGJhdGNoUm9vbS5yb29tX2lkO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFyb29tRGF0YSkge1xuICAgICAgICAgICAgICAgICAgLy8g5oi/6Ze05rKh5pWw5o2u77yM5aGr5YWl56m655m95pWw5o2uXG4gICAgICAgICAgICAgICAgICB2YXIgYnVpbGRpbmdOYW1lID0gYmF0Y2hSb29tLmJ1aWxkaW5nX25hbWU7XG4gICAgICAgICAgICAgICAgICBpZiAoYmF0Y2hSb29tLnVuaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdOYW1lICs9IGJhdGNoUm9vbS51bml0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXMuZW5kc1dpdGgoYnVpbGRpbmdOYW1lLCAn5Y2V5YWDJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ05hbWUgKz0gJ+WNleWFgyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgcmVwb3J0RGF0YS5jaGVja0RhdGEucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHJvb21JZDogYmF0Y2hSb29tLnJvb21faWQsXG4gICAgICAgICAgICAgICAgICAgIHJvb21OYW1lOiBiYXRjaFJvb20ucm9vbV9uYW1lLFxuICAgICAgICAgICAgICAgICAgICBidWlsZE5hbWU6IGJ1aWxkaW5nTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcGFzc1JhdGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgaXNFbXB0eTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgLy8g5aGr5YWF56m655m95pWw5o2uXG4gICAgICAgICAgICAgIF8uZWFjaChyZXBvcnREYXRhLmNoZWNrRGF0YSwgZnVuY3Rpb24oY2hlY2tEYXRhKSB7XG4gICAgICAgICAgICAgICAgXy5lYWNoKHJlcG9ydERhdGEuY2hlY2tJdGVtLCBmdW5jdGlvbihjaGVja0l0ZW0pIHtcbiAgICAgICAgICAgICAgICAgIGlmICghKGNoZWNrSXRlbS5pZCBpbiBjaGVja0RhdGEuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEYXRhLmRhdGFbY2hlY2tJdGVtLmlkXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICBwb2ludE51bTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgcGFzc051bTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgcGFzc1JhdGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAvLyDmgLvorqFcbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc1JhdGU6IDY2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtMSA6IHtwb2ludE51bTogNyAsIHBhc3NOdW06IDQsIHBhc3NSYXRlOiA2Nn0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtMiA6IHtwb2ludE51bTogOCAsIHBhc3NOdW06IDQsIHBhc3NSYXRlOiA2Nn0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtMyA6IHtwb2ludE51bTogOSAsIHBhc3NOdW06IDQsIHBhc3NSYXRlOiA2Nn0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtNCA6IHtwb2ludE51bTogMTAgLCBwYXNzTnVtOiA0LCBwYXNzUmF0ZTogNjZ9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTUgOiB7cG9pbnROdW06IDExICwgcGFzc051bTogNCwgcGFzc1JhdGU6IDY2fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIHZhciB0b3RhbFBhc3NQb2ludHMgPSBfLnJlZHVjZShcbiAgICAgICAgICAgICAgICByZXBvcnREYXRhLmNoZWNrRGF0YSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihpLCBjaGVja0RhdGFJdGVtKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gaSArIChjaGVja0RhdGFJdGVtLnBhc3NQb2ludHMgfHwgMCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgdmFyIHRvdGFsTWVhc3VyZVBvaW50cyA9IF8ucmVkdWNlKFxuICAgICAgICAgICAgICAgIHJlcG9ydERhdGEuY2hlY2tEYXRhLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGksIGNoZWNrRGF0YUl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBpICsgKGNoZWNrRGF0YUl0ZW0ubWVhc3VyZVBvaW50cyB8fCAwKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICB2YXIgbWVhc3VyZUl0ZW1Hcm91cCA9IF8uZ3JvdXBCeShtZWFzdXJlRGF0YSwgJ2l0ZW1faWQnKTsgLy8g5oyJ5qOA5p+l6aG55YiG57uEXG4gICAgICAgICAgICAgIHJlcG9ydERhdGEudG90YWwgPSB7XG4gICAgICAgICAgICAgICAgcGFzc1JhdGU6XG4gICAgICAgICAgICAgICAgICAodG90YWxNZWFzdXJlUG9pbnRzXG4gICAgICAgICAgICAgICAgICAgID8gTWF0aC5yb3VuZCgodG90YWxQYXNzUG9pbnRzICogMTAwMDApIC8gdG90YWxNZWFzdXJlUG9pbnRzKSAvIDEwMFxuICAgICAgICAgICAgICAgICAgICA6IDApICsgJyUnLFxuICAgICAgICAgICAgICAgIGRhdGE6IF8ubWFwVmFsdWVzKG1lYXN1cmVJdGVtR3JvdXAsIGZ1bmN0aW9uKG1lYXN1cmVJdGVtR3JvdXBJdGVtcykge1xuICAgICAgICAgICAgICAgICAgdmFyIHBhc3NQb2ludHMgPSBfLnJlZHVjZShcbiAgICAgICAgICAgICAgICAgICAgbWVhc3VyZUl0ZW1Hcm91cEl0ZW1zLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihpLCBtZWFzdXJlSXRlbUdyb3VwSXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAobWVhc3VyZUl0ZW1Hcm91cEl0ZW0ubWVhc3VyZW1lbnRfcG9pbnRzIHx8IDApIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobWVhc3VyZUl0ZW1Hcm91cEl0ZW0ucHJvYmxlbV9wb2ludHMgfHwgMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICB2YXIgbWVhc3VyZVBvaW50cyA9IF8ucmVkdWNlKFxuICAgICAgICAgICAgICAgICAgICBtZWFzdXJlSXRlbUdyb3VwSXRlbXMsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGksIG1lYXN1cmVJdGVtR3JvdXBJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgKyAobWVhc3VyZUl0ZW1Hcm91cEl0ZW0ubWVhc3VyZW1lbnRfcG9pbnRzIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBwb2ludE51bTogbWVhc3VyZVBvaW50cyxcbiAgICAgICAgICAgICAgICAgICAgcGFzc051bTogcGFzc1BvaW50cyxcbiAgICAgICAgICAgICAgICAgICAgcGFzc1JhdGU6XG4gICAgICAgICAgICAgICAgICAgICAgKG1lYXN1cmVQb2ludHMgPyBNYXRoLnJvdW5kKChwYXNzUG9pbnRzICogMTAwMDApIC8gbWVhc3VyZVBvaW50cykgLyAxMDAgOiAwKSArXG4gICAgICAgICAgICAgICAgICAgICAgJyUnLFxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICByZXR1cm4gcmVwb3J0RGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfSxcblxuICBjaGFuZ2VSZXBhaXI6IGZ1bmN0aW9uKHByb2JsZW1fZGF0YSkge1xuICAgIGlmIChfLmlzRW1wdHkocHJvYmxlbV9kYXRhLnJlcGFpcikpIHtcbiAgICAgIHJldHVybiAkcS5yZWplY3QoJ+ivt+aMh+WumuS4gOS4quaVtOaUueS6uicpO1xuICAgIH1cblxuICAgIHJldHVybiBNZWFzdXJlSW5zcGVjdFJlcG9zaXRvcnkudXBkYXRlUHJvYmxlbU1vZGlmaWVkQnkocHJvYmxlbV9kYXRhLmlkKVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBDaGVja1F1YWxpdHlQcm9ibGVtUmVwYWlyUmVwb3NpdG9yeS5jaGFuZ2VQcm9ibGVtUmVwYWlyKFxuICAgICAgICAgIHByb2JsZW1fZGF0YS5pZCxcbiAgICAgICAgICBwcm9ibGVtX2RhdGEucmVwYWlyXG4gICAgICAgICk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZXBhaXIgPSBfLm1hcChwcm9ibGVtX2RhdGEucmVwYWlyLCAnaWQnKS5qb2luKCcsJyk7XG4gICAgICAgIHZhciBvbGRSZXBhaXIgPSBfLm1hcChwcm9ibGVtX2RhdGEub2xkUmVwYWlyLCAnaWQnKS5qb2luKCcsJyk7XG4gICAgICAgIHJldHVybiBDaGVja1F1YWxpdHlQcm9ibGVtRnBJbmZvUmVwb3NpdG9yeS5zYXZlUHJvYmxlbUZwSW5mbyhcbiAgICAgICAgICBwcm9ibGVtX2RhdGEucHJval9pZCxcbiAgICAgICAgICBwcm9ibGVtX2RhdGEuYmlkc2VjdGlvbl9pZCxcbiAgICAgICAgICBwcm9ibGVtX2RhdGEuYmF0Y2hfaWQsXG4gICAgICAgICAgcHJvYmxlbV9kYXRhLmlkLFxuICAgICAgICAgIHJlcGFpcixcbiAgICAgICAgICBvbGRSZXBhaXIsXG4gICAgICAgICAgJ+WIhumFjeaVtOaUueS6uidcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgLy8g5bCG5b2T5YmN5Lq65Yqg5YWl5oqE6YCB5Lq66ZuG5ZCIXG4gICAgICAgIHZhciBjdXJyZW50VXNlciA9IGNvbnRleHQuZ2V0VXNlcigpO1xuICAgICAgICByZXR1cm4gX3NlbGYuYXBwZW5kVG9DQyhwcm9ibGVtX2RhdGEuaWQsICfmk43kvZzkuronLCBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6IGN1cnJlbnRVc2VyLnVzZXJfaWQsXG4gICAgICAgICAgICBuYW1lOiBjdXJyZW50VXNlci51c2VyX25hbWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBEYXRhU3luY2hyb25pemVyLmFkZFN5bmNHcm91cChbXG4gICAgICAgICAgWydjaGVja3F1YWxpdHlfcHJvYmxlbScsIHByb2JsZW1fZGF0YS5pZF0sXG4gICAgICAgICAgWydjaGVja3F1YWxpdHlfcmVwYWlyJywgcHJvYmxlbV9kYXRhLmlkXSxcbiAgICAgICAgICBbJ2NoZWNrcXVhbGl0eV9jYycsIHByb2JsZW1fZGF0YS5pZF0sXG4gICAgICAgIF0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAkbG9nLmVycm9yKGVycm9yKTtcbiAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnJvcik7XG4gICAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICog5pu05pS55Y2V5oi/5pW05pS55pW05pS55Lq6XG4gICAqIEBwYXJhbSBwcm9ibGVtX2RhdGFcbiAgICogQHBhcmFtIHVwbG9hZERhdGEgYm9vbCDmmK/lkKbkuIrkvKDmlbDmja5cbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBjaGFuZ2VTaW5nbGVSb29tUmVwYWlyOiBmdW5jdGlvbihwcm9ibGVtX2RhdGEsIHVwbG9hZERhdGEpIHtcbiAgICBpZiAoXy5pc0VtcHR5KHByb2JsZW1fZGF0YS5yZXBhaXIpKSB7XG4gICAgICByZXR1cm4gJHEucmVqZWN0KCfor7fmjIflrprmlbTmlLnkuronKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTWVhc3VyZUluc3BlY3RSZXBvc2l0b3J5LnVwZGF0ZVByb2JsZW1Nb2RpZmllZEJ5KHByb2JsZW1fZGF0YS5pZClcbiAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gQ2hlY2tRdWFsaXR5UHJvYmxlbVJlcGFpclJlcG9zaXRvcnkuY2hhbmdlUHJvYmxlbVJlcGFpcihcbiAgICAgICAgICBwcm9ibGVtX2RhdGEuaWQsXG4gICAgICAgICAgcHJvYmxlbV9kYXRhLnJlcGFpclxuICAgICAgICApLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIF9zZWxmLmFkZFRvZG8ocHJvYmxlbV9kYXRhLCBwcm9ibGVtX2RhdGEucmVwYWlyKTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZXBhaXIgPSBwcm9ibGVtX2RhdGEucmVwYWlyLmlkO1xuICAgICAgICByZXR1cm4gQ2hlY2tRdWFsaXR5UHJvYmxlbUZwSW5mb1JlcG9zaXRvcnkuc2F2ZVByb2JsZW1GcEluZm8oXG4gICAgICAgICAgcHJvYmxlbV9kYXRhLnByb2pfaWQsXG4gICAgICAgICAgcHJvYmxlbV9kYXRhLmJpZHNlY3Rpb25faWQsXG4gICAgICAgICAgcHJvYmxlbV9kYXRhLmJhdGNoX2lkLFxuICAgICAgICAgIHByb2JsZW1fZGF0YS5pZCxcbiAgICAgICAgICByZXBhaXIsXG4gICAgICAgICAgJycsXG4gICAgICAgICAgJ+WIhumFjeaVtOaUueS6uidcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgLy8g5bCG5b2T5YmN5Lq65Yqg5YWl5oqE6YCB5Lq66ZuG5ZCIXG4gICAgICAgIHZhciBjdXJyZW50VXNlciA9IGNvbnRleHQuZ2V0VXNlcigpO1xuICAgICAgICByZXR1cm4gX3NlbGYuYXBwZW5kVG9DQyhwcm9ibGVtX2RhdGEuaWQsICfmk43kvZzkuronLCBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6IGN1cnJlbnRVc2VyLnVzZXJfaWQsXG4gICAgICAgICAgICBuYW1lOiBjdXJyZW50VXNlci51c2VyX25hbWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh1cGxvYWREYXRhICE9PSBmYWxzZSkge1xuICAgICAgICAgIC8vIOS4iuS8oOaVsOaNrlxuICAgICAgICAgIHJldHVybiBEYXRhU3luY2hyb25pemVyLmFkZFN5bmNHcm91cChbXG4gICAgICAgICAgICBbJ2NoZWNrcXVhbGl0eV9wcm9ibGVtJywgcHJvYmxlbV9kYXRhLmlkXSxcbiAgICAgICAgICAgIFsnY2hlY2txdWFsaXR5X3JlcGFpcicsIHByb2JsZW1fZGF0YS5pZF0sXG4gICAgICAgICAgICBbJ2NoZWNrcXVhbGl0eV9jYycsIHByb2JsZW1fZGF0YS5pZF0sXG4gICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgJGxvZy5lcnJvcihlcnJvcik7XG4gICAgICAgIHJldHVybiAkcS5yZWplY3QoZXJyb3IpO1xuICAgICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIOS/ruaUueaKhOmAgeS6uuWIl+ihqFxuICAgKiBAcGFyYW0gcHJvYmxlbUlkXG4gICAqIEBwYXJhbSBjY0xpc3RcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICAvLyBjaGFuZ2VDQzogZnVuY3Rpb24ocHJvYmxlbUlkLCBjY0xpc3QpXG4gIC8vIHtcbiAgLy8gICAgIHJldHVybiBNZWFzdXJlSW5zcGVjdFJlcG9zaXRvcnkudXBkYXRlUHJvYmxlbU1vZGlmaWVkQnkocHJvYmxlbUlkKS50aGVuKGZ1bmN0aW9uKClcbiAgLy8gICAgIHtcbiAgLy8gICAgICAgICByZXR1cm4gQ2hlY2tRdWFsaXR5UHJvYmxlbUNDUmVwb3NpdG9yeS5zYXZlUHJvYmxlbUNDKHByb2JsZW1JZCwgY2NMaXN0KTtcbiAgLy8gICAgIH0pLnRoZW4oZnVuY3Rpb24oKVxuICAvLyAgICAge1xuICAvLyAgICAgICAgIHJldHVybiBEYXRhU3luY2hyb25pemVyLmFkZFN5bmNHcm91cChbXG4gIC8vICAgICAgICAgICAgIFsnY2hlY2txdWFsaXR5X3Byb2JsZW0nLCBwcm9ibGVtSWRdLFxuICAvLyAgICAgICAgICAgICBbJ2NoZWNrcXVhbGl0eV9jYycsIHByb2JsZW1JZF0sXG4gIC8vICAgICAgICAgXSk7XG4gIC8vICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcilcbiAgLy8gICAgIHtcbiAgLy8gICAgICAgICAkbG9nLmVycm9yKGVycm9yKTtcbiAgLy8gICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycm9yKTtcbiAgLy8gICAgIH0pO1xuICAvLyB9LFxuXG4gIGdldFByb2JsZW1SZXBhaXJzOiBmdW5jdGlvbihwcm9ibGVtSWQpIHtcbiAgICByZXR1cm4gTWVhc3VyZUluc3BlY3RSZXBvc2l0b3J5LmdldFByb2JsZW1SZXBhaXJzKHByb2JsZW1JZCk7XG4gIH0sXG5cbiAgZ2V0UHJvYmxlbUNDOiBmdW5jdGlvbihwcm9ibGVtSWQpIHtcbiAgICByZXR1cm4gTWVhc3VyZUluc3BlY3RSZXBvc2l0b3J5LmdldFByb2JsZW1DQyhwcm9ibGVtSWQpO1xuICB9LFxuXG4gIGdldFRvcE1lYXN1cmVQcm9ibGVtOiBmdW5jdGlvbihiYXRjaElkKSB7XG4gICAgcmV0dXJuIE1lYXN1cmVJbnNwZWN0UmVwb3NpdG9yeS5nZXRUb3BNZWFzdXJlUHJvYmxlbShiYXRjaElkKTtcbiAgfSxcblxuICAvKipcbiAgICog6I635Y+W5om55qyh5rKh5pyJ5qOA5p+l5pWw5o2u55qE56m65oi/6Ze0XG4gICAqIEBwYXJhbSBiYXRjaElkXG4gICAqIEByZXR1cm5zIHsqfHByb21pc2V8e21ldGhvZCwgaXNBcnJheX19XG4gICAqL1xuICBnZXRNZWFzdXJlRW1wdHlSb29tczogZnVuY3Rpb24oYmF0Y2hJZCkge1xuICAgIHJldHVybiBNZWFzdXJlSW5zcGVjdFJlcG9zaXRvcnkuZ2V0TWVhc3VyZUVtcHR5Um9vbXMoYmF0Y2hJZCk7XG4gIH0sXG5cbiAgLyoqXG4gICAgICAgICAqIOaIv+mXtOWIl+ihqOWPluaVsFxuICAgICAgICAgKiBAcGFyYW0gcHJvaklkICAgICAgICDpobnnm65JZFxuICAgICAgICAgKiBAcGFyYW0gc2VjdGlvbklkICAgICDmoIfmrrVJZFxuICAgICAgICAgKiBAcGFyYW0gYnVpbGRpbmdJZCAgICDmpbzmoItcbiAgICAgICAgICogQHBhcmFtIHVuaXQgICAgICAgICAg5Y2V5YWDXG4gICAgICAgICAqIEBwYXJhbSBjaGVja0l0ZW0gICAgIOajgOafpemhuUlk77yI5LiA57qn44CB5LqM57qn77yJ5LiA57qn5qOA5p+l6aG55pyJc3ViaXRlbeWxnuaAp1xuICAgICAgICAgKiBAcGFyYW0gaWRlbnRpdHkgICAgICDouqvku73vvIgxOiDmlr3lt6XljZXkvY0gMjog55uR55CG5Y2V5L2NIDM6IOW7uuiuvuWNleS9je+8iVxuICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImZsb29yXCI6IFwi5qW85bGCXCIsXG4gICAgICAgICAgICAgICAgICAgIFwicm9vbXNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogXCLmiL/pl7RJRFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIuaIv+mXtOWQjVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZG9uZVwiOiBcIjFcIiAvLyAwLeayoeWujOaIkO+8jDEt5pa95bel5Y2V5L2N5bey5a6M5oiQ77yMMi3nm5HnkIbljZXkvY3lt7LlrozmiJDvvIwzLeW7uuiuvuWNleS9jeW3suWujOaIkFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAqL1xuICBnZXRSb29tc0FuZERhdGE6IGZ1bmN0aW9uKHByb2pJZCwgc2VjdGlvbklkLCBidWlsZGluZ0lkLCB1bml0LCBjaGVja0l0ZW0sIGlkZW50aXR5KSB7XG4gICAgLy8g6I635Y+W5qW85qCL5oi/6Ze05Z+656GA5pWw5o2uXG4gICAgcmV0dXJuICRxXG4gICAgICAud2hlbigpXG4gICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEJ1aWxkaW5nU2VydmljZS5nZXRCdWlsZGluZ1Jvb21zKGJ1aWxkaW5nSWQsIHVuaXQpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgIHJldHVybiBfLmNsb25lKGRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIHJldHVybiBCYXRjaFJlcG9zaXRvcnkuZ2V0U2VjdGlvbkJhdGNocyhzZWN0aW9uSWQsICflrp7mtYvlrp7ph48o5pawKScsICfmraPlvI8nKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGJhdGNoZXMpIHtcbiAgICAgICAgICAgIHZhciBiYXRjaEFyciA9IFtdO1xuXG4gICAgICAgICAgICB2YXIgcHJvbWlzZXMgPSBbXTtcblxuICAgICAgICAgICAgLy8g5ZCE5Liq6KeS6Imy5b2V5YWl5pWw5o2u5q+U5L6LXG4gICAgICAgICAgICB2YXIgY29tcGxldGlvbiA9IFswLCAwLCAwXSxcbiAgICAgICAgICAgICAgcm9vbU51bWJlciA9IDA7XG5cbiAgICAgICAgICAgIF8uZWFjaChiYXRjaGVzLCBmdW5jdGlvbihiYXRjaERhdGEpIHtcbiAgICAgICAgICAgICAgaWYgKGJhdGNoRGF0YS5uYW1lLmluZGV4T2YoJ+aWveW3peWNleS9jScpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGJhdGNoQXJyWzBdID0gYmF0Y2hEYXRhLmlkO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJhdGNoRGF0YS5uYW1lLmluZGV4T2YoJ+ebkeeQhuWNleS9jScpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGJhdGNoQXJyWzFdID0gYmF0Y2hEYXRhLmlkO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJhdGNoRGF0YS5uYW1lLmluZGV4T2YoJ+W7uuiuvuWNleS9jScpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGJhdGNoQXJyWzJdID0gYmF0Y2hEYXRhLmlkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYmF0Y2hBcnIgPSBiYXRjaEFyci5zbGljZSgwLCBpZGVudGl0eSk7XG5cbiAgICAgICAgICAgIGNoZWNrSXRlbSAmJlxuICAgICAgICAgICAgICAocHJvbWlzZXMgPSBfLm1hcChiYXRjaEFyciwgZnVuY3Rpb24oYmF0Y2hJZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBNZWFzdXJlSW5zcGVjdFJlcG9zaXRvcnkuZ2V0TWVhc3VyZU5ld0JhdGNoUm9vbVByb2JsZW1zKFxuICAgICAgICAgICAgICAgICAgYmF0Y2hJZCxcbiAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nSWQsXG4gICAgICAgICAgICAgICAgICB1bml0LFxuICAgICAgICAgICAgICAgICAgW2NoZWNrSXRlbS5pZF1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIHJldHVybiAkcS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgIHZhciByb29tU2V0ID0ge307XG4gICAgICAgICAgICAgIHZhciBmbG9vclNldCA9IHt9O1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZXN1bHRbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbaV1bal0ucm9vbV9pZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyDmnInmiL/pl7QgaWQg77yM5YiZ6K6k5Li65piv4oCc5oyJ5oi34oCd55qE5pWw5o2uXG4gICAgICAgICAgICAgICAgICAgIHJvb21TZXRbcmVzdWx0W2ldW2pdLnJvb21faWRdID0gaSArIDE7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyDmsqHmnInmiL/pl7QgaWQg77yM5YiZ5piv4oCc5oyJ5bGC4oCd55qE5pWw5o2uXG4gICAgICAgICAgICAgICAgICAgIGZsb29yU2V0W3Jlc3VsdFtpXVtqXS5mbG9vcl0gPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgaWYgKCFjb21wbGV0aW9uW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRpb25baV0gPSAwO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY29tcGxldGlvbltpXSArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChfLmlzRW1wdHkocm9vbVNldCkpIHtcbiAgICAgICAgICAgICAgICByb29tTnVtYmVyICs9IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgXy5lYWNoKGRhdGEsIGZ1bmN0aW9uKGZsb29yT2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKF8uaXNFbXB0eShyb29tU2V0KSkge1xuICAgICAgICAgICAgICAgICAgLy8g5rKh5pyJ5oi/6Ze05pWw5o2uXG4gICAgICAgICAgICAgICAgICBmbG9vck9iai5kb25lID0gZmxvb3JTZXRbZmxvb3JPYmouZmxvb3JdIHx8IDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIOacieaIv+mXtOaVsOaNrlxuICAgICAgICAgICAgICAgICAgLy8g5qW85bGCXG4gICAgICAgICAgICAgICAgICByb29tTnVtYmVyICs9IGZsb29yT2JqLnJvb21zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgIF8uZWFjaChmbG9vck9iai5yb29tcywgZnVuY3Rpb24ocm9vbSkge1xuICAgICAgICAgICAgICAgICAgICByb29tLmRvbmUgPSByb29tU2V0W3Jvb20uaWRdIHx8IDA7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGRhdGEuY29tcGxldGlvbiA9IFtdO1xuXG4gICAgICAgICAgICAgIHJvb21OdW1iZXIgPSBNYXRoLm1heChyb29tTnVtYmVyLCAxKTtcblxuICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGNvbXBsZXRpb24ubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICBkYXRhLmNvbXBsZXRpb25ba10gPSAoKGNvbXBsZXRpb25ba10gLyByb29tTnVtYmVyKSAqIDEwMCkudG9GaXhlZCgxKSArICclJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAgICAgICAqIOaIv+mXtOWIl+ihqOWPluaVsO+8jOagueaNrueUqOaIt+i6q+S7veiOt+WPluS4jeWQjOi6q+S7veeahOaVsOaNrlxuICAgICAgICAgKiBAcGFyYW0gcHJvaklkICAgICAgICDpobnnm65JZFxuICAgICAgICAgKiBAcGFyYW0gc2VjdGlvbklkICAgICDmoIfmrrVJZFxuICAgICAgICAgKiBAcGFyYW0gYnVpbGRpbmdJZCAgICDmpbzmoItcbiAgICAgICAgICogQHBhcmFtIHVuaXQgICAgICAgICAg5Y2V5YWDXG4gICAgICAgICAqIEBwYXJhbSBjaGVja0l0ZW0gICAgIOajgOafpemhuUlk77yI5LiA57qn44CB5LqM57qn77yJ5LiA57qn5qOA5p+l6aG55pyJc3ViaXRlbeWxnuaAp1xuICAgICAgICAgKiBAcGFyYW0gaWRlbnRpdHkgICAgICDouqvku73vvIgxOiDmlr3lt6XljZXkvY0gMjog55uR55CG5Y2V5L2NIDM6IOW7uuiuvuWNleS9je+8iVxuICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImZsb29yXCI6IFwi5qW85bGCXCIsXG4gICAgICAgICAgICAgICAgICAgIFwicm9vbXNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogXCLmiL/pl7RJRFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIuaIv+mXtOWQjVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZG9uZVwiOiBcIjFcIiAvLyAwLeayoeWujOaIkO+8jDEt5pa95bel5Y2V5L2N5bey5a6M5oiQ77yMMi3nm5HnkIbljZXkvY3lt7LlrozmiJDvvIwzLeW7uuiuvuWNleS9jeW3suWujOaIkFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAqL1xuICBnZXRSb29tc0FuZERhdGFCeUlkZW50aXR5OiBmdW5jdGlvbihwcm9qSWQsIHNlY3Rpb25JZCwgYnVpbGRpbmdJZCwgdW5pdCwgY2hlY2tJdGVtLCBpZGVudGl0eSkge1xuICAgIC8vIOiOt+WPlualvOagi+aIv+mXtOWfuuehgOaVsOaNrlxuICAgIHJldHVybiBCdWlsZGluZ1NlcnZpY2UuZ2V0QnVpbGRpbmdSb29tcyhidWlsZGluZ0lkLCB1bml0KS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIC8vIOmcgOimgee7n+iuoeaVsOaNrueahOinkuiJsumbhuWQiFxuICAgICAgdmFyIGFyciA9IFtdLFxuICAgICAgICBrZXkgPSBpZGVudGl0eTtcbiAgICAgIHdoaWxlIChrZXkgPiAwKSB7XG4gICAgICAgIGFyci5wdXNoKGtleSk7XG4gICAgICAgIGtleS0tO1xuICAgICAgfVxuXG4gICAgICAvLyDpnIDopoHnu5/orqHmlbDmja7nmoTmo4Dmn6XpoblJZOmbhuWQiFxuICAgICAgdmFyIGNoZWNrSXRlbXMgPSBbXTtcbiAgICAgIGlmIChjaGVja0l0ZW0uc3ViaXRlbSkge1xuICAgICAgICBjaGVja0l0ZW1zID0gXy5tYXAoY2hlY2tJdGVtLnN1Yml0ZW0sIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gaXRlbS5pZDtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja0l0ZW1zLnB1c2goY2hlY2tJdGVtLmlkKTtcbiAgICAgIH1cblxuICAgICAgLy8g6I635Y+W5oyH5a6a5qOA5p+l6aG555qE5ZCE6KeS6Imy5a6e5rWL5pWw5o2u5b2V5YWl5piO57uGXG4gICAgICByZXR1cm4gX3NlbGZcbiAgICAgICAgLmdldE1lYXN1cmVEYXRhRGV0YWlsQnlJZGVudGl0aWVzKHByb2pJZCwgc2VjdGlvbklkLCBidWlsZGluZ0lkLCB1bml0LCBjaGVja0l0ZW1zLCBhcnIpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKG1lYXN1cmVQcm9ibGVtcykge1xuICAgICAgICAgIC8vIOW+queOr+aIv+mXtOWIl+ihqO+8jOe7n+iuoeavj+S4quaIv+mXtOeahOW9leWFpeaDheWGtVxuICAgICAgICAgIF8uZWFjaChkYXRhLCBmdW5jdGlvbihmbG9vck9iaikge1xuICAgICAgICAgICAgLy8g5qW85bGCXG4gICAgICAgICAgICBfLmVhY2goZmxvb3JPYmoucm9vbXMsIGZ1bmN0aW9uKHJvb20pIHtcbiAgICAgICAgICAgICAgLy8g5oi/6Ze0XG4gICAgICAgICAgICAgIC8vIOi1i+m7mOiupOWIneWAvFxuICAgICAgICAgICAgICByb29tLmRvbmUgPSBbXTtcbiAgICAgICAgICAgICAgcm9vbS5wcm9ibGVtcyA9IFtdO1xuICAgICAgICAgICAgICByb29tLmRvbmVfbnVtID0gW107IC8vIOWujOaIkOeahOajgOafpemhueeahOaVsOmHj++8iOWmguaenOaYr+S4gOS4quS4gOe6p+ajgOafpemhue+8jOmcgOimgee7n+iuoeWtkOajgOafpemhueWujOaIkOeahOaVsOmHj++8iVxuICAgICAgICAgICAgICAvLyDku47lvZPliY3nlKjmiLfnmoTouqvku73op5LoibLlvIDlp4vvvIzkvp3mrKHlkJHmm7TlsI/nmoTmlbDmja7ojIPlm7Top5LoibLlvqrnjq/mn6Xmib5cbiAgICAgICAgICAgICAgdmFyIHRlbXAgPSBpZGVudGl0eTtcbiAgICAgICAgICAgICAgd2hpbGUgKHRlbXAgPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8g5L6d5qyh5oyJ54Wn5pWw5o2u5p2D6ZmQ6IyD5Zu055Sx5aSn5b6A5bCP55qE6aG65bqP77yM5qOA5p+l6K+l5oi/6Ze055qE6L6T5YWl5b2V5YWl5oOF5Ya1XG4gICAgICAgICAgICAgICAgdmFyIHByb2JsZW1zO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodGVtcCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAvLyDlu7rorr7ljZXkvY3lvZXlhaXnmoTmlbDmja5cbiAgICAgICAgICAgICAgICAgICAgcHJvYmxlbXMgPSBtZWFzdXJlUHJvYmxlbXMuY29uc3RydWN0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgLy8g55uR55CG5Y2V5L2N5b2V5YWl55qE5pWw5o2uXG4gICAgICAgICAgICAgICAgICAgIHByb2JsZW1zID0gbWVhc3VyZVByb2JsZW1zLnN1cGVydmlzaW9uO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgLy8g5pa95bel5Y2V5L2N5b2V5YWl55qE5pWw5o2uXG4gICAgICAgICAgICAgICAgICAgIHByb2JsZW1zID0gbWVhc3VyZVByb2JsZW1zLnJlcGFpcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8g5Zyo5oyH5a6a6KeS6Imy5b2V5YWl5pWw5o2u55qE57uT5p6c6ZuG5Lit77yM5p+l5om+5b2T5YmN5oi/6Ze055qE5pWw5o2u6ZuG5ZCIXG4gICAgICAgICAgICAgICAgdmFyIHJlY29yZHMgPSBfLmZpbHRlcihwcm9ibGVtcywgZnVuY3Rpb24ocCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcC5yb29tX2lkID09PSByb29tLmlkO1xuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICBtZWFzdXJlbWVudF9wb2ludHMgPSAwLFxuICAgICAgICAgICAgICAgICAgcHJvYmxlbV9wb2ludHMgPSAwLFxuICAgICAgICAgICAgICAgICAgZG9uZV9zdGF0dXMgPSB0cnVlLFxuICAgICAgICAgICAgICAgICAgZG9uZV9udW0gPSAwOyAvLyDlpoLmnpzmmK/kuIDkuKrkuIDnuqfmo4Dmn6XpobnnmoTor53vvIznu5/orqHooqvmo4Dmn6XnmoTlrZDpobnmlbDph49cbiAgICAgICAgICAgICAgICBfLmVhY2gocmVjb3JkcywgZnVuY3Rpb24ocmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgICBtZWFzdXJlbWVudF9wb2ludHMgKz0gcmVjb3JkLm1lYXN1cmVtZW50X3BvaW50cyB8fCAwO1xuICAgICAgICAgICAgICAgICAgcHJvYmxlbV9wb2ludHMgKz0gcmVjb3JkLnByb2JsZW1fcG9pbnRzIHx8IDA7XG4gICAgICAgICAgICAgICAgICBkb25lX3N0YXR1cyA9IGRvbmVfc3RhdHVzID8gcmVjb3JkLnN0YXR1cyAhPT0gJ+ajgOafpeS4rScgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIGRvbmVfbnVtICs9IHJlY29yZC5zdGF0dXMgIT09ICfmo4Dmn6XkuK0nID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByb29tLmRvbmVfbnVtW3RlbXBdID0gZG9uZV9udW07XG5cbiAgICAgICAgICAgICAgICBpZiAocmVjb3Jkcy5sZW5ndGggPT09IGNoZWNrSXRlbXMubGVuZ3RoICYmIGRvbmVfc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAvLyDlpoLmnpzojrflj5bliLDmiL/pl7Tmo4Dmn6Xpobnpl67popjnmoTorrDlvZXmlbDvvIzliJrlpb3nrYnkuo7nrZvpgInmo4Dmn6XpobnnmoTmlbDph4/vvIzliJnorqTkuLror6XmiL/pl7TmiYDmnInnmoTmo4Dmn6Xpobnpg73mo4Dmn6Xlrozmr5VcbiAgICAgICAgICAgICAgICAgIHJvb20uZG9uZVt0ZW1wXSA9IHRlbXA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHJvb20uZG9uZVt0ZW1wXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZWNvcmRzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgICByb29tLnByb2JsZW1zW3RlbXBdID0gcmVjb3Jkc1swXSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcm9vbS5wcm9ibGVtc1t0ZW1wXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbWVhc3VyZW1lbnRfcG9pbnRzOiBtZWFzdXJlbWVudF9wb2ludHMsXG4gICAgICAgICAgICAgICAgICAgIHByb2JsZW1fcG9pbnRzOiBwcm9ibGVtX3BvaW50cyxcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hfaWQ6IHJlY29yZHNbMF0uYmF0Y2hfaWQsXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIOe7p+e7reaJvuS4i+S4gOS4quinkuiJsueahOaVsOaNrlxuICAgICAgICAgICAgICAgIHRlbXAtLTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgICAgICAgKiDojrflj5blpJrkuKrouqvku73op5LoibLnmoTlrp7mtYvlrp7ph4/lvZXlhaXmlbDmja7mmI7nu4bvvIjkuI3pnIDopoHmlbTmlLnlrozmiJDvvIznmbvorrDmj5DkuqTmlbTmlLnljbPlj6/vvIlcbiAgICAgICAgICogQHBhcmFtIHByb2pJZCAgICAgICAg6aG555uuSWRcbiAgICAgICAgICogQHBhcmFtIHNlY3Rpb25JZCAgICAg5qCH5q61SWRcbiAgICAgICAgICogQHBhcmFtIGJ1aWxkaW5nSWQgICAg5qW85qCLSWRcbiAgICAgICAgICogQHBhcmFtIHVuaXQgICAgICAgICAg5Y2V5YWDXG4gICAgICAgICAqIEBwYXJhbSBjaGVja0l0ZW1zICAgIFvmo4Dmn6XpoblJZF1cbiAgICAgICAgICogQHBhcmFtIGlkZW50aXRpZXMgICAgWzEsIDIsIDNdXG4gICAgICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSAgIOi/lOWbnuWQhOS4quinkuiJsueahOWunua1i+WunumHj+W9leWFpeaYjue7hu+8iOS9huaYr+inkuiJsuaYr+WPl+WIsGlkZW50aXRpZXPnuqbmnZ/ov4fmu6TnmoTvvIzmsqHmnInmnYPpmZDvvIzliJnkuI3ojrflj5blr7nlupTop5LoibLnmoTmlbDmja7vvIlcbiAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVwYWlyOiBbXSxcbiAgICAgICAgICAgICAgICBzdXBlcnZpc2lvbjogW10sXG4gICAgICAgICAgICAgICAgY29uc3RydWN0OiBbXVxuICAgICAgICAgICAgIH1cbiAgICAgICAgICovXG4gIGdldE1lYXN1cmVEYXRhRGV0YWlsQnlJZGVudGl0aWVzOiBmdW5jdGlvbihcbiAgICBwcm9qSWQsXG4gICAgc2VjdGlvbklkLFxuICAgIGJ1aWxkaW5nSWQsXG4gICAgdW5pdCxcbiAgICBjaGVja0l0ZW1zLFxuICAgIGlkZW50aXRpZXNcbiAgKSB7XG4gICAgdmFyIHByb21pc2VBcnJheSA9IFtdO1xuICAgIC8vIGlkZW50aXRpZXPpm4blkIjvvIzmmK/nlKjmiLfmi6XmnInnmoTmnIDlpKfouqvku73op5LoibLpm4blkIhcbiAgICAvLyDkvovlpoLvvJrnlKjmiLfmmK/nm5HnkIbop5LoibLvvIzpgqPkuYhpZGVudGl0aWVz55qE5YaF5a655Li6WzEsIDJdXG4gICAgLy8gICAgICAg55So5oi35piv5pa95bel6KeS6Imy77yM6YKj5LmIaWRlbnRpdGllc+eahOWGheWuueS4ulsxXVxuICAgIGZvciAoaSA9IDA7IGkgPCBpZGVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IF9zZWxmLmdldE1lYXN1cmVEYXRhRGV0YWlsQnlJZGVudGl0eShcbiAgICAgICAgcHJvaklkLFxuICAgICAgICBzZWN0aW9uSWQsXG4gICAgICAgIGJ1aWxkaW5nSWQsXG4gICAgICAgIHVuaXQsXG4gICAgICAgIGNoZWNrSXRlbXMsXG4gICAgICAgIGlkZW50aXRpZXNbaV1cbiAgICAgICk7XG4gICAgICBwcm9taXNlQXJyYXkucHVzaChwcm9taXNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gJHEuYWxsKHByb21pc2VBcnJheSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICByZXBhaXI6IFtdLFxuICAgICAgICBzdXBlcnZpc2lvbjogW10sXG4gICAgICAgIGNvbnN0cnVjdDogW10sXG4gICAgICB9O1xuXG4gICAgICAvLyDlsIbkuI3lkIzouqvku73op5LoibLlvZXlhaXnmoTmlbDmja7mmI7nu4bvvIzlhbPogZTliLDlr7nlupTop5LoibLnmoTlsZ7mgKfoioLngrnkuIpcbiAgICAgIF8uZWFjaChyZXN1bHQsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgc3dpdGNoIChpdGVtLmlkZW50aXR5KSB7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgZGF0YS5yZXBhaXIgPSBpdGVtLmRhdGE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBkYXRhLnN1cGVydmlzaW9uID0gaXRlbS5kYXRhO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgZGF0YS5jb25zdHJ1Y3QgPSBpdGVtLmRhdGE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICog6I635Y+W5oyH5a6a6Lqr5Lu96KeS6Imy55qE5a6e5rWL5a6e6YeP5b2V5YWl5pWw5o2u5piO57uG77yI5LiN6ZyA6KaB5pW05pS55a6M5oiQ77yM55m76K6w5o+Q5Lqk5pW05pS55Y2z5Y+v77yJXG4gICAqIEBwYXJhbSBwcm9qSWQgICAgICAgIOmhueebrklkXG4gICAqIEBwYXJhbSBzZWN0aW9uSWQgICAgIOagh+autUlkXG4gICAqIEBwYXJhbSBidWlsZGluZ0lkICAgIOalvOagi0lkXG4gICAqIEBwYXJhbSB1bml0ICAgICAgICAgIOWNleWFg1xuICAgKiBAcGFyYW0gY2hlY2tJdGVtcyAgICBb5qOA5p+l6aG5SWRdXG4gICAqIEBwYXJhbSBpZGVudGl0eSAgICAgIOWFt+S9k+eahOi6q+S7veinkuiJslxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIGdldE1lYXN1cmVEYXRhRGV0YWlsQnlJZGVudGl0eTogZnVuY3Rpb24oXG4gICAgcHJvaklkLFxuICAgIHNlY3Rpb25JZCxcbiAgICBidWlsZGluZ0lkLFxuICAgIHVuaXQsXG4gICAgY2hlY2tJdGVtcyxcbiAgICBpZGVudGl0eVxuICApIHtcbiAgICByZXR1cm4gX3NlbGZcbiAgICAgIC5nZXRNZWFzdXJlRGVmYXVsdEJhdGNoKHByb2pJZCwgc2VjdGlvbklkLCBpZGVudGl0eSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGJhdGNoRGF0YSkge1xuICAgICAgICByZXR1cm4gTWVhc3VyZUluc3BlY3RSZXBvc2l0b3J5LmdldE1lYXN1cmVOZXdCYXRjaFJvb21Qcm9ibGVtcyhcbiAgICAgICAgICBiYXRjaERhdGEuaWQsXG4gICAgICAgICAgYnVpbGRpbmdJZCxcbiAgICAgICAgICB1bml0LFxuICAgICAgICAgIGNoZWNrSXRlbXNcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbihwcm9ibGVtcykge1xuICAgICAgICByZXR1cm4gX3NlbGYudW56aXBQcm9ibGVtVmFsdWVzKHByb2JsZW1zKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbihwcm9ibGVtcykge1xuICAgICAgICByZXR1cm4gJHEucmVzb2x2ZSh7XG4gICAgICAgICAgZGF0YTogcHJvYmxlbXMsXG4gICAgICAgICAgaWRlbnRpdHk6IGlkZW50aXR5LFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9LFxuICAvKipcbiAgICog5Yik5pat5b2T5YmN55So5oi355qE6Lqr5Lu96KeS6ImyXG4gICAqICAg5aaC5p6c5LiA5Liq5Lq65ZCM5pe25pyJ5aSa5Liq6Lqr5Lu96KeS6Imy77yM6YKj5LmI5Y+W5pyA5aSn55qE77yI5bu66K6+5Y2V5L2NID4g55uR55CG5Y2V5L2NID4g5pa95bel5Y2V5L2N77yJXG4gICAqIEBwYXJhbSBwcm9qSWRcbiAgICogQHJldHVybnMgeyp9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRNZWFzdXJlVXNlcklkZW50aXR5OiBmdW5jdGlvbihwcm9qSWQpIHtcbiAgICB2YXIgY3VyVXNlciA9IGNvbnRleHQuZ2V0VXNlcigpO1xuICAgIHJldHVybiBIb21lUGFnZVJlcG9zaXRvcnkuZ2V0TW9kdWxlUGVybWlzc2lvbihjdXJVc2VyLnVzZXJfaWQsIFszMSwgMzIsIDMzXSkudGhlbihmdW5jdGlvbihcbiAgICAgIHJvbGVzXG4gICAgKSB7XG4gICAgICBpZiAoXG4gICAgICAgIF8uc29tZShyb2xlcywgZnVuY3Rpb24ocikge1xuICAgICAgICAgIHJldHVybiByLnJvbGVfdHlwZSA9PT0gMzM7XG4gICAgICAgIH0pXG4gICAgICApIHtcbiAgICAgICAgLy8g5bu66K6+5Y2V5L2N6Lqr5Lu9XG4gICAgICAgIHJldHVybiAzO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgXy5zb21lKHJvbGVzLCBmdW5jdGlvbihyKSB7XG4gICAgICAgICAgcmV0dXJuIHIucm9sZV90eXBlID09PSAzMjtcbiAgICAgICAgfSlcbiAgICAgICkge1xuICAgICAgICAvLyDnm5HnkIbljZXkvY3ouqvku71cbiAgICAgICAgcmV0dXJuIDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDmlr3lt6XljZXkvY3ouqvku71cbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIOagueaNrumXrumimElE6I635Y+W55So5oi36KeS6ImyXG4gICAqL1xuICBnZXRJZGVudGl0eUJ5UHJvYmxlbUlkOiBmdW5jdGlvbihwcm9ibGVtSWQpIHtcbiAgICByZXR1cm4gX3NlbGZcbiAgICAgIC5nZXRNZWFzdXJlUHJvYmxlbUJ5SWQocHJvYmxlbUlkKVxuICAgICAgLnRoZW4oZnVuY3Rpb24ocCkge1xuICAgICAgICByZXR1cm4gcDtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbihwKSB7XG4gICAgICAgIHJldHVybiBCYXRjaFJlcG9zaXRvcnkuZ2V0QmF0Y2gocC5iYXRjaF9pZCkudGhlbihmdW5jdGlvbihiYXRjaCkge1xuICAgICAgICAgIHZhciBpZGVudGl0eTtcblxuICAgICAgICAgIGlmIChiYXRjaC5uYW1lLmluZGV4T2YoJ+m7mOiupOaJueasoS3mlr3lt6XljZXkvY0nKSA+IC0xKSB7XG4gICAgICAgICAgICBpZGVudGl0eSA9IDE7XG4gICAgICAgICAgfSBlbHNlIGlmIChiYXRjaC5uYW1lLmluZGV4T2YoJ+m7mOiupOaJueasoS3nm5HnkIbljZXkvY0nKSA+IC0xKSB7XG4gICAgICAgICAgICBpZGVudGl0eSA9IDI7XG4gICAgICAgICAgfSBlbHNlIGlmIChiYXRjaC5uYW1lLmluZGV4T2YoJ+m7mOiupOaJueasoS3lu7rorr7ljZXkvY0nKSA+IC0xKSB7XG4gICAgICAgICAgICBpZGVudGl0eSA9IDM7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICog6I635Y+W5a6e5rWL5a6e6YePKOaWsCnnmoTpu5jorqTmibnmrKFcbiAgICogQHBhcmFtIHByb2pJZCAgICDpobnnm65cbiAgICogQHBhcmFtIHNlY3Rpb25JZCDmoIfmrrVcbiAgICogQHBhcmFtIGlkZW50aXR5ICDlvZPliY3nlKjmiLfnmoTouqvku73op5LoibJcbiAgICovXG4gIGdldE1lYXN1cmVEZWZhdWx0QmF0Y2g6IGZ1bmN0aW9uKHByb2pJZCwgc2VjdGlvbklkLCBpZGVudGl0eSkge1xuICAgIHJldHVybiBCYXRjaFJlcG9zaXRvcnkuZ2V0UHJvamVjdEJhdGNoQnlJZGVudGl0eShcbiAgICAgIHByb2pJZCxcbiAgICAgIHNlY3Rpb25JZCxcbiAgICAgIGlkZW50aXR5LFxuICAgICAgJ+Wunua1i+WunumHjyjmlrApJ1xuICAgICkudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICBkYXRhICYmIChkYXRhLmlkZW50aXR5ID0gaWRlbnRpdHkpO1xuICAgICAgcmV0dXJuIGRhdGEgfHwge307XG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgICAgICAgKiDojrflj5bmiYDmnInlrp7mtYvlrp7ph4/mo4Dmn6XpobnlpIfpgInpoblcbiAgICAgICAgICAgICB7aWQ6IDEgLCBuYW1lOiAn5re35Yed5Zyf5bel56iLJyxzdWJpdGVtOiBbXG4gICAgICAgICAgICAgICAgICB7aWQ6MTIzNDU2Nzg5MCAsIG5hbWU6ICflpJblopnpnaLlubPmlbTluqYnfSxcbiAgICAgICAgICAgICAgICAgIHtpZDoxMiAsICAgICAgICAgbmFtZTogJ+WeguebtOW6pid9XG4gICAgICAgICAgICAgXX0sXG4gICAgICAgICAgICAge2lkOiAxICwgbmFtZTogJ+a3t+WHneWcn+W3peeoiycsIHN1Yml0ZW06IFtcbiAgICAgICAgICAgICAgICAgIHtpZDoxMjM0NTY3ODkwICwgbmFtZTogJ+WkluWimemdouW5s+aVtOW6pid9LFxuICAgICAgICAgICAgICAgICAge2lkOjEyICwgICAgICAgICBuYW1lOiAn5Z6C55u05bqmJ31cbiAgICAgICAgICAgICBdfVxuICAgICAgICAgKi9cbiAgZ2V0QWxsTWVhc3VyZUNoZWNrSXRlbXM6IGZ1bmN0aW9uKHNlY3Rpb25JZCkge1xuICAgIC8vIOWunua1i+WunumHj++8jOajgOafpemhueWIl+ihqOeahOWxleW8gC/lhbPpl63kv6Hmga9cbiAgICB2YXIgbWVtb3J5ID0gbG9jYWxTdG9yYWdlLmdldE9iamVjdCgnTWVhc3VyZUNoZWNrSXRlbU1lbW9yeScpIHx8IHt9O1xuXG4gICAgcmV0dXJuICRxXG4gICAgICAud2hlbigpXG4gICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKENvbW1vbkJhc2VkYXRhU2VydmljZS5tZWFzdXJlQ2hlY2tJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gXy5maWx0ZXIoQ29tbW9uQmFzZWRhdGFTZXJ2aWNlLm1lYXN1cmVDaGVja0l0ZW1zLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS5zZWNfaWQgPT09IHNlY3Rpb25JZDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gQmlkU2VjdGlvbkNoZWNrSXRlbVJlcG9zaXRvcnkuZ2V0QmlkU2VjdGlvbkNoZWNrSXRlbUxpc3Qoc2VjdGlvbklkLCA0MSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbihjaGVja0l0ZW1zKSB7XG4gICAgICAgIHZhciBjaGVja0l0ZW1MaXN0ID0gW10sXG4gICAgICAgICAgcm9vdEl0ZW1PYmplY3QgPSB7fSxcbiAgICAgICAgICBsZXZlbE9uZUl0ZW0gPSB7fTtcblxuICAgICAgICBfLmVhY2goY2hlY2tJdGVtcywgZnVuY3Rpb24oY2hlY2tJdGVtLCBpbmRleCkge1xuICAgICAgICAgIGlmIChjaGVja0l0ZW0gJiYgY2hlY2tJdGVtLnBhcmVudF9pdGVtX2Z1bGxfbmFtZSAhPT0gJ+Wunua1i+WunumHjycpIHtcbiAgICAgICAgICAgIGlmICghcm9vdEl0ZW1PYmplY3RbY2hlY2tJdGVtLnBhcmVudF9pdGVtX2lkXSkge1xuICAgICAgICAgICAgICBsZXZlbE9uZUl0ZW0gPSByb290SXRlbU9iamVjdFtjaGVja0l0ZW0ucGFyZW50X2l0ZW1faWRdID0ge1xuICAgICAgICAgICAgICAgIGlkOiBjaGVja0l0ZW0ucGFyZW50X2l0ZW1faWQsXG4gICAgICAgICAgICAgICAgbmFtZTogY2hlY2tJdGVtLnBhcmVudF9pdGVtX2Z1bGxfbmFtZSxcbiAgICAgICAgICAgICAgICBmdWxsX25hbWU6IGNoZWNrSXRlbS5wYXJlbnRfaXRlbV9mdWxsX25hbWUsXG4gICAgICAgICAgICAgICAgcHJvY2Vzc19tb2RlOiBjaGVja0l0ZW0ucHJvY2Vzc19tb2RlLFxuICAgICAgICAgICAgICAgIHN1Yml0ZW06IFtdLFxuICAgICAgICAgICAgICAgIGlzT3BlbjogISFtZW1vcnlbY2hlY2tJdGVtLnBhcmVudF9pdGVtX2lkXSxcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBjaGVja0l0ZW1MaXN0LnB1c2gobGV2ZWxPbmVJdGVtKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcm9vdEl0ZW1PYmplY3RbY2hlY2tJdGVtLnBhcmVudF9pdGVtX2lkXS5zdWJpdGVtLnB1c2goe1xuICAgICAgICAgICAgICBpZDogY2hlY2tJdGVtLml0ZW1faWQsXG4gICAgICAgICAgICAgIG5hbWU6IGNoZWNrSXRlbS5pdGVtX25hbWUsXG4gICAgICAgICAgICAgIGZ1bGxfbmFtZTogY2hlY2tJdGVtLmZ1bGxfbmFtZSxcbiAgICAgICAgICAgICAgcHJvY2Vzc19tb2RlOiBjaGVja0l0ZW0ucHJvY2Vzc19tb2RlLFxuICAgICAgICAgICAgICBwYXJlbnRfaWQ6IGNoZWNrSXRlbS5wYXJlbnRfaXRlbV9pZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNoZWNrSXRlbUxpc3Q7XG4gICAgICB9KTtcbiAgfSxcblxuICAvLyDojrflj5blrp7mtYvlrp7ph4/nmoTmoIfmrrXmpbzmoIvmo4Dmn6XpoblcbiAgZ2V0QWxsTWVhc3VyZUJ1aWxkaW5nQ2hlY2tJdGVtczogZnVuY3Rpb24oc2VjdGlvbklkLCBidWlsZGluZ19pZCkge1xuICAgIHJldHVybiBNZWFzdXJlSW5zcGVjdFJlcG9zaXRvcnkuZ2V0QWxsTWVhc3VyZUJ1aWxkaW5nQ2hlY2tJdGVtcyhzZWN0aW9uSWQsIGJ1aWxkaW5nX2lkKS50aGVuKFxuICAgICAgZnVuY3Rpb24oY2hlY2tJdGVtcykge1xuICAgICAgICB2YXIgZGF0YSA9IF8uZ3JvdXBCeShjaGVja0l0ZW1zLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW0ucHBfaXRlbV9uYW1lO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGtleXMgPSBfLmtleXMoZGF0YSk7XG5cbiAgICAgICAgdmFyIGNoZWNrSXRlbUxpc3QgPSBbXTtcblxuICAgICAgICBfLmVhY2goa2V5cywgZnVuY3Rpb24oaykge1xuICAgICAgICAgIHZhciBwID0geyBpZDogZGF0YVtrXVswXS5wcF9pdGVtX2lkLCBuYW1lOiBrLCBzdWJpdGVtOiBbXSB9O1xuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhW2tdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYyA9IHtcbiAgICAgICAgICAgICAgaWQ6IGRhdGFba11baV0ucGNfaXRlbV9pZCwgLy8g5LqM57qn6Zeu6aKYSWRcbiAgICAgICAgICAgICAgbmFtZTogZGF0YVtrXVtpXS5wY19pdGVtX25hbWUsIC8vIOajgOafpemhueWQjeensFxuICAgICAgICAgICAgICBmdWxsX25hbWU6IGRhdGFba11baV0ucGNfZnVsbF9uYW1lLFxuICAgICAgICAgICAgICBwcm9jZXNzX21vZGU6IGRhdGFba11baV0ucHJvY2Vzc19tb2RlLFxuICAgICAgICAgICAgICBub3RlOiBbJycsICfliIbmiLcnLCAn5LiN5YiG5Y2V5YWD5pW05bGCJywgJ+aVtOagiycsICcnLCAn5YiG5Y2V5YWD5pW05bGCJ11bZGF0YVtrXVtpXS5wcm9jZXNzX21vZGVdLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcC5zdWJpdGVtLnB1c2goYyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2hlY2tJdGVtTGlzdC5wdXNoKHApO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gJHEucmVzb2x2ZShjaGVja0l0ZW1MaXN0KTtcbiAgICAgIH1cbiAgICApO1xuICB9LFxuXG4gIGluZm9ybVJlcGFpcjogZnVuY3Rpb24ocHJvYmxlbSwgc3RhdHVzKSB7XG4gICAgcmV0dXJuIE1lYXN1cmVJbnNwZWN0UmVwb3NpdG9yeS5jaGFuZ2VQcm9ibGVtU3RhdHVzKHByb2JsZW0uaWQsIHN0YXR1cylcbiAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gX3NlbGYuY2hhbmdlU2luZ2xlUm9vbVJlcGFpcihwcm9ibGVtLCBmYWxzZSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBEYXRhU3luY2hyb25pemVyLmFkZFN5bmNHcm91cChbXG4gICAgICAgICAgWydjaGVja3F1YWxpdHlfcHJvYmxlbScsIHByb2JsZW0uaWRdLFxuICAgICAgICAgIFsnY2hlY2txdWFsaXR5X3JlcGFpcicsIHByb2JsZW0uaWRdLFxuICAgICAgICAgIFsnY2hlY2txdWFsaXR5X2NjJywgcHJvYmxlbS5pZF0sXG4gICAgICAgIF0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAkbG9nLmVycm9yKGVycm9yKTtcbiAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnJvcik7XG4gICAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAgICAgICAqIOiOt+WPluWkmuS4qui6q+S7veinkuiJsueahOWunua1i+WunumHj+W9leWFpeaVsOaNruaYjue7huKAlOKAlOWNleaIv+WNlemhueaYjue7hlxuICAgICAgICAgKiBAcGFyYW0gcHJvaklkICAgICAgICDpobnnm65JZFxuICAgICAgICAgKiBAcGFyYW0gc2VjdGlvbklkICAgICDmoIfmrrVJZFxuICAgICAgICAgKiBAcGFyYW0gcm9vbUlkICAgICAgICDmiL/pl7RJZFxuICAgICAgICAgKiBAcGFyYW0gaXRlbUlkICAgICAgICDmo4Dmn6XpoblJZFxuICAgICAgICAgKiBAcGFyYW0gaWRlbnRpdGllcyAgICBbMSwgMiwgM11cbiAgICAgICAgICogQHJldHVybnMge1Byb21pc2V9ICAg6L+U5Zue5ZCE5Liq6KeS6Imy55qE5a6e5rWL5a6e6YeP5b2V5YWl5piO57uG4oCU4oCU5Y2V5oi/5Y2V6aG55piO57uG77yI5L2G5piv6KeS6Imy5piv5Y+X5YiwaWRlbnRpdGllc+e6puadn+i/h+a7pOeahO+8jOayoeacieadg+mZkO+8jOWImeS4jeiOt+WPluWvueW6lOinkuiJsueahOaVsOaNru+8iVxuICAgICAgICAge1xuICAgICAgICAgICAgcmVwYWlyOiBbXSxcbiAgICAgICAgICAgIHN1cGVydmlzaW9uOiBbXSxcbiAgICAgICAgICAgIGNvbnN0cnVjdDogW11cbiAgICAgICAgIH1cbiAgICAgICAgICovXG4gIGdldE1lYXN1cmVSb29tSXRlbURldGFpbEJ5SWRlbnRpdGllczogZnVuY3Rpb24ocHJvaklkLCBzZWN0aW9uSWQsIHJvb21JZCwgaXRlbUlkLCBpZGVudGl0aWVzKSB7XG4gICAgdmFyIHByb21pc2VBcnJheSA9IFtdO1xuICAgIC8vIGlkZW50aXRpZXPpm4blkIjvvIzmmK/nlKjmiLfmi6XmnInnmoTmnIDlpKfouqvku73op5LoibLpm4blkIhcbiAgICAvLyDkvovlpoLvvJrnlKjmiLfmmK/nm5HnkIbop5LoibLvvIzpgqPkuYhpZGVudGl0aWVz55qE5YaF5a655Li6WzEsIDJdXG4gICAgLy8gICAgICAg55So5oi35piv5pa95bel6KeS6Imy77yM6YKj5LmIaWRlbnRpdGllc+eahOWGheWuueS4ulsxXVxuICAgIGZvciAoaSA9IDA7IGkgPCBpZGVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IF9zZWxmLmdldE1lYXN1cmVSb29tSXRlbURldGFpbEJ5SWRlbnRpdHkoXG4gICAgICAgIHByb2pJZCxcbiAgICAgICAgc2VjdGlvbklkLFxuICAgICAgICByb29tSWQsXG4gICAgICAgIGl0ZW1JZCxcbiAgICAgICAgaWRlbnRpdGllc1tpXVxuICAgICAgKTtcbiAgICAgIHByb21pc2VBcnJheS5wdXNoKHByb21pc2UpO1xuICAgIH1cblxuICAgIHJldHVybiAkcS5hbGwocHJvbWlzZUFycmF5KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgIHJlcGFpcjogW10sXG4gICAgICAgIHN1cGVydmlzaW9uOiBbXSxcbiAgICAgICAgY29uc3RydWN0OiBbXSxcbiAgICAgIH07XG5cbiAgICAgIC8vIOWwhuS4jeWQjOi6q+S7veinkuiJsuW9leWFpeeahOaVsOaNruaYjue7hu+8jOWFs+iBlOWIsOWvueW6lOinkuiJsueahOWxnuaAp+iKgueCueS4ilxuICAgICAgXy5lYWNoKHJlc3VsdCwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBzd2l0Y2ggKGl0ZW0uaWRlbnRpdHkpIHtcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBkYXRhLnJlcGFpciA9IGl0ZW0uZGF0YTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGRhdGEuc3VwZXJ2aXNpb24gPSBpdGVtLmRhdGE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBkYXRhLmNvbnN0cnVjdCA9IGl0ZW0uZGF0YTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiDojrflj5bmjIflrprouqvku73op5LoibLnmoTlrp7mtYvlrp7ph4/lvZXlhaXmlbDmja7mmI7nu4bigJTigJTljZXmiL/ljZXpobnmmI7nu4ZcbiAgICogQHBhcmFtIHByb2pJZCAgICAgICAg6aG555uuSWRcbiAgICogQHBhcmFtIHNlY3Rpb25JZCAgICAg5qCH5q61SWRcbiAgICogQHBhcmFtIHJvb21JZCAgICAgICAg5oi/6Ze0SWRcbiAgICogQHBhcmFtIGl0ZW1JZCAgICAgICAg5qOA5p+l6aG5SWRcbiAgICogQHBhcmFtIGlkZW50aXR5ICAgICAg5YW35L2T55qE6Lqr5Lu96KeS6ImyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgZ2V0TWVhc3VyZVJvb21JdGVtRGV0YWlsQnlJZGVudGl0eTogZnVuY3Rpb24ocHJvaklkLCBzZWN0aW9uSWQsIHJvb21JZCwgaXRlbUlkLCBpZGVudGl0eSkge1xuICAgIHJldHVybiBfc2VsZlxuICAgICAgLmdldE1lYXN1cmVEZWZhdWx0QmF0Y2gocHJvaklkLCBzZWN0aW9uSWQsIGlkZW50aXR5KVxuICAgICAgLnRoZW4oZnVuY3Rpb24oYmF0Y2hEYXRhKSB7XG4gICAgICAgIHJldHVybiBNZWFzdXJlSW5zcGVjdFJlcG9zaXRvcnkuZ2V0TWVhc3VyZU5ld1Jvb21JdGVtUHJvYmxlbShiYXRjaERhdGEuaWQsIHJvb21JZCwgaXRlbUlkKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbihwcm9ibGVtcykge1xuICAgICAgICByZXR1cm4gX3NlbGYudW56aXBQcm9ibGVtVmFsdWVzKHByb2JsZW1zKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbihwcm9ibGVtKSB7XG4gICAgICAgIGlmIChfLmlzRW1wdHkocHJvYmxlbSkpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YTogcHJvYmxlbSxcbiAgICAgICAgICAgIGlkZW50aXR5OiBpZGVudGl0eSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIENoZWNrUXVhbGl0eVByb2JsZW1DQ1JlcG9zaXRvcnkuZ2V0Q0MocHJvYmxlbVswXS5pZCkudGhlbihmdW5jdGlvbihjY0xpc3QpIHtcbiAgICAgICAgICBwcm9ibGVtWzBdLmNjID0gY2NMaXN0O1xuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IHByb2JsZW0sXG4gICAgICAgICAgICBpZGVudGl0eTogaWRlbnRpdHksXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfSxcblxuICAvKiDojrflj5bmjInlsYLnp7vkuqTnmoTlrp7mtYvlrp7ph4/mlbDmja5cbiAgICovXG4gIGdldE1lYXN1cmVGbG9vckRldGFpbEJ5SWRlbnRpdHk6IGZ1bmN0aW9uKFxuICAgIHByb2pJZCxcbiAgICBzZWN0aW9uSWQsXG4gICAgYnVpbGRpbmdJZCxcbiAgICB1bml0LFxuICAgIGZsb29yLFxuICAgIGl0ZW1JZCxcbiAgICBpZGVudGl0eVxuICApIHtcbiAgICByZXR1cm4gX3NlbGZcbiAgICAgIC5nZXRNZWFzdXJlRGVmYXVsdEJhdGNoKHByb2pJZCwgc2VjdGlvbklkLCBpZGVudGl0eSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGJhdGNoRGF0YSkge1xuICAgICAgICByZXR1cm4gTWVhc3VyZUluc3BlY3RSZXBvc2l0b3J5LmdldE1lYXN1cmVOZXdGbG9vclByb2JsZW0oXG4gICAgICAgICAgYmF0Y2hEYXRhLmlkLFxuICAgICAgICAgIGJ1aWxkaW5nSWQsXG4gICAgICAgICAgdW5pdCxcbiAgICAgICAgICBmbG9vcixcbiAgICAgICAgICBpdGVtSWRcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbihwcm9ibGVtKSB7XG4gICAgICAgIHJldHVybiBfc2VsZi51bnppcFByb2JsZW1WYWx1ZXMocHJvYmxlbSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24ocHJvYmxlbSkge1xuICAgICAgICBpZiAoXy5pc0VtcHR5KHByb2JsZW0pKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IHByb2JsZW0sXG4gICAgICAgICAgICBpZGVudGl0eTogaWRlbnRpdHksXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBDaGVja1F1YWxpdHlQcm9ibGVtQ0NSZXBvc2l0b3J5LmdldENDKHByb2JsZW1bMF0uaWQpLnRoZW4oZnVuY3Rpb24oY2NMaXN0KSB7XG4gICAgICAgICAgcHJvYmxlbVswXS5jYyA9IGNjTGlzdDtcblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiBwcm9ibGVtLFxuICAgICAgICAgICAgaWRlbnRpdHk6IGlkZW50aXR5LFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH0sXG5cbiAgZ2V0TWVhc3VyZUZsb29yRGV0YWlsQnlJZGVudGl0eXM6IGZ1bmN0aW9uKFxuICAgIHByb2pJZCxcbiAgICBzZWN0aW9uSWQsXG4gICAgYnVpbGRpbmdJZCxcbiAgICB1bml0LFxuICAgIGZsb29yLFxuICAgIGl0ZW1JZCxcbiAgICBpZGVudGl0aWVzXG4gICkge1xuICAgIHZhciBwcm9taXNlQXJyYXkgPSBbXTtcbiAgICAvLyBpZGVudGl0aWVz6ZuG5ZCI77yM5piv55So5oi35oul5pyJ55qE5pyA5aSn6Lqr5Lu96KeS6Imy6ZuG5ZCIXG4gICAgLy8g5L6L5aaC77ya55So5oi35piv55uR55CG6KeS6Imy77yM6YKj5LmIaWRlbnRpdGllc+eahOWGheWuueS4ulsxLCAyXVxuICAgIC8vICAgICAgIOeUqOaIt+aYr+aWveW3peinkuiJsu+8jOmCo+S5iGlkZW50aXRpZXPnmoTlhoXlrrnkuLpbMV1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBpZGVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IF9zZWxmLmdldE1lYXN1cmVGbG9vckRldGFpbEJ5SWRlbnRpdHkoXG4gICAgICAgIHByb2pJZCxcbiAgICAgICAgc2VjdGlvbklkLFxuICAgICAgICBidWlsZGluZ0lkLFxuICAgICAgICB1bml0LFxuICAgICAgICBmbG9vcixcbiAgICAgICAgaXRlbUlkLFxuICAgICAgICBpZGVudGl0aWVzW2ldXG4gICAgICApO1xuICAgICAgcHJvbWlzZUFycmF5LnB1c2gocHJvbWlzZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICRxLmFsbChwcm9taXNlQXJyYXkpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgcmVwYWlyOiBbXSxcbiAgICAgICAgc3VwZXJ2aXNpb246IFtdLFxuICAgICAgICBjb25zdHJ1Y3Q6IFtdLFxuICAgICAgfTtcblxuICAgICAgLy8g5bCG5LiN5ZCM6Lqr5Lu96KeS6Imy5b2V5YWl55qE5pWw5o2u5piO57uG77yM5YWz6IGU5Yiw5a+55bqU6KeS6Imy55qE5bGe5oCn6IqC54K55LiKXG4gICAgICBfLmVhY2gocmVzdWx0LCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHN3aXRjaCAoaXRlbS5pZGVudGl0eSkge1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGRhdGEucmVwYWlyID0gaXRlbS5kYXRhO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgZGF0YS5zdXBlcnZpc2lvbiA9IGl0ZW0uZGF0YTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGRhdGEuY29uc3RydWN0ID0gaXRlbS5kYXRhO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICog6Kej5Y6L57yp6Zeu6aKYIHByb2JsZW1fdmFsdWVzIOWtl+autVxuICAgKiBAcGFyYW0gaW5wdXQgT2JqZWN0IHwgQXJyYXlcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICB1bnppcFByb2JsZW1WYWx1ZXM6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgcmV0dXJuICRxLndoZW4oaW5wdXQpO1xuICAgIH1cblxuICAgIGxldCBwcm9ibGVtcyA9IF8uaXNBcnJheShpbnB1dCkgPyBpbnB1dCA6IFtpbnB1dF07XG5cbiAgICByZXR1cm4gJHFcbiAgICAgIC5hbGwoXG4gICAgICAgIF8ubWFwKHByb2JsZW1zLCBmdW5jdGlvbihwcm9ibGVtKSB7XG4gICAgICAgICAgaWYgKHByb2JsZW0ucHJvYmxlbV92YWx1ZXNfemlwICYmICFwcm9ibGVtLnByb2JsZW1fdmFsdWVzKSB7XG4gICAgICAgICAgICByZXR1cm4gVXRpbHMudW56aXBTdHJpbmcocHJvYmxlbS5wcm9ibGVtX3ZhbHVlc196aXApXG4gICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHN0cikge1xuICAgICAgICAgICAgICAgIHByb2JsZW0ucHJvYmxlbV92YWx1ZXMgPSBzdHI7XG4gICAgICAgICAgICAgICAgLy8g5ZCM5pe25oqK6Kej5Y6L57yp55qE5a2X56ym5Liy5YaZ5YWlIERCXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1lYXN1cmVJbnNwZWN0UmVwb3NpdG9yeS51cGRhdGVQcm9ibGVtKHByb2JsZW0uaWQsIHtcbiAgICAgICAgICAgICAgICAgIHByb2JsZW1fdmFsdWVzOiBzdHIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9ibGVtO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICRxLndoZW4oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgfSk7XG4gIH0sXG5cbiAgZ2V0TWVhc3VyZUluc3BlY3RCYXRjaFJvb21TdGF0dXM6IGZ1bmN0aW9uKGJhdGNoSWQsIGNoZWNrSXRlbUlkKSB7XG4gICAgcmV0dXJuIE1lYXN1cmVJbnNwZWN0UmVwb3NpdG9yeS5nZXRNZWFzdXJlSW5zcGVjdEJhdGNoUm9vbVN0YXR1cyhiYXRjaElkLCBjaGVja0l0ZW1JZCk7XG4gIH0sXG5cbiAgZ2V0TWVhc3VyZUluc3BlY3RTdGF0aXN0aWNhbERhdGE6IGZ1bmN0aW9uKGJhdGNoSWQpIHtcbiAgICByZXR1cm4gTWVhc3VyZUluc3BlY3RSZXBvc2l0b3J5LmdldE1lYXN1cmVJbnNwZWN0U3RhdGlzdGljYWxEYXRhKGJhdGNoSWQpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgdmFyIHRvcENoZWNrSXRlbSA9IHtcbiAgICAgICAgICAvKiBpZDoge1xuICAgICAgICAgICAgbmFtZTogJ+S4gOe6p+ajgOafpemhuScsXG4gICAgICAgICAgICBkYXRhOiBbe2lkLG5hbWUsbXAscHB9XSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogJydcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ+S6jOe6p+ajgOafpemhuScsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IFt7aWQsbmFtZSxtcCxwcH1dXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9ICovXG4gICAgICAgIH0sXG4gICAgICAgIGxlYWZDaGVja0l0ZW0gPSB7fSxcbiAgICAgICAgdG90YWwgPSB7XG4gICAgICAgICAgaWQ6ICdzdW0nLFxuICAgICAgICAgIG5hbWU6ICfmgLvorqEnLFxuICAgICAgICAgIGRhdGE6IFt7IGlkOiAnc3VtJywgbXA6IDAsIHBwOiAwLCBuYW1lOiAn5oC76K6hJyB9XSxcbiAgICAgICAgfTtcblxuICAgICAgXy5lYWNoKGRhdGEsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdmFyIG8sXG4gICAgICAgICAgcm9vbV9uYW1lID1cbiAgICAgICAgICAgIGl0ZW0uYnVpbGRpbmdfbmFtZSArXG4gICAgICAgICAgICAoaXRlbS51bml0ID8gaXRlbS51bml0LnJlcGxhY2UoJ+WNleWFgycsICcnKSArICfljZXlhYMnIDogJycpICtcbiAgICAgICAgICAgICc8YnI+JyArXG4gICAgICAgICAgICBpdGVtLnJvb21fbm87XG5cbiAgICAgICAgaWYgKCF0b3BDaGVja0l0ZW1baXRlbS5wYXJlbnRfaWRdKSB7XG4gICAgICAgICAgdG9wQ2hlY2tJdGVtW2l0ZW0ucGFyZW50X2lkXSA9IHtcbiAgICAgICAgICAgIG5hbWU6IGl0ZW0ucGFyZW50X25hbWUsXG4gICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgICAgICBkYXRhOiBbeyBpZDogJ3N1bScsIG1wOiAwLCBwcDogMCwgbmFtZTogJ+WQiOagvOeOhycgfV0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbGVhZkNoZWNrSXRlbVtpdGVtLmlkXSkge1xuICAgICAgICAgIGxlYWZDaGVja0l0ZW1baXRlbS5pZF0gPSB7XG4gICAgICAgICAgICBuYW1lOiBpdGVtLml0ZW1fbmFtZSxcbiAgICAgICAgICAgIGRhdGE6IFt7IGlkOiAnc3VtJywgbXA6IDAsIHBwOiAwLCBuYW1lOiAn5ZCI5qC8546HJyB9XSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgbyA9IHtcbiAgICAgICAgICBpZDogaXRlbS5yb29tX2lkLFxuICAgICAgICAgIG5hbWU6IHJvb21fbmFtZSxcbiAgICAgICAgICBtcDogaXRlbS5tX3BvaW50cyB8fCAwLFxuICAgICAgICAgIHBwOiBpdGVtLnBfcG9pbnRzIHx8IDAsXG4gICAgICAgIH07XG5cbiAgICAgICAgbGVhZkNoZWNrSXRlbVtpdGVtLmlkXS5kYXRhLnB1c2gobyk7XG5cbiAgICAgICAgaWYgKCFfLmZpbmQodG9wQ2hlY2tJdGVtW2l0ZW0ucGFyZW50X2lkXS5jaGlsZHJlbiwgeyBpZDogaXRlbS5pZCB9KSkge1xuICAgICAgICAgIHRvcENoZWNrSXRlbVtpdGVtLnBhcmVudF9pZF0uY2hpbGRyZW4ucHVzaCh7XG4gICAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICAgIG5hbWU6IGxlYWZDaGVja0l0ZW1baXRlbS5pZF0ubmFtZSxcbiAgICAgICAgICAgIGRhdGE6IGxlYWZDaGVja0l0ZW1baXRlbS5pZF0uZGF0YSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyDmn5DkuIDnuqfmo4Dmn6XpobnljZXmiL/nu5/orqHmlbDmja5cbiAgICAgICAgdmFyIHNpbmdsZUl0ZW1Sb29tVG90YWwgPSBfLmZpbmQodG9wQ2hlY2tJdGVtW2l0ZW0ucGFyZW50X2lkXS5kYXRhLCB7XG4gICAgICAgICAgaWQ6IGl0ZW0ucm9vbV9pZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFzaW5nbGVJdGVtUm9vbVRvdGFsKSB7XG4gICAgICAgICAgc2luZ2xlSXRlbVJvb21Ub3RhbCA9IHtcbiAgICAgICAgICAgIGlkOiBpdGVtLnJvb21faWQsXG4gICAgICAgICAgICBuYW1lOiByb29tX25hbWUsXG4gICAgICAgICAgICBtcDogMCxcbiAgICAgICAgICAgIHBwOiAwLFxuICAgICAgICAgIH07XG4gICAgICAgICAgdG9wQ2hlY2tJdGVtW2l0ZW0ucGFyZW50X2lkXS5kYXRhLnB1c2goc2luZ2xlSXRlbVJvb21Ub3RhbCk7XG4gICAgICAgIH1cblxuICAgICAgICBzaW5nbGVJdGVtUm9vbVRvdGFsLm1wICs9IGl0ZW0ubV9wb2ludHMgfHwgMDtcbiAgICAgICAgc2luZ2xlSXRlbVJvb21Ub3RhbC5wcCArPSBpdGVtLnBfcG9pbnRzIHx8IDA7XG5cbiAgICAgICAgdG9wQ2hlY2tJdGVtW2l0ZW0ucGFyZW50X2lkXS5kYXRhWzBdLm1wICs9IGl0ZW0ubV9wb2ludHMgfHwgMDtcbiAgICAgICAgdG9wQ2hlY2tJdGVtW2l0ZW0ucGFyZW50X2lkXS5kYXRhWzBdLnBwICs9IGl0ZW0ucF9wb2ludHMgfHwgMDtcblxuICAgICAgICBsZWFmQ2hlY2tJdGVtW2l0ZW0uaWRdLmRhdGFbMF0ubXAgKz0gaXRlbS5tX3BvaW50cyB8fCAwO1xuICAgICAgICBsZWFmQ2hlY2tJdGVtW2l0ZW0uaWRdLmRhdGFbMF0ucHAgKz0gaXRlbS5wX3BvaW50cyB8fCAwO1xuXG4gICAgICAgIHZhciBzaW5nbGVSb29tVG90YWwgPSBfLmZpbmQodG90YWwuZGF0YSwgeyBpZDogaXRlbS5yb29tX2lkIH0pO1xuXG4gICAgICAgIGlmICghc2luZ2xlUm9vbVRvdGFsKSB7XG4gICAgICAgICAgc2luZ2xlUm9vbVRvdGFsID0ge1xuICAgICAgICAgICAgaWQ6IGl0ZW0ucm9vbV9pZCxcbiAgICAgICAgICAgIG5hbWU6IHJvb21fbmFtZSxcbiAgICAgICAgICAgIG1wOiAwLFxuICAgICAgICAgICAgcHA6IDAsXG4gICAgICAgICAgfTtcbiAgICAgICAgICB0b3RhbC5kYXRhLnB1c2goc2luZ2xlUm9vbVRvdGFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNpbmdsZVJvb21Ub3RhbC5tcCArPSBpdGVtLm1fcG9pbnRzIHx8IDA7XG4gICAgICAgIHNpbmdsZVJvb21Ub3RhbC5wcCArPSBpdGVtLnBfcG9pbnRzIHx8IDA7XG5cbiAgICAgICAgdG90YWwuZGF0YVswXS5tcCArPSBpdGVtLm1fcG9pbnRzIHx8IDA7XG4gICAgICAgIHRvdGFsLmRhdGFbMF0ucHAgKz0gaXRlbS5wX3BvaW50cyB8fCAwO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBoYW5kZWREYXRhID0gW107XG4gICAgICBfLmVhY2godG9wQ2hlY2tJdGVtLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGhhbmRlZERhdGEucHVzaChfLmV4dGVuZCh2YWx1ZSwgeyBpZDoga2V5IH0pKTtcbiAgICAgIH0pO1xuXG4gICAgICBoYW5kZWREYXRhLnB1c2godG90YWwpO1xuICAgICAgcmV0dXJuIGhhbmRlZERhdGE7XG4gICAgfSk7XG4gIH0sXG5cbiAgdW5pcXVlTWVhc3VyZVByb2JsZW06IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgIC8vIOWtmOWcqOWGsueqgeeahOS6jOe6p+mXrumimO+8jOiiq+W/veeVpVxuICAgIHZhciBwcm9ibGVtID0gcmVzdWx0LnByb2JsZW07XG4gICAgJGxvZy5sb2coJ+WtmOWcqOWGsueqgeeahOmXrumimO+8jOa4heeQhuacrOWcsOaXoOaViOaVsOaNru+8jOacjeWKoeWZqOi/lOWbnueahOaVsOaNricsIHJlc3VsdCk7XG4gICAgcmV0dXJuIE1lYXN1cmVJbnNwZWN0UmVwb3NpdG9yeS51bmlxdWVNZWFzdXJlUHJvYmxlbShcbiAgICAgIHByb2JsZW0uYmF0Y2hfaWQsXG4gICAgICBwcm9ibGVtLmlkLFxuICAgICAgcHJvYmxlbS5pdGVtX2lkLFxuICAgICAgcHJvYmxlbS5yb29tX2lkXG4gICAgKTtcbiAgfSxcblxuICB1bmlxdWVNZWFzdXJlRmxvb3JQcm9ibGVtOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICB2YXIgcHJvYmxlbSA9IHJlc3VsdC5wcm9ibGVtO1xuICAgICRsb2cubG9nKCflrZjlnKjlhrLnqoHnmoTpl67popjvvIzmuIXnkIbmnKzlnLDml6DmlYjmlbDmja7vvIzmnI3liqHlmajov5Tlm57nmoTmlbDmja4nLCByZXN1bHQpO1xuXG4gICAgcmV0dXJuIE1lYXN1cmVJbnNwZWN0UmVwb3NpdG9yeS51bmlxdWVNZWFzdXJlRmxvb3JQcm9ibGVtKFxuICAgICAgcHJvYmxlbS5iYXRjaF9pZCxcbiAgICAgIHByb2JsZW0uYnVpbGRpbmdfaWQsXG4gICAgICBwcm9ibGVtLmZsb29yLFxuICAgICAgcHJvYmxlbS5pdGVtX2lkLFxuICAgICAgcHJvYmxlbS5pZFxuICAgICk7XG4gIH0sXG5cbiAgdW5pcXVlTWVhc3VyZUZsb29yVW5pdFByb2JsZW06IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgIHZhciBwcm9ibGVtID0gcmVzdWx0LnByb2JsZW07XG4gICAgJGxvZy5sb2coJ+WtmOWcqOWGsueqgeeahOmXrumimO+8jOa4heeQhuacrOWcsOaXoOaViOaVsOaNru+8jOacjeWKoeWZqOi/lOWbnueahOaVsOaNricsIHJlc3VsdCk7XG5cbiAgICByZXR1cm4gTWVhc3VyZUluc3BlY3RSZXBvc2l0b3J5LnVuaXF1ZU1lYXN1cmVGbG9vclVuaXRQcm9ibGVtKFxuICAgICAgcHJvYmxlbS5iYXRjaF9pZCxcbiAgICAgIHByb2JsZW0uYnVpbGRpbmdfaWQsXG4gICAgICBwcm9ibGVtLnVuaXQsXG4gICAgICBwcm9ibGVtLmZsb29yLFxuICAgICAgcHJvYmxlbS5pdGVtX2lkLFxuICAgICAgcHJvYmxlbS5pZFxuICAgICk7XG4gIH0sXG5cbiAgLyogdW5pcXVlTWVhc3VyZUJ1aWxkaW5nUHJvYmxlbTogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICB2YXIgcHJvYmxlbSA9IHJlc3VsdC5wcm9ibGVtO1xuICAgICAgICAgICAgJGxvZy5sb2coJ+WtmOWcqOWGsueqgeeahOmXrumimO+8jOa4heeQhuacrOWcsOaXoOaViOaVsOaNru+8jOacjeWKoeWZqOi/lOWbnueahOaVsOaNricsIHJlc3VsdCk7XG5cbiAgICAgICAgICAgIHJldHVybiBNZWFzdXJlSW5zcGVjdFJlcG9zaXRvcnkudW5pcXVlTWVhc3VyZUJ1aWxkaW5nUHJvYmxlbShwcm9ibGVtLmJhdGNoX2lkLCBwcm9ibGVtLmJ1aWxkaW5nX2lkLCBwcm9ibGVtLml0ZW1faWQpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIE1lYXN1cmVJbnNwZWN0Um9vbUxpc3RNb2RlbCA9ICRpbmplY3Rvci5nZXQoJ01lYXN1cmVJbnNwZWN0Um9vbUxpc3RNb2RlbCcpO1xuXG4gICAgICAgICAgICAgICAgTWVhc3VyZUluc3BlY3RSb29tTGlzdE1vZGVsLmNsZWFyUXVlcnlEYXRhKCk7XG4gICAgICAgICAgICAgICAgRGF0YVN5bmNocm9uaXplci5leGVjdXRlU3luYygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sICovXG5cbiAgLyoqXG4gICAqIOenu+mZpOmHjeWkjeeahOWunua1i+WunumHjyjmlrAp5pWw5o2uXG4gICAqIOWIoOmZpOacrOWcsEFQUOacieWGsueqgeeahOajgOafpeS4reaVsOaNrlxuICAgKiAgICAgIOWNleaIv+WNlemhueWunua1i+WunumHj+iusOW9lemcgOimgeS/neaMgeWUr+S4gFxuICAgKiAgICAgIOW9k+acrOWcsOiusOW9leS4uuajgOafpeS4reeKtuaAgeaXtu+8jOacieWPr+iDveS4i+i9veWIsOWIq+S6uuW3sue7j+aPkOS6pOeahOiusOW9le+8jOaJgOS7peatpOaXtuacrOWcsOacieS4pOeslOiusOW9le+8jOmcgOimgeWIoOmZpOajgOafpeS4reeahOiusOW9lVxuICAgKi9cbiAgcmVtb3ZlRHVwbGljYXRlZE1lYXN1cmVOZXc6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBNZWFzdXJlSW5zcGVjdFJlcG9zaXRvcnkuZ2V0RHVwbGljYXRlZE1lYXN1cmUoKS50aGVuKGZ1bmN0aW9uKHByb2JsZW1zKSB7XG4gICAgICByZXR1cm4gJHEuYWxsKFxuICAgICAgICBfLm1hcChwcm9ibGVtcywgZnVuY3Rpb24ocHJvYmxlbSkge1xuICAgICAgICAgIHJldHVybiBNZWFzdXJlSW5zcGVjdFJlcG9zaXRvcnkucmVtb3ZlQ2hlY2tpbmdNZWFzdXJlKFxuICAgICAgICAgICAgcHJvYmxlbS5iYXRjaF9pZCxcbiAgICAgICAgICAgIHByb2JsZW0uaXRlbV9pZCxcbiAgICAgICAgICAgIHByb2JsZW0ucm9vbV9pZFxuICAgICAgICAgICk7XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xuICB9LFxuICBkZWxldGVCYXRjaFByb2JsZW1zOiBmdW5jdGlvbihiYXRjaElkLCByb29tc0lkKSB7XG4gICAgcmV0dXJuIE1lYXN1cmVJbnNwZWN0UmVwb3NpdG9yeS5kZWxldGVCYXRjaFByb2JsZW1zKGJhdGNoSWQsIHJvb21zSWQpO1xuICB9LFxuXG4gIC8qIOiOt+WPluWunua1i+WunumHj+ajgOafpemhueeahOecn+WuniBwcm9jZXNzX21vZGXvvIzljbPljoblj7LlvZXlhaXlhpfkvZnnmoQgcHJvY2Vzc19tb2RlIO+8jOayoeacieWImeWPluajgOafpemhueeahOiuvue9riAqL1xuICBnZXRNZWFzdXJlQ2hlY2tpdGVtUmVhbFByb2Nlc3NNb2RlOiBmdW5jdGlvbihidWlsZGluZ0lkLCBpdGVtSWQpIHtcbiAgICByZXR1cm4gTWVhc3VyZUluc3BlY3RSZXBvc2l0b3J5LmdldE9uZU1lYXN1cmVCeUJ1aWxkaW5nQW5kSXRlbShidWlsZGluZ0lkLCBpdGVtSWQpLnRoZW4oXG4gICAgICBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGEucHJvY2Vzc19tb2RlIHx8IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIENoZWNrSXRlbVJlcG9zaXRvcnkuZ2V0Q2hlY2tJdGVtKGl0ZW1JZCkudGhlbihmdW5jdGlvbihpdGVtRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW1EYXRhLnByb2Nlc3NfbW9kZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0sXG4gIC8vIOWinuWKoOW+heWKnlxuICBhZGRUb2RvOiBmdW5jdGlvbihiaXpEYXRhLCB1c2Vycykge1xuICAgIGlmIChiaXpEYXRhLnN0YXR1cyA9PT0gJ+ajgOafpeS4rScpIHtcbiAgICAgIHJldHVybiAkcS53aGVuKCk7XG4gICAgfVxuXG4gICAgaWYgKCFfLmlzQXJyYXkodXNlcnMpKSB7XG4gICAgICB1c2VycyA9IFt1c2Vyc107XG4gICAgfVxuICAgIHZhciBjdXJVc2VySWQgPSBjb250ZXh0LmdldFVzZXIoKS51c2VyX2lkLFxuICAgICAgdHlwZSxcbiAgICAgIGlzTmV4dE9wZXJhdG9yID0gXy5maW5kKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgIHJldHVybiB1c2VyLmlkID09PSBjdXJVc2VySWQ7XG4gICAgICB9KTtcblxuICAgIGlmIChpc05leHRPcGVyYXRvcikge1xuICAgICAgdHlwZSA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHR5cGUgPSAyO1xuICAgIH1cbiAgICBEYXRhU3luY2hyb25pemVyLnNldExvY2FsQ2hhbmdlZCgpO1xuICAgIHJldHVybiBUb2RvU2VydmljZS5zYXZlVG9kbyh7XG4gICAgICBiaXpfaWQ6IGJpekRhdGEuaWQsXG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgbW9kdWxlX2NvZGU6ICdtZWFzdXJlLWluc3BlY3QnLFxuICAgICAgcHJval9pZDogYml6RGF0YS5wcm9qX2lkLFxuICAgIH0pO1xuICB9LFxuXG4gIGhhc1ZhbDogZnVuY3Rpb24odmFsKSB7XG4gICAgcmV0dXJuIHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gbnVsbCAmJiB2YWwgIT09ICcnO1xuICB9LFxuXG4gIGdldEFyZWFEYXRhRnJvbVBvaW50czogZnVuY3Rpb24ocmVhbGl0eVZhbCkge1xuICAgIHZhciBhcmVhRGF0YSA9IFtdO1xuXG4gICAgXy5lYWNoKHJlYWxpdHlWYWwsIGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICB2YXIgaXNFeGlzdCA9IF8uc29tZShhcmVhRGF0YSwgZnVuY3Rpb24oYXJlYSkge1xuICAgICAgICByZXR1cm4gYXJlYS5uYW1lID09PSBwb2ludC5hcmVhO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghaXNFeGlzdCkge1xuICAgICAgICB2YXIgbGVuID0gXy5maWx0ZXIocmVhbGl0eVZhbCwgeyBhcmVhOiBwb2ludC5hcmVhIH0pLmxlbmd0aDtcbiAgICAgICAgYXJlYURhdGEucHVzaCh7XG4gICAgICAgICAgbmFtZTogcG9pbnQuYXJlYSxcbiAgICAgICAgICBzZXRWYWw6IF9zZWxmLmhhc1ZhbChwb2ludC5zZXRWYWwpID8gcG9pbnQuc2V0VmFsIDogJycsXG4gICAgICAgICAgcG9pbnROdW06IGxlbixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYXJlYURhdGE7XG4gIH0sXG5cbiAgLy8g6I635Y+W5YWI5qCH54K55qih5byP5oi35Z6L5Zu+54K577yI5ZKM5a6e6ZmF55qE5a6e5rWL54K55LiN5LiA5qC377yJXG4gIC8vIGlzV2FybmluZzog6K2m56S654q25oCB77yI5qmZ6Imy6Zeq54OB5Yqo55S75pWI5p6c77yJXG4gIGdldERyYXdQb2ludHM6IGZ1bmN0aW9uKGRldGFpbERhdGEsIGN1ckluZGV4KSB7XG4gICAgdmFyIHBvaW50Q29sb3JRdWFsaWZpZWQgPSAnIzBiYzY2Nic7XG4gICAgdmFyIHBvaW50Q29sb3JFeGNlZWQgPSAnI2ZmNDU0NSc7XG4gICAgdmFyIHBvaW50Q29sb3JMaWdodCA9ICcjNDI3NWU4JztcblxuICAgIHZhciBhcmVhRGF0YSA9IFtdO1xuICAgIHZhciBkcmF3UG9pbnRzID0gW107XG5cbiAgICBkZXRhaWxEYXRhID0gXy5jbG9uZShkZXRhaWxEYXRhKTtcblxuICAgIGlmIChkZXRhaWxEYXRhLnByb2JsZW1EYXRhWzBdLnBhc3NyYXRlX21vZGUgPT09IDEpIHtcbiAgICAgIC8vIOagh+WHhuaooeW8j1xuICAgICAgZHJhd1BvaW50cyA9IGRldGFpbERhdGEucHJvYmxlbURhdGFbMF0ucmVhbGl0eVZhbDtcblxuICAgICAgLy8g5YWz6IGU5qOA5p+l6aG55qih5byP77yM5aaC5p6c5pyJ5LiA5Liq5qOA5p+l6aG555qE5YC85piv54iG54K577yM5YiZ566X5L2c54iG54K5XG4gICAgICBfLmVhY2goZGV0YWlsRGF0YS5wcm9ibGVtRGF0YSwgZnVuY3Rpb24ocHJvYmxlbSkge1xuICAgICAgICBfLmVhY2gocHJvYmxlbS5yZWFsaXR5VmFsLCBmdW5jdGlvbihwb2ludCwgcEluZGV4KSB7XG4gICAgICAgICAgZHJhd1BvaW50c1twSW5kZXhdICYmIChkcmF3UG9pbnRzW3BJbmRleF0uaXNRdWFsaWZpZWQgPSB0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgXy5lYWNoKGRldGFpbERhdGEucHJvYmxlbURhdGEsIGZ1bmN0aW9uKHByb2JsZW0pIHtcbiAgICAgICAgXy5lYWNoKHByb2JsZW0ucmVhbGl0eVZhbCwgZnVuY3Rpb24ocG9pbnQsIHBJbmRleCkge1xuICAgICAgICAgIGlmIChwb2ludC5pc0V4Y2VlZCAmJiBkcmF3UG9pbnRzW3BJbmRleF0pIHtcbiAgICAgICAgICAgIGRyYXdQb2ludHNbcEluZGV4XS5pc1F1YWxpZmllZCA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwb2ludC5pc1dhcm5pbmcgJiYgZHJhd1BvaW50c1twSW5kZXhdKSB7XG4gICAgICAgICAgICBkcmF3UG9pbnRzW3BJbmRleF0uaXNXYXJuaW5nID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChkZXRhaWxEYXRhLnByb2JsZW1EYXRhWzBdLnBhc3NyYXRlX21vZGUgPT09IDIpIHtcbiAgICAgIC8vIOaegeW3ruaooeW8j1xuICAgICAgYXJlYURhdGEgPSBfc2VsZi5nZXRBcmVhRGF0YUZyb21Qb2ludHMoZGV0YWlsRGF0YS5wcm9ibGVtRGF0YVswXS5yZWFsaXR5VmFsKTtcblxuICAgICAgZHJhd1BvaW50cyA9IF8ubWFwKGFyZWFEYXRhLCBmdW5jdGlvbihhcmVhKSB7XG4gICAgICAgIHZhciBhcmVhUG9pbnRzID0gXy5maWx0ZXIoZGV0YWlsRGF0YS5wcm9ibGVtRGF0YVswXS5yZWFsaXR5VmFsLCB7XG4gICAgICAgICAgYXJlYTogYXJlYS5uYW1lLFxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGhhc0V4Y2VlZCA9IF8uc29tZShhcmVhUG9pbnRzLCBmdW5jdGlvbihwb2ludCkge1xuICAgICAgICAgIHJldHVybiBwb2ludC5pc0V4Y2VlZDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBoYXNXYXJuaW5nID0gXy5zb21lKGFyZWFQb2ludHMsIGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgICAgcmV0dXJuIHBvaW50LmlzV2FybmluZztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB4OiBhcmVhUG9pbnRzWzBdLngsXG4gICAgICAgICAgeTogYXJlYVBvaW50c1swXS55LFxuICAgICAgICAgIGFyZWE6IGFyZWEubmFtZSxcbiAgICAgICAgICBpc1F1YWxpZmllZDogIWhhc0V4Y2VlZCxcbiAgICAgICAgICBpc1dhcm5pbmc6IGhhc1dhcm5pbmcsXG4gICAgICAgICAgcG9pbnRJZDogYXJlYVBvaW50c1swXS5wb2ludElkLFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChkZXRhaWxEYXRhLnByb2JsZW1EYXRhWzBdLnBhc3NyYXRlX21vZGUgPT09IDMpIHtcbiAgICAgIC8vIOagh+WHhivorr7orqHlgLxcbiAgICAgIGRyYXdQb2ludHMgPSBkZXRhaWxEYXRhLnByb2JsZW1EYXRhWzBdLnJlYWxpdHlWYWw7XG4gICAgfSBlbHNlIGlmIChkZXRhaWxEYXRhLnByb2JsZW1EYXRhWzBdLnBhc3NyYXRlX21vZGUgPT09IDQpIHtcbiAgICAgIC8vIOaegeW3rivorr7orqHlgLxcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgZGV0YWlsRGF0YS5wcm9ibGVtRGF0YVswXS5wYXNzcmF0ZV9tb2RlID09PSA1IHx8XG4gICAgICBkZXRhaWxEYXRhLnByb2JsZW1EYXRhWzBdLnBhc3NyYXRlX21vZGUgPT09IDZcbiAgICApIHtcbiAgICAgIC8vIOmrmOWuvSB8IOW8gOmXtOi/m+a3sVxuICAgICAgYXJlYURhdGEgPSBfc2VsZi5nZXRBcmVhRGF0YUZyb21Qb2ludHMoZGV0YWlsRGF0YS5wcm9ibGVtRGF0YVswXS5yZWFsaXR5VmFsKTtcblxuICAgICAgZHJhd1BvaW50cyA9IF8ubWFwKGFyZWFEYXRhLCBmdW5jdGlvbihhcmVhKSB7XG4gICAgICAgIHZhciBhcmVhUG9pbnRzID0gXy5maWx0ZXIoZGV0YWlsRGF0YS5wcm9ibGVtRGF0YVswXS5yZWFsaXR5VmFsLCB7XG4gICAgICAgICAgYXJlYTogYXJlYS5uYW1lLFxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGhhc0V4Y2VlZCA9IF8uc29tZShhcmVhUG9pbnRzLCBmdW5jdGlvbihwb2ludCkge1xuICAgICAgICAgIHJldHVybiBwb2ludC5pc0V4Y2VlZDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBoYXNXYXJuaW5nID0gXy5zb21lKGFyZWFQb2ludHMsIGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgICAgcmV0dXJuIHBvaW50LmlzV2FybmluZztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB4OiBhcmVhUG9pbnRzWzBdLngsXG4gICAgICAgICAgeTogYXJlYVBvaW50c1swXS55LFxuICAgICAgICAgIGFyZWE6IGFyZWEubmFtZSxcbiAgICAgICAgICBpc1F1YWxpZmllZDogIWhhc0V4Y2VlZCxcbiAgICAgICAgICBpc1dhcm5pbmc6IGhhc1dhcm5pbmcsXG4gICAgICAgICAgcG9pbnRJZDogYXJlYVBvaW50c1swXS5wb2ludElkLFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChkZXRhaWxEYXRhLnByb2JsZW1EYXRhWzBdLnBhc3NyYXRlX21vZGUgPT09IDcpIHtcbiAgICAgIC8vIOaWueato+aAp1xuICAgICAgYXJlYURhdGEgPSBfc2VsZi5nZXRBcmVhRGF0YUZyb21Qb2ludHMoZGV0YWlsRGF0YS5wcm9ibGVtRGF0YVswXS5yZWFsaXR5VmFsKTtcblxuICAgICAgZHJhd1BvaW50cyA9IF8ubWFwKGFyZWFEYXRhLCBmdW5jdGlvbihhcmVhKSB7XG4gICAgICAgIHZhciBhcmVhUG9pbnRzID0gXy5maWx0ZXIoZGV0YWlsRGF0YS5wcm9ibGVtRGF0YVswXS5yZWFsaXR5VmFsLCB7XG4gICAgICAgICAgYXJlYTogYXJlYS5uYW1lLFxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGhhc0V4Y2VlZCA9IF8uc29tZShhcmVhUG9pbnRzLCBmdW5jdGlvbihwb2ludCkge1xuICAgICAgICAgIHJldHVybiBwb2ludC5pc0V4Y2VlZDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBoYXNXYXJuaW5nID0gXy5zb21lKGFyZWFQb2ludHMsIGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgICAgcmV0dXJuIHBvaW50LmlzV2FybmluZztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB4OiBhcmVhUG9pbnRzWzBdLngsXG4gICAgICAgICAgeTogYXJlYVBvaW50c1swXS55LFxuICAgICAgICAgIGFyZWE6IGFyZWEubmFtZSxcbiAgICAgICAgICBpc1F1YWxpZmllZDogIWhhc0V4Y2VlZCxcbiAgICAgICAgICBpc1dhcm5pbmc6IGhhc1dhcm5pbmcsXG4gICAgICAgICAgcG9pbnRJZDogYXJlYVBvaW50c1swXS5wb2ludElkLFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChkZXRhaWxEYXRhLnByb2JsZW1EYXRhWzBdLnBhc3NyYXRlX21vZGUgPT09IDgpIHtcbiAgICAgIC8vIOinguaEn+eul+azlVxuICAgICAgZHJhd1BvaW50cyA9IGRldGFpbERhdGEucHJvYmxlbURhdGFbMF0ucmVhbGl0eVZhbDtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgZGV0YWlsRGF0YS5wcm9ibGVtRGF0YVswXS5wYXNzcmF0ZV9tb2RlID09PSAxMiB8fFxuICAgICAgZGV0YWlsRGF0YS5wcm9ibGVtRGF0YVswXS5wYXNzcmF0ZV9tb2RlID09PSAxM1xuICAgICkge1xuICAgICAgLy8g6auY5beu44CB6Zeo5qGG5Z6C55u05bqmXG4gICAgICBhcmVhRGF0YSA9IF9zZWxmLmdldEFyZWFEYXRhRnJvbVBvaW50cyhkZXRhaWxEYXRhLnByb2JsZW1EYXRhWzBdLnJlYWxpdHlWYWwpO1xuXG4gICAgICBkcmF3UG9pbnRzID0gXy5tYXAoYXJlYURhdGEsIGZ1bmN0aW9uKGFyZWEpIHtcbiAgICAgICAgdmFyIGFyZWFQb2ludHMgPSBfLmZpbHRlcihkZXRhaWxEYXRhLnByb2JsZW1EYXRhWzBdLnJlYWxpdHlWYWwsIHtcbiAgICAgICAgICBhcmVhOiBhcmVhLm5hbWUsXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgaGFzRXhjZWVkID0gXy5zb21lKGFyZWFQb2ludHMsIGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgICAgcmV0dXJuIHBvaW50LmlzRXhjZWVkO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGhhc1dhcm5pbmcgPSBfLnNvbWUoYXJlYVBvaW50cywgZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgICAgICByZXR1cm4gcG9pbnQuaXNXYXJuaW5nO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHg6IGFyZWFQb2ludHNbMF0ueCxcbiAgICAgICAgICB5OiBhcmVhUG9pbnRzWzBdLnksXG4gICAgICAgICAgYXJlYTogYXJlYS5uYW1lLFxuICAgICAgICAgIGlzUXVhbGlmaWVkOiAhaGFzRXhjZWVkLFxuICAgICAgICAgIGlzV2FybmluZzogaGFzV2FybmluZyxcbiAgICAgICAgICBwb2ludElkOiBhcmVhUG9pbnRzWzBdLnBvaW50SWQsXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcign566X5rOV6ZSZ6K+vJyk7XG4gICAgfVxuXG4gICAgLy8g6K6+572u5qCH6K6w54K555qE6aKc6ImyXG4gICAgXy5lYWNoKGRyYXdQb2ludHMsIGZ1bmN0aW9uKHBvaW50LCBpbmRleCkge1xuICAgICAgaWYgKGN1ckluZGV4ICE9PSB1bmRlZmluZWQgJiYgaW5kZXggPT09IGN1ckluZGV4KSB7XG4gICAgICAgIHBvaW50LmNvbG9yID0gcG9pbnRDb2xvckxpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHBvaW50LmlzUXVhbGlmaWVkKSB7XG4gICAgICAgICAgcG9pbnQuY29sb3IgPSBwb2ludENvbG9yUXVhbGlmaWVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBvaW50LmNvbG9yID0gcG9pbnRDb2xvckV4Y2VlZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBwb2ludC5pbmRleCA9IGluZGV4O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRyYXdQb2ludHM7XG4gIH0sXG5cbiAgZ2V0UHJvYmxlbUFyZWFEYXRhKHByb2JsZW0pIHtcbiAgICB2YXIgYXJlYURhdGEgPSBbXTtcblxuICAgIF8uZWFjaChwcm9ibGVtLnJlYWxpdHlWYWwsIHBvaW50ID0+IHtcbiAgICAgIHZhciBpc0V4aXN0ID0gXy5zb21lKGFyZWFEYXRhLCBhcmVhID0+IHtcbiAgICAgICAgcmV0dXJuIGFyZWEubmFtZSA9PT0gcG9pbnQuYXJlYTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCFpc0V4aXN0KSB7XG4gICAgICAgIHZhciBsZW4gPSBfLmZpbHRlcihwcm9ibGVtLnJlYWxpdHlWYWwsIHsgYXJlYTogcG9pbnQuYXJlYSB9KS5sZW5ndGg7XG4gICAgICAgIGFyZWFEYXRhLnB1c2goe1xuICAgICAgICAgIG5hbWU6IHBvaW50LmFyZWEsXG4gICAgICAgICAgc2V0VmFsOiBfc2VsZi5oYXNWYWwocG9pbnQuc2V0VmFsKSA/IHBvaW50LnNldFZhbCA6ICcnLFxuICAgICAgICAgIHBvaW50TnVtOiBsZW4sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGFyZWFEYXRhO1xuICB9LFxuXG4gIC8vIOWFiOagh+eCueaooeW8j++8jOa3u+WKoOeCuVxuICBhZGRQb2ludChkZXRhaWxEYXRhLCBwb2ludCkge1xuICAgIHZhciBuZXdQb2ludDtcbiAgICB2YXIgcGFzc3JhdGVfbW9kZSA9IGRldGFpbERhdGEucHJvYmxlbURhdGFbMF0ucGFzc3JhdGVfbW9kZTtcblxuICAgIGlmIChwYXNzcmF0ZV9tb2RlID09PSAxKSB7XG4gICAgICAvLyDmoIflh4bmqKHlvI9cbiAgICAgIG5ld1BvaW50ID0ge1xuICAgICAgICB2YWw6ICcnLFxuICAgICAgICB4OiBwb2ludC54LFxuICAgICAgICB5OiBwb2ludC55LFxuICAgICAgICBhcmVhOiAn5rWL5Yy6MScsXG4gICAgICB9O1xuICAgICAgXy5lYWNoKGRldGFpbERhdGEucHJvYmxlbURhdGEsIHByb2JsZW0gPT4ge1xuICAgICAgICBwcm9ibGVtLnJlYWxpdHlWYWwucHVzaChfLmNsb25lKG5ld1BvaW50KSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHBhc3NyYXRlX21vZGUgPT09IDIpIHtcbiAgICAgIC8vIOaegeW3ruaooeW8jywg5LiA57uENeS4queCuVxuICAgICAgXy5lYWNoKGRldGFpbERhdGEucHJvYmxlbURhdGEsIHByb2JsZW0gPT4ge1xuICAgICAgICB2YXIgYXJlYURhdGEgPSBfc2VsZi5nZXRQcm9ibGVtQXJlYURhdGEocHJvYmxlbSk7XG5cbiAgICAgICAgdmFyIGFsbEluZGV4ID0gXy5tYXAoYXJlYURhdGEsIGFyZWEgPT4ge1xuICAgICAgICAgIGlmICgvXua1i+WMulxcZCskLy50ZXN0KGFyZWEubmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChhcmVhLm5hbWUuc3Vic3RyKDIpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIG1heEluZGV4ID0gXy5tYXhCeShhbGxJbmRleCk7XG5cbiAgICAgICAgbWF4SW5kZXggPSBtYXhJbmRleCA9PT0gLUluZmluaXR5ID8gMCA6IG1heEluZGV4O1xuXG4gICAgICAgIHZhciBuZXdQb2ludCA9IHtcbiAgICAgICAgICB2YWw6ICcnLFxuICAgICAgICAgIHg6IHBvaW50LngsXG4gICAgICAgICAgeTogcG9pbnQueSxcbiAgICAgICAgICBhcmVhOiAn5rWL5Yy6JyArIChtYXhJbmRleCArIDEpLFxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgICAgcHJvYmxlbS5yZWFsaXR5VmFsLnB1c2goXy5jbG9uZShuZXdQb2ludCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvYmxlbS5hcmVhRGF0YSA9IF9zZWxmLmdldFByb2JsZW1BcmVhRGF0YShwcm9ibGVtKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGFzc3JhdGVfbW9kZSA9PT0gMykge1xuICAgICAgLy8g5qCH5YeGK+iuvuiuoeWAvFxuICAgICAgbmV3UG9pbnQgPSB7XG4gICAgICAgIHZhbDogJycsXG4gICAgICAgIHg6IHBvaW50LngsXG4gICAgICAgIHk6IHBvaW50LnksXG4gICAgICAgIGFyZWE6ICfmtYvljLoxJyxcbiAgICAgICAgc2V0VmFsOiAnJyxcbiAgICAgIH07XG4gICAgICBfLmVhY2goZGV0YWlsRGF0YS5wcm9ibGVtRGF0YSwgcHJvYmxlbSA9PiB7XG4gICAgICAgIHByb2JsZW0ucmVhbGl0eVZhbC5wdXNoKG5ld1BvaW50KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGFzc3JhdGVfbW9kZSA9PT0gNCkge1xuICAgICAgLy8g5p6B5beuK+iuvuiuoeWAvFxuICAgIH0gZWxzZSBpZiAocGFzc3JhdGVfbW9kZSA9PT0gNSkge1xuICAgICAgLy8g6auY5a69XG4gICAgICBfLmVhY2goZGV0YWlsRGF0YS5wcm9ibGVtRGF0YSwgcHJvYmxlbSA9PiB7XG4gICAgICAgIHZhciBhcmVhRGF0YSA9IF9zZWxmLmdldFByb2JsZW1BcmVhRGF0YShwcm9ibGVtKTtcblxuICAgICAgICB2YXIgYWxsSW5kZXggPSBfLm1hcChhcmVhRGF0YSwgYXJlYSA9PiB7XG4gICAgICAgICAgaWYgKC9e5rWL5Yy6XFxkKyQvLnRlc3QoYXJlYS5uYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGFyZWEubmFtZS5zdWJzdHIoMikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbWF4SW5kZXggPSBfLm1heEJ5KGFsbEluZGV4KTtcblxuICAgICAgICBtYXhJbmRleCA9IG1heEluZGV4ID09PSAtSW5maW5pdHkgPyAwIDogbWF4SW5kZXg7XG5cbiAgICAgICAgdmFyIG5ld1BvaW50ID0ge1xuICAgICAgICAgIHZhbDogJycsXG4gICAgICAgICAgeDogcG9pbnQueCxcbiAgICAgICAgICB5OiBwb2ludC55LFxuICAgICAgICAgIGFyZWE6ICfmtYvljLonICsgKG1heEluZGV4ICsgMSksXG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yICh2YXIgZ2kgPSAwOyBnaSA8IDI7IGdpKyspIHtcbiAgICAgICAgICBuZXdQb2ludC5sYWJlbCA9ICfpq5gnO1xuICAgICAgICAgIHByb2JsZW0ucmVhbGl0eVZhbC5wdXNoKF8uY2xvbmUobmV3UG9pbnQpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBraSA9IDA7IGtpIDwgMjsga2krKykge1xuICAgICAgICAgIG5ld1BvaW50LmxhYmVsID0gJ+WuvSc7XG4gICAgICAgICAgcHJvYmxlbS5yZWFsaXR5VmFsLnB1c2goXy5jbG9uZShuZXdQb2ludCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvYmxlbS5hcmVhRGF0YSA9IF9zZWxmLmdldFByb2JsZW1BcmVhRGF0YShwcm9ibGVtKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGFzc3JhdGVfbW9kZSA9PT0gNikge1xuICAgICAgLy8g5byA6Ze06L+b5rexXG4gICAgICBfLmVhY2goZGV0YWlsRGF0YS5wcm9ibGVtRGF0YSwgcHJvYmxlbSA9PiB7XG4gICAgICAgIHZhciBhcmVhRGF0YSA9IF9zZWxmLmdldFByb2JsZW1BcmVhRGF0YShwcm9ibGVtKTtcblxuICAgICAgICB2YXIgYWxsSW5kZXggPSBfLm1hcChhcmVhRGF0YSwgYXJlYSA9PiB7XG4gICAgICAgICAgaWYgKC9e5rWL5Yy6XFxkKyQvLnRlc3QoYXJlYS5uYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGFyZWEubmFtZS5zdWJzdHIoMikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbWF4SW5kZXggPSBfLm1heEJ5KGFsbEluZGV4KTtcblxuICAgICAgICBtYXhJbmRleCA9IG1heEluZGV4ID09PSAtSW5maW5pdHkgPyAwIDogbWF4SW5kZXg7XG5cbiAgICAgICAgdmFyIG5ld1BvaW50ID0ge1xuICAgICAgICAgIHZhbDogJycsXG4gICAgICAgICAgeDogcG9pbnQueCxcbiAgICAgICAgICB5OiBwb2ludC55LFxuICAgICAgICAgIGFyZWE6ICfmtYvljLonICsgKG1heEluZGV4ICsgMSksXG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yICh2YXIgZ2kgPSAwOyBnaSA8IDI7IGdpKyspIHtcbiAgICAgICAgICBuZXdQb2ludC5sYWJlbCA9ICflvIDpl7QnO1xuICAgICAgICAgIHByb2JsZW0ucmVhbGl0eVZhbC5wdXNoKF8uY2xvbmUobmV3UG9pbnQpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBraSA9IDA7IGtpIDwgMjsga2krKykge1xuICAgICAgICAgIG5ld1BvaW50LmxhYmVsID0gJ+i/m+a3sSc7XG4gICAgICAgICAgcHJvYmxlbS5yZWFsaXR5VmFsLnB1c2goXy5jbG9uZShuZXdQb2ludCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvYmxlbS5hcmVhRGF0YSA9IF9zZWxmLmdldFByb2JsZW1BcmVhRGF0YShwcm9ibGVtKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGFzc3JhdGVfbW9kZSA9PT0gNykge1xuICAgICAgLy8g5pa55q2j5oCnXG4gICAgICBfLmVhY2goZGV0YWlsRGF0YS5wcm9ibGVtRGF0YSwgcHJvYmxlbSA9PiB7XG4gICAgICAgIHZhciBhcmVhRGF0YSA9IF9zZWxmLmdldFByb2JsZW1BcmVhRGF0YShwcm9ibGVtKTtcblxuICAgICAgICB2YXIgYWxsSW5kZXggPSBfLm1hcChhcmVhRGF0YSwgYXJlYSA9PiB7XG4gICAgICAgICAgaWYgKC9e5rWL5Yy6XFxkKyQvLnRlc3QoYXJlYS5uYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGFyZWEubmFtZS5zdWJzdHIoMikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbWF4SW5kZXggPSBfLm1heEJ5KGFsbEluZGV4KTtcblxuICAgICAgICBtYXhJbmRleCA9IG1heEluZGV4ID09PSAtSW5maW5pdHkgPyAwIDogbWF4SW5kZXg7XG5cbiAgICAgICAgdmFyIG5ld1BvaW50ID0ge1xuICAgICAgICAgIHZhbDogJycsXG4gICAgICAgICAgeDogcG9pbnQueCxcbiAgICAgICAgICB5OiBwb2ludC55LFxuICAgICAgICAgIGFyZWE6ICfmtYvljLonICsgKG1heEluZGV4ICsgMSksXG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgICBwcm9ibGVtLnJlYWxpdHlWYWwucHVzaChfLmNsb25lKG5ld1BvaW50KSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm9ibGVtLmFyZWFEYXRhID0gX3NlbGYuZ2V0UHJvYmxlbUFyZWFEYXRhKHByb2JsZW0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChwYXNzcmF0ZV9tb2RlID09PSA4KSB7XG4gICAgICAvLyDop4LmhJ/nrpfms5VcbiAgICAgIG5ld1BvaW50ID0ge1xuICAgICAgICB2YWw6ICcnLFxuICAgICAgICB4OiBwb2ludC54LFxuICAgICAgICB5OiBwb2ludC55LFxuICAgICAgICBhcmVhOiAn5rWL5Yy6MScsXG4gICAgICB9O1xuICAgICAgXy5lYWNoKGRldGFpbERhdGEucHJvYmxlbURhdGEsIHByb2JsZW0gPT4ge1xuICAgICAgICBwcm9ibGVtLnJlYWxpdHlWYWwucHVzaChfLmNsb25lKG5ld1BvaW50KSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGV0YWlsRGF0YTtcbiAgfSxcblxuICAvLyDlhYjmoIfngrnmqKHlvI/vvIznp7vpmaTngrlcbiAgZGVsUG9pbnQoZGV0YWlsRGF0YSwgaW5kZXgpIHtcbiAgICB2YXIgcGFzc3JhdGVfbW9kZSA9IGRldGFpbERhdGEucHJvYmxlbURhdGFbMF0ucGFzc3JhdGVfbW9kZTtcblxuICAgIGlmIChwYXNzcmF0ZV9tb2RlID09PSAxKSB7XG4gICAgICAvLyDmoIflh4bmqKHlvI9cbiAgICAgIF8uZWFjaChkZXRhaWxEYXRhLnByb2JsZW1EYXRhLCBwcm9ibGVtID0+IHtcbiAgICAgICAgcHJvYmxlbS5yZWFsaXR5VmFsLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHBhc3NyYXRlX21vZGUgPT09IDIpIHtcbiAgICAgIC8vIOaegeW3ruaooeW8j1xuICAgICAgXy5lYWNoKGRldGFpbERhdGEucHJvYmxlbURhdGEsIHByb2JsZW0gPT4ge1xuICAgICAgICBwcm9ibGVtLnJlYWxpdHlWYWwuc3BsaWNlKGluZGV4ICogNSwgNSk7XG5cbiAgICAgICAgcHJvYmxlbS5hcmVhRGF0YSA9IF9zZWxmLmdldFByb2JsZW1BcmVhRGF0YShwcm9ibGVtKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGFzc3JhdGVfbW9kZSA9PT0gMykge1xuICAgICAgLy8g5qCH5YeGK+iuvuiuoeWAvFxuICAgICAgXy5lYWNoKGRldGFpbERhdGEucHJvYmxlbURhdGEsIHByb2JsZW0gPT4ge1xuICAgICAgICBwcm9ibGVtLnJlYWxpdHlWYWwuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGFzc3JhdGVfbW9kZSA9PT0gNCkge1xuICAgICAgLy8g5p6B5beuK+iuvuiuoeWAvFxuICAgIH0gZWxzZSBpZiAocGFzc3JhdGVfbW9kZSA9PT0gNSkge1xuICAgICAgLy8g6auY5a69XG4gICAgICBfLmVhY2goZGV0YWlsRGF0YS5wcm9ibGVtRGF0YSwgcHJvYmxlbSA9PiB7XG4gICAgICAgIHByb2JsZW0ucmVhbGl0eVZhbC5zcGxpY2UoaW5kZXggKiA0LCA0KTtcblxuICAgICAgICBwcm9ibGVtLmFyZWFEYXRhID0gX3NlbGYuZ2V0UHJvYmxlbUFyZWFEYXRhKHByb2JsZW0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChwYXNzcmF0ZV9tb2RlID09PSA2KSB7XG4gICAgICAvLyDlvIDpl7Tov5vmt7FcbiAgICAgIF8uZWFjaChkZXRhaWxEYXRhLnByb2JsZW1EYXRhLCBwcm9ibGVtID0+IHtcbiAgICAgICAgcHJvYmxlbS5yZWFsaXR5VmFsLnNwbGljZShpbmRleCAqIDQsIDQpO1xuXG4gICAgICAgIHByb2JsZW0uYXJlYURhdGEgPSBfc2VsZi5nZXRQcm9ibGVtQXJlYURhdGEocHJvYmxlbSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHBhc3NyYXRlX21vZGUgPT09IDcpIHtcbiAgICAgIC8vIOaWueato+aAp1xuICAgICAgXy5lYWNoKGRldGFpbERhdGEucHJvYmxlbURhdGEsIHByb2JsZW0gPT4ge1xuICAgICAgICBwcm9ibGVtLnJlYWxpdHlWYWwuc3BsaWNlKGluZGV4ICogMywgMyk7XG5cbiAgICAgICAgcHJvYmxlbS5hcmVhRGF0YSA9IF9zZWxmLmdldFByb2JsZW1BcmVhRGF0YShwcm9ibGVtKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGFzc3JhdGVfbW9kZSA9PT0gOCkge1xuICAgICAgLy8g6KeC5oSf566X5rOVXG4gICAgICBfLmVhY2goZGV0YWlsRGF0YS5wcm9ibGVtRGF0YSwgcHJvYmxlbSA9PiB7XG4gICAgICAgIHByb2JsZW0ucmVhbGl0eVZhbC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRldGFpbERhdGE7XG4gIH0sXG5cbiAgLypcbiAgICAqIOWkhOeQhuWunua1i+eCue+8jOe7meavj+S4quWunua1i+eCuea3u+WKoOS7peS4i+i+heWKqeWxnuaAp1xuICAgICogaXNFeGNlZWQ6IOaYr+WQpuaYr+eIhueCuVxuICAgICogaXNRdWFsaWZpZWQ6IOaYr+WQpuaYr+WQiOagvOeCue+8jOmAgueUqOS6jua1i+WMuuW9k+S9nOS4gOS4queCueadpeiuoeeul+WQiOagvOeOh+eahOaDheWGte+8jOWmgu+8mlxuICAgICAgICDpq5jlrr3mqKHlvI/vvIzkuIDooYzmnInkuKTkuKrngrnvvIzkvYbmmK/lj6rmnInkuIDkuKrmmK/niIbngrnvvIzlj6blpJbkuIDkuKrkuI3mmK/niIbngrnkvYbkuZ/kuI3og73nrpfkvZzlkIjmoLzngrnjgILov5nkuKrml7blgJnlsLHkvJrlh7rnjrAgaXNFeGNlZWQg5ZKMIGlzUXVhbGlmaWVkIOmDveaYryBmYWxzZVxuICAgICogc2hvd01hcms6IOaYr+WQpuaYvuekuuagh+iusOaIt+Wei+Wbvu+8jOeIhueCueS4lOacieaIt+Wei+WbvuWwseaYvuekulxuICAgICogaGFzTWFyazog5piv5ZCm5pyJ5qCH6K6wXG4gICAgKi9cbiAgcG9pbnRzSGFuZGxlKHByb2JsZW0pIHtcbiAgICB2YXIgbWluID0gX3NlbGYuaGFzVmFsKHByb2JsZW0uc3RhbmRhcmRfbWluKSA/IHBhcnNlRmxvYXQocHJvYmxlbS5zdGFuZGFyZF9taW4pIDogLUluZmluaXR5LFxuICAgICAgbWF4ID0gX3NlbGYuaGFzVmFsKHByb2JsZW0uc3RhbmRhcmRfbWF4KSA/IHBhcnNlRmxvYXQocHJvYmxlbS5zdGFuZGFyZF9tYXgpIDogSW5maW5pdHksXG4gICAgICBoYXNEaWFncmFtID0gIV8uaXNFbXB0eShwcm9ibGVtLmRyYXdpbmdfZmlsZSksXG4gICAgICBwb2ludHNHcm91cDtcblxuICAgIF8uZWFjaChwcm9ibGVtLnJlYWxpdHlWYWwsIHBvaW50ID0+IHtcbiAgICAgIGlmIChfc2VsZi5oYXNWYWwocG9pbnQudmFsKSkge1xuICAgICAgICBwb2ludC52YWwgPSBwYXJzZUZsb2F0KHBvaW50LnZhbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAocHJvYmxlbS5wYXNzcmF0ZV9tb2RlID09PSAxIHx8IHByb2JsZW0ucGFzc3JhdGVfbW9kZSA9PT0gMykge1xuICAgICAgLy8g5qCH5YeG566X5rOV44CB5qCH5YeGK+iuvuiuoeWAvOeul+azlVxuICAgICAgXy5lYWNoKHByb2JsZW0ucmVhbGl0eVZhbCwgcG9pbnQgPT4ge1xuICAgICAgICB2YXIgbWF0aFZhbCA9IHBhcnNlRmxvYXQocG9pbnQudmFsKSAtIHBhcnNlRmxvYXQocG9pbnQuc2V0VmFsIHx8IDApLFxuICAgICAgICAgIGlzRXhjZWVkID0gX3NlbGYuaGFzVmFsKHBvaW50LnZhbCkgJiYgKG1hdGhWYWwgPCBtaW4gfHwgbWF0aFZhbCA+IG1heCksXG4gICAgICAgICAgaXNRdWFsaWZpZWQgPSBfc2VsZi5oYXNWYWwocG9pbnQudmFsKSAmJiBtYXRoVmFsID49IG1pbiAmJiBtYXRoVmFsIDw9IG1heDtcblxuICAgICAgICBwb2ludC5pc0V4Y2VlZCA9IGlzRXhjZWVkO1xuICAgICAgICBwb2ludC5pc1F1YWxpZmllZCA9IGlzUXVhbGlmaWVkO1xuICAgICAgICBwb2ludC5zaG93TWFyayA9IF9zZWxmLmhhc1ZhbChwb2ludC52YWwpICYmIGhhc0RpYWdyYW07XG4gICAgICAgIHBvaW50Lmhhc01hcmsgPSBfc2VsZi5oYXNWYWwocG9pbnQueCkgJiYgX3NlbGYuaGFzVmFsKHBvaW50LnkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChwcm9ibGVtLnBhc3NyYXRlX21vZGUgPT09IDIpIHtcbiAgICAgIC8vIOaegeW3rueul+azlVxuICAgICAgLy8g5aaC5p6c5ZCI5qC85qCH5YeG5pyA5bCP5YC85pivMO+8jOWImeacgOWwj+WAvOetieS6juacgOWkp+WAvO+8jOWmgu+8muWQiOagvOagh+WHhu+8mjB+MTDvvIzorqHnrpfnmoTml7blgJnkvJrlj5jmiJDvvJoxMH4xMFxuICAgICAgaWYgKG1pbiA9PT0gMCkge1xuICAgICAgICBtaW4gPSBtYXg7XG4gICAgICB9XG4gICAgICBwb2ludHNHcm91cCA9IF8uZ3JvdXBCeShwcm9ibGVtLnJlYWxpdHlWYWwgfHwgW10sICdhcmVhJyk7XG5cbiAgICAgIF8uZWFjaChwb2ludHNHcm91cCwgZ3JvdXAgPT4ge1xuICAgICAgICB2YXIgaGFzRW1wdHkgPSBfLnNvbWUoZ3JvdXAsIHBvaW50ID0+IHtcbiAgICAgICAgICByZXR1cm4gIV9zZWxmLmhhc1ZhbChwb2ludC52YWwpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyDljZXkuKrmtYvljLrlhajpg6jovpPlhaXlrozmiJDmiY3orqHnrpfniIbngrlcbiAgICAgICAgaWYgKGhhc0VtcHR5KSB7XG4gICAgICAgICAgXy5lYWNoKGdyb3VwLCBwb2ludCA9PiB7XG4gICAgICAgICAgICBwb2ludC5pc0V4Y2VlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcG9pbnQuaXNRdWFsaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHBvaW50LnNob3dNYXJrID0gX3NlbGYuaGFzVmFsKHBvaW50LnZhbCkgJiYgaGFzRGlhZ3JhbTtcbiAgICAgICAgICAgIHBvaW50Lmhhc01hcmsgPSBfc2VsZi5oYXNWYWwocG9pbnQueCkgJiYgX3NlbGYuaGFzVmFsKHBvaW50LnkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtYXhQb2ludCA9IF8ubWF4QnkoZ3JvdXAsICd2YWwnKSxcbiAgICAgICAgICBtaW5Qb2ludCA9IF8ubWluQnkoZ3JvdXAsICd2YWwnKSxcbiAgICAgICAgICBtYXhWYWwgPSBwYXJzZUZsb2F0KG1heFBvaW50LnZhbCkgLSBwYXJzZUZsb2F0KG1heFBvaW50LnNldFZhbCB8fCAwKSxcbiAgICAgICAgICBtaW5WYWwgPSBwYXJzZUZsb2F0KG1pblBvaW50LnZhbCkgLSBwYXJzZUZsb2F0KG1pblBvaW50LnNldFZhbCB8fCAwKSxcbiAgICAgICAgICBsaW1pdERpZmYgPSBtYXhWYWwgLSBtaW5WYWwsXG4gICAgICAgICAgZXhjZWVkVHlwZSxcbiAgICAgICAgICBoYXNJc0V4Y2VlZDtcblxuICAgICAgICBpZiAobGltaXREaWZmIDw9IG1pbikge1xuICAgICAgICAgIC8vIOWFqOmDqOWQiOagvFxuICAgICAgICAgIF8uZWFjaChncm91cCwgcG9pbnQgPT4ge1xuICAgICAgICAgICAgcG9pbnQuaXNFeGNlZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHBvaW50LmlzUXVhbGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHBvaW50LnNob3dNYXJrID0gX3NlbGYuaGFzVmFsKHBvaW50LnZhbCkgJiYgaGFzRGlhZ3JhbTtcbiAgICAgICAgICAgIHBvaW50Lmhhc01hcmsgPSBfc2VsZi5oYXNWYWwocG9pbnQueCkgJiYgX3NlbGYuaGFzVmFsKHBvaW50LnkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGxpbWl0RGlmZiA+IG1heCkge1xuICAgICAgICAgIC8vIOWFqOmDqOeIhueCuVxuICAgICAgICAgIF8uZWFjaChncm91cCwgcG9pbnQgPT4ge1xuICAgICAgICAgICAgcG9pbnQuaXNFeGNlZWQgPSB0cnVlO1xuICAgICAgICAgICAgcG9pbnQuaXNRdWFsaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHBvaW50LnNob3dNYXJrID0gX3NlbGYuaGFzVmFsKHBvaW50LnZhbCkgJiYgaGFzRGlhZ3JhbTtcbiAgICAgICAgICAgIHBvaW50Lmhhc01hcmsgPSBfc2VsZi5oYXNWYWwocG9pbnQueCkgJiYgX3NlbGYuaGFzVmFsKHBvaW50LnkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIOmDqOWIhueIhueCuVxuICAgICAgICAgIC8qXG4gICAgICAgICAgICogISEhIOazqOaEj++8jOimgeWFvOWuueWOhuWPsuaVsOaNru+8jFxuICAgICAgICAgICAqIOWOhuWPsueul+azle+8muWIhuWIq+S7peacgOWkp+WAvOWSjOacgOWwj+WAvOS4uuWfuuWHhueul+S4gOmBje+8jOWPluWQiOagvOeOh+mrmOeahFxuICAgICAgICAgICAqIOebruWJjeeul+azle+8muS7peacgOWwj+WAvOS4uuWfuuWHhueul+WQiOagvOeOh1xuICAgICAgICAgICAqIOWIpOaWreaYr+WQpuaYr+WOhuWPsuaVsOaNruaWueazle+8mumdnlwi5qOA5p+l5LitXCLnirbmgIHvvIzmn6Xmib4gcG9pbnQg6YeM6Z2i5piv5ZCm5pyJIGlzRXhjZWVkIOWxnuaAp++8jOeOsOWcqOaJgOacieeahOeCuemDveS8muWKoOS4iui/meS4quWxnuaAp1xuICAgICAgICAgICAqL1xuXG4gICAgICAgICAgLy8g5Yik5pat5piv5ZCm5piv5Y6G5Y+y5pWw5o2uXG4gICAgICAgICAgaGFzSXNFeGNlZWQgPSBfLnNvbWUoZ3JvdXAsIHAgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHAuaXNFeGNlZWQgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAocHJvYmxlbS5zdGF0dXMgIT09ICfmo4Dmn6XkuK0nICYmICFoYXNJc0V4Y2VlZCkge1xuICAgICAgICAgICAgLy8g5Y6G5Y+y5pWw5o2uXG4gICAgICAgICAgICAvLyDnoa7orqTmmK/ku6XigJzmnIDlpKflgLzigJ3ov5jmmK/igJzmnIDlsI/lgLzigJ3kuLrmoIflh4ZcbiAgICAgICAgICAgIF8uZWFjaChncm91cCwgcG9pbnQgPT4ge1xuICAgICAgICAgICAgICB2YXIgbWF0aFZhbCA9IHBhcnNlRmxvYXQocG9pbnQudmFsKSAtIHBhcnNlRmxvYXQocG9pbnQuc2V0VmFsIHx8IDApO1xuXG4gICAgICAgICAgICAgIGlmIChtYXRoVmFsIC0gbWluVmFsID4gbWluKSB7XG4gICAgICAgICAgICAgICAgZXhjZWVkVHlwZSAtPSAxO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChtYXhWYWwgLSBtYXRoVmFsID4gbWluKSB7XG4gICAgICAgICAgICAgICAgZXhjZWVkVHlwZSArPSAxO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8g5paw5pWw5o2uIDIwMTctMDctMTFcbiAgICAgICAgICAgIGV4Y2VlZFR5cGUgPSAtMTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfLmVhY2goZ3JvdXAsIHBvaW50ID0+IHtcbiAgICAgICAgICAgIHZhciBtYXRoVmFsID0gcGFyc2VGbG9hdChwb2ludC52YWwpIC0gcGFyc2VGbG9hdChwb2ludC5zZXRWYWwgfHwgMCk7XG5cbiAgICAgICAgICAgIGlmIChleGNlZWRUeXBlIDwgMCkge1xuICAgICAgICAgICAgICBpZiAobWF0aFZhbCAtIG1pblZhbCA+IG1pbikge1xuICAgICAgICAgICAgICAgIHBvaW50LmlzRXhjZWVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwb2ludC5pc1F1YWxpZmllZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHBvaW50LnNob3dNYXJrID0gX3NlbGYuaGFzVmFsKHBvaW50LnZhbCkgJiYgaGFzRGlhZ3JhbTtcbiAgICAgICAgICAgICAgICBwb2ludC5oYXNNYXJrID0gX3NlbGYuaGFzVmFsKHBvaW50LngpICYmIF9zZWxmLmhhc1ZhbChwb2ludC55KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb2ludC5pc0V4Y2VlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHBvaW50LmlzUXVhbGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwb2ludC5zaG93TWFyayA9IF9zZWxmLmhhc1ZhbChwb2ludC52YWwpICYmIGhhc0RpYWdyYW07XG4gICAgICAgICAgICAgICAgcG9pbnQuaGFzTWFyayA9IF9zZWxmLmhhc1ZhbChwb2ludC54KSAmJiBfc2VsZi5oYXNWYWwocG9pbnQueSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChtYXhWYWwgLSBtYXRoVmFsID4gbWluKSB7XG4gICAgICAgICAgICAgICAgcG9pbnQuaXNFeGNlZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHBvaW50LmlzUXVhbGlmaWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcG9pbnQuc2hvd01hcmsgPSBfc2VsZi5oYXNWYWwocG9pbnQudmFsKSAmJiBoYXNEaWFncmFtO1xuICAgICAgICAgICAgICAgIHBvaW50Lmhhc01hcmsgPSBfc2VsZi5oYXNWYWwocG9pbnQueCkgJiYgX3NlbGYuaGFzVmFsKHBvaW50LnkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBvaW50LmlzRXhjZWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcG9pbnQuaXNRdWFsaWZpZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHBvaW50LnNob3dNYXJrID0gX3NlbGYuaGFzVmFsKHBvaW50LnZhbCkgJiYgaGFzRGlhZ3JhbTtcbiAgICAgICAgICAgICAgICBwb2ludC5oYXNNYXJrID0gX3NlbGYuaGFzVmFsKHBvaW50LngpICYmIF9zZWxmLmhhc1ZhbChwb2ludC55KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIOW3suaUueS4uuWHgOmrmO+8jOaaguS4jeaUr+aMgeWunua1i+W3oeajgFxuICAgIH0gZWxzZSBpZiAocHJvYmxlbS5wYXNzcmF0ZV9tb2RlID09PSA0KSB7XG4gICAgICAvLyDmnoHlt64r6K6+6K6h5YC8XG4gICAgICAvKlxuICAgICAgICog5p6B5beuK+iuvuiuoeWAvOeul+azle+8mlxuICAgICAgICog5ZCI5qC85qCH5YeGOiBbbWluLCBtYXhd77yM5a6e5rWL54K5OiBbe3ZhbDogdmFsMSwgc2V0VmFsOiBzZXRWYWwxfSwge3ZhbDogdmFsMiwgc2V0VmFsOiBzZXRWYWwyfV1cbiAgICAgICAqIOWmguaenOWNleS4qua1i+WMuumHjOmdouacieS4gOS4queCueeahCB8dmFsIC0gc2V0VmFsfCA+IG1heO+8jOWImeaVtOe7hOeCuemDveeIhlxuICAgICAgICog5aaC5p6cIG1pbiA8IHx2YWwgLSBzZXRWYWx8IDw9IG1heO+8jOWImeW9k+WJjeeCueS4uueIhueCue+8jOWPjeS5i+WImeS4uuWQiOagvOeCuVxuICAgICAgICovXG4gICAgICAvKiBwb2ludHNHcm91cCA9IF8uZ3JvdXBCeShwcm9ibGVtLnJlYWxpdHlWYWwgfHwgW10sICdhcmVhJyk7XG5cbiAgICAgIF8uZWFjaChwb2ludHNHcm91cCwgKGdyb3VwKT0+IHtcbiAgICAgICAgdmFyIGhhc0VtcHR5ID0gXy5zb21lKGdyb3VwLCAocG9pbnQpPT4ge1xuICAgICAgICAgIHJldHVybiAhX3NlbGYuaGFzVmFsKHBvaW50LnZhbCkgfHwgIV9zZWxmLmhhc1ZhbChwb2ludC5zZXRWYWwpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyDmmK/lkKbmnInlrp7mtYvngrnnmoTlgY/lt67lgLzotoXov4flkIjmoLzmoIflh4bnmoTmnIDlpKflgLxcbiAgICAgICAgdmFyIGhhc01heE92ZXJmbG93O1xuXG4gICAgICAgIC8vIOWNleS4qua1i+WMuuWFqOmDqOi+k+WFpeWujOaIkOaJjeiuoeeul+eIhueCuVxuICAgICAgICBpZiAoaGFzRW1wdHkpIHtcbiAgICAgICAgICBfLmVhY2goZ3JvdXAsIChwb2ludCk9PiB7XG4gICAgICAgICAgICBwb2ludC5pc0V4Y2VlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcG9pbnQuaXNRdWFsaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHBvaW50LnNob3dNYXJrID0gKF9zZWxmLmhhc1ZhbChwb2ludC52YWwpICYmIGhhc0RpYWdyYW0pO1xuICAgICAgICAgICAgcG9pbnQuaGFzTWFyayA9IChfc2VsZi5oYXNWYWwocG9pbnQueCkgJiYgX3NlbGYuaGFzVmFsKHBvaW50LnkpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBoYXNNYXhPdmVyZmxvdyA9IF8uc29tZShncm91cCwgKHBvaW50KT0+IHtcbiAgICAgICAgICByZXR1cm4gTWF0aC5hYnMocG9pbnQudmFsIC0gcG9pbnQuc2V0VmFsKSA+IG1heDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8g5pW057uE6YO954iG54K5XG4gICAgICAgIGlmIChoYXNNYXhPdmVyZmxvdykge1xuICAgICAgICAgIF8uZWFjaChncm91cCwgKHBvaW50KT0+IHtcbiAgICAgICAgICAgIHBvaW50LmlzRXhjZWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHBvaW50LmlzUXVhbGlmaWVkID0gZmFsc2U7XG4gICAgICAgICAgICBwb2ludC5zaG93TWFyayA9IChfc2VsZi5oYXNWYWwocG9pbnQudmFsKSAmJiBoYXNEaWFncmFtKTtcbiAgICAgICAgICAgIHBvaW50Lmhhc01hcmsgPSAoX3NlbGYuaGFzVmFsKHBvaW50LngpICYmIF9zZWxmLmhhc1ZhbChwb2ludC55KSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g6K6h566X5Y2V5Liq54K55piv5ZCm5Li654iG54K5XG4gICAgICAgIF8uZWFjaChncm91cCwgKHBvaW50KT0+IHtcbiAgICAgICAgICB2YXIgbWF0aFZhbCA9IE1hdGguYWJzKHBvaW50LnZhbCAtIHBvaW50LnNldFZhbCk7XG5cbiAgICAgICAgICBpZiAoTWF0aC5hYnMobWluKSA8IG1hdGhWYWwgJiYgbWF0aFZhbCA8PSBtYXgpIHtcbiAgICAgICAgICAgIHBvaW50LmlzRXhjZWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHBvaW50LmlzUXVhbGlmaWVkID0gZmFsc2U7XG4gICAgICAgICAgICBwb2ludC5zaG93TWFyayA9IChfc2VsZi5oYXNWYWwocG9pbnQudmFsKSAmJiBoYXNEaWFncmFtKTtcbiAgICAgICAgICAgIHBvaW50Lmhhc01hcmsgPSAoX3NlbGYuaGFzVmFsKHBvaW50LngpICYmIF9zZWxmLmhhc1ZhbChwb2ludC55KSk7XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9pbnQuaXNFeGNlZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHBvaW50LmlzUXVhbGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHBvaW50LnNob3dNYXJrID0gKF9zZWxmLmhhc1ZhbChwb2ludC52YWwpICYmIGhhc0RpYWdyYW0pO1xuICAgICAgICAgICAgcG9pbnQuaGFzTWFyayA9IChfc2VsZi5oYXNWYWwocG9pbnQueCkgJiYgX3NlbGYuaGFzVmFsKHBvaW50LnkpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7ICovXG4gICAgfSBlbHNlIGlmIChwcm9ibGVtLnBhc3NyYXRlX21vZGUgPT09IDUgfHwgcHJvYmxlbS5wYXNzcmF0ZV9tb2RlID09PSA2KSB7XG4gICAgICAvLyDpq5jlrr3nrpfms5XjgIHlvIDpl7Tov5vmt7Hnrpfms5VcblxuICAgICAgLy8g5YGP5beu5YC877ya77yI5a6e5rWL5YC8IC0g6K6+6K6h5YC877yJ55qE57ud5a+55YC8XG4gICAgICAvLyAxLiDlpoLmnpzlgY/lt67lgLzkuI3kuIDmoLfvvIzlj5blgY/lt67lgLzlpKfnmoTngrnmnaXorqHnrpfvvIzkuIDniIbpg73niIZcbiAgICAgIC8vIDIuIOWmguaenOWBj+W3ruWAvOS4gOagt++8jOS4pOS4queCuemDveWvueavlOOAguWmguaenOS4gOihjOWHuueOsOS4gOS4queIhueCue+8jOWImeaVtOihjOeul+S4gOS4queIhueCue+8jOaIt+Wei+Wbvuagh+WcqOeIhueCueS4iuOAglxuICAgICAgLy8g5aaC5p6c5LiA6KGM5pyJ5Lik5Liq54iG54K577yM5oi35Z6L5Zu+5qCH5Zyo56ys5LiA5Liq54iG54K55LiKXG4gICAgICBwb2ludHNHcm91cCA9IF8uZ3JvdXBCeShwcm9ibGVtLnJlYWxpdHlWYWwgfHwgW10sIHBvaW50ID0+IHtcbiAgICAgICAgcmV0dXJuIHBvaW50LmFyZWEgKyAnLScgKyBwb2ludC5sYWJlbDtcbiAgICAgIH0pO1xuXG4gICAgICBfLmVhY2gocG9pbnRzR3JvdXAsIGdyb3VwID0+IHtcbiAgICAgICAgdmFyIGhhc0VtcHR5ID0gXy5zb21lKGdyb3VwLCBwb2ludCA9PiB7XG4gICAgICAgICAgcmV0dXJuICFfc2VsZi5oYXNWYWwocG9pbnQudmFsKSB8fCAhX3NlbGYuaGFzVmFsKHBvaW50LnNldFZhbCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaGFzRW1wdHkpIHtcbiAgICAgICAgICBfLmVhY2goZ3JvdXAsIHBvaW50ID0+IHtcbiAgICAgICAgICAgIHBvaW50LmlzRXhjZWVkID0gZmFsc2U7XG4gICAgICAgICAgICBwb2ludC5pc1F1YWxpZmllZCA9IGZhbHNlO1xuICAgICAgICAgICAgcG9pbnQuc2hvd01hcmsgPSBfc2VsZi5oYXNWYWwocG9pbnQudmFsKSAmJiBoYXNEaWFncmFtO1xuICAgICAgICAgICAgcG9pbnQuaGFzTWFyayA9IF9zZWxmLmhhc1ZhbChwb2ludC54KSAmJiBfc2VsZi5oYXNWYWwocG9pbnQueSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g6I635Y+W5YGP5beu5YC85pyA5aSn55qE54K5XG4gICAgICAgIHZhciBtYXhQb2ludCA9IF8ubWF4QnkoZ3JvdXAsIHBvaW50ID0+IHtcbiAgICAgICAgICByZXR1cm4gTWF0aC5hYnMocG9pbnQudmFsIC0gcG9pbnQuc2V0VmFsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIG1hdGhWYWwgPSBwYXJzZUZsb2F0KG1heFBvaW50LnZhbCkgLSBwYXJzZUZsb2F0KG1heFBvaW50LnNldFZhbCB8fCAwKTtcblxuICAgICAgICAvLyDlpoLmnpzlgY/lt67lgLzmnIDlpKfnmoTngrnmmK/niIbngrnvvIzliJnlhbbku5bnmoTngrnkuZ/nrpfkvZzniIbngrnvvIjlhbblrp7kuI3mmK/nnJ/mraPnmoTniIbngrnvvIzkuI3moIfnuqLvvIlcbiAgICAgICAgaWYgKF9zZWxmLmhhc1ZhbChtYXhQb2ludC52YWwpICYmIChtYXRoVmFsIDwgbWluIHx8IG1hdGhWYWwgPiBtYXgpKSB7XG4gICAgICAgICAgXy5lYWNoKGdyb3VwLCBwb2ludCA9PiB7XG4gICAgICAgICAgICBwb2ludC5pc0V4Y2VlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcG9pbnQuaXNRdWFsaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHBvaW50LnNob3dNYXJrID0gX3NlbGYuaGFzVmFsKHBvaW50LnZhbCkgJiYgaGFzRGlhZ3JhbTtcbiAgICAgICAgICAgIHBvaW50Lmhhc01hcmsgPSBfc2VsZi5oYXNWYWwocG9pbnQueCkgJiYgX3NlbGYuaGFzVmFsKHBvaW50LnkpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgbWF4UG9pbnQuaXNFeGNlZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF8uZWFjaChncm91cCwgcG9pbnQgPT4ge1xuICAgICAgICAgICAgcG9pbnQuaXNFeGNlZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHBvaW50LmlzUXVhbGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHBvaW50LnNob3dNYXJrID0gX3NlbGYuaGFzVmFsKHBvaW50LnZhbCkgJiYgaGFzRGlhZ3JhbTtcbiAgICAgICAgICAgIHBvaW50Lmhhc01hcmsgPSBfc2VsZi5oYXNWYWwocG9pbnQueCkgJiYgX3NlbGYuaGFzVmFsKHBvaW50LnkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHByb2JsZW0ucGFzc3JhdGVfbW9kZSA9PT0gNykge1xuICAgICAgLy8g5pa55q2j5oCnXG4gICAgICAvLyDmr4/kuKrmtYvljLoz5Liq5YC85LmL6Ze055qE5pyA5aSn5beu5YC877yM5LiO5ZCI5qC85qCH5YeG5a+55q+UXG4gICAgICBwb2ludHNHcm91cCA9IF8uZ3JvdXBCeShwcm9ibGVtLnJlYWxpdHlWYWwgfHwgW10sICdhcmVhJyk7XG5cbiAgICAgIF8uZWFjaChwb2ludHNHcm91cCwgZ3JvdXAgPT4ge1xuICAgICAgICB2YXIgaGFzRW1wdHkgPSBfLnNvbWUoZ3JvdXAsIHBvaW50ID0+IHtcbiAgICAgICAgICByZXR1cm4gIV9zZWxmLmhhc1ZhbChwb2ludC52YWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGhhc0VtcHR5KSB7XG4gICAgICAgICAgXy5lYWNoKGdyb3VwLCBwb2ludCA9PiB7XG4gICAgICAgICAgICBwb2ludC5pc0V4Y2VlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcG9pbnQuaXNRdWFsaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHBvaW50LnNob3dNYXJrID0gX3NlbGYuaGFzVmFsKHBvaW50LnZhbCkgJiYgaGFzRGlhZ3JhbTtcbiAgICAgICAgICAgIHBvaW50Lmhhc01hcmsgPSBfc2VsZi5oYXNWYWwocG9pbnQueCkgJiYgX3NlbGYuaGFzVmFsKHBvaW50LnkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF4VmFsID0gXy5tYXhCeShncm91cCwgJ3ZhbCcpLnZhbCxcbiAgICAgICAgICBtaW5WYWwgPSBfLm1pbkJ5KGdyb3VwLCAndmFsJykudmFsLFxuICAgICAgICAgIGxpbWl0RGlmZiA9IG1heFZhbCAtIG1pblZhbDtcblxuICAgICAgICBpZiAobGltaXREaWZmIDwgbWluIHx8IGxpbWl0RGlmZiA+IG1heCkge1xuICAgICAgICAgIF8uZWFjaChncm91cCwgcG9pbnQgPT4ge1xuICAgICAgICAgICAgcG9pbnQuaXNFeGNlZWQgPSB0cnVlO1xuICAgICAgICAgICAgcG9pbnQuaXNRdWFsaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHBvaW50LnNob3dNYXJrID0gX3NlbGYuaGFzVmFsKHBvaW50LnZhbCkgJiYgaGFzRGlhZ3JhbTtcbiAgICAgICAgICAgIHBvaW50Lmhhc01hcmsgPSBfc2VsZi5oYXNWYWwocG9pbnQueCkgJiYgX3NlbGYuaGFzVmFsKHBvaW50LnkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF8uZWFjaChncm91cCwgcG9pbnQgPT4ge1xuICAgICAgICAgICAgcG9pbnQuaXNFeGNlZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHBvaW50LmlzUXVhbGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHBvaW50LnNob3dNYXJrID0gX3NlbGYuaGFzVmFsKHBvaW50LnZhbCkgJiYgaGFzRGlhZ3JhbTtcbiAgICAgICAgICAgIHBvaW50Lmhhc01hcmsgPSBfc2VsZi5oYXNWYWwocG9pbnQueCkgJiYgX3NlbGYuaGFzVmFsKHBvaW50LnkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHByb2JsZW0ucGFzc3JhdGVfbW9kZSA9PT0gOCkge1xuICAgICAgLy8g6KeC5oSf566X5rOVXG4gICAgICBfLmVhY2gocHJvYmxlbS5yZWFsaXR5VmFsLCBwb2ludCA9PiB7XG4gICAgICAgIHZhciBtYXRoVmFsID0gcGFyc2VGbG9hdChwb2ludC52YWwpLFxuICAgICAgICAgIGlzRXhjZWVkID0gX3NlbGYuaGFzVmFsKHBvaW50LnZhbCkgJiYgIW1hdGhWYWwsXG4gICAgICAgICAgaXNRdWFsaWZpZWQgPSBfc2VsZi5oYXNWYWwocG9pbnQudmFsKSAmJiAhIW1hdGhWYWw7XG5cbiAgICAgICAgcG9pbnQuaXNFeGNlZWQgPSBpc0V4Y2VlZDtcbiAgICAgICAgcG9pbnQuaXNRdWFsaWZpZWQgPSBpc1F1YWxpZmllZDtcbiAgICAgICAgcG9pbnQuc2hvd01hcmsgPSBfc2VsZi5oYXNWYWwocG9pbnQudmFsKSAmJiBoYXNEaWFncmFtO1xuICAgICAgICBwb2ludC5oYXNNYXJrID0gX3NlbGYuaGFzVmFsKHBvaW50LngpICYmIF9zZWxmLmhhc1ZhbChwb2ludC55KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9ibGVtLnJlYWxpdHlWYWw7XG4gIH0sXG5cbiAgLypcbiAgICog5aSE55CG6Zeu6aKY5pWw5o2u77yM6IGM6LSj5YyF5ous77yaXG4gICAqIDEuIHBvaW50TnVt77yM5a6e5rWL5YC85pWw6YePXG4gICAqIDIuIGV4Y2VlZFZhbO+8jOeIhueCueWAvOWxnuaAp1xuICAgKiAzLiBleGNlZWROdW3vvIzniIbngrnmlbDph4/lsZ7mgKdcbiAgICogNC4g6K6h566XIGlucHV0Q29tcGxldGUg5bGe5oCn77yM5Yik5pat5a6e5rWL54K55piv5ZCm6L6T5YWl5a6M5oiQXG4gICAqIDYuIOiuoeeulyBwYXNzcmF0ZSDlsZ7mgKfvvIwg5ZCI5qC8546HXG4gICAqIDcuIOiuoeeulyBoYXNFeGNlZWQg5bGe5oCn77yM5piv5ZCm5pyJ54iG54K5XG4gICAqIDcuIOiuvue9riBpc0ZpY3Q6IOaYr+WQpuaYr+iZmuaLn+eCue+8jOWFiOagh+eCueaooeW8j+eahOWFs+iBlOajgOafpeeahOaXtuWAmeWFgeiuuOS4jeWhq+WAvO+8jOS4jeWhq+WAvOeahOeCueiuvue9ruS4uuiZmuaLn+eCueOAguiZmuaLn+eCueS4jeWPguS4juS7u+S9leiuoeeul1xuICAgKi9cbiAgcHJvYmxlbUhhbmRsZShwcm9ibGVtKSB7XG4gICAgdmFyIGV4Y2VlZHMsXG4gICAgICBudW1SYXRpbyA9IDEsIC8vIOiuoeeul+Wunua1i+eCueaVsOeahOaXtuWAmeeUqOWIsOeahOezu+aVsFxuICAgICAgdmFsaWRQb2ludDtcblxuICAgIC8vIOiuvue9riBpc0ZpY3RcbiAgICBpZiAocHJvYmxlbS5lbnRyeV9yZXF1aXJlbWVudHMgPT09IDMpIHtcbiAgICAgIF8uZWFjaChwcm9ibGVtLnJlYWxpdHlWYWwsIHBvaW50ID0+IHtcbiAgICAgICAgaWYgKF9zZWxmLmhhc1ZhbChwb2ludC52YWwpKSB7XG4gICAgICAgICAgZGVsZXRlIHBvaW50LmlzRmljdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwb2ludC5pc0ZpY3QgPSAxO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocHJvYmxlbS5lbnRyeV9yZXF1aXJlbWVudHMgPT09IDEpIHtcbiAgICAgIC8vIOmAieWhq+aooeW8j1xuXG4gICAgICAvKiBwcm9ibGVtLmV4Y2VlZFZhbCA9IF8uZmlsdGVyKHByb2JsZW0uZXhjZWVkVmFsLCAgKHBvaW50KT0+IHtcbiAgICAgICAgICAvLyDlpoLmnpzmsqHmnInloavlhpnlgLzvvIzkuKLlvINcbiAgICAgICAgICByZXR1cm4gX3NlbGYuaGFzVmFsKHBvaW50LnZhbCk7XG4gICAgICB9KTsgKi9cbiAgICAgIHByb2JsZW0ucmVhbGl0eVZhbCA9IHByb2JsZW0uZXhjZWVkVmFsO1xuICAgICAgLy8gcHJvYmxlbS5wb2ludE51bSA9IHByb2JsZW0uZXhjZWVkVmFsLmxlbmd0aDtcbiAgICAgIHByb2JsZW0uZXhjZWVkTnVtID0gcHJvYmxlbS5leGNlZWRWYWwubGVuZ3RoO1xuXG4gICAgICBwcm9ibGVtLmlucHV0Q29tcGxldGUgPSAhXy5zb21lKHByb2JsZW0uZXhjZWVkVmFsLCBwb2ludCA9PiB7XG4gICAgICAgIHJldHVybiAhX3NlbGYuaGFzVmFsKHBvaW50LnZhbCk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHByb2JsZW0ucG9pbnROdW0pIHtcbiAgICAgICAgcHJvYmxlbS5wYXNzcmF0ZSA9IChwcm9ibGVtLnBvaW50TnVtIC0gcHJvYmxlbS5leGNlZWROdW0pIC8gcHJvYmxlbS5wb2ludE51bTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2JsZW0ucGFzc3JhdGUgPSAwO1xuICAgICAgfVxuXG4gICAgICBwcm9ibGVtLmhhc0V4Y2VlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOWFqOmHj+aooeW8j1xuICAgICAgdmFsaWRQb2ludCA9IF8uZmlsdGVyKHByb2JsZW0ucmVhbGl0eVZhbCwgcG9pbnQgPT4ge1xuICAgICAgICByZXR1cm4gIXBvaW50LmlzRmljdDtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocHJvYmxlbS5wYXNzcmF0ZV9tb2RlID09PSA1IHx8IHByb2JsZW0ucGFzc3JhdGVfbW9kZSA9PT0gNikge1xuICAgICAgICBudW1SYXRpbyA9IDI7XG4gICAgICB9IGVsc2UgaWYgKHByb2JsZW0ucGFzc3JhdGVfbW9kZSA9PT0gNykge1xuICAgICAgICBudW1SYXRpbyA9IDM7XG4gICAgICB9XG5cbiAgICAgIHByb2JsZW0uZXhjZWVkVmFsID0gXy5maWx0ZXIodmFsaWRQb2ludCwgcG9pbnQgPT4ge1xuICAgICAgICByZXR1cm4gcG9pbnQuaXNFeGNlZWQ7XG4gICAgICB9KTtcbiAgICAgIHByb2JsZW0ucG9pbnROdW0gPSB2YWxpZFBvaW50Lmxlbmd0aCAvIG51bVJhdGlvO1xuICAgICAgLy8gaXNRdWFsaWZpZWQgIT09IHRydWUg55qE54K56YO9566X5L2c54iG54K5XG4gICAgICBleGNlZWRzID0gXy5maWx0ZXIodmFsaWRQb2ludCwgcG9pbnQgPT4ge1xuICAgICAgICByZXR1cm4gcG9pbnQuaXNRdWFsaWZpZWQgIT09IHRydWU7XG4gICAgICB9KTtcbiAgICAgIHByb2JsZW0uZXhjZWVkTnVtID0gZXhjZWVkcy5sZW5ndGggLyBudW1SYXRpbztcblxuICAgICAgcHJvYmxlbS5pbnB1dENvbXBsZXRlID0gIV8uc29tZSh2YWxpZFBvaW50LCBwb2ludCA9PiB7XG4gICAgICAgIHJldHVybiAhX3NlbGYuaGFzVmFsKHBvaW50LnZhbCk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHByb2JsZW0ucG9pbnROdW0pIHtcbiAgICAgICAgcHJvYmxlbS5wYXNzcmF0ZSA9IChwcm9ibGVtLnBvaW50TnVtIC0gcHJvYmxlbS5leGNlZWROdW0pIC8gcHJvYmxlbS5wb2ludE51bTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2JsZW0ucGFzc3JhdGUgPSAwO1xuICAgICAgfVxuXG4gICAgICBwcm9ibGVtLmhhc0V4Y2VlZCA9IF8uc29tZSh2YWxpZFBvaW50LCBwb2ludCA9PiB7XG4gICAgICAgIHJldHVybiBwb2ludC5pc0V4Y2VlZDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbn07XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgd2FuZ2owMSBvbiAyMDE2LzgvMTEuXG4gKi9cblxuXG5pbXBvcnQgJHEgZnJvbSAnQHN0YXRpYy9saWIvcHJvbWlzZSc7XG5pbXBvcnQgbG9jYWxEQiBmcm9tICdAc3JjL2ZyYW1ld29yay9sb2NhbERCJztcbmltcG9ydCBjb250ZXh0IGZyb20gJ0BzcmMvZnJhbWV3b3JrL2NvbnRleHQnO1xuaW1wb3J0IENoZWNrUXVhbGl0eVByb2JsZW1DQ1JlcG9zaXRvcnkgZnJvbSAnQHNyYy9yZXBvc2l0b3JpZXMvY2hlY2stcXVhbGl0eS1wcm9ibGVtLWNjLXJlcG9zaXRvcnknO1xuaW1wb3J0IENoZWNrUXVhbGl0eVByb2JsZW1SZXBhaXJSZXBvc2l0b3J5IGZyb20gJ0BzcmMvcmVwb3NpdG9yaWVzL2NoZWNrLXF1YWxpdHktcHJvYmxlbS1yZXBhaXItcmVwb3NpdG9yeSc7XG5pbXBvcnQgQ2hlY2tRdWFsaXR5UHJvYmxlbVJlaW5zcGVjdFJlcG9zaXRvcnkgZnJvbSAnQHNyYy9yZXBvc2l0b3JpZXMvY2hlY2stcXVhbGl0eS1wcm9ibGVtLXJlaW5zcGVjdC1yZXBvc2l0b3J5JztcblxuLyogTWVhc3VyZU1vZC5yZWdpc3RlckZhY3RvcnkoJ01lYXN1cmVJbnNwZWN0UmVwb3NpdG9yeScsIFsnJHEnLCAnJGxvZycsICdsb2NhbERCJywgJ1V0aWxzJywgJ2NvbnRleHQnLCAnQ2hlY2tRdWFsaXR5UHJvYmxlbUNDUmVwb3NpdG9yeScsICdDaGVja1F1YWxpdHlQcm9ibGVtUmVwYWlyUmVwb3NpdG9yeScsICdDaGVja1F1YWxpdHlQcm9ibGVtUmVpbnNwZWN0UmVwb3NpdG9yeScsXG4gICAgZnVuY3Rpb24gKCRxLCAkbG9nLCBsb2NhbERCLCBVdGlscywgY29udGV4dCwgQ2hlY2tRdWFsaXR5UHJvYmxlbUNDUmVwb3NpdG9yeSwgQ2hlY2tRdWFsaXR5UHJvYmxlbVJlcGFpclJlcG9zaXRvcnksIENoZWNrUXVhbGl0eVByb2JsZW1SZWluc3BlY3RSZXBvc2l0b3J5KVxuICAgIHsgKi9cbiAgICAgICAgdmFyIF90YWJsZU5hbWUgPSAnY2hlY2txdWFsaXR5X3Byb2JsZW0nO1xuXG4gICAgICAgIHZhciBfc2VsZjtcblxuICAgICAgICAvKipcbiAgICAgICAgICog5Y2V5oi/5rGH5oC75Y+W5pWwXG4gICAgICAgICAqICBwcF9uYW1lLCBwY19uYW1lLCBwcF9pZCwgcGNfaWQsIHByb2JsZW1faWQsIHJvb21faWQsIGJhdGNoX2lkLCBzdGF0dXMsIG1lYXN1cmVtZW50X3BvaW50cywgcHJvYmxlbV9wb2ludHMsIHByb2JsZW1fdmFsdWVzXG4gICAgICAgICAqIEBwYXJhbSBiYXRjaElkXG4gICAgICAgICAqIEBwYXJhbSByb29tSWRcbiAgICAgICAgICogQHJldHVybnMge3Byb21pc2V9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX2dldFJvb21Qcm9ibGVtcyA9IGZ1bmN0aW9uKGJhdGNoSWQsIHJvb21JZCl7XG4gICAgICAgICAgICB2YXIgc3FsID0gXCJTRUxFQ1QgcC5pZCBBUyBpZCwgcHAubmFtZSBBUyBwcF9uYW1lLCBwYy5uYW1lIEFTIHBjX25hbWUsIHBwLmlkIEFTIHBwX2lkLCBwYy5pZCBBUyBwY19pZCwgcC5pZCBBUyBwcm9ibGVtX2lkLCBcXFxuICAgICAgICAgICAgICAgIHAucm9vbV9pZCBhcyByb29tX2lkLCBwLmJhdGNoX2lkIGFzIGJhdGNoX2lkLCBwLnN0YXR1cyBhcyBzdGF0dXMsIFxcXG4gICAgICAgICAgICAgICAgcC5tZWFzdXJlbWVudF9wb2ludHMgYXMgbWVhc3VyZW1lbnRfcG9pbnRzLCBwLnByb2JsZW1fcG9pbnRzIGFzIHByb2JsZW1fcG9pbnRzLCBwLnByb2JsZW1fdmFsdWVzIGFzIHByb2JsZW1fdmFsdWVzLCBwLnByb2JsZW1fdmFsdWVzX3ppcCBhcyBwcm9ibGVtX3ZhbHVlc196aXAsIFxcXG4gICAgICAgICAgICAgICAgcC5lbnRyeV9yZXF1aXJlbWVudHMgYXMgcF9lbnRyeV9yZXF1aXJlbWVudHMsIHAuc3RhbmRhcmRfbWluIGFzIHBfc3RhbmRhcmRfbWluLCBwLnN0YW5kYXJkX21heCBhcyBwX3N0YW5kYXJkX21heCwgXFxcbiAgICAgICAgICAgICAgICBiYXRjaC5lbnRyeV9yZXF1aXJlbWVudHMgYXMgZW50cnlfcmVxdWlyZW1lbnRzLCBwYy5zdGFuZGFyZF9taW4gYXMgc3RhbmRhcmRfbWluLCBwYy5zdGFuZGFyZF9tYXggYXMgc3RhbmRhcmRfbWF4LCBcXFxuICAgICAgICAgICAgICAgIGNhc2Ugd2hlbiBwLmlkIGlzIG51bGwgdGhlbiBwYy5wYXNzcmF0ZV9tb2RlIGVsc2UgcC5wYXNzcmF0ZV9tb2RlIGVuZCBhcyBwYXNzcmF0ZV9tb2RlIFxcXG4gICAgICAgICAgICBGUk9NIHByb2JsZW1fY2xhc3MgcHAgXFxcbiAgICAgICAgICAgIElOTkVSIEpPSU4gcHJvYmxlbV9jbGFzcyBwYyBPTiBwcC5pZCA9IHBjLnBhcmVudF9pZCBBTkQgcHAudHlwZSA9IDQxIEFORCBpZm51bGwocHAucGFyZW50X2lkLCAnJykgIT0gJycgXFxcbiAgICAgICAgICAgIGlubmVyIGpvaW4gc2VjdGlvbl9jaGVja2l0ZW0gc2Mgb24gc2MuaXRlbV9pZCA9IHBjLmlkIFxcXG4gICAgICAgICAgICBpbm5lciBqb2luIGJhdGNoIG9uIGJhdGNoLmJpZHNlY3Rpb25faWQgPSBzYy5iaWRzZWN0aW9uX2lkIGFuZCBiYXRjaC5pZCA9ID8gXFxcbiAgICAgICAgICAgIExFRlQgSk9JTiBjaGVja3F1YWxpdHlfcHJvYmxlbSBwIE9OIHBjLmlkID0gcC5pdGVtX2lkIEFORCBwLmJhdGNoX2lkID0gPyBBTkQgcC5yb29tX2lkID0gPyBBTkQgcC5iYXRjaF90eXBlIGluICgn5a6e5rWL5a6e6YePKOaWsCknLCAn5a6e5rWL5beh5qOAJykgXFxcbiAgICAgICAgICAgIE9SREVSIEJZIHBwLmNvZGUsIHBjLmNvZGVcIjtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbERCLnF1ZXJ5KHNxbCwgW2JhdGNoSWQsIGJhdGNoSWQsIHJvb21JZF0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDov5Tlm57lhazlvIDlr7nosaFcbiAgICAgICAgICovXG4gICAgICAgIF9zZWxmID0ge1xuICAgICAgICAgICAgZ2V0Um9vbVByb2JsZW1zOiBfZ2V0Um9vbVByb2JsZW1zLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiDojrflj5blrp7mtYvlrp7ph48o5pawKeaooeW8j++8jOaMh+WumuaJueasoeS4iz0+5qW85qCLKOWNleWFgynmiYDljIXlkKvmiL/pl7TlhoXvvIzlhbfkvZPmo4Dmn6Xpobnlr7nlupTnmoTmo4Dmn6Xpl67popjorrDlvZVcbiAgICAgICAgICAgICAqIEBwYXJhbSBiYXRjaElkICAgICAgIOaJueasoUlkXG4gICAgICAgICAgICAgKiBAcGFyYW0gYnVpbGRpbmdJZCAgICDmpbzmoItJZFxuICAgICAgICAgICAgICogQHBhcmFtIHVuaXQgICAgICAgICAg5Y2V5YWDXG4gICAgICAgICAgICAgKiBAcGFyYW0gY2hlY2tJdGVtcyAgICBb5qOA5p+l6aG5SWRdXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGdldE1lYXN1cmVOZXdCYXRjaFJvb21Qcm9ibGVtczogZnVuY3Rpb24oYmF0Y2hJZCwgYnVpbGRpbmdJZCwgdW5pdCwgY2hlY2tJdGVtcyl7XG4gICAgICAgICAgICAgICAgdmFyIHNxbEZpbHRlclVuaXQgPSAnJztcbiAgICAgICAgICAgICAgICBpZih1bml0KXtcbiAgICAgICAgICAgICAgICAgICAgc3FsRmlsdGVyVW5pdCA9IFwiIGFuZCBwLnVuaXQgPSAnXCIgKyB1bml0ICsgXCInIFwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBzcWxGaWx0ZXJDaGVja0l0ZW1zID0gXy5yZWR1Y2UoY2hlY2tJdGVtcywgZnVuY3Rpb24odGVtcCwgY2hlY2tJdGVtSWQpeyByZXR1cm4gdGVtcCArIFwiLCdcIiArIGNoZWNrSXRlbUlkICsgXCInXCI7IH0sICcnKTtcbiAgICAgICAgICAgICAgICBpZihzcWxGaWx0ZXJDaGVja0l0ZW1zKXtcbiAgICAgICAgICAgICAgICAgICAgc3FsRmlsdGVyQ2hlY2tJdGVtcyA9IHNxbEZpbHRlckNoZWNrSXRlbXMuc3Vic3RyKDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBzcWwgPSBcIlNFTEVDVCAqIEZST00gXFxcbiAgICAgICAgICAgIGNoZWNrcXVhbGl0eV9wcm9ibGVtIHAgXFxcbiAgICAgICAgICAgIFdIRVJFIHAuYmF0Y2hfdHlwZSA9ICflrp7mtYvlrp7ph48o5pawKScgXFxcbiAgICAgICAgICAgIEFORCBwLnN0YXR1cyAhPSAn5qOA5p+l5LitJyBcXFxuICAgICAgICAgICAgQU5EIHAuYmF0Y2hfaWQgPSA/IFxcXG4gICAgICAgICAgICBBTkQgcC5idWlsZGluZ19pZCA9ID8gXFxcbiAgICAgICAgICAgIFwiICsgc3FsRmlsdGVyVW5pdCArIFwiIFxcXG4gICAgICAgICAgICBBTkQgcC5pdGVtX2lkIElOICggXFxcbiAgICAgICAgICAgIFwiICsgc3FsRmlsdGVyQ2hlY2tJdGVtcyArIFwiIFxcXG4gICAgICAgICAgICApXCI7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxEQi5xdWVyeShzcWwsIFtiYXRjaElkLCBidWlsZGluZ0lkXSlcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICog6I635Y+W5a6e5rWL5a6e6YePKOaWsCnmqKHlvI/vvIzmjIflrprljZXmiL/ljZXpobnnmoTmo4Dmn6Xpl67popjorrDlvZVcbiAgICAgICAgICAgICAqIEBwYXJhbSBiYXRjaElkICAg5om55qyhSWRcbiAgICAgICAgICAgICAqIEBwYXJhbSByb29tSWQgICAg5oi/6Ze0SWRcbiAgICAgICAgICAgICAqIEBwYXJhbSBpdGVtSWQgICAgW+ajgOafpemhuUlkXVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBnZXRNZWFzdXJlTmV3Um9vbUl0ZW1Qcm9ibGVtOiBmdW5jdGlvbihiYXRjaElkLCByb29tSWQsIGl0ZW1JZCl7XG4gICAgICAgICAgICAgICAgdmFyIHNxbCA9IFwiU0VMRUNUIHAuKiwgdVJlZy5uYW1lIGFzIHJlZ2lzdF9ieV9uYW1lLCB1UmVnLm1vYmlsZSBhcyByZWdpc3RfYnlfbW9iaWxlLCB1UmVwLm5hbWUgYXMgcmVwYWlyX25hbWUsIHVSZXAubW9iaWxlIGFzIHJlcGFpcl9tb2JpbGUsIFxcXG4gICAgICAgICAgICAgICAgICAgIHVSZXAuaXNfaW1fdXNlciBhcyByZXBhaXJfaXNfaW1fdXNlciAsIHVSZWcuaXNfaW1fdXNlciBhcyByZWdpc3RfaXNfaW1fdXNlciBcXFxuICAgICAgICAgICAgICAgICAgICBGUk9NIGNoZWNrcXVhbGl0eV9wcm9ibGVtIHAgXFxcbiAgICAgICAgICAgICAgICAgICAgTEVGVCBKT0lOIHVzZXIgdVJlZyBvbiBwLnJlZ2lzdF9ieSA9IHVSZWcuaWQgXFxcbiAgICAgICAgICAgICAgICAgICAgTEVGVCBKT0lOIHVzZXIgdVJlcCBvbiBwLnJlcGFpcl9ieSA9IHVSZXAuaWQgXFxcbiAgICAgICAgICAgICAgICAgICAgV0hFUkUgcC5iYXRjaF9pZCA9ID8gXFxcbiAgICAgICAgICAgICAgICAgICAgQU5EIHAucm9vbV9pZCA9ID8gXFxcbiAgICAgICAgICAgICAgICAgICAgQU5EIHAuaXRlbV9pZCA9ID9cIjtcblxuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbERCLnF1ZXJ5KHNxbCwgW2JhdGNoSWQsIHJvb21JZCwgaXRlbUlkXSlcbiAgICAgICAgICAgIH0sXG5cblxuXG4gICAgICAgICAgICAvKiDojrflj5blrp7mtYvlrp7ph4/mjInlsYLmo4Dmn6XnmoTpl67popjmlbDmja5cbiAgICAgICAgICAgICovXG4gICAgICAgICAgICBnZXRNZWFzdXJlTmV3Rmxvb3JQcm9ibGVtOiBmdW5jdGlvbihiYXRjaElkLCBidWlsZGluZ0lkLCB1bml0LCBmbG9vciwgaXRlbUlkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNxbEZpbHRlclVuaXQgPSAnJztcbiAgICAgICAgICAgICAgICBpZih1bml0KXtcbiAgICAgICAgICAgICAgICAgICAgc3FsRmlsdGVyVW5pdCA9IFwiIGFuZCBwLnVuaXQgPSAnXCIgKyB1bml0ICsgXCInIFwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBzcWwgPSBcIlNFTEVDVCBwLiosIHVSZWcubmFtZSBhcyByZWdpc3RfYnlfbmFtZSwgdVJlZy5tb2JpbGUgYXMgcmVnaXN0X2J5X21vYmlsZSwgdVJlcC5uYW1lIGFzIHJlcGFpcl9uYW1lLCB1UmVwLm1vYmlsZSBhcyByZXBhaXJfbW9iaWxlLCBcXFxuICAgICAgICAgICAgICAgICAgICB1UmVwLmlzX2ltX3VzZXIgYXMgcmVwYWlyX2lzX2ltX3VzZXIgLCB1UmVnLmlzX2ltX3VzZXIgYXMgcmVnaXN0X2lzX2ltX3VzZXIgXFxcbiAgICAgICAgICAgICAgICAgICAgRlJPTSBjaGVja3F1YWxpdHlfcHJvYmxlbSBwIFxcXG4gICAgICAgICAgICAgICAgICAgIExFRlQgSk9JTiB1c2VyIHVSZWcgb24gcC5yZWdpc3RfYnkgPSB1UmVnLmlkIFxcXG4gICAgICAgICAgICAgICAgICAgIExFRlQgSk9JTiB1c2VyIHVSZXAgb24gcC5yZXBhaXJfYnkgPSB1UmVwLmlkIFxcXG4gICAgICAgICAgICAgICAgICAgIFdIRVJFIHAuYmF0Y2hfaWQgPSA/IFxcXG4gICAgICAgICAgICAgICAgICAgIEFORCBwLmJ1aWxkaW5nX2lkID0gPyBcXFxuICAgICAgICAgICAgICAgICAgICBcIiArIHNxbEZpbHRlclVuaXQgKyBcIlxcXG4gICAgICAgICAgICAgICAgICAgIEFORCBwLmZsb29yID0gPyBcXFxuICAgICAgICAgICAgICAgICAgICBBTkQgcC5pdGVtX2lkID0gP1wiO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsREIucXVlcnkoc3FsLCBbYmF0Y2hJZCwgYnVpbGRpbmdJZCwgZmxvb3IsIGl0ZW1JZF0pO1xuICAgICAgICAgICAgfSxcblxuXG4gICAgICAgICAgICBpbnNlcnQ6IGZ1bmN0aW9uKHByb2JsZW0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsREIuaW5zZXJ0T2JqZWN0KF90YWJsZU5hbWUsIHByb2JsZW0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiDkv53lrZjpl67popjojYnnqL9cbiAgICAgICAgICAgICAqIEBwYXJhbSBwcm9ibGVtX2RhdGEg6Zeu6aKY5a+56LGhXG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7cHJvbWlzZX1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbihkYXRhLCBjY19zZXQsIHJlcGFpcl9zZXQsIHJlaW5zcGVjdF9zZXQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGF0YS5tb2RpZmllZF9ieSA9IGNvbnRleHQuZ2V0VXNlcigpLnVzZXJfaWQ7XG5cbiAgICAgICAgICAgICAgICAvLyAkbG9nLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxEQi51cGRhdGUoX3RhYmxlTmFtZSwgZGF0YSwge2lkOiBkYXRhLmlkfSkudGhlbihmdW5jdGlvbiAoKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8g5L+d5a2Y6Zeu6aKY5Y2V5oqE6YCB5Lq66ZuG5ZCIXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDaGVja1F1YWxpdHlQcm9ibGVtQ0NSZXBvc2l0b3J5LnNhdmVQcm9ibGVtQ0MoZGF0YS5pZCwgY2Nfc2V0KTtcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyDkv53lrZjpl67popjljZXmlbTmlLnkurpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENoZWNrUXVhbGl0eVByb2JsZW1SZXBhaXJSZXBvc2l0b3J5LnNhdmVQcm9ibGVtUmVwYWlyKGRhdGEuaWQsIHJlcGFpcl9zZXQpO1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIOS/neWtmOmXrumimOWNleWkjemqjOS6ulxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ2hlY2tRdWFsaXR5UHJvYmxlbVJlaW5zcGVjdFJlcG9zaXRvcnkuc2F2ZVByb2JsZW1SZWluc3BlY3QoZGF0YS5pZCwgcmVpbnNwZWN0X3NldCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBnZXRNZWFzdXJlUHJvYmxlbTogZnVuY3Rpb24oYmF0Y2hJZCwgY2hlY2tJdGVtSWQsIHJvb21JZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgc3FsID0gXCJzZWxlY3QgcC4qLCB1Lm5hbWUgYXMgcmVnaXN0X2J5X25hbWUsIHUubW9iaWxlIGFzIHJlZ2lzdF9ieV9tb2JpbGUsIHUuaXNfaW1fdXNlciBhcyByZWdpc3RfaXNfaW1fdXNlciwgcHAuc3RhdHVzIGFzIHBhcmVudF9zdGF0dXMsIFxcXG4gICAgICAgICAgICAgICAgICAgIHVyZXBhaXIubmFtZSBhcyByZXBhaXJfbmFtZSwgdXJlcGFpci5tb2JpbGUgYXMgcmVwYWlyX21vYmlsZSwgdXJlcGFpci5pc19pbV91c2VyIGFzIHJlcGFpcl9pc19pbV91c2VyIFxcXG4gICAgICAgICAgICAgICAgZnJvbSBjaGVja3F1YWxpdHlfcHJvYmxlbSBwIFxcXG4gICAgICAgICAgICAgICAgbGVmdCBqb2luIGNoZWNrcXVhbGl0eV9wcm9ibGVtIHBwIG9uIHAucGFyZW50X2lkID0gcHAuaWQgXFxcbiAgICAgICAgICAgICAgICBsZWZ0IGpvaW4gdXNlciB1IG9uIHAucmVnaXN0X2J5ID0gdS5pZCBcXFxuICAgICAgICAgICAgICAgIGxlZnQgam9pbiB1c2VyIHVyZXBhaXIgb24gcC5yZXBhaXJfYnkgPSB1cmVwYWlyLmlkIFxcXG4gICAgICAgICAgICAgICAgd2hlcmUgcC5iYXRjaF9pZCA9ID8gYW5kIHAuaXRlbV9pZCA9ID8gYW5kIHAucm9vbV9pZCA9ID8gXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsREIucXVlcnlPbmUoc3FsLCBbYmF0Y2hJZCwgY2hlY2tJdGVtSWQsIHJvb21JZF0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZ2V0TWVhc3VyZVByb2JsZW1CeUlkOiBmdW5jdGlvbihwcm9ibGVtSWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3FsID0gXCJzZWxlY3QgcC4qLCB1Lm5hbWUgYXMgcmVnaXN0X2J5X25hbWUsIHUubW9iaWxlIGFzIHJlZ2lzdF9ieV9tb2JpbGUsIHUuaXNfaW1fdXNlciBhcyByZWdpc3RfaXNfaW1fdXNlciwgcHAuc3RhdHVzIGFzIHBhcmVudF9zdGF0dXMsIFxcXG4gICAgICAgICAgICAgICAgICAgIHVyZXBhaXIubmFtZSBhcyByZXBhaXJfbmFtZSwgdXJlcGFpci5tb2JpbGUgYXMgcmVwYWlyX21vYmlsZSwgdXJlcGFpci5pc19pbV91c2VyIGFzIHJlcGFpcl9pc19pbV91c2VyIFxcXG4gICAgICAgICAgICAgICAgZnJvbSBjaGVja3F1YWxpdHlfcHJvYmxlbSBwIFxcXG4gICAgICAgICAgICAgICAgbGVmdCBqb2luIGNoZWNrcXVhbGl0eV9wcm9ibGVtIHBwIG9uIHAucGFyZW50X2lkID0gcHAuaWQgXFxcbiAgICAgICAgICAgICAgICBsZWZ0IGpvaW4gdXNlciB1IG9uIHAucmVnaXN0X2J5ID0gdS5pZCBcXFxuICAgICAgICAgICAgICAgIGxlZnQgam9pbiB1c2VyIHVyZXBhaXIgb24gcC5yZXBhaXJfYnkgPSB1cmVwYWlyLmlkIFxcXG4gICAgICAgICAgICAgICAgd2hlcmUgcC5pZCA9ID8gXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsREIucXVlcnlPbmUoc3FsLCBbcHJvYmxlbUlkXSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBnZXRNZWFzdXJlUHJvYmxlbXNCeVN0YXR1czogZnVuY3Rpb24gKGJhdGNoSWQsIHN0YXR1cylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgcHMgPSBbYmF0Y2hJZF07XG4gICAgICAgICAgICAgICAgaWYgKF8uaXNBcnJheShzdGF0dXMpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHMgPSBwcy5jb25jYXQoc3RhdHVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHMucHVzaChzdGF0dXMpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBzdGF0dXNXaGVyZSA9IF8ubWFwKHN0YXR1cywgZnVuY3Rpb24gKClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnc3RhdHVzID0gPyc7XG4gICAgICAgICAgICAgICAgfSkuam9pbignIG9yICcpO1xuICAgICAgICAgICAgICAgIHZhciBzcWwgPSBcInNlbGVjdCAqIGZyb20gY2hlY2txdWFsaXR5X3Byb2JsZW0gd2hlcmUgYmF0Y2hfaWQgPSA/IGFuZCAoXCIgKyBzdGF0dXNXaGVyZSArIFwiKSBhbmQgaWZudWxsKHBhcmVudF9pZCwgJycpICE9ICcnXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsREIucXVlcnkoc3FsLCBwcyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBnZXRNZWFzdXJlUHJvYmxlbXNCeVJvb206IGZ1bmN0aW9uKGJhdGNoSWQsIHJvb21JZHMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHNxbFdoZXJlID0gXy5tYXAocm9vbUlkcywgZnVuY3Rpb24gKGlkKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCInXCIgKyBpZCArIFwiJ1wiO1xuICAgICAgICAgICAgICAgICAgICB9KS5qb2luKCcsICcpIHx8IFwiJydcIjtcbiAgICAgICAgICAgICAgICB2YXIgc3FsID0gXCJzZWxlY3QgKiBmcm9tIGNoZWNrcXVhbGl0eV9wcm9ibGVtIHdoZXJlIGJhdGNoX2lkID0gPyBhbmQgaWZudWxsKHBhcmVudF9pZCwgJycpICE9ICcnIGFuZCByb29tX2lkIGluIChcIiArIHNxbFdoZXJlICsgXCIpXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsREIucXVlcnkoc3FsLCBbYmF0Y2hJZF0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiDmm7TmlrDlrZDpm4bpl67popjnirbmgIFcbiAgICAgICAgICAgICAqIEBwYXJhbSBwYXJlbnRJZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB1cGRhdGVQcm9ibGVtOiBmdW5jdGlvbiAoaWQsIGRhdGEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsREIudXBkYXRlKCdjaGVja3F1YWxpdHlfcHJvYmxlbScsIGRhdGEsIHsgaWQ6IGlkIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZ2V0U2luZ2xlUm9vbU1lYXN1cmVDaGVja2l0ZW1zOiBmdW5jdGlvbiAoYmF0Y2hJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgc3FsID0gXCJzZWxlY3QgcGMuaWQsIHBjLm5hbWUsIHBjMi5uYW1lIGFzIHBhcmVudF9uYW1lLCB1LmlkIGFzIHJlcGFpcl9pZCwgdS5uYW1lIGFzIHJlcGFpcl9uYW1lLCB1Lm1vYmlsZSBhcyByZXBhaXJfcGhvbmUsIHAucmVwYWlyX2RhdGUsXFxcbiAgICAgICAgICAgICAgICAgICAgcC5yZXBhaXJfaW1hZ2VfZmlsZSwgcC5yZXBhaXJfcmVtYXJrXFxcbiAgICAgICAgICAgICAgICBmcm9tIGNoZWNrcXVhbGl0eV9wcm9ibGVtIHBcXFxuICAgICAgICAgICAgICAgIGpvaW4gcm9vbSByIG9uIHIuaWQgPSBwLnJvb21faWRcXFxuICAgICAgICAgICAgICAgIGpvaW4gcHJvYmxlbV9jbGFzcyBwYyBvbiBwLml0ZW1faWQgPSBwYy5pZFxcXG4gICAgICAgICAgICAgICAgam9pbiBwcm9ibGVtX2NsYXNzIHBjMiBvbiBwYy5wYXJlbnRfaWQgPSBwYzIuaWRcXFxuICAgICAgICAgICAgICAgIGxlZnQgam9pbiB1c2VyIHUgb24gdS5pZCA9IHAucmVwYWlyX2J5XFxcbiAgICAgICAgICAgICAgICB3aGVyZSBwLmJhdGNoX2lkID0gPyBhbmQgcC5zdGF0dXMgIT0gJ+ajgOafpeS4rScgXFxcbiAgICAgICAgICAgICAgICBncm91cCBieSBwYy5pZCwgcGMubmFtZVwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbERCLnF1ZXJ5KHNxbCwgW2JhdGNoSWRdKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGdldFNpbmdsZVJvb21NZWFzdXJlUmVwb3J0RGF0YTogZnVuY3Rpb24gKGJhdGNoSWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHNxbCA9IFwic2VsZWN0IHAucm9vbV9pZCwgci5yb29tX25vLCByLnVuaXQsIGIubmFtZSBhcyBidWlsZGluZ19uYW1lLCBwLml0ZW1faWQsIHAubWVhc3VyZW1lbnRfcG9pbnRzLCBwLnByb2JsZW1fcG9pbnRzXFxcbiAgICAgICAgICAgICAgICBmcm9tIGNoZWNrcXVhbGl0eV9wcm9ibGVtIHBcXFxuICAgICAgICAgICAgICAgIGpvaW4gcm9vbSByIG9uIHIuaWQgPSBwLnJvb21faWRcXFxuICAgICAgICAgICAgICAgIGpvaW4gYnVpbGRpbmcgYiBvbiByLmJ1aWxkaW5nX2lkID0gYi5pZFxcXG4gICAgICAgICAgICAgICAgam9pbiBidWlsZGluZ19mbG9vciBiZiBvbiByLmJ1aWxkaW5nX2lkID0gYmYuYnVpbGRpbmdfaWQgYW5kIHIuZmxvb3IgPSBiZi5mbG9vclxcXG4gICAgICAgICAgICAgICAgd2hlcmUgcC5iYXRjaF9pZCA9ID8gYW5kIHAuc3RhdHVzICE9ICfmo4Dmn6XkuK0nXFxcbiAgICAgICAgICAgICAgICBvcmRlciBieSBiLnNvcnQsIGIuY29kZSwgYmYuc29ydCwgci5ubywgci5yb29tX25vXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsREIucXVlcnkoc3FsLCBbYmF0Y2hJZF0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZ2V0UHJvYmxlbVJlcGFpcnM6IGZ1bmN0aW9uIChwcm9ibGVtSWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHNxbCA9IFwic2VsZWN0IHUuKiBmcm9tIGNoZWNrcXVhbGl0eV9yZXBhaXIgclxcXG4gICAgICAgICAgICAgICAgam9pbiB1c2VyIHUgb24gdS5pZCA9IHIucmVwYWlyXFxcbiAgICAgICAgICAgICAgICB3aGVyZSByLmNoZWNrcXVhbGl0eV9wcm9ibGVtX2lkID0gP1wiO1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbERCLnF1ZXJ5KHNxbCwgW3Byb2JsZW1JZF0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZ2V0UHJvYmxlbUNDOiBmdW5jdGlvbiAocHJvYmxlbUlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBzcWwgPSBcInNlbGVjdCB1LiogZnJvbSBjaGVja3F1YWxpdHlfY2MgY2NcXFxuICAgICAgICAgICAgICAgIGpvaW4gdXNlciB1IG9uIHUuaWQgPSBjYy5jY1xcXG4gICAgICAgICAgICAgICAgd2hlcmUgY2MuY2hlY2txdWFsaXR5X3Byb2JsZW1faWQgPSA/IGFuZCBjYy50eXBlID0gJ+iiq+aKhOmAgSdcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxEQi5xdWVyeShzcWwsIFtwcm9ibGVtSWRdKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHVwZGF0ZVByb2JsZW1Nb2RpZmllZEJ5OiBmdW5jdGlvbihpZCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsREIudXBkYXRlKF90YWJsZU5hbWUsIHsgbW9kaWZpZWRfYnk6IGNvbnRleHQuZ2V0VXNlcigpLnVzZXJfaWR9LCB7IGlkOiBpZCB9KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICog6I635Y+W5om55qyh5rKh5pyJ5qOA5p+l5pWw5o2u55qE56m65oi/6Ze0XG4gICAgICAgICAgICAgKiBAcGFyYW0gYmF0Y2hJZFxuICAgICAgICAgICAgICogQHJldHVybnMgeyp8cHJvbWlzZXx7bWV0aG9kLCBpc0FycmF5fX1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZ2V0TWVhc3VyZUVtcHR5Um9vbXM6IGZ1bmN0aW9uIChiYXRjaElkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBzcWwgPSBcInNlbGVjdCAqIGZyb20gYmF0Y2hfcm9vbSBiciB3aGVyZSBici5iYXRjaF9pZCA9ID8gYW5kIG5vdCBleGlzdHMgKFxcXG4gICAgICAgICAgICAgICAgc2VsZWN0IDEgZnJvbSBjaGVja3F1YWxpdHlfcHJvYmxlbSBwIHdoZXJlIHAuYmF0Y2hfaWQgPSBici5iYXRjaF9pZCBhbmQgcC5yb29tX2lkID0gYnIucm9vbV9pZCBcXFxuICAgICAgICAgICAgKVwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbERCLnF1ZXJ5KHNxbCwgW2JhdGNoSWRdKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICog6I635Y+W6YeN5aSN55qE5a6e5rWL5a6e6YeP5pWw5o2uXG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7Knx7bWV0aG9kLCBpc0FycmF5fXxwcm9taXNlfVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBnZXREdXBsaWNhdGVkTWVhc3VyZTogZnVuY3Rpb24gKClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgc3FsID0gXCJzZWxlY3QgKiBmcm9tIGNoZWNrcXVhbGl0eV9wcm9ibGVtIHAgd2hlcmUgYmF0Y2hfdHlwZSA9ICflrp7mtYvlrp7ph48o5pawKScgZ3JvdXAgYnkgYmF0Y2hfaWQsIHJvb21faWQsIGl0ZW1faWQgaGF2aW5nIGNvdW50KDEpID4gMVwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbERCLnF1ZXJ5KHNxbCwgW10pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiDnp7vpmaTmo4Dmn6XkuK3nmoTlrp7mtYvlrp7ph4/pl67pophcbiAgICAgICAgICAgICAqIEBwYXJhbSBiYXRjaElkXG4gICAgICAgICAgICAgKiBAcGFyYW0gY2hlY2tJdGVtSWRcbiAgICAgICAgICAgICAqIEBwYXJhbSByb29tSWRcbiAgICAgICAgICAgICAqIEByZXR1cm5zIHt2b2lkfFNRTFJlc3VsdFNldHwqfHByb21pc2V9XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJlbW92ZUNoZWNraW5nTWVhc3VyZTogZnVuY3Rpb24gKGJhdGNoSWQsIGNoZWNrSXRlbUlkLCByb29tSWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHNxbCA9IFwiZGVsZXRlIGZyb20gY2hlY2txdWFsaXR5X3Byb2JsZW0gd2hlcmUgYmF0Y2hfaWQgPSA/IGFuZCBpdGVtX2lkID0gPyBhbmQgcm9vbV9pZCA9ID8gYW5kIHN0YXR1cyA9ICfmo4Dmn6XkuK0nXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsREIuZXhlY3V0ZVNxbChzcWwsIFtiYXRjaElkLCBjaGVja0l0ZW1JZCwgcm9vbUlkXSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIOajgOa1i+agh+auteS4i+aYr+WQpuWtmOWcqOWunua1i+WunumHj+eahOajgOafpemhuVxuICAgICAgICAgICAgICogQHBhcmFtIHNlY3Rpb25JZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBoYXNBY2NlcHRDaGVja0l0ZW1zOiBmdW5jdGlvbihzZWN0aW9uSWQpe1xuICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSBbc2VjdGlvbklkXTtcbiAgICAgICAgICAgICAgICB2YXIgc3FsID0gXCJTRUxFQ1QgY291bnQoMSkgYXMgY291bnQgXFxcbiAgICAgICAgICAgICAgICBGUk9NIHByb2JsZW1fY2xhc3MgcGMgXFxcbiAgICAgICAgICAgICAgICBJTk5FUiBKT0lOIHByb2JsZW1fY2xhc3MgcHAgT04gcGMucGFyZW50X2lkID0gcHAuaWQgXFxcbiAgICAgICAgICAgICAgICBJTk5FUiBKT0lOIHNlY3Rpb25fY2hlY2tpdGVtIHNjaSBvbiBzY2kuaXRlbV9pZCA9IHBjLmlkIGFuZCBzY2kuYmlkc2VjdGlvbl9pZCA9ID9cXFxuICAgICAgICAgICAgICAgIFdIRVJFIHBwLnR5cGUgPSA0MSBcXFxuICAgICAgICAgICAgICAgIEFORCBpZm51bGwocHAucGFyZW50X2lkLCAnJykgIT0gJycgXFxcbiAgICAgICAgICAgICAgICBPUkRFUiBCWSBwcC5jb2RlLCBwYy5jb2RlXCI7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxEQi5xdWVyeU9uZShzcWwsIHBhcmFtcyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBpc1NlY3Rpb25IYXNDaGVja0l0ZW06IGZ1bmN0aW9uIChzZWN0aW9uSWRzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghXy5pc0FycmF5KHNlY3Rpb25JZHMpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdCgn5Y+C5pWw6ZSZ6K+vJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHNlY3Rpb25Ib2xkZXIgPSBfLm1hcChzZWN0aW9uSWRzLCBmdW5jdGlvbiAoc2VjdGlvbklkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICc/JztcbiAgICAgICAgICAgICAgICB9KS5qb2luKCcsICcpO1xuICAgICAgICAgICAgICAgIHZhciBzcWwgPSBcIlNFTEVDVCBzY2kuYmlkc2VjdGlvbl9pZCBhcyBzZWN0aW9uX2lkLCBjb3VudCgxKSBhcyBjb3VudCBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZST00gcHJvYmxlbV9jbGFzcyBwYyBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIElOTkVSIEpPSU4gcHJvYmxlbV9jbGFzcyBwcCBPTiBwYy5wYXJlbnRfaWQgPSBwcC5pZCBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIElOTkVSIEpPSU4gc2VjdGlvbl9jaGVja2l0ZW0gc2NpIG9uIHNjaS5pdGVtX2lkID0gcGMuaWQgYW5kIHNjaS5iaWRzZWN0aW9uX2lkIGluIChcIiArIHNlY3Rpb25Ib2xkZXIgKyBcIilcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdIRVJFIHBjLnR5cGUgPSA0MSBBTkQgaWZudWxsKHBwLnBhcmVudF9pZCwgJycpICE9ICcnIFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXAgYnkgc2NpLmJpZHNlY3Rpb25faWRcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxEQi5xdWVyeShzcWwsIHNlY3Rpb25JZHMpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZ2V0VG9wTWVhc3VyZVByb2JsZW0gOiBmdW5jdGlvbihiYXRjaElkKXtcbiAgICAgICAgICAgICAgIHZhciBzcWwgPSBcInNlbGVjdCBwLiosIHUubmFtZSBhcyByZWdpc3RfbmFtZSwgdS5tb2JpbGUgYXMgcmVnaXN0X3Bob25lLCBiLm5hbWUgYXMgYmF0Y2hfbmFtZSBcXFxuICAgICAgICAgICAgICAgICAgIGZyb20gY2hlY2txdWFsaXR5X3Byb2JsZW0gcCBsZWZ0IGpvaW4gdXNlciB1IG9uIHAucmVnaXN0X2J5ID0gdS5pZCBcXFxuICAgICAgICAgICAgICAgICAgIGxlZnQgam9pbiBiYXRjaCBiIG9uIHAuYmF0Y2hfaWQgPSBiLmlkIFxcXG4gICAgICAgICAgICAgICAgICAgd2hlcmUgcC5iYXRjaF9pZCA9ID8gYW5kIGlmbnVsbChwLnBhcmVudF9pZCwgJycpID0gJydcIjtcbiAgICAgICAgICAgICAgIHJldHVybiBsb2NhbERCLnF1ZXJ5T25lKHNxbCwgW2JhdGNoSWRdKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGNoYW5nZVByb2JsZW1TdGF0dXM6IGZ1bmN0aW9uKHByb2JsZW1JZCwgc3RhdHVzKXtcbiAgICAgICAgICAgICAgICB2YXIgc3FsID0gXCJ1cGRhdGUgY2hlY2txdWFsaXR5X3Byb2JsZW0gc2V0IHN0YXR1cyA9ID8gd2hlcmUgaWQgPSA/XCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsREIuZXhlY3V0ZVNxbChzcWwsIFtzdGF0dXMsIHByb2JsZW1JZF0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZ2V0TWVhc3VyZUluc3BlY3RCYXRjaFJvb21TdGF0dXM6IGZ1bmN0aW9uKGJhdGNoSWQsIGNoZWNrSXRlbUlkKXtcbiAgICAgICAgICAgICAgICB2YXIgc3FsID0gXCJzZWxlY3QgcC5iYXRjaF9pZCwgcC5pdGVtX2lkLCBwLnJvb21faWQsIHAuc3RhdHVzLCBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAuYnVpbGRpbmdfaWQsIHAudW5pdCBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gY2hlY2txdWFsaXR5X3Byb2JsZW0gcCBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIHAuYmF0Y2hfaWQgPSA/IGFuZCBwLml0ZW1faWQgPSA/IGFuZCBwLnN0YXR1cyA8PiAn5qOA5p+l5LitJ1wiO1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbERCLnF1ZXJ5KHNxbCwgW2JhdGNoSWQsIGNoZWNrSXRlbUlkXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8g5a6e5rWL5beh5qOA5rGH5oC7XG4gICAgICAgICAgICBnZXRNZWFzdXJlSW5zcGVjdFN0YXRpc3RpY2FsRGF0YTogZnVuY3Rpb24oYmF0Y2hJZCl7XG4gICAgICAgICAgICAgICAgdmFyIHNxbCA9IFwic2VsZWN0IGl0ZW0uaWQsIGl0ZW0ubmFtZSBhcyBpdGVtX25hbWUsIGl0ZW0ucGFyZW50X2lkLCBcXFxuICAgICAgICAgICAgICAgIHBhcmVudF9pdGVtLm5hbWUgYXMgcGFyZW50X25hbWUsIFxcXG4gICAgICAgICAgICAgICAgci5pZCBhcyByb29tX2lkLCByLnJvb21fbm8sIHIudW5pdCwgYi5uYW1lIGFzIGJ1aWxkaW5nX25hbWUsIFxcXG4gICAgICAgICAgICAgICAgcG9pbnRzLm1fcG9pbnRzLCBwb2ludHMucF9wb2ludHMgXFxcbiAgICAgICAgICAgICAgICBmcm9tIGJhdGNoX2NoZWNraXRlbSBiX2l0ZW0gXFxcbiAgICAgICAgICAgICAgICBqb2luIGJhdGNoX3Jvb20gYl9yb29tIG9uIGJfcm9vbS5iYXRjaF9pZCA9IGJfaXRlbS5iYXRjaF9pZCBcXFxuICAgICAgICAgICAgICAgIGpvaW4gcm9vbSByIG9uIGJfcm9vbS5yb29tX2lkID0gci5pZCBcXFxuICAgICAgICAgICAgICAgIGpvaW4gcHJvYmxlbV9jbGFzcyBpdGVtIG9uIGl0ZW0uaWQgPSBiX2l0ZW0uaXRlbV9pZCBcXFxuICAgICAgICAgICAgICAgIGpvaW4gYnVpbGRpbmdfZmxvb3IgYmYgb24gYmYuYnVpbGRpbmdfaWQgPSByLmJ1aWxkaW5nX2lkIGFuZCByLmZsb29yID0gYmYuZmxvb3IgXFxcbiAgICAgICAgICAgICAgICBsZWZ0IGpvaW4gKCBcXFxuICAgICAgICAgICAgICAgIHNlbGVjdCBiYXRjaF9pZCwgaXRlbV9pZCwgcm9vbV9pZCwgbWVhc3VyZW1lbnRfcG9pbnRzIGFzIG1fcG9pbnRzLCBwcm9ibGVtX3BvaW50cyBhcyBwX3BvaW50cyBcXFxuICAgICAgICAgICAgICAgIGZyb20gY2hlY2txdWFsaXR5X3Byb2JsZW0gcCBcXFxuICAgICAgICAgICAgICAgIFdIRVJFIHAuYmF0Y2hfaWQgPSA/IGFuZCBwLnN0YXR1cyA8PiAn5qOA5p+l5LitJyBcXFxuICAgICAgICAgICAgICAgICkgcG9pbnRzIG9uIHBvaW50cy5yb29tX2lkID0gci5pZCBhbmQgcG9pbnRzLml0ZW1faWQgPSBpdGVtLmlkIFxcXG4gICAgICAgICAgICAgICAgbGVmdCBqb2luIHByb2JsZW1fY2xhc3MgcGFyZW50X2l0ZW0gb24gcGFyZW50X2l0ZW0uaWQgPSBpdGVtLnBhcmVudF9pZCBcXFxuICAgICAgICAgICAgICAgIGxlZnQgam9pbiBidWlsZGluZyBiIG9uIGIuaWQgPSByLmJ1aWxkaW5nX2lkIFxcXG4gICAgICAgICAgICAgICAgd2hlcmUgYl9pdGVtLmJhdGNoX2lkID0gPyBcXFxuICAgICAgICAgICAgICAgIE9SREVSIEJZIGl0ZW0uY29kZSwgYi5zb3J0LCBiLmNvZGUsIHIudW5pdCwgYmYuc29ydCwgci5ub1wiO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsREIucXVlcnkoc3FsLCBbYmF0Y2hJZCwgYmF0Y2hJZF0pXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIOWQjOS4gOS4quS4gOe6p+mXrumimOS4i++8jOaIv+mXtElEK+ajgOafpemhuUlE6KaB5ZSv5LiAXG4gICAgICAgICAgICAgKiBAcGFyYW0gYmF0Y2hJZCDmibnmrKEgSURcbiAgICAgICAgICAgICAqIEBwYXJhbSBwcm9ibGVtSWQg5q2j56Gu55qE5LqM57qn6Zeu6aKYIElEXG4gICAgICAgICAgICAgKiBAcGFyYW0gY2hlY2tJdGVtSWQg5qOA5p+l6aG5IElEXG4gICAgICAgICAgICAgKiBAcGFyYW0gcm9vbUlkIOaIv+mXtCBJRFxuICAgICAgICAgICAgICogQHJldHVybnMgeyp8cHJvbWlzZXx2b2lkfFNRTFJlc3VsdFNldH1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdW5pcXVlTWVhc3VyZVByb2JsZW06IGZ1bmN0aW9uIChiYXRjaElkLCBwcm9ibGVtSWQsIGNoZWNrSXRlbUlkLCByb29tSWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHNxbCA9IFwiZGVsZXRlIGZyb20gY2hlY2txdWFsaXR5X3Byb2JsZW0gd2hlcmUgYmF0Y2hfaWQgPSA/IGFuZCBpdGVtX2lkID0gPyBhbmQgcm9vbV9pZCA9ID8gYW5kIGlkICE9ID9cIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxEQi5leGVjdXRlU3FsKHNxbCwgW2JhdGNoSWQsIGNoZWNrSXRlbUlkLCByb29tSWQsIHByb2JsZW1JZF0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdW5pcXVlTWVhc3VyZUZsb29yUHJvYmxlbTogZnVuY3Rpb24oYmF0Y2hJZCwgYnVpbGRpbmdJZCwgZmxvb3IsIGNoZWNraXRlbUlkLCBwcm9ibGVtSWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3FsID0gXCJkZWxldGUgZnJvbSBjaGVja3F1YWxpdHlfcHJvYmxlbSB3aGVyZSBiYXRjaF9pZCA9ID8gYW5kIGJ1aWxkaW5nX2lkID0gPyBhbmQgZmxvb3IgPSA/IGFuZCBpdGVtX2lkID0gPyBhbmQgaWQgIT0gP1wiO1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbERCLmV4ZWN1dGVTcWwoc3FsLCBbYmF0Y2hJZCwgYnVpbGRpbmdJZCwgZmxvb3IsIGNoZWNraXRlbUlkLCBwcm9ibGVtSWRdKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHVuaXF1ZU1lYXN1cmVGbG9vclVuaXRQcm9ibGVtOiBmdW5jdGlvbihiYXRjaElkLCBidWlsZGluZ0lkLCB1bml0LCBmbG9vciwgY2hlY2tpdGVtSWQsIHByb2JsZW1JZCkge1xuICAgICAgICAgICAgICAgIHZhciBzcWwgPSBcImRlbGV0ZSBmcm9tIGNoZWNrcXVhbGl0eV9wcm9ibGVtIHdoZXJlIGJhdGNoX2lkID0gPyBhbmQgYnVpbGRpbmdfaWQgPSA/IGFuZCB1bml0ID0gPyBhbmQgZmxvb3IgPSA/IGFuZCBpdGVtX2lkID0gPyBhbmQgaWQgIT0gP1wiO1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbERCLmV4ZWN1dGVTcWwoc3FsLCBbYmF0Y2hJZCwgYnVpbGRpbmdJZCwgdW5pdCwgZmxvb3IsIGNoZWNraXRlbUlkLCBwcm9ibGVtSWRdKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHVuaXF1ZU1lYXN1cmVCdWlsZGluZ1Byb2JsZW06IGZ1bmN0aW9uKGJhdGNoSWQsIGJ1aWxkaW5nSWQsIGNoZWNraXRlbUlkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNxbCA9IFwiZGVsZXRlIGZyb20gY2hlY2txdWFsaXR5X3Byb2JsZW0gd2hlcmUgYmF0Y2hfaWQgPSA/IGFuZCBidWlsZGluZ19pZCA9ID8gYW5kIGl0ZW1faWQgPSA/XCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsREIuZXhlY3V0ZVNxbChzcWwsIFtiYXRjaElkLCBidWlsZGluZ0lkLCBjaGVja2l0ZW1JZF0pO1xuICAgICAgICAgICAgfSxcblxuXG5cbiAgICAgICAgICAgIGRlbGV0ZUJhdGNoUHJvYmxlbXM6IGZ1bmN0aW9uKGJhdGNoSWQsIHJvb21zSWQpe1xuICAgICAgICAgICAgICAgIHZhciBzcWxGaWx0ZXIgPSBuZXcgQXJyYXkocm9vbXNJZC5sZW5ndGgrMSkuam9pbignPywnKS5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICAgICAgdmFyIHNxbCA9IFwiZGVsZXRlIGZyb20gY2hlY2txdWFsaXR5X3Byb2JsZW0gd2hlcmUgYmF0Y2hfaWQgPSA/IGFuZCByb29tX2lkIGluIChcIitzcWxGaWx0ZXIrXCIpXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsREIuZXhlY3V0ZVNxbChzcWwsIFtiYXRjaElkXS5jb25jYXQocm9vbXNJZCkpO1xuICAgICAgICAgICAgfSxcblxuXG5cbiAgICAgICAgICAgIC8vIOiOt+WPluagh+autealvOagi+Wunua1i+WunumHj+ajgOafpemhuVxuICAgICAgICAgICAgZ2V0QWxsTWVhc3VyZUJ1aWxkaW5nQ2hlY2tJdGVtczogZnVuY3Rpb24oYmlkc2VjdGlvbklkLCBidWlsZGluZ0lkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNxbCA9IFwiU0VMRUNUIFxcXG4gICAgICAgICAgICAgICAgICAgIHBwLmlkIEFTIHBwX2l0ZW1faWQsIFxcXG4gICAgICAgICAgICAgICAgICAgIHBwLm5hbWUgQVMgcHBfaXRlbV9uYW1lLCBcXFxuICAgICAgICAgICAgICAgICAgICBwYy5pZCBBUyBwY19pdGVtX2lkLCBcXFxuICAgICAgICAgICAgICAgICAgICBwYy5uYW1lIEFTIHBjX2l0ZW1fbmFtZSwgXFxcbiAgICAgICAgICAgICAgICAgICAgcGMuZnVsbF9uYW1lIEFTIHBjX2Z1bGxfbmFtZSwgXFxcbiAgICAgICAgICAgICAgICAgICAgY2FzZSB3aGVuIGlmbnVsbCh0LnByb2Nlc3NfbW9kZSwgJycpICE9ICcnIGFuZCB0LnByb2Nlc3NfbW9kZSA9ICcnIHRoZW4gMSB3aGVuIGlmbnVsbCh0LnByb2Nlc3NfbW9kZSwgJycpICE9ICcnIGFuZCB0LnByb2Nlc3NfbW9kZSAhPSAnJyB0aGVuIHQucHJvY2Vzc19tb2RlIGVsc2UgcGMucHJvY2Vzc19tb2RlIGVuZCBhcyBwcm9jZXNzX21vZGUgXFxcbiAgICAgICAgICAgICAgICBGUk9NIHByb2JsZW1fY2xhc3MgcGMgXFxcbiAgICAgICAgICAgICAgICBJTk5FUiBKT0lOIHByb2JsZW1fY2xhc3MgcHAgT04gcGMucGFyZW50X2lkID0gcHAuaWQgXFxcbiAgICAgICAgICAgICAgICBJTk5FUiBKT0lOIHNlY3Rpb25fY2hlY2tpdGVtIHNjaSBvbiBzY2kuaXRlbV9pZCA9IHBjLmlkIGFuZCBzY2kuYmlkc2VjdGlvbl9pZCA9ID9cXFxuICAgICAgICAgICAgICAgIGxlZnQgam9pbiAoc2VsZWN0IHAuaXRlbV9pZCwgaWZudWxsKHAucHJvY2Vzc19tb2RlLCAnJykgYXMgcHJvY2Vzc19tb2RlIGZyb20gY2hlY2txdWFsaXR5X3Byb2JsZW0gcCB3aGVyZSBwLmJhdGNoX3R5cGUgPSAn5a6e5rWL5a6e6YePKOaWsCknIGFuZCBwLmJ1aWxkaW5nX2lkID0gPyBncm91cCBieSBwLml0ZW1faWQsIGlmbnVsbChwLnByb2Nlc3NfbW9kZSwgJycpKSB0IG9uIHBjLmlkID0gdC5pdGVtX2lkIFxcXG4gICAgICAgICAgICAgICAgV0hFUkUgcHAudHlwZSA9IDQxIFxcXG4gICAgICAgICAgICAgICAgQU5EIGlmbnVsbChwcC5wYXJlbnRfaWQsICcnKSAhPSAnJyBcXFxuICAgICAgICAgICAgICAgIEdST1VQIEJZIHBjLmlkIFxcXG4gICAgICAgICAgICAgICAgT1JERVIgQlkgcHAuY29kZSwgcGMuY29kZVwiO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsREIucXVlcnkoc3FsLCBbYmlkc2VjdGlvbklkLCBidWlsZGluZ0lkXSk7XG4gICAgICAgICAgICB9LFxuXG5cbiAgICAgICAgICAgIC8vIOafpeivouS4gOadoeW9k+WJjealvOagi+WSjOajgOafpemhueeahOWunua1i+WunumHj+aVsOaNrlxuICAgICAgICAgICAgZ2V0T25lTWVhc3VyZUJ5QnVpbGRpbmdBbmRJdGVtOiBmdW5jdGlvbihidWlsZGluZ0lkLCBpdGVtSWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3FsID0gXCJzZWxlY3QgKiBmcm9tIGNoZWNrcXVhbGl0eV9wcm9ibGVtIHdoZXJlIGJ1aWxkaW5nX2lkID0gPyBhbmQgaXRlbV9pZCA9ID9cIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxEQi5xdWVyeU9uZShzcWwsIFtidWlsZGluZ0lkLCBpdGVtSWRdKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vIOiOt+WPluaJueasoeaIv+mXtOeahOaJgOaciemXrumimFxuICAgICAgICAgICAgZ2V0Um9vbUFsbFByb2JsZW1zOiBmdW5jdGlvbihiYXRjaElkLCByb29tSWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3FsID0gXCJzZWxlY3QgY3AuKiwgcGMucGFyZW50X2lkIGFzIHBhcmVudF9pdGVtX2lkIGZyb20gY2hlY2txdWFsaXR5X3Byb2JsZW0gY3AgXFxcbiAgICAgICAgICAgICAgICAgICAgbGVmdCBqb2luIHByb2JsZW1fY2xhc3MgcGMgb24gcGMuaWQgPSBjcC5pdGVtX2lkIFxcXG4gICAgICAgICAgICAgICAgICAgIHdoZXJlIGJhdGNoX2lkID0gPyBhbmQgcm9vbV9pZCA9ID8gYW5kIGJhdGNoX3R5cGUgPSAn5a6e5rWL5beh5qOAJ1wiO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsREIucXVlcnkoc3FsLCBbYmF0Y2hJZCwgcm9vbUlkXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgZXhwb3J0IGRlZmF1bHQgX3NlbGY7XG4vLyB9XSk7Il0sInNvdXJjZVJvb3QiOiIifQ==