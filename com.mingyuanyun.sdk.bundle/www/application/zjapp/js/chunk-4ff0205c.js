(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-4ff0205c","chunk-739f37c8"],{2385:function(t,e){t.exports="data:image/png;base64,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"},4466:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return c})),i.d(e,"e",(function(){return u}));var a=i("5e8d"),r=i("162a"),n=i("da71");function o(t){return Object(a.a)().then((function(){var e=n.a.getAppMessageClassify.url;return r.a.request(e,t)}))}function s(t){return Object(a.a)().then((function(){var e=n.a.getAppMessageList.url;return r.a.request(e,t)}))}function l(t){return Object(a.a)().then((function(){var e=n.a.getAppMessageListWithAI.url;return r.a.request(e,t)}))}function c(t){return Object(a.a)().then((function(){var e=n.a.getAppMessageSubscribedProjects.url;return r.a.request(e,t)}))}function u(t){return Object(a.a)().then((function(){var e=n.a.setAppMessageSubscribedProject.url;return r.a.post(e,null,t)}))}},"58a4":function(t,e,i){"use strict";i.r(e);i("5ab2"),i("6d57"),i("e10e");var a=i("28f8"),r=(i("cc57"),i("774b")),n=i("6144"),o=i("bc69"),s=i("e2a7"),l=i("4466"),c=i("eaf7c");function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){Object(a.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d={components:{Scroller:r.default},data:function(){return{isLoading:!1,errorTips:null,items:[],ICON_MAP:c.c,defaultIcon:i("2385")}},activated:function(){this.init()},methods:{onClickEntryMsgList:function(t){this.$router.push({name:"AppMessageList",query:{classifyId:t.id,classifyName:t.name,classifyType:t.type}})},init:function(){var t=this;return this.isLoading=!0,this.items=[],Object(l.a)().then((function(e){var i=e,a=n.a.getUserObject(o.a.APPLY_DAILY_CLASSIFY_LATEST_RECORD_DATETIME)||{},r=null,s=t.$route.query.autoOpenType;i=i.map((function(t){var e=p(p({},t),{},{hasNew:!1});return t.latest_record_datetime&&a[t.id]!==t.latest_record_datetime&&(e.hasNew=!0),s&&e.type===s&&(r=e),e})),s&&!t.$router.isBack&&r&&t.onClickEntryMsgList(r),t.items=i,t.isLoading=!1})).catch((function(e){s.a.alert(e.errmsg||e),t.isLoading=!1}))}}},h=(i("a61d"),i("17cc")),f=Object(h.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("page-content",{attrs:{title:"消息","show-go-back":!0}},[i("scroller",{staticStyle:{background:"white"}},[i("ul",{staticClass:"message-classify-list"},t._l(t.items,(function(e,a){return i("li",{directives:[{name:"track",rawName:"v-track",value:"APP-"+e.name+"-进入",expression:"`APP-${item.name}-进入`"}],key:a,on:{click:function(i){t.onClickEntryMsgList(e)}}},[i("div",{staticClass:"img-wrap"},[i("img",{attrs:{src:t.ICON_MAP[e.type]||t.defaultIcon,alt:e.name}}),e.hasNew?i("div",{staticClass:"circle"}):t._e()]),i("div",{staticClass:"right-wrap van-hairline--bottom"},[i("div",{staticClass:"content"},[i("h2",[t._v(t._s(e.name))]),i("p",{domProps:{innerHTML:t._s(e.description)}})]),i("div",{staticClass:"icon-wrap"},[i("icon",{attrs:{name:"arrow-right"}})],1)])])}))),i("loading-status",{attrs:{"is-loading":t.isLoading,"is-empty":!t.items.length,type:t.errorTips?"error":"todo","empty-text":t.errorTips||"暂未开通消息"}})],1)],1)}),[],!1,null,"099b1adc",null);e.default=f.exports},"774b":function(t,e,i){"use strict";i.r(e);var a=i("d18d").a,r=(i("b225"),i("17cc")),n=Object(r.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"scroll-warp",staticClass:"scroll-warp",class:{"scroll-warp-pulling":t.pulling,"scroll-warp-complete":!t.hasNext&&!t.isEmpty,"scroll-warp-empty":t.isEmpty},style:{"padding-bottom":t.numberKeyboardCoverHeight+"px"},on:{scroll:t.onScroll,touchstart:t.onTouchstart,touchmove:t.onTouchmove,touchend:t.onTouchend}},[t.allowPullDown?i("div",{staticClass:"pull-refresh-warp",style:{height:t.pullDist+"px"}},[i("div",{staticClass:"pull-refresh"},[i("div",{staticClass:"animation-refresher",class:{refreshing:t.refreshing}}),t.updateTime?i("p",{staticClass:"pull-refresh-date"},[t._v("最后成功同步："+t._s(t.updateTime))]):t._e()])]):t._e(),t._t("default"),t.loading?i("div",{staticClass:"page-loading"},[i("svg",{staticClass:"svg-loading",attrs:{viewBox:"0 0 80 80"}},[i("circle",{attrs:{cx:"40",cy:"40",r:"36"}})])]):t._e(),t.hasNext||t.isEmpty?t._e():[t.$slots.end?t._t("end"):t._e(),!t.$slots.end&&t.endText?i("div",{staticClass:"end-text"},[t._v("\n      "+t._s(t.endText)+"\n    ")]):t._e()]],2)}),[],!1,null,"2b1a346c",null);e.default=n.exports},"95da":function(t,e,i){var a=i("a3e7");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i("85cb").default)("31f7a12e",a,!0,{sourceMap:!1,shadowMode:!1})},"95de":function(t,e){t.exports="data:image/png;base64,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"},"9d55":function(t,e,i){(t.exports=i("690e")(!1)).push([t.i,'.zjapp .scroll-warp[data-v-2b1a346c]{flex:1;overflow:auto;-webkit-overflow-scrolling:touch}.zjapp .scroll-warp-pulling[data-v-2b1a346c]{overflow:hidden}.zjapp .scroll-warp-complete[data-v-2b1a346c]:after{content:"";display:block;height:100px}.zjapp .scroll-warp-empty[data-v-2b1a346c]{display:flex;flex-direction:column}.zjapp .pull-refresh-warp[data-v-2b1a346c]{position:relative;height:0;overflow:hidden}.zjapp .pull-refresh[data-v-2b1a346c]{position:absolute;left:0;bottom:0;height:70px;width:100%;padding:6px;text-align:center}.zjapp .pull-refresh-date[data-v-2b1a346c]{margin-top:4px;height:16px;line-height:16px;font-size:12px;color:#bcbcbc}.zjapp .page-loading[data-v-2b1a346c]{padding:10px;text-align:center}.zjapp .end-text[data-v-2b1a346c]{color:#c8c8c8;background:#f4f4f4;position:relative;line-height:76px;height:76px;text-align:center}.zjapp .end-text[data-v-2b1a346c]:after,.zjapp .end-text[data-v-2b1a346c]:before{content:"";position:absolute;width:48px;height:1px;background:#e4e4e4;top:50%;margin-top:-1px}.zjapp .end-text[data-v-2b1a346c]:after{left:50%;transform:translateX(-92px)}.zjapp .end-text[data-v-2b1a346c]:before{right:50%;transform:translateX(90px)}.zjapp .end-slot[data-v-2b1a346c]{padding:30px;line-height:18px;text-align:center;color:#c8c8c8}',""])},a3e7:function(t,e,i){(t.exports=i("690e")(!1)).push([t.i,".zjapp .message-classify-list[data-v-099b1adc]{padding-left:15px;background:#fff}.zjapp .message-classify-list li[data-v-099b1adc]{display:flex;padding:22px 0 0}.zjapp .message-classify-list li .img-wrap[data-v-099b1adc]{position:relative;flex:0 0 40px;margin:0 15px 0 0}.zjapp .message-classify-list li .img-wrap img[data-v-099b1adc]{height:44px;width:44px}.zjapp .message-classify-list li .img-wrap .circle[data-v-099b1adc]{position:absolute;top:-1px;right:-1px;width:8px;height:8px;border-radius:50%;background:#ff3c46}.zjapp .message-classify-list li .right-wrap[data-v-099b1adc]{flex:1;display:flex;align-items:center;padding:0 0 22px}.zjapp .message-classify-list li .right-wrap .content[data-v-099b1adc]{flex:1}.zjapp .message-classify-list li .right-wrap .content h2[data-v-099b1adc]{color:#111;font-size:16px;font-weight:400;margin:0;line-height:1.5}.zjapp .message-classify-list li .right-wrap .content p[data-v-099b1adc]{max-width:calc(100vw - 100px);color:#8c8c8c;font-size:14px;margin:2px 0 0;line-height:1.5;min-height:21px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.zjapp .message-classify-list li .right-wrap .icon-wrap[data-v-099b1adc]{flex:0 0 20px;color:#c8c8c8}.zjapp .message-classify-list li[data-v-099b1adc]:last-child{background-image:none}",""])},a61d:function(t,e,i){"use strict";i("95da")},b225:function(t,e,i){"use strict";i("ef48")},d18d:function(t,e,i){"use strict";(function(t){i("2b45");var a,r=i("4360"),n=i("48f4"),o=i("162a"),s=i("e2a7"),l=i("a500"),c=i("6f9e"),u={};e.a={name:"Scroller",props:{buildingId:{type:String,default:""},hasNext:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},isSync:{type:Boolean,default:!0},endText:{type:String,default:""},memoryScrollTop:{type:Boolean,default:!0},keepScrollTop:{type:Boolean},hasPullDown:{type:Boolean,default:!0},onPullDown:{type:Function}},data:function(){return{pullDist:0,refreshing:!1,pulling:!1,loading:!1,scrollTop:0,isCurrKeyboard:!1,gapBottom:0}},computed:{allowPullDown:function(){return this.hasPullDown&&(!!this.$listeners.pullDown||!!this.onPullDown)},updateTime:function(){return r.a.state.global.businessDownloadTime},numberKeyboardCoverHeight:function(){return r.a.state.global.isNumberInputOpen?r.a.state.global.numberKeyboardHeight-this.gapBottom:0}},mounted:function(){var t=this;c.a.$on("numberKeyboardOpen",this.onNumberKeyboardOpen),this.$nextTick((function(){var e=t.$refs["scroll-warp"]&&t.$refs["scroll-warp"].getBoundingClientRect&&t.$refs["scroll-warp"].getBoundingClientRect();e&&(t.gapBottom=document.documentElement.clientHeight-e.bottom),t.$el&&t.$el.addEventListener("focus",(function(e){var i=e&&e.target,a=i&&i.tagName&&i.tagName.toLowerCase();if("input"===a||"textarea"===a){window.addEventListener("resize",(function e(){var a=i.getBoundingClientRect(),r=t.$el.getBoundingClientRect(),n=a.bottom-r.bottom;n>0&&t.scrollBy(n),window.removeEventListener("resize",e,!1)}),!1)}}),!0)}))},destroyed:function(){c.a.$off("numberKeyboardOpen",this.onNumberKeyboardOpen)},activated:function(){var t=this.keepScrollTop||this.$router.isBack&&this.memoryScrollTop;this.scrollTop&&t&&(this.$refs["scroll-warp"].scrollTop=this.scrollTop)},deactivated:function(){this.memoryScrollTop&&(this.scrollTop=this.$refs["scroll-warp"].scrollTop)},methods:{onScroll:function(t){var e=this,i=this.$refs["scroll-warp"].scrollTop,a=this.$refs["scroll-warp"].scrollHeight;if(i+this.$refs["scroll-warp"].clientHeight>=a-5&&!this.loading&&this.hasNext){this.loading=!0;var r=this.$listeners.loadNext();r&&r.then&&"function"==typeof r.then?r.then((function(){e.loading=!1})):this.loading=!1}this.$emit("scroll",t)},getTouchDiretion:function(t){if(!(u&&t&&t.touches&&t.touches[0]))return"";var e=t.touches[0].clientX,i=t.touches[0].clientY;return Math.abs(i-u.y)>Math.abs(e-u.x)&&Math.abs(i-u.y)>=3?i>u.y?"down":"up":""},onTouchstart:function(t){this.allowPullDown&&t.touches&&1===t.touches.length&&(u={x:t.touches[0].clientX,y:t.touches[0].clientY,scrollTop:this.$refs["scroll-warp"].scrollTop,pullDist:this.pullDist})},onTouchmove:function(t){if(this.allowPullDown&&t.touches&&1===t.touches.length){var e=this.$refs["scroll-warp"].scrollTop,i=t.touches[0].clientY,a=i-u.y,r=this.getTouchDiretion(t);"down"===r?!this.refreshing&&e<=0?(this.pulling=!0,this.pullDist=(a-u.scrollTop)/2,t.preventDefault()):this.pulling=!1:"up"===r?this.pullDist>0&&(this.pullDist=u.pullDist-(u.y-i),t.preventDefault()):this.pullDist=u.pullDist}},onTouchend:function(){var t=this;this.allowPullDown&&(u={},this.pulling=!1,this.pullDist>=70&&this.isSync?this.refreshing?this.makePullTo(70):this.makePullTo(70).then((function(){if(t.refreshing=!0,t.onPullDown){var e=t.onPullDown();e&&e.then&&"function"==typeof e?e.finally((function(){t.refreshing=!1,t.makePullTo(0)})):(t.refreshing=!1,t.makePullTo(0))}else t.dataSync().then((function(){t.refreshing=!1,t.makePullTo(0),t.$emit("pullDown")})).catch((function(){t.refreshing=!1,t.makePullTo(0),t.$emit("pullDown")}))})):(this.refreshing=!1,this.makePullTo(0)))},makePullTo:function(t){var e=this,i=this.pullDist,a=t,r=a-i,n=i;return i===a?Promise.resolve():new Promise((function(t){!function o(){window.requestAnimationFrame((function(){n+=r/6,e.pullDist=n,i<a&&n<a||i>a&&n>a?o():(e.pullDist=a,e.refreshing=!1,t())}))}()}))},dataSync:function(){var t,e=n.default.getCurrentModuleCode(),i=n.default.getCurrentRoute(),a=i.meta&&i.meta.isTodo;if(n.default.isModuleNeedBuilding(e)&&!a){if(!this.buildingId)return new Promise((function(t){setTimeout((function(){t()}),500)}));t=this.buildingId}return l.a.addTrack("公共-手动下拉刷新","",""),o.a.beginManualUpdate(),n.default.checkSync(t).then((function(t){return o.a.endManualUpdate(),t})).catch((function(t){$log.error("下拉刷新错误",t),t&&"Error: Network Error"===t.toString()?s.a.alert("当前网络无法同步数据"):s.a.alert(t),o.a.endManualUpdate()}))},getScrollHeight:function(){return this.$refs["scroll-warp"].offsetHeight},getScrollTop:function(){return this.$refs["scroll-warp"].scrollTop},setScrollTop:function(t){this.$refs["scroll-warp"].scrollTop=t},scrollBy:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=this.getScrollTop(),n=r+t,o=Math.round(i/16.7),s=t/o,l=r,c=a=+new Date;return r===n?Promise.resolve():new Promise((function(t){!function i(){window.requestAnimationFrame((function(){c===a&&(l+=s,e.$refs["scroll-warp"].scrollTop=l,r<n&&l<n||r>n&&l>n?i():(e.$refs["scroll-warp"].scrollTop=n,t()))}))}()}))},scrollTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=this.getScrollTop(),a=t-i;return this.scrollBy(a,e)},scrollToEle:function(t){var e=t.keyboardHeight||232,i=(t=t.$el?t.$el:t).getBoundingClientRect(),a=this.$refs["scroll-warp"].getBoundingClientRect();if(i&&a){var n=document.documentElement.clientHeight-(r.a.state.global.isNumberInputOpen?e:0),o=a.bottom<n?a.bottom:n,s=a.top-i.top,l=i.bottom-o;s>0?this.scrollBy(-s-10):l>0&&this.scrollBy(l+10)}},isCurrent:function(e,i){var a=this;e.length&&t.each(e,(function(t){t._uid===i?a.isCurrKeyboard=!0:a.isCurrent(t.$children,i)}))},onNumberKeyboardOpen:function(t){this.isCurrKeyboard=!1,this.isCurrent(this.$children,t._uid),this.isCurrKeyboard&&this.scrollToEle(t)}}}}).call(this,i("391c"))},eaf7c:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return o})),i.d(e,"c",(function(){return s}));var a,r=i("28f8"),n="daily-report",o="ai-remind",s=(a={},Object(r.a)(a,n,i("2385")),Object(r.a)(a,o,i("95de")),a)},ef48:function(t,e,i){var a=i("9d55");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i("85cb").default)("a1a65c0c",a,!0,{sourceMap:!1,shadowMode:!1})}}]);