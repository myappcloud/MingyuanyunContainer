(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-2709989a"],{"0aac":function(t,i,e){"use strict";e("2814")},2814:function(t,i,e){var a=e("5033");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,e("85cb").default)("9db19832",a,!0,{sourceMap:!1,shadowMode:!1})},5033:function(t,i,e){var a=e("5454");(t.exports=e("690e")(!1)).push([t.i,".zjapp .drawing-con[data-v-fba5990a]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;font-size:0;line-height:0}.zjapp .drawing-con canvas[data-v-fba5990a]{display:block;height:100%;width:100%;background:url("+a(e("eb66"))+") #fff;background-size:4px 4px}.zjapp .loading-text[data-v-fba5990a]{margin-top:15px;color:#aaa}.zjapp .error-text[data-v-fba5990a],.zjapp .loading-text[data-v-fba5990a]{padding:0 15px;line-height:20px;text-align:center;font-size:16px}.zjapp .error-text[data-v-fba5990a]{color:#ff3d3d}",""])},c40a:function(t,i,e){"use strict";(function(t){e("cc57"),e("6d57"),e("6f84"),e("163d");var a=e("a32d"),s=e.n(a),n=e("e900"),o=e("3122"),h=e("4ad6"),c=e("3bd5"),r=e("1b7e");function l(t){var i=t.changedTouches.length,e=t.touches.length;return 1===i||2===i||2===e}function x(t){return 1===t.touches.length}i.a={name:"Drawing",props:{url:{type:String},points:{type:Array,default:function(){return[]}},regions:{type:Array,default:function(){return[]}},pointColor:{type:String,default:"#ff4546"},pointRadius:{type:Number,default:7},scaleMax:{type:Number,default:4},clickDelay:{type:Number,default:500},folder:{type:String,default:"house-image"},onlineMode:{type:Boolean,default:!1},contentScroll:{type:Boolean,default:!0}},data:function(){return{isDownloading:!1,error:"",canvas:null,ctx:null,img:null,src:"",width:0,height:0,x:0,y:0,scale:1,defaultScale:1,pixelRatio:1,markPosition:null,markPositionImageData:[],markCoordinates:[],pinchRatio:0,scaleBetween:[],isPinch:!1,clickPoints:[],touchStart:{x:0,y:0,cx:0,cy:0,time:0}}},watch:{url:function(){this.getImage()},points:function(t){this.ctx&&this.draw()},regions:function(t){this.ctx&&this.draw()}},mounted:function(){this.getImage()},destroyed:function(){this.canvas&&(this.canvas.width=0,this.canvas.height=0)},methods:{getImage:function(){var i=this;if(this.isDownloading=!0,this.url){var e=c.a.getUser().user_id,a=s.a.replaceAll(this.url,"\\?x-oss-process=image\\/resize,","@"),n=s.a.strRightBack(a,"/");if(!n)return this.error="户型图地址错误",void(this.isDownloading=!1);this.error="";var l=[h.a.appImagePath()+e+"/"+this.folder+"/"+n,h.a.appImagePath()+e+"/house-image/"+n,h.a.appImagePath()+e+"/drawing/"+n,h.a.appImagePath()+e+"/location-image/"+n,h.a.appImagePath()+e+"/images/"+n,h.a.appDataPath()+e+"/"+this.folder+"/"+n,h.a.appDataPath()+e+"/house-image/"+n,h.a.appDataPath()+e+"/drawing/"+n,h.a.appDataPath()+e+"/location-image/"+n,h.a.appDataPath()+e+"/images/"+n],x=Promise.resolve();return"dev"===APP_ENV||this.onlineMode?x=x.then((function(){return i.url})):t.each(l,(function(t){x=x.then((function(i){return i||h.a.isFileExists(t).then((function(i){if(i)return o.a._fixPath(t)}))}))})),x.then((function(t){if(!t)return r.a.getHasNetwork().then((function(t){return t?o.a.download(i.url,!0,i.folder).then((function(t){i.src=t})):Promise.reject("当前无网络")}));i.src=t})).then((function(){i.src?(i.img=new Image,i.img.onload=function(){i.img.complete?(i.isDownloading=!1,i.$nextTick(i.init)):(i.error="加载图片失败",i.isDownloading=!1)},i.img.onerror=function(){i.error="加载图片失败",i.isDownloading=!1},i.img.src=i.src):(i.error="下载户型图失败",i.isDownloading=!1)})).catch((function(e){i.error=t.isString(e)?e:"下载户型图失败",i.isDownloading=!1}))}this.error="户型图地址错误",this.isDownloading=!1},init:function(){if(this.$refs["drawing-canvas"]){var t=this.$refs.content;this.canvas=this.$refs["drawing-canvas"],this.ctx=this.canvas.getContext("2d"),this.width=t.offsetWidth,this.height=t.offsetHeight,this.pixelRatio=this.getPixelRatio(this.ctx),this.canvas.style.height=this.height+"px",this.canvas.style.width=this.width+"px",this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,!this.ctx.extended&&Object(n.a)(this.ctx),this.bindTouchEvent(),this.calc(),this.draw()}},getPixelRatio:function(t){var i=t.backingStorePixelRatio||CanvasRenderingContext2D.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/i},calc:function(t){var i=this.width/this.img.width,e=this.img.height*i,a=this.height||e;e>this.height&&(i*=a/e),this.scale=i*this.pixelRatio,this.defaultScale=this.scale,this.scaleBetween=[this.scale,this.scale*this.scaleMax]},winToCanvas:function(t,i){var e=this.canvas.getBoundingClientRect();return{x:t-e.left*(this.canvas.width/(e.width*this.pixelRatio)),y:i-e.top*(this.canvas.height/(e.height*this.pixelRatio))}},isBoundary:function(t){switch(t){case"t":if(0===this.y)return!0;break;case"r":if(this.x<=this.canvas.width-this.img.width*this.scale)return!0;break;case"b":if(this.y<=this.img.height*this.scaleBetween[0]-this.img.height*this.scale)return!0;break;case"l":if(0===this.x)return!0}return!1},bindTouchEvent:function(){this.canvas.addEventListener("touchstart",this.onTouchstart),this.canvas.addEventListener("touchmove",this.onTouchmove),this.canvas.addEventListener("touchend",this.touchMoveAndEndHandler)},unbindTouchEvent:function(){this.canvas.removeEventListener("touchstart",this.onTouchstart),this.canvas.removeEventListener("touchmove",this.onTouchmove),this.canvas.removeEventListener("touchend",this.touchMoveAndEndHandler)},onTouchstart:function(t){if(this.isPinch=!1,x(t)){var i=t.touches[0],e=this.winToCanvas(i.clientX,i.clientY);this.touchStart={x:e.x,y:e.y,cx:i.clientX,cy:i.clientY,time:Date.now()}}else if(l(t)){var a,s=t.touches[0],n=t.touches[1],o=this.winToCanvas(s.clientX,s.clientY),h=this.winToCanvas(n.clientX,n.clientY);a=Math.sqrt(Math.pow(h.x-o.x,2)+Math.pow(h.y-o.y,2)),this.pinchRatio=this.scale/a}},onTouchmove:function(t){if(!1===this.contentScroll&&(t.preventDefault(),t.stopPropagation()),x(t))this.touchStart.cy>t.pageY&&this.isBoundary("b")||this.touchStart.cy<t.pageY&&this.isBoundary("t")||this.touchStart.cx>t.pageX&&this.isBoundary("r")||this.touchStart.cx<t.pageX&&this.isBoundary("l")||t.stopPropagation(),this.touchMoveAndEndHandler(t);else if(l(t)){t.stopPropagation();var i,e,a,s,n,o=t.touches[0],h=t.touches[1],c=this.winToCanvas(o.clientX,o.clientY),r=this.winToCanvas(h.clientX,h.clientY);e=Math.sqrt(Math.pow(r.x-c.x,2)+Math.pow(r.y-c.y,2)),this.isPinch=!0,(i=this.pinchRatio*e)>this.scaleBetween[0]&&i<this.scaleBetween[1]&&(s={x:((a={x:(c.x+r.x)/2*this.pixelRatio,y:(c.y+r.y)/2*this.pixelRatio}).x-this.x)/(this.img.width*this.scale),y:(a.y-this.y)/(this.img.height*this.scale)},a.newX=this.x+this.img.width*i*s.x,a.newY=this.y+this.img.height*i*s.y,n={x:a.newX-a.x,y:a.newY-a.y},i<this.scale&&this.setRange(this.x-n.x,this.y-n.y,i),i>this.scale&&(this.x=this.x-n.x,this.y=this.y-n.y),i!==this.scale&&(this.scale=i,this.draw()))}},touchMoveAndEndHandler:function(t){var i,e,a=t.type,s={touchmove:t.touches[0],touchend:t.changedTouches[0]}[a],n=this.winToCanvas(s.clientX,s.clientY);i=(n.x-this.touchStart.x)*this.pixelRatio,e=(n.y-this.touchStart.y)*this.pixelRatio,"touchend"===a&&Date.now()-this.touchStart.time<this.clickDelay&&Math.abs(s.clientX-this.touchStart.cx)<6&&Math.abs(s.clientY-this.touchStart.cy)<6?this.clickHandler(t):"touchmove"!==a||this.isPinch||(this.touchStart.x=n.x,this.touchStart.y=n.y,this.setRange(this.x+i,this.y+e,this.scale),this.draw())},isCanClick:function(t){for(var i=!1,e=0;e<this.markPosition.length;e++)if(parseFloat(t.x)>parseFloat(this.markPosition[e].x)&&parseFloat(t.x)<parseFloat(this.markPosition[e].x)+parseFloat(this.markPosition[e].w)&&parseFloat(t.y)>parseFloat(this.markPosition[e].y)&&parseFloat(t.y)<parseFloat(this.markPosition[e].y)+parseFloat(this.markPosition[e].h)){i=!0;break}return i},clickHandler:function(t){var i=t.changedTouches[0];if(this.mark){var e=this.winToCanvas(i.clientX,i.clientY),a={x:(e.x-this.x/this.pixelRatio)/(this.img.width*this.scale/this.pixelRatio),y:(e.y-this.y/this.pixelRatio)/(this.img.height*this.scale/this.pixelRatio)};if(e={x:a.x*this.img.width,y:a.y*this.img.height},this.isCanClick(e)){this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.x*this.scale/this.pixelRatio+this.x/this.pixelRatio,e.y*this.scale/this.pixelRatio+this.y/this.pixelRatio,this.scale===this.defaultScale?this.pointRadius:this.pointRadius*(1+(this.scale-this.defaultScale)/this.pixelRatio),0,2*Math.PI,!1),this.ctx.fill(),this.ctx.restore();var s={x:e.x,y:e.y};this.markCoordinates.push(s),this.points.push(s)}return!1}this.redraw(t,this.winToCanvas(i.clientX,i.clientY))},setRange:function(t,i,e){var a=this.img.width*e,s=this.img.height*e,n=this.canvas.width,o=this.canvas.height,h=this.img.height*this.scaleBetween[0];t=a<n?(n-a)/2:(t=t+a<n?n-a:t)>0?0:t,i=s<o?(o-s)/2:(i=i+s<h?h-s:i)>0?0:i,this.x=t,this.y=i},draw:function(){this.setRange(this.x,this.y,this.scale),this.drawImage(),this.drawPoints(),this.drawRegions()},redraw:function(t,i){this.clickPoints=[],this.drawImage(),this.drawPoints(i),this.drawRegions(i),this.clickCallback(t,this.clickPoints)},clickCallback:function(t,i){var e;i.some((function(t,i){return"points"===t.tag?(e=t,!0):(e=t,!1)}));var a=t.changedTouches[0],s=this.winToCanvas(a.clientX,a.clientY),n=(s.x-this.x/this.pixelRatio)/(this.img.width*this.scale/this.pixelRatio),o=(s.y-this.y/this.pixelRatio)/(this.img.height*this.scale/this.pixelRatio);(s={x:parseFloat((n*this.img.width).toFixed(2)),y:parseFloat((o*this.img.height).toFixed(2))}).y>=0&&s.x>=0&&s.y<=this.img.height&&s.x<=this.img.width&&this.$emit("onclick",{type:e?"point":"",points:this.points,point:e,clickPoint:e,x:s.x,y:s.y,scale:this.scale/this.pixelRatio})},drawImage:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.drawImage(this.img,0,0,this.img.width,this.img.height,this.x,this.y,this.img.width*this.scale,this.img.height*this.scale)},drawPoints:function(t){var i=this;this.points.forEach((function(e,a){i.drawPoint(e.x*i.scale/i.pixelRatio+i.x/i.pixelRatio,e.y*i.scale/i.pixelRatio+i.y/i.pixelRatio,i.pointRadius,a,t,e.color)}))},drawPoint:function(t,i,e,a,s,n){this.ctx.save(),this.ctx.beginPath(),this.ctx.shadowBlur=e/2,this.ctx.shadowColor="black",this.ctx.fillStyle=n||this.pointColor,this.ctx.arc(t,i,e,0,2*Math.PI,!1),this.ctx.fill(),this.ctx.shadowBlur=0,this.ctx.shadowColor="transparent",this.ctx.restore(),e*=2,this.ctx.save(),this.ctx.beginPath(),this.ctx.strokeStyle="transparent",this.ctx.fillStyle="transparent",this.ctx.rect(t-e,i-e,2*e,2*e),this.ctx.stroke(),this.ctx.restore(),s&&this.ctx.isPointInPath(s.x*this.pixelRatio,s.y*this.pixelRatio)&&this.clickPoints.push({tag:"points",pos:s,index:a})},drawRegions:function(t){var i=this;this.regions&&this.regions.length&&this.regions.forEach((function(e,a){var s,n,o,h;i.ctx.beginPath(),e.area.forEach((function(t,e){var a=t[0]*i.scale/i.pixelRatio+i.x/i.pixelRatio,c=t[1]*i.scale/i.pixelRatio+i.y/i.pixelRatio;e?i.ctx.lineTo(a,c):i.ctx.moveTo(a,c),s=void 0===s?a:s<a?s:a,n=void 0===n?a:n>a?n:a,o=void 0===o?c:o<c?o:c,h=void 0===h?c:h>c?h:c})),i.ctx.closePath(),i.ctx.fillStyle="rgba(255, 144, 0, 0.4)",i.ctx.fill(),i.ctx.lineWidth=3,i.ctx.strokeStyle="#feda8e",i.ctx.stroke(),i.ctx.lineWidth=2,i.ctx.strokeStyle="rgba(0, 0, 0, 0.8)",i.ctx.stroke(),t&&i.ctx.isPointInPath(t.x*i.pixelRatio,t.y*i.pixelRatio)&&i.clickPoints.push({tag:"region",pos:t,index:a,regionData:e}),i.ctx.font='18px bold -apple-system, "Helvetica Neue", Roboto, "Segoe UI", sans-serif',i.ctx.textAlign="center",i.ctx.lineWidth=4,i.ctx.strokeStyle="#ffffff",i.ctx.strokeText(e.name,(n+s)/2,(h+o)/2+10),i.ctx.fillStyle="#111111",i.ctx.fillText(e.name,(n+s)/2,(h+o)/2+10)}))}}}}).call(this,e("391c"))},e223:function(t,i,e){"use strict";var a=e("c40a").a,s=(e("0aac"),e("17cc")),n=Object(s.a)(a,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",t._g({ref:"content",staticClass:"drawing-con"},t.$listeners),[t.isDownloading?[e("p",[e("svg",{staticClass:"svg-loading",attrs:{viewBox:"0 0 80 80"}},[e("circle",{attrs:{cx:"40",cy:"40",r:"36"}})])]),e("p",{staticClass:"loading-text"},[t._v("正在下载...")])]:[t.error?t._e():e("canvas",{ref:"drawing-canvas"}),t.error?e("p",{staticClass:"error-text"},[t._v(t._s(t.error))]):t._e()]],2)}),[],!1,null,"fba5990a",null);i.a=n.exports},e900:function(t,i,e){"use strict";e.d(i,"a",(function(){return a})),e.d(i,"b",(function(){return s}));e("f548");function a(t){var i,e,a,s=(e=(i=t).backingStorePixelRatio||CanvasRenderingContext2D.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1,(window.devicePixelRatio||1)/e);1!==s&&(!function(t,i){for(var e in t)t.hasOwnProperty(e)&&i(t[e],e)}({fillRect:"all",clearRect:"all",strokeRect:"all",moveTo:"all",lineTo:"all",arc:[0,1,2],arcTo:"all",bezierCurveTo:"all",isPointinPath:"all",isPointinStroke:"all",quadraticCurveTo:"all",rect:"all",translate:"all",createRadialGradient:"all",createLinearGradient:"all"},(function(i,e){var a;t[e]=(a=t[e],function(){var t,e,n=Array.prototype.slice.call(arguments);if("all"===i)n=n.map((function(t){return t*s}));else if(Array.isArray(i))for(t=0,e=i.length;t<e;t++)n[i[t]]*=s;return a.apply(this,n)})})),t.stroke=(a=t.stroke,function(){this.lineWidth*=s,a.apply(this,arguments),this.lineWidth/=s}),t.fillText=function(t){return function(){var i=Array.prototype.slice.call(arguments);i[1]*=s,i[2]*=s,this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,(function(t,i,e){return i*s+e})),t.apply(this,i),this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,(function(t,i,e){return i/s+e}))}}(t.fillText),t.strokeText=function(t){return function(){var i=Array.prototype.slice.call(arguments);i[1]*=s,i[2]*=s,this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,(function(t,i,e){return i*s+e})),t.apply(this,i),this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,(function(t,i,e){return i/s+e}))}}(t.strokeText),t.extended=!0)}var s=function(t){var i,e;(i=t).getContext=(e=i.getContext,function(t){var i,s,n=e.call(this,t);return"2d"===t&&(i=n.backingStorePixelRatio||CanvasRenderingContext2D.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1,(s=(window.devicePixelRatio||1)/i)>1&&(this.style.height=this.height+"px",this.style.width=this.width+"px",this.width*=s,this.height*=s)),a(n),n})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL2NvbXBvbmVudHMvZHJhd2luZy9pbmRleC52dWU/YWUyYiIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL2NvbXBvbmVudHMvZHJhd2luZy9pbmRleC52dWU/ZGM1MSIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL2NvbXBvbmVudHMvZHJhd2luZy9pbmRleC52dWU/NGQ2NyIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fL3NyYy9jb21wb25lbnRzL2RyYXdpbmcvaW5kZXgudnVlIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvY29tcG9uZW50cy9kcmF3aW5nL2luZGV4LnZ1ZT85MGIwIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvY29tcG9uZW50cy9kcmF3aW5nL2luZGV4LnZ1ZT80YzdkIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvY29tcG9uZW50cy9kcmF3aW5nL2luZGV4LnZ1ZSIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL2xpYi9odXhpbmcvaGlkcGktY2FudmFzLmpzIl0sIm5hbWVzIjpbImNvbnRlbnQiLCJtb2R1bGUiLCJpIiwibG9jYWxzIiwiZXhwb3J0cyIsImFkZCIsImRlZmF1bHQiLCJlc2NhcGUiLCJwdXNoIiwiX2lzUGluY2hpbmciLCJlIiwiY2hhbmdlZCIsInRvdWNoaW5nIiwiX2lzRHJhZ2dpbmciLCJ0b3VjaGVzIiwibGVuZ3RoIiwibmFtZSIsInByb3BzIiwidXJsIiwidHlwZSIsIlN0cmluZyIsInBvaW50cyIsIkFycmF5IiwicmVnaW9ucyIsInBvaW50Q29sb3IiLCJwb2ludFJhZGl1cyIsIk51bWJlciIsInNjYWxlTWF4IiwiY2xpY2tEZWxheSIsImZvbGRlciIsIm9ubGluZU1vZGUiLCJCb29sZWFuIiwiY29udGVudFNjcm9sbCIsImRhdGEiLCJpc0Rvd25sb2FkaW5nIiwiZXJyb3IiLCJjYW52YXMiLCJjdHgiLCJpbWciLCJzcmMiLCJ3aWR0aCIsImhlaWdodCIsIngiLCJ5Iiwic2NhbGUiLCJkZWZhdWx0U2NhbGUiLCJwaXhlbFJhdGlvIiwibWFya1Bvc2l0aW9uIiwibWFya1Bvc2l0aW9uSW1hZ2VEYXRhIiwibWFya0Nvb3JkaW5hdGVzIiwicGluY2hSYXRpbyIsInNjYWxlQmV0d2VlbiIsImlzUGluY2giLCJjbGlja1BvaW50cyIsInRvdWNoU3RhcnQiLCJ3YXRjaCIsInRoaXMiLCJnZXRJbWFnZSIsImRyYXciLCJtb3VudGVkIiwiZGVzdHJveWVkIiwibWV0aG9kcyIsImZpbGVuYW1lIiwiQVBQX0VOViIsInByb21pc2UiLCJ0aGVuIiwiXyIsImVhY2giLCJwYXRocyIsInJlcyIsImV4aXN0cyIsImluaXQiLCIkcmVmcyIsImdldENvbnRleHQiLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsImdldFBpeGVsUmF0aW8iLCJzdHlsZSIsImV4dGVuZGVkIiwiYmluZFRvdWNoRXZlbnQiLCJjYWxjIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsImJhY2tpbmdTdG9yZSIsImN0eEhlaWdodCIsIndpblRvQ2FudmFzIiwicG9zIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibGVmdCIsInRvcCIsImlzQm91bmRhcnkiLCJkaXIiLCJhZGRFdmVudExpc3RlbmVyIiwib25Ub3VjaHN0YXJ0Iiwib25Ub3VjaG1vdmUiLCJ0b3VjaE1vdmVBbmRFbmRIYW5kbGVyIiwidW5iaW5kVG91Y2hFdmVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjeCIsInRvdWNoIiwiY2xpZW50WCIsImN5IiwiY2xpZW50WSIsInRpbWUiLCJEYXRlIiwibm93IiwiZGlzdGFuY2UiLCJNYXRoIiwic3FydCIsInBvdyIsInBvaW50MiIsInBvaW50MSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwicmF0ZSIsImNlbnRlciIsIm5ld1giLCJuZXdZIiwib2Zmc2V0Iiwic2V0UmFuZ2UiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsImNoYW5nZWRUb3VjaGVzIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJjbGlja0hhbmRsZXIiLCJpc0NhbkNsaWNrIiwiZmxhZyIsIm1hcmsiLCJzYXZlIiwiYmVnaW5QYXRoIiwiYXJjIiwiZmlsbCIsInJlc3RvcmUiLCJuZXdNYXJrUG9pbnQiLCJyZWRyYXciLCJpbWdXIiwiY2Fuc1ciLCJpbWdIIiwiY2Fuc0giLCJib3JkZXJCb3R0b20iLCJkcmF3SW1hZ2UiLCJkcmF3UG9pbnRzIiwiZHJhd1JlZ2lvbnMiLCJjbGlja0NhbGxiYWNrIiwic29tZSIsInYiLCJ0YWciLCJjbGlja1BvaW50IiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCIkZW1pdCIsInBvaW50IiwiY2xlYXJSZWN0IiwiZm9yRWFjaCIsImRyYXdQb2ludCIsInNoYWRvd0JsdXIiLCJyIiwic2hhZG93Q29sb3IiLCJmaWxsU3R5bGUiLCJjb2xvciIsIlBJIiwic3Ryb2tlU3R5bGUiLCJyZWN0Iiwic3Ryb2tlIiwiaXNQb2ludEluUGF0aCIsImluZGV4IiwieE1pbiIsInhNYXgiLCJ5TWluIiwieU1heCIsImFyZWEiLCJwaSIsInVuZGVmaW5lZCIsInJlZ2lvbkRhdGEiLCJjb21wb25lbnQiLCJfdm0iLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsIl9nIiwicmVmIiwic3RhdGljQ2xhc3MiLCIkbGlzdGVuZXJzIiwiYXR0cnMiLCJfdiIsIl9lIiwiX3MiLCJFeHRlbmRDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQiLCJwcm90b3R5cGUiLCJjb250ZXh0IiwiX3N1cGVyIiwiYmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsIkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCIsIndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJtb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwibXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwib0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJvYmoiLCJmdW5jIiwicCIsImhhc093blByb3BlcnR5IiwiZmlsbFJlY3QiLCJzdHJva2VSZWN0IiwibW92ZVRvIiwibGluZVRvIiwiYXJjVG8iLCJiZXppZXJDdXJ2ZVRvIiwiaXNQb2ludGluUGF0aCIsImlzUG9pbnRpblN0cm9rZSIsInF1YWRyYXRpY0N1cnZlVG8iLCJ0cmFuc2xhdGUiLCJjcmVhdGVSYWRpYWxHcmFkaWVudCIsImNyZWF0ZUxpbmVhckdyYWRpZW50IiwidmFsdWUiLCJrZXkiLCJsZW4iLCJhcmdzIiwic2xpY2UiLCJjYWxsIiwiYXJndW1lbnRzIiwibWFwIiwiYSIsImlzQXJyYXkiLCJhcHBseSIsImxpbmVXaWR0aCIsImZpbGxUZXh0IiwiZm9udCIsInJlcGxhY2UiLCJ3IiwibSIsInUiLCJzdHJva2VUZXh0IiwiRXh0ZW5kSFRNTENhbnZhc0VsZW1lbnQiLCJyYXRpbyJdLCJtYXBwaW5ncyI6Im9KQUFBLFcscUJDR0EsSUFBSUEsRUFBVSxFQUFRLFFBQ0EsaUJBQVpBLElBQXNCQSxFQUFVLENBQUMsQ0FBQ0MsRUFBT0MsRUFBSUYsRUFBUyxNQUM3REEsRUFBUUcsU0FBUUYsRUFBT0csUUFBVUosRUFBUUcsU0FHL0JFLEVBREgsRUFBUSxRQUEwRkMsU0FDM0YsV0FBWU4sR0FBUyxFQUFNLENBQUMsV0FBWSxFQUFNLFlBQWEsSyxxQkNSNUUsSUFBSU8sRUFBUyxFQUFRLFNBQ1hOLEVBQU9HLFFBQVUsRUFBUSxPQUFSLEVBQThFLElBS2pHSSxLQUFLLENBQUNQLEVBQU9DLEVBQUksMlBBQTZQSyxFQUFPLEVBQVEsU0FBcUMsZ1NBQWlTLE0sNEtDeUIzbUIsU0FBU0UsRUFBWUMsR0FDbkIsSUFBRiwwQkFDQSxtQkFFRSxPQUFtQixJQUFaQyxHQUE2QixJQUFaQSxHQUE4QixJQUFiQyxFQUkzQyxTQUFTQyxFQUFZSCxHQUNuQixPQUE0QixJQUFyQkEsRUFBRUksUUFBUUMsT0FHbkIsS0FD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SyxLQUFLNEssS0FBS0MsUUFBUSx3QkFBd0IsU0FBU0MsRUFBR0MsRUFBR0MsR0FDbkUsT0FBT0QsRUFBSXpMLEVBQWEwTCxLQUcxQnhDLEVBQU9pQyxNQUFNekssS0FBTWtLLEdBRW5CbEssS0FBSzRLLEtBQU81SyxLQUFLNEssS0FBS0MsUUFBUSx3QkFBd0IsU0FBU0MsRUFBR0MsRUFBR0MsR0FDbkUsT0FBT0QsRUFBSXpMLEVBQWEwTCxNQWROLENBaUJyQjFDLEVBQVUyQyxZQUViM0MsRUFBVWhILFVBQVcsR0FHdkIsSUFBSTRKLEVBQTBCLFNBQVN0TSxHQUNyQyxJQUFVMEosRUFDeUJFLEdBRHpCRixFQThCUDFKLEdBN0JTcUMsWUFBdUJ1SCxFQTRCOUJGLEVBQVVySCxXQTNCSixTQUFTdEQsR0FDZCxJQUFJZ0UsRUFDRndKLEVBQ0E1QyxFQUFVQyxFQUFPNEIsS0FBS3BLLEtBQU1yQyxHQXNCOUIsTUFwQmEsT0FBVEEsSUFDRmdFLEVBQ0U0RyxFQUFRRSx3QkFDUkMseUJBQXlCQyw4QkFDekJKLEVBQVFLLDJCQUNSTCxFQUFRTSwwQkFDUk4sRUFBUU8seUJBQ1JQLEVBQVFFLHdCQUNSLEdBRUYwQyxHQUFTMUosT0FBT0Msa0JBQW9CLEdBQUtDLEdBRTdCLElBQ1YzQixLQUFLcUIsTUFBTXBDLE9BQVNlLEtBQUtmLE9BQVMsS0FDbENlLEtBQUtxQixNQUFNckMsTUFBUWdCLEtBQUtoQixNQUFRLEtBQ2hDZ0IsS0FBS2hCLE9BQVNtTSxFQUNkbkwsS0FBS2YsUUFBVWtNLElBR25COUMsRUFBK0JFLEdBQ3hCQSIsImZpbGUiOiJqcy9jaHVuay0yNzA5OTg5YS5qcz92MTYwODcxNDQ1MTE5NSIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLXN0eWxlLWxvYWRlckA0LjEuMkB2dWUtc3R5bGUtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTgtb25lT2YtMS0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY3NzLWxvYWRlckAxLjAuMUBjc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTgtb25lT2YtMS0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS45LjVAdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19zYXNzLWxvYWRlckA3LjEuMEBzYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTgtb25lT2YtMS00IS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9ZmJhNTk5MGEmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY3NzLWxvYWRlckAxLjAuMUBjc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTgtb25lT2YtMS0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS45LjVAdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19zYXNzLWxvYWRlckA3LjEuMEBzYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTgtb25lT2YtMS00IS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9ZmJhNTk5MGEmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1zdHlsZS1sb2FkZXJANC4xLjJAdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCI5ZGIxOTgzMlwiLCBjb250ZW50LCB0cnVlLCB7XCJzb3VyY2VNYXBcIjpmYWxzZSxcInNoYWRvd01vZGVcIjpmYWxzZX0pOyIsInZhciBlc2NhcGUgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDEuMC4xQGNzcy1sb2FkZXIvbGliL3VybC9lc2NhcGUuanNcIik7XG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDEuMC4xQGNzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi56amFwcCAuZHJhd2luZy1jb25bZGF0YS12LWZiYTU5OTBhXXtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2hlaWdodDoxMDAlO2ZvbnQtc2l6ZTowO2xpbmUtaGVpZ2h0OjB9LnpqYXBwIC5kcmF3aW5nLWNvbiBjYW52YXNbZGF0YS12LWZiYTU5OTBhXXtkaXNwbGF5OmJsb2NrO2hlaWdodDoxMDAlO3dpZHRoOjEwMCU7YmFja2dyb3VuZDp1cmwoXCIgKyBlc2NhcGUocmVxdWlyZShcIkBzcmMvYXNzZXRzL2ltZy9kaWFncmFtLWJnLnBuZ1wiKSkgKyBcIikgI2ZmZjtiYWNrZ3JvdW5kLXNpemU6NHB4IDRweH0uemphcHAgLmxvYWRpbmctdGV4dFtkYXRhLXYtZmJhNTk5MGFde21hcmdpbi10b3A6MTVweDtjb2xvcjojYWFhfS56amFwcCAuZXJyb3ItdGV4dFtkYXRhLXYtZmJhNTk5MGFdLC56amFwcCAubG9hZGluZy10ZXh0W2RhdGEtdi1mYmE1OTkwYV17cGFkZGluZzowIDE1cHg7bGluZS1oZWlnaHQ6MjBweDt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXNpemU6MTZweH0uemphcHAgLmVycm9yLXRleHRbZGF0YS12LWZiYTU5OTBhXXtjb2xvcjojZmYzZDNkfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiB2LW9uPVwiJGxpc3RlbmVyc1wiIGNsYXNzPVwiZHJhd2luZy1jb25cIiByZWY9XCJjb250ZW50XCI+XG4gICAgPHRlbXBsYXRlIHYtaWY9XCJpc0Rvd25sb2FkaW5nXCI+XG4gICAgICA8cD5cbiAgICAgICAgPHN2ZyB2aWV3Qm94PVwiMCAwIDgwIDgwXCIgY2xhc3M9XCJzdmctbG9hZGluZ1wiPlxuICAgICAgICAgIDxjaXJjbGUgY3g9XCI0MFwiIGN5PVwiNDBcIiByPVwiMzZcIj48L2NpcmNsZT5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L3A+XG4gICAgICA8cCBjbGFzcz1cImxvYWRpbmctdGV4dFwiPuato+WcqOS4i+i9vS4uLjwvcD5cbiAgICA8L3RlbXBsYXRlPlxuICAgIDx0ZW1wbGF0ZSB2LWVsc2U+XG4gICAgICA8Y2FudmFzIHYtaWY9XCIhZXJyb3JcIiByZWY9XCJkcmF3aW5nLWNhbnZhc1wiPjwvY2FudmFzPlxuXG4gICAgICA8cCB2LWlmPVwiZXJyb3JcIiBjbGFzcz1cImVycm9yLXRleHRcIj57eyBlcnJvciB9fTwvcD5cbiAgICA8L3RlbXBsYXRlPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5pbXBvcnQgcyBmcm9tICd1bmRlcnNjb3JlLnN0cmluZyc7XG5pbXBvcnQgeyBFeHRlbmRDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgfSBmcm9tICdAc3JjL2xpYi9odXhpbmcvaGlkcGktY2FudmFzJztcbmltcG9ydCBJbWFnZVNlcnZpY2UgZnJvbSAnQHNyYy9zZXJ2aWNlL2NvbW1vbi9pbWFnZS1zZXJ2aWNlJztcbmltcG9ydCBwbHVnaW5BcGkgZnJvbSAnQHNyYy9hcGkvcGx1Z2luQXBpJztcbmltcG9ydCBjb250ZXh0IGZyb20gJ0BzcmMvZnJhbWV3b3JrL2NvbnRleHQnO1xuaW1wb3J0IG5ldHdvcmsgZnJvbSAnQHNyYy9mcmFtZXdvcmsvbmV0d29yayc7XG5cbi8qIGxldCBwb2ludENvbG9yUmVkID0gJyNmZjQ1NDYnO1xubGV0IHBvaW50Q29sb3JCbHVlID0gJyM0Mjc1ZTgnO1xubGV0IHBvaW50Q29sb3JHcmVlbiA9ICcjMTRmZjU2JzsgKi9cblxuLy8g5piv5ZCm5Zyo57yp5pS+XG5mdW5jdGlvbiBfaXNQaW5jaGluZyhlKSB7XG4gIGxldCBjaGFuZ2VkID0gZS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7XG4gIGxldCB0b3VjaGluZyA9IGUudG91Y2hlcy5sZW5ndGg7XG5cbiAgcmV0dXJuIGNoYW5nZWQgPT09IDEgfHwgY2hhbmdlZCA9PT0gMiB8fCB0b3VjaGluZyA9PT0gMjtcbn1cblxuLy8g5piv5ZCm5Zyo5ouW5YqoXG5mdW5jdGlvbiBfaXNEcmFnZ2luZyhlKSB7XG4gIHJldHVybiBlLnRvdWNoZXMubGVuZ3RoID09PSAxO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdEcmF3aW5nJyxcbiAgcHJvcHM6IHtcbiAgICB1cmw6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICB9LFxuICAgIC8vIOagh+iusOeCuVxuICAgIHBvaW50czoge1xuICAgICAgdHlwZTogQXJyYXksXG4gICAgICBkZWZhdWx0OiAoKSA9PiBbXSxcbiAgICB9LFxuICAgIC8vIOWIhuWMulxuICAgIHJlZ2lvbnM6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgZGVmYXVsdDogKCkgPT4gW10sXG4gICAgfSxcbiAgICBwb2ludENvbG9yOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnI2ZmNDU0NicsXG4gICAgfSxcbiAgICAvLyDmoIforrDngrnljYrlvoRcbiAgICBwb2ludFJhZGl1czoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogNyxcbiAgICB9LFxuICAgIC8vIOacgOWkp+e8qeaUvuWAjeaVsFxuICAgIHNjYWxlTWF4OiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiA0LFxuICAgIH0sXG4gICAgY2xpY2tEZWxheToge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogNTAwLFxuICAgIH0sXG4gICAgZm9sZGVyOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnaG91c2UtaW1hZ2UnLFxuICAgIH0sXG4gICAgb25saW5lTW9kZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIH0sXG4gICAgLy9cbiAgICBjb250ZW50U2Nyb2xsOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZSxcbiAgICB9LFxuICB9LFxuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0Rvd25sb2FkaW5nOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnJyxcblxuICAgICAgLy8g55S75biDXG4gICAgICBjYW52YXM6IG51bGwsXG4gICAgICAvLyDnlLvluIMyROWunuS+i1xuICAgICAgY3R4OiBudWxsLFxuICAgICAgLy8g5Zu+54mHXG4gICAgICBpbWc6IG51bGwsXG4gICAgICBzcmM6ICcnLFxuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDAsXG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHNjYWxlOiAxLFxuICAgICAgZGVmYXVsdFNjYWxlOiAxLFxuICAgICAgcGl4ZWxSYXRpbzogMSxcbiAgICAgIG1hcmtQb3NpdGlvbjogbnVsbCxcbiAgICAgIG1hcmtQb3NpdGlvbkltYWdlRGF0YTogW10sXG4gICAgICBtYXJrQ29vcmRpbmF0ZXM6IFtdLFxuXG4gICAgICBwaW5jaFJhdGlvOiAwLFxuICAgICAgc2NhbGVCZXR3ZWVuOiBbXSxcbiAgICAgIGlzUGluY2g6IGZhbHNlLFxuICAgICAgY2xpY2tQb2ludHM6IFtdLFxuICAgICAgdG91Y2hTdGFydDogeyB4OiAwLCB5OiAwLCBjeDogMCwgY3k6IDAsIHRpbWU6IDAgfSxcbiAgICB9O1xuICB9LFxuICB3YXRjaDoge1xuICAgIHVybCgpIHtcbiAgICAgIHRoaXMuZ2V0SW1hZ2UoKTtcbiAgICB9LFxuICAgIHBvaW50cyh2KSB7XG4gICAgICB0aGlzLmN0eCAmJiB0aGlzLmRyYXcoKTtcbiAgICB9LFxuICAgIHJlZ2lvbnModikge1xuICAgICAgdGhpcy5jdHggJiYgdGhpcy5kcmF3KCk7XG4gICAgfSxcbiAgfSxcbiAgbW91bnRlZCgpIHtcbiAgICB0aGlzLmdldEltYWdlKCk7XG4gIH0sXG4gIGRlc3Ryb3llZCgpIHtcbiAgICBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gMDtcbiAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IDA7XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2V0SW1hZ2UoKSB7XG4gICAgICB0aGlzLmlzRG93bmxvYWRpbmcgPSB0cnVlO1xuICAgICAgaWYgKHRoaXMudXJsKSB7XG4gICAgICAgIGxldCB1c2VySWQgPSBjb250ZXh0LmdldFVzZXIoKS51c2VyX2lkO1xuICAgICAgICBsZXQgdXJsID0gcy5yZXBsYWNlQWxsKHRoaXMudXJsLCAnXFxcXD94LW9zcy1wcm9jZXNzPWltYWdlXFxcXC9yZXNpemUsJywgJ0AnKTtcbiAgICAgICAgbGV0IGZpbGVuYW1lID0gcy5zdHJSaWdodEJhY2sodXJsLCAnLycpO1xuICAgICAgICBpZiAoIWZpbGVuYW1lKSB7XG4gICAgICAgICAgdGhpcy5lcnJvciA9ICfmiLflnovlm77lnLDlnYDplJnor68nO1xuICAgICAgICAgIHRoaXMuaXNEb3dubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmVycm9yID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcGF0aHMgPSBbXG4gICAgICAgICAgcGx1Z2luQXBpLmFwcEltYWdlUGF0aCgpICsgdXNlcklkICsgJy8nICsgdGhpcy5mb2xkZXIgKyAnLycgKyBmaWxlbmFtZSxcbiAgICAgICAgICBwbHVnaW5BcGkuYXBwSW1hZ2VQYXRoKCkgKyB1c2VySWQgKyAnL2hvdXNlLWltYWdlLycgKyBmaWxlbmFtZSxcbiAgICAgICAgICBwbHVnaW5BcGkuYXBwSW1hZ2VQYXRoKCkgKyB1c2VySWQgKyAnL2RyYXdpbmcvJyArIGZpbGVuYW1lLFxuICAgICAgICAgIHBsdWdpbkFwaS5hcHBJbWFnZVBhdGgoKSArIHVzZXJJZCArICcvbG9jYXRpb24taW1hZ2UvJyArIGZpbGVuYW1lLFxuICAgICAgICAgIHBsdWdpbkFwaS5hcHBJbWFnZVBhdGgoKSArIHVzZXJJZCArICcvaW1hZ2VzLycgKyBmaWxlbmFtZSxcbiAgICAgICAgICBwbHVnaW5BcGkuYXBwRGF0YVBhdGgoKSArIHVzZXJJZCArICcvJyArIHRoaXMuZm9sZGVyICsgJy8nICsgZmlsZW5hbWUsXG4gICAgICAgICAgcGx1Z2luQXBpLmFwcERhdGFQYXRoKCkgKyB1c2VySWQgKyAnL2hvdXNlLWltYWdlLycgKyBmaWxlbmFtZSxcbiAgICAgICAgICBwbHVnaW5BcGkuYXBwRGF0YVBhdGgoKSArIHVzZXJJZCArICcvZHJhd2luZy8nICsgZmlsZW5hbWUsXG4gICAgICAgICAgcGx1Z2luQXBpLmFwcERhdGFQYXRoKCkgKyB1c2VySWQgKyAnL2xvY2F0aW9uLWltYWdlLycgKyBmaWxlbmFtZSxcbiAgICAgICAgICBwbHVnaW5BcGkuYXBwRGF0YVBhdGgoKSArIHVzZXJJZCArICcvaW1hZ2VzLycgKyBmaWxlbmFtZSxcbiAgICAgICAgXTtcbiAgICAgICAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcblxuICAgICAgICBpZiAoQVBQX0VOViA9PT0gJ2RldicgfHwgdGhpcy5vbmxpbmVNb2RlKSB7XG4gICAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgXy5lYWNoKHBhdGhzLCBwYXRoID0+IHtcbiAgICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gcGx1Z2luQXBpLmlzRmlsZUV4aXN0cyhwYXRoKS50aGVuKGV4aXN0cyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIEltYWdlU2VydmljZS5fZml4UGF0aChwYXRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJvbWlzZVxuICAgICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICAgIC8vIOWtmOWcqOacrOWcsOaWh+S7tu+8jOebtOaOpei/lOWbnlxuICAgICAgICAgICAgICB0aGlzLnNyYyA9IHJlcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIOS4jeWtmOWcqOacrOWcsOaWh+S7tu+8jOS4i+i9vVxuICAgICAgICAgICAgICByZXR1cm4gbmV0d29yay5nZXRIYXNOZXR3b3JrKCkudGhlbihoYXNOZXR3b3JrID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzTmV0d29yaykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIEltYWdlU2VydmljZS5kb3dubG9hZCh0aGlzLnVybCwgdHJ1ZSwgdGhpcy5mb2xkZXIpLnRoZW4ocGF0aCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3JjID0gcGF0aDtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ+W9k+WJjeaXoOe9kee7nCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5zcmMpIHtcbiAgICAgICAgICAgICAgdGhpcy5pbWcgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICAgICAgICB0aGlzLmltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW1nLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmlzRG93bmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKHRoaXMuaW5pdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSAn5Yqg6L295Zu+54mH5aSx6LSlJztcbiAgICAgICAgICAgICAgICAgIHRoaXMuaXNEb3dubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICB0aGlzLmltZy5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSAn5Yqg6L295Zu+54mH5aSx6LSlJztcbiAgICAgICAgICAgICAgICB0aGlzLmlzRG93bmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICB0aGlzLmltZy5zcmMgPSB0aGlzLnNyYztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSAn5LiL6L295oi35Z6L5Zu+5aSx6LSlJztcbiAgICAgICAgICAgICAgdGhpcy5pc0Rvd25sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgdGhpcy5lcnJvciA9IF8uaXNTdHJpbmcoZXJyb3IpID8gZXJyb3IgOiAn5LiL6L295oi35Z6L5Zu+5aSx6LSlJztcbiAgICAgICAgICAgIHRoaXMuaXNEb3dubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lcnJvciA9ICfmiLflnovlm77lnLDlnYDplJnor68nO1xuICAgICAgICB0aGlzLmlzRG93bmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8vIOWIneWni+WMluWbvue6uFxuICAgIGluaXQoKSB7XG4gICAgICBpZiAoIXRoaXMuJHJlZnNbJ2RyYXdpbmctY2FudmFzJ10pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IGNvbnRlbnQgPSB0aGlzLiRyZWZzWydjb250ZW50J107XG5cbiAgICAgIHRoaXMuY2FudmFzID0gdGhpcy4kcmVmc1snZHJhd2luZy1jYW52YXMnXTtcbiAgICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIHRoaXMud2lkdGggPSBjb250ZW50Lm9mZnNldFdpZHRoO1xuICAgICAgdGhpcy5oZWlnaHQgPSBjb250ZW50Lm9mZnNldEhlaWdodDtcbiAgICAgIHRoaXMucGl4ZWxSYXRpbyA9IHRoaXMuZ2V0UGl4ZWxSYXRpbyh0aGlzLmN0eCk7XG5cbiAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgIHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMud2lkdGggKiB0aGlzLnBpeGVsUmF0aW87XG4gICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmhlaWdodCAqIHRoaXMucGl4ZWxSYXRpbztcbiAgICAgICF0aGlzLmN0eC5leHRlbmRlZCAmJiBFeHRlbmRDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQodGhpcy5jdHgpO1xuXG4gICAgICAvLyDnu5Hlrprkuovku7ZcbiAgICAgIHRoaXMuYmluZFRvdWNoRXZlbnQoKTtcblxuICAgICAgdGhpcy5jYWxjKCk7XG4gICAgICB0aGlzLmRyYXcoKTtcbiAgICB9LFxuXG4gICAgLy8g6I635Y+W5YOP57Sg5q+UXG4gICAgZ2V0UGl4ZWxSYXRpbyhjb250ZXh0KSB7XG4gICAgICBsZXQgYmFja2luZ1N0b3JlID1cbiAgICAgICAgY29udGV4dC5iYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC53ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgIGNvbnRleHQubW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICBjb250ZXh0Lm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICBjb250ZXh0Lm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgIGNvbnRleHQuYmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICAxO1xuXG4gICAgICByZXR1cm4gKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpIC8gYmFja2luZ1N0b3JlO1xuICAgIH0sXG5cbiAgICAvLyDorqHnrpflubborr7nva5jYW52YXPnmoTlrr3pq5jlkozlm77niYfnvKnmlL7nmoTmr5TkvotcbiAgICBjYWxjKGltZykge1xuICAgICAgdmFyIGN0eFdpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgIGxldCBzY2FsZSA9IGN0eFdpZHRoIC8gdGhpcy5pbWcud2lkdGg7XG4gICAgICBsZXQgY3R4SGVpZ2h0ID0gdGhpcy5pbWcuaGVpZ2h0ICogc2NhbGU7XG5cbiAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmhlaWdodCB8fCBjdHhIZWlnaHQ7XG4gICAgICBpZiAoY3R4SGVpZ2h0ID4gdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgc2NhbGUgPSBzY2FsZSAqIChoZWlnaHQgLyBjdHhIZWlnaHQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNjYWxlID0gc2NhbGUgKiB0aGlzLnBpeGVsUmF0aW87XG4gICAgICB0aGlzLmRlZmF1bHRTY2FsZSA9IHRoaXMuc2NhbGU7XG4gICAgICB0aGlzLnNjYWxlQmV0d2VlbiA9IFt0aGlzLnNjYWxlLCB0aGlzLnNjYWxlICogdGhpcy5zY2FsZU1heF07XG4gICAgfSxcblxuICAgIC8vIOWdkOagh+i9rOaNolxuICAgIHdpblRvQ2FudmFzKHgsIHkpIHtcbiAgICAgIHZhciBwb3MgPSB0aGlzLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCAtIHBvcy5sZWZ0ICogKHRoaXMuY2FudmFzLndpZHRoIC8gKHBvcy53aWR0aCAqIHRoaXMucGl4ZWxSYXRpbykpLFxuICAgICAgICB5OiB5IC0gcG9zLnRvcCAqICh0aGlzLmNhbnZhcy5oZWlnaHQgLyAocG9zLmhlaWdodCAqIHRoaXMucGl4ZWxSYXRpbykpLFxuICAgICAgfTtcbiAgICB9LFxuICAgIC8vIOWIpOaWreaLluaLveeahOaXtuWAmeaYr+WQpuWIsOi+vui+ueeVjO+8jOaWueWQke+8miB0ICwgciAsIGIgLCBsXG4gICAgaXNCb3VuZGFyeShkaXIpIHtcbiAgICAgIHN3aXRjaCAoZGlyKSB7XG4gICAgICAgIGNhc2UgJ3QnOlxuICAgICAgICAgIGlmICh0aGlzLnkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncic6XG4gICAgICAgICAgaWYgKHRoaXMueCA8PSB0aGlzLmNhbnZhcy53aWR0aCAtIHRoaXMuaW1nLndpZHRoICogdGhpcy5zY2FsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdiJzpcbiAgICAgICAgICBpZiAodGhpcy55IDw9IHRoaXMuaW1nLmhlaWdodCAqIHRoaXMuc2NhbGVCZXR3ZWVuWzBdIC0gdGhpcy5pbWcuaGVpZ2h0ICogdGhpcy5zY2FsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdsJzpcbiAgICAgICAgICBpZiAodGhpcy54ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIGJpbmRUb3VjaEV2ZW50KCkge1xuICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaHN0YXJ0KTtcbiAgICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaG1vdmUpO1xuICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLnRvdWNoTW92ZUFuZEVuZEhhbmRsZXIpO1xuICAgIH0sXG5cbiAgICB1bmJpbmRUb3VjaEV2ZW50KCkge1xuICAgICAgdGhpcy5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaHN0YXJ0KTtcbiAgICAgIHRoaXMuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaG1vdmUpO1xuICAgICAgdGhpcy5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLnRvdWNoTW92ZUFuZEVuZEhhbmRsZXIpO1xuICAgIH0sXG5cbiAgICBvblRvdWNoc3RhcnQoZSkge1xuICAgICAgdGhpcy5pc1BpbmNoID0gZmFsc2U7XG5cbiAgICAgIGlmIChfaXNEcmFnZ2luZyhlKSkge1xuICAgICAgICBsZXQgdG91Y2ggPSBlLnRvdWNoZXNbMF07XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLndpblRvQ2FudmFzKHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFkpO1xuXG4gICAgICAgIHRoaXMudG91Y2hTdGFydCA9IHtcbiAgICAgICAgICB4OiBwb3MueCxcbiAgICAgICAgICB5OiBwb3MueSxcbiAgICAgICAgICBjeDogdG91Y2guY2xpZW50WCxcbiAgICAgICAgICBjeTogdG91Y2guY2xpZW50WSxcbiAgICAgICAgICB0aW1lOiBEYXRlLm5vdygpLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChfaXNQaW5jaGluZyhlKSkge1xuICAgICAgICBsZXQgdG91Y2gxID0gZS50b3VjaGVzWzBdO1xuICAgICAgICBsZXQgdG91Y2gyID0gZS50b3VjaGVzWzFdO1xuICAgICAgICBsZXQgZGlzdGFuY2U7XG4gICAgICAgIGxldCBwb2ludDEgPSB0aGlzLndpblRvQ2FudmFzKHRvdWNoMS5jbGllbnRYLCB0b3VjaDEuY2xpZW50WSk7XG4gICAgICAgIGxldCBwb2ludDIgPSB0aGlzLndpblRvQ2FudmFzKHRvdWNoMi5jbGllbnRYLCB0b3VjaDIuY2xpZW50WSk7XG5cbiAgICAgICAgLy8gdGhpcy5pc1BpbmNoID0gdHJ1ZTtcbiAgICAgICAgZGlzdGFuY2UgPSBNYXRoLnNxcnQoTWF0aC5wb3cocG9pbnQyLnggLSBwb2ludDEueCwgMikgKyBNYXRoLnBvdyhwb2ludDIueSAtIHBvaW50MS55LCAyKSk7XG5cbiAgICAgICAgdGhpcy5waW5jaFJhdGlvID0gdGhpcy5zY2FsZSAvIGRpc3RhbmNlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBvblRvdWNobW92ZShlKSB7XG4gICAgICBpZiAodGhpcy5jb250ZW50U2Nyb2xsID09PSBmYWxzZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChfaXNEcmFnZ2luZyhlKSkge1xuICAgICAgICAvLyDpmLvmraLlhoXlrrnmu5rliqjlpITnkIZcbiAgICAgICAgdmFyIHRyaWdnZXJTdG9wID1cbiAgICAgICAgICAodGhpcy50b3VjaFN0YXJ0LmN5ID4gZS5wYWdlWSAmJiB0aGlzLmlzQm91bmRhcnkoJ2InKSkgfHxcbiAgICAgICAgICAodGhpcy50b3VjaFN0YXJ0LmN5IDwgZS5wYWdlWSAmJiB0aGlzLmlzQm91bmRhcnkoJ3QnKSkgfHxcbiAgICAgICAgICAodGhpcy50b3VjaFN0YXJ0LmN4ID4gZS5wYWdlWCAmJiB0aGlzLmlzQm91bmRhcnkoJ3InKSkgfHxcbiAgICAgICAgICAodGhpcy50b3VjaFN0YXJ0LmN4IDwgZS5wYWdlWCAmJiB0aGlzLmlzQm91bmRhcnkoJ2wnKSk7XG4gICAgICAgIGlmICghdHJpZ2dlclN0b3ApIHtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG91Y2hNb3ZlQW5kRW5kSGFuZGxlcihlKTtcbiAgICAgIH0gZWxzZSBpZiAoX2lzUGluY2hpbmcoZSkpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgbGV0IHRvdWNoMSA9IGUudG91Y2hlc1swXTtcbiAgICAgICAgbGV0IHRvdWNoMiA9IGUudG91Y2hlc1sxXTtcbiAgICAgICAgbGV0IHBvaW50MSA9IHRoaXMud2luVG9DYW52YXModG91Y2gxLmNsaWVudFgsIHRvdWNoMS5jbGllbnRZKTtcbiAgICAgICAgbGV0IHBvaW50MiA9IHRoaXMud2luVG9DYW52YXModG91Y2gyLmNsaWVudFgsIHRvdWNoMi5jbGllbnRZKTtcbiAgICAgICAgbGV0IHNjYWxlO1xuICAgICAgICBsZXQgZGlzdGFuY2U7XG4gICAgICAgIGxldCBjZW50ZXI7XG4gICAgICAgIGxldCByYXRlO1xuICAgICAgICBsZXQgb2Zmc2V0O1xuXG4gICAgICAgIGRpc3RhbmNlID0gTWF0aC5zcXJ0KE1hdGgucG93KHBvaW50Mi54IC0gcG9pbnQxLngsIDIpICsgTWF0aC5wb3cocG9pbnQyLnkgLSBwb2ludDEueSwgMikpO1xuXG4gICAgICAgIHRoaXMuaXNQaW5jaCA9IHRydWU7IC8vIOmYsuatoue8qeaUvuWQjuaUvuW8gOaJi+aMh++8jOS4gOagueaJi+aMh+WFiOaUvuW8gO+8jOeEtuWQjuinpuWPkeaLluWKqCAtLT4g5Y+R55Sf5YGP56e7XG4gICAgICAgIHNjYWxlID0gdGhpcy5waW5jaFJhdGlvICogZGlzdGFuY2U7XG5cbiAgICAgICAgaWYgKHNjYWxlID4gdGhpcy5zY2FsZUJldHdlZW5bMF0gJiYgc2NhbGUgPCB0aGlzLnNjYWxlQmV0d2VlblsxXSkge1xuICAgICAgICAgIC8vIDLmiYvmjIfnvKnmlL7nmoTkuK3lv4PngrlcbiAgICAgICAgICBjZW50ZXIgPSB7XG4gICAgICAgICAgICB4OiAoKHBvaW50MS54ICsgcG9pbnQyLngpIC8gMikgKiB0aGlzLnBpeGVsUmF0aW8sXG4gICAgICAgICAgICB5OiAoKHBvaW50MS55ICsgcG9pbnQyLnkpIC8gMikgKiB0aGlzLnBpeGVsUmF0aW8sXG4gICAgICAgICAgfTtcbiAgICAgICAgICAvLyDkuK3lv4Pngrnnm7jlr7nkuo7lm77niYflt6bkuIrop5LnmoTmr5TkvotcbiAgICAgICAgICByYXRlID0ge1xuICAgICAgICAgICAgeDogKGNlbnRlci54IC0gdGhpcy54KSAvICh0aGlzLmltZy53aWR0aCAqIHRoaXMuc2NhbGUpLFxuICAgICAgICAgICAgeTogKGNlbnRlci55IC0gdGhpcy55KSAvICh0aGlzLmltZy5oZWlnaHQgKiB0aGlzLnNjYWxlKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIC8vIOaUvuWkp+WQjueahOS4reW/g+eCueWdkOagh1xuICAgICAgICAgIGNlbnRlci5uZXdYID0gdGhpcy54ICsgdGhpcy5pbWcud2lkdGggKiBzY2FsZSAqIHJhdGUueDtcbiAgICAgICAgICBjZW50ZXIubmV3WSA9IHRoaXMueSArIHRoaXMuaW1nLmhlaWdodCAqIHNjYWxlICogcmF0ZS55O1xuICAgICAgICAgIG9mZnNldCA9IHtcbiAgICAgICAgICAgIHg6IGNlbnRlci5uZXdYIC0gY2VudGVyLngsXG4gICAgICAgICAgICB5OiBjZW50ZXIubmV3WSAtIGNlbnRlci55LFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyDnvKnlsI/ml7bmnInojIPlm7TpmZDliLZcbiAgICAgICAgICBpZiAoc2NhbGUgPCB0aGlzLnNjYWxlKSB7XG4gICAgICAgICAgICB0aGlzLnNldFJhbmdlKHRoaXMueCAtIG9mZnNldC54LCB0aGlzLnkgLSBvZmZzZXQueSwgc2NhbGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIOaUvuWkp+aXtu+8jOS/neaMgeS4reW/g+eCueS9jee9ruS4jeWPmO+8jOenu+WKqOW3puS4iuinkueahOWdkOagh1xuICAgICAgICAgIGlmIChzY2FsZSA+IHRoaXMuc2NhbGUpIHtcbiAgICAgICAgICAgIHRoaXMueCA9IHRoaXMueCAtIG9mZnNldC54O1xuICAgICAgICAgICAgdGhpcy55ID0gdGhpcy55IC0gb2Zmc2V0Lnk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8g5pyA5ZCO6YeN57uYXG4gICAgICAgICAgaWYgKHNjYWxlICE9PSB0aGlzLnNjYWxlKSB7XG4gICAgICAgICAgICAvLyDph43mlrDorr7nva7mr5TkvotcbiAgICAgICAgICAgIHRoaXMuc2NhbGUgPSBzY2FsZTtcbiAgICAgICAgICAgIC8vIOmHjee7mFxuICAgICAgICAgICAgdGhpcy5kcmF3KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHRvdWNoTW92ZUFuZEVuZEhhbmRsZXIoZSkge1xuICAgICAgbGV0IHR5cGUgPSBlLnR5cGU7XG4gICAgICBsZXQgdG91Y2ggPSB7XG4gICAgICAgIHRvdWNobW92ZTogZS50b3VjaGVzWzBdLFxuICAgICAgICB0b3VjaGVuZDogZS5jaGFuZ2VkVG91Y2hlc1swXSxcbiAgICAgIH1bdHlwZV07XG4gICAgICBsZXQgb2Zmc2V0WDtcbiAgICAgIGxldCBvZmZzZXRZO1xuICAgICAgbGV0IHBvcyA9IHRoaXMud2luVG9DYW52YXModG91Y2guY2xpZW50WCwgdG91Y2guY2xpZW50WSk7XG5cbiAgICAgIG9mZnNldFggPSAocG9zLnggLSB0aGlzLnRvdWNoU3RhcnQueCkgKiB0aGlzLnBpeGVsUmF0aW87XG4gICAgICBvZmZzZXRZID0gKHBvcy55IC0gdGhpcy50b3VjaFN0YXJ0LnkpICogdGhpcy5waXhlbFJhdGlvO1xuXG4gICAgICBpZiAoXG4gICAgICAgIHR5cGUgPT09ICd0b3VjaGVuZCcgJiZcbiAgICAgICAgRGF0ZS5ub3coKSAtIHRoaXMudG91Y2hTdGFydC50aW1lIDwgdGhpcy5jbGlja0RlbGF5ICYmXG4gICAgICAgIE1hdGguYWJzKHRvdWNoLmNsaWVudFggLSB0aGlzLnRvdWNoU3RhcnQuY3gpIDwgNiAmJlxuICAgICAgICBNYXRoLmFicyh0b3VjaC5jbGllbnRZIC0gdGhpcy50b3VjaFN0YXJ0LmN5KSA8IDZcbiAgICAgICkge1xuICAgICAgICB0aGlzLmNsaWNrSGFuZGxlcihlKTsgLy8g54K55Ye7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3RvdWNobW92ZScgJiYgIXRoaXMuaXNQaW5jaCkge1xuICAgICAgICAgIC8vIOaLluWKqFxuICAgICAgICAgIHRoaXMudG91Y2hTdGFydC54ID0gcG9zLng7XG4gICAgICAgICAgdGhpcy50b3VjaFN0YXJ0LnkgPSBwb3MueTtcblxuICAgICAgICAgIHRoaXMuc2V0UmFuZ2UodGhpcy54ICsgb2Zmc2V0WCwgdGhpcy55ICsgb2Zmc2V0WSwgdGhpcy5zY2FsZSk7XG4gICAgICAgICAgLy8gdGhpcy54ICs9IG9mZnNldFg7IHRoaXMueSArPSBvZmZzZXRZO1xuICAgICAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIOeCueWHu+Wbnuiwg1xuICAgIGlzQ2FuQ2xpY2socG9zKSB7XG4gICAgICB2YXIgZmxhZyA9IGZhbHNlO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1hcmtQb3NpdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcGFyc2VGbG9hdChwb3MueCkgPiBwYXJzZUZsb2F0KHRoaXMubWFya1Bvc2l0aW9uW2ldLngpICYmXG4gICAgICAgICAgcGFyc2VGbG9hdChwb3MueCkgPFxuICAgICAgICAgICAgcGFyc2VGbG9hdCh0aGlzLm1hcmtQb3NpdGlvbltpXS54KSArIHBhcnNlRmxvYXQodGhpcy5tYXJrUG9zaXRpb25baV0udykgJiZcbiAgICAgICAgICBwYXJzZUZsb2F0KHBvcy55KSA+IHBhcnNlRmxvYXQodGhpcy5tYXJrUG9zaXRpb25baV0ueSkgJiZcbiAgICAgICAgICBwYXJzZUZsb2F0KHBvcy55KSA8XG4gICAgICAgICAgICBwYXJzZUZsb2F0KHRoaXMubWFya1Bvc2l0aW9uW2ldLnkpICsgcGFyc2VGbG9hdCh0aGlzLm1hcmtQb3NpdGlvbltpXS5oKVxuICAgICAgICApIHtcbiAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZsYWc7XG4gICAgfSxcblxuICAgIGNsaWNrSGFuZGxlcihlKSB7XG4gICAgICB2YXIgdG91Y2ggPSBlLmNoYW5nZWRUb3VjaGVzWzBdO1xuICAgICAgLy8g5byA5ZCv5qCH6K6w5Yqf6IO95pe277yM5Y+q5pyJ5qCH6K6w5Yy65Z+f5Y+v5Lul54K55Ye7XG4gICAgICBpZiAodGhpcy5tYXJrKSB7XG4gICAgICAgIHZhciBwb3MgPSB0aGlzLndpblRvQ2FudmFzKHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFkpO1xuICAgICAgICB2YXIgcmF0ZSA9IHtcbiAgICAgICAgICB4OiAocG9zLnggLSB0aGlzLnggLyB0aGlzLnBpeGVsUmF0aW8pIC8gKCh0aGlzLmltZy53aWR0aCAqIHRoaXMuc2NhbGUpIC8gdGhpcy5waXhlbFJhdGlvKSxcbiAgICAgICAgICB5OlxuICAgICAgICAgICAgKHBvcy55IC0gdGhpcy55IC8gdGhpcy5waXhlbFJhdGlvKSAvICgodGhpcy5pbWcuaGVpZ2h0ICogdGhpcy5zY2FsZSkgLyB0aGlzLnBpeGVsUmF0aW8pLFxuICAgICAgICB9O1xuICAgICAgICBwb3MgPSB7XG4gICAgICAgICAgeDogcmF0ZS54ICogdGhpcy5pbWcud2lkdGgsXG4gICAgICAgICAgeTogcmF0ZS55ICogdGhpcy5pbWcuaGVpZ2h0LFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGlzLmlzQ2FuQ2xpY2socG9zKSkge1xuICAgICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICB0aGlzLmN0eC5hcmMoXG4gICAgICAgICAgICAocG9zLnggKiB0aGlzLnNjYWxlKSAvIHRoaXMucGl4ZWxSYXRpbyArIHRoaXMueCAvIHRoaXMucGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIChwb3MueSAqIHRoaXMuc2NhbGUpIC8gdGhpcy5waXhlbFJhdGlvICsgdGhpcy55IC8gdGhpcy5waXhlbFJhdGlvLFxuICAgICAgICAgICAgdGhpcy5zY2FsZSA9PT0gdGhpcy5kZWZhdWx0U2NhbGVcbiAgICAgICAgICAgICAgPyB0aGlzLnBvaW50UmFkaXVzXG4gICAgICAgICAgICAgIDogdGhpcy5wb2ludFJhZGl1cyAqICgxICsgKHRoaXMuc2NhbGUgLSB0aGlzLmRlZmF1bHRTY2FsZSkgLyB0aGlzLnBpeGVsUmF0aW8pLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIE1hdGguUEkgKiAyLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuY3R4LmZpbGwoKTtcbiAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG5cbiAgICAgICAgICB2YXIgbmV3TWFya1BvaW50ID0ge1xuICAgICAgICAgICAgeDogcG9zLngsXG4gICAgICAgICAgICB5OiBwb3MueSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRoaXMubWFya0Nvb3JkaW5hdGVzLnB1c2gobmV3TWFya1BvaW50KTtcbiAgICAgICAgICB0aGlzLnBvaW50cy5wdXNoKG5ld01hcmtQb2ludCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucmVkcmF3KGUsIHRoaXMud2luVG9DYW52YXModG91Y2guY2xpZW50WCwgdG91Y2guY2xpZW50WSkpO1xuICAgIH0sXG5cbiAgICAvLyDmi5bliqjlkoznvKnmlL7nmoTojIPlm7TpmZDliLZcbiAgICBzZXRSYW5nZSh4LCB5LCBzY2FsZSkge1xuICAgICAgbGV0IGltZ1cgPSB0aGlzLmltZy53aWR0aCAqIHNjYWxlO1xuICAgICAgbGV0IGltZ0ggPSB0aGlzLmltZy5oZWlnaHQgKiBzY2FsZTtcbiAgICAgIGxldCBjYW5zVyA9IHRoaXMuY2FudmFzLndpZHRoO1xuICAgICAgbGV0IGNhbnNIID0gdGhpcy5jYW52YXMuaGVpZ2h0O1xuICAgICAgbGV0IGJvcmRlckJvdHRvbSA9IHRoaXMuaW1nLmhlaWdodCAqIHRoaXMuc2NhbGVCZXR3ZWVuWzBdO1xuXG4gICAgICBpZiAoaW1nVyA8IGNhbnNXKSB7XG4gICAgICAgIHggPSAoY2Fuc1cgLSBpbWdXKSAvIDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4ID0geCArIGltZ1cgPCBjYW5zVyA/IGNhbnNXIC0gaW1nVyA6IHg7XG4gICAgICAgIHggPSB4ID4gMCA/IDAgOiB4O1xuICAgICAgfVxuXG4gICAgICBpZiAoaW1nSCA8IGNhbnNIKSB7XG4gICAgICAgIHkgPSAoY2Fuc0ggLSBpbWdIKSAvIDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB5ID0geSArIGltZ0ggPCBib3JkZXJCb3R0b20gPyBib3JkZXJCb3R0b20gLSBpbWdIIDogeTtcbiAgICAgICAgeSA9IHkgPiAwID8gMCA6IHk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMueCA9IHg7XG4gICAgICB0aGlzLnkgPSB5O1xuICAgIH0sXG5cbiAgICBkcmF3KCkge1xuICAgICAgdGhpcy5zZXRSYW5nZSh0aGlzLngsIHRoaXMueSwgdGhpcy5zY2FsZSk7XG5cbiAgICAgIHRoaXMuZHJhd0ltYWdlKCk7XG4gICAgICB0aGlzLmRyYXdQb2ludHMoKTtcbiAgICAgIHRoaXMuZHJhd1JlZ2lvbnMoKTtcbiAgICB9LFxuXG4gICAgLy8g54K55Ye76YeN57uYXG4gICAgcmVkcmF3KGUsIHBvcykge1xuICAgICAgdGhpcy5jbGlja1BvaW50cyA9IFtdO1xuICAgICAgdGhpcy5kcmF3SW1hZ2UoKTtcbiAgICAgIHRoaXMuZHJhd1BvaW50cyhwb3MpO1xuICAgICAgdGhpcy5kcmF3UmVnaW9ucyhwb3MpO1xuICAgICAgdGhpcy5jbGlja0NhbGxiYWNrKGUsIHRoaXMuY2xpY2tQb2ludHMpO1xuICAgIH0sXG5cbiAgICAvLyDliKTmlq3ngrnlh7vkvY3nva5cbiAgICBjbGlja0NhbGxiYWNrKGUsIHBvaW50cykge1xuICAgICAgbGV0IGNsaWNrUG9pbnQ7XG4gICAgICBwb2ludHMuc29tZShmdW5jdGlvbiAodiwgaSkge1xuICAgICAgICBpZiAodi50YWcgPT09ICdwb2ludHMnKSB7XG4gICAgICAgICAgY2xpY2tQb2ludCA9IHY7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xpY2tQb2ludCA9IHY7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdmFyIHRvdWNoID0gZS5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICAgIGxldCBwb3MgPSB0aGlzLndpblRvQ2FudmFzKHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFkpO1xuICAgICAgbGV0IHJhdGUgPSB7XG4gICAgICAgIHg6IChwb3MueCAtIHRoaXMueCAvIHRoaXMucGl4ZWxSYXRpbykgLyAoKHRoaXMuaW1nLndpZHRoICogdGhpcy5zY2FsZSkgLyB0aGlzLnBpeGVsUmF0aW8pLFxuICAgICAgICB5OiAocG9zLnkgLSB0aGlzLnkgLyB0aGlzLnBpeGVsUmF0aW8pIC8gKCh0aGlzLmltZy5oZWlnaHQgKiB0aGlzLnNjYWxlKSAvIHRoaXMucGl4ZWxSYXRpbyksXG4gICAgICB9O1xuXG4gICAgICBwb3MgPSB7XG4gICAgICAgIHg6IHBhcnNlRmxvYXQoKHJhdGUueCAqIHRoaXMuaW1nLndpZHRoKS50b0ZpeGVkKDIpKSxcbiAgICAgICAgeTogcGFyc2VGbG9hdCgocmF0ZS55ICogdGhpcy5pbWcuaGVpZ2h0KS50b0ZpeGVkKDIpKSxcbiAgICAgIH07XG5cbiAgICAgIC8vIOeCueWHu+aIt+Wei+WbvuWMuuWfn++8jOepuueZveWMuuWfn+S4jeinpuWPkVxuICAgICAgaWYgKHBvcy55ID49IDAgJiYgcG9zLnggPj0gMCAmJiBwb3MueSA8PSB0aGlzLmltZy5oZWlnaHQgJiYgcG9zLnggPD0gdGhpcy5pbWcud2lkdGgpIHtcbiAgICAgICAgdGhpcy4kZW1pdCgnb25jbGljaycsIHtcbiAgICAgICAgICB0eXBlOiBjbGlja1BvaW50ID8gJ3BvaW50JyA6ICcnLFxuICAgICAgICAgIHBvaW50czogdGhpcy5wb2ludHMsXG4gICAgICAgICAgcG9pbnQ6IGNsaWNrUG9pbnQsXG4gICAgICAgICAgY2xpY2tQb2ludDogY2xpY2tQb2ludCxcbiAgICAgICAgICB4OiBwb3MueCxcbiAgICAgICAgICB5OiBwb3MueSxcbiAgICAgICAgICBzY2FsZTogdGhpcy5zY2FsZSAvIHRoaXMucGl4ZWxSYXRpbyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIOe7mOWItuWbvueJh1xuICAgIGRyYXdJbWFnZSgpIHtcbiAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICAgIHRoaXMuY3R4LmRyYXdJbWFnZShcbiAgICAgICAgdGhpcy5pbWcsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMuaW1nLndpZHRoLFxuICAgICAgICB0aGlzLmltZy5oZWlnaHQsXG4gICAgICAgIHRoaXMueCxcbiAgICAgICAgdGhpcy55LFxuICAgICAgICB0aGlzLmltZy53aWR0aCAqIHRoaXMuc2NhbGUsXG4gICAgICAgIHRoaXMuaW1nLmhlaWdodCAqIHRoaXMuc2NhbGVcbiAgICAgICk7XG4gICAgfSxcblxuICAgIGRyYXdQb2ludHMocG9zKSB7XG4gICAgICB0aGlzLnBvaW50cy5mb3JFYWNoKCh2LCBpKSA9PiB7XG4gICAgICAgIHRoaXMuZHJhd1BvaW50KFxuICAgICAgICAgICh2LnggKiB0aGlzLnNjYWxlKSAvIHRoaXMucGl4ZWxSYXRpbyArIHRoaXMueCAvIHRoaXMucGl4ZWxSYXRpbyxcbiAgICAgICAgICAodi55ICogdGhpcy5zY2FsZSkgLyB0aGlzLnBpeGVsUmF0aW8gKyB0aGlzLnkgLyB0aGlzLnBpeGVsUmF0aW8sXG4gICAgICAgICAgdGhpcy5wb2ludFJhZGl1cyxcbiAgICAgICAgICBpLFxuICAgICAgICAgIHBvcyxcbiAgICAgICAgICB2LmNvbG9yXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgZHJhd1BvaW50KHgsIHksIHIsIGksIHBvcywgY29sb3IpIHtcbiAgICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgICB0aGlzLmN0eC5zaGFkb3dCbHVyID0gciAvIDI7XG4gICAgICB0aGlzLmN0eC5zaGFkb3dDb2xvciA9ICdibGFjayc7XG5cbiAgICAgIGlmIChjb2xvcikge1xuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOm7mOiupOminOiJslxuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLnBvaW50Q29sb3I7XG4gICAgICB9XG4gICAgICB0aGlzLmN0eC5hcmMoeCwgeSwgciwgMCwgTWF0aC5QSSAqIDIsIGZhbHNlKTtcbiAgICAgIHRoaXMuY3R4LmZpbGwoKTtcblxuICAgICAgdGhpcy5jdHguc2hhZG93Qmx1ciA9IDA7XG4gICAgICB0aGlzLmN0eC5zaGFkb3dDb2xvciA9ICd0cmFuc3BhcmVudCc7XG5cbiAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcblxuICAgICAgLy8g5omp5aSn5Y+v54K55Ye755qE5Yy65Z+f77yM5Zug5Li65ZyG5q+U6L6D6Zq+54K55LitXG4gICAgICByID0gciAqIDI7XG4gICAgICB0aGlzLmN0eC5zYXZlKCk7XG4gICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJ3RyYW5zcGFyZW50JztcbiAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICd0cmFuc3BhcmVudCc7XG4gICAgICB0aGlzLmN0eC5yZWN0KHggLSByLCB5IC0gciwgMiAqIHIsIDIgKiByKTtcbiAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuXG4gICAgICBpZiAocG9zICYmIHRoaXMuY3R4LmlzUG9pbnRJblBhdGgocG9zLnggKiB0aGlzLnBpeGVsUmF0aW8sIHBvcy55ICogdGhpcy5waXhlbFJhdGlvKSkge1xuICAgICAgICB0aGlzLmNsaWNrUG9pbnRzLnB1c2goe1xuICAgICAgICAgIHRhZzogJ3BvaW50cycsXG4gICAgICAgICAgcG9zOiBwb3MsXG4gICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBkcmF3UmVnaW9ucyhwb3MpIHtcbiAgICAgIGlmICh0aGlzLnJlZ2lvbnMgJiYgdGhpcy5yZWdpb25zLmxlbmd0aCkge1xuICAgICAgICB0aGlzLnJlZ2lvbnMuZm9yRWFjaCgodiwgaSkgPT4ge1xuICAgICAgICAgIHZhciB4TWluLCB4TWF4LCB5TWluLCB5TWF4O1xuICAgICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgdi5hcmVhLmZvckVhY2goKHAsIHBpKSA9PiB7XG4gICAgICAgICAgICB2YXIgeCA9IChwWzBdICogdGhpcy5zY2FsZSkgLyB0aGlzLnBpeGVsUmF0aW8gKyB0aGlzLnggLyB0aGlzLnBpeGVsUmF0aW87XG4gICAgICAgICAgICB2YXIgeSA9IChwWzFdICogdGhpcy5zY2FsZSkgLyB0aGlzLnBpeGVsUmF0aW8gKyB0aGlzLnkgLyB0aGlzLnBpeGVsUmF0aW87XG5cbiAgICAgICAgICAgIGlmIChwaSkge1xuICAgICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8oeCwgeSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmN0eC5tb3ZlVG8oeCwgeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHhNaW4gPSB4TWluID09PSB1bmRlZmluZWQgPyB4IDogeE1pbiA8IHggPyB4TWluIDogeDtcbiAgICAgICAgICAgIHhNYXggPSB4TWF4ID09PSB1bmRlZmluZWQgPyB4IDogeE1heCA+IHggPyB4TWF4IDogeDtcbiAgICAgICAgICAgIHlNaW4gPSB5TWluID09PSB1bmRlZmluZWQgPyB5IDogeU1pbiA8IHkgPyB5TWluIDogeTtcbiAgICAgICAgICAgIHlNYXggPSB5TWF4ID09PSB1bmRlZmluZWQgPyB5IDogeU1heCA+IHkgPyB5TWF4IDogeTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwgMTQ0LCAwLCAwLjQpJztcbiAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XG5cbiAgICAgICAgICB0aGlzLmN0eC5saW5lV2lkdGggPSAzO1xuICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJyNmZWRhOGUnO1xuICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuXG4gICAgICAgICAgdGhpcy5jdHgubGluZVdpZHRoID0gMjtcbiAgICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDAsIDAsIDAsIDAuOCknO1xuICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuXG4gICAgICAgICAgaWYgKHBvcyAmJiB0aGlzLmN0eC5pc1BvaW50SW5QYXRoKHBvcy54ICogdGhpcy5waXhlbFJhdGlvLCBwb3MueSAqIHRoaXMucGl4ZWxSYXRpbykpIHtcbiAgICAgICAgICAgIHRoaXMuY2xpY2tQb2ludHMucHVzaCh7XG4gICAgICAgICAgICAgIHRhZzogJ3JlZ2lvbicsXG4gICAgICAgICAgICAgIHBvczogcG9zLFxuICAgICAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICAgICAgcmVnaW9uRGF0YTogdixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIOWMuuWfn+WQjeensFxuICAgICAgICAgIHRoaXMuY3R4LmZvbnQgPVxuICAgICAgICAgICAgJzE4cHggYm9sZCAtYXBwbGUtc3lzdGVtLCBcIkhlbHZldGljYSBOZXVlXCIsIFJvYm90bywgXCJTZWdvZSBVSVwiLCBzYW5zLXNlcmlmJztcbiAgICAgICAgICB0aGlzLmN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICAgICAgICB0aGlzLmN0eC5saW5lV2lkdGggPSA0O1xuXG4gICAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSAnI2ZmZmZmZic7XG4gICAgICAgICAgdGhpcy5jdHguc3Ryb2tlVGV4dCh2Lm5hbWUsICh4TWF4ICsgeE1pbikgLyAyLCAoeU1heCArIHlNaW4pIC8gMiArIDEwKTtcbiAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAnIzExMTExMSc7XG4gICAgICAgICAgdGhpcy5jdHguZmlsbFRleHQodi5uYW1lLCAoeE1heCArIHhNaW4pIC8gMiwgKHlNYXggKyB5TWluKSAvIDIgKyAxMCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gIH0sXG59O1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cbi5kcmF3aW5nLWNvbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGZvbnQtc2l6ZTogMDtcbiAgbGluZS1oZWlnaHQ6IDA7XG59XG4uZHJhd2luZy1jb24gY2FudmFzIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIGJhY2tncm91bmQ6IHVybCh+QHNyYy9hc3NldHMvaW1nL2RpYWdyYW0tYmcucG5nKSB3aGl0ZTtcbiAgYmFja2dyb3VuZC1zaXplOiA0cHggNHB4O1xufVxuLmxvYWRpbmctdGV4dCB7XG4gIHBhZGRpbmc6IDAgMTVweDtcbiAgbWFyZ2luLXRvcDogMTVweDtcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIGNvbG9yOiAjYWFhO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMTZweDtcbn1cbi5lcnJvci10ZXh0IHtcbiAgcGFkZGluZzogMCAxNXB4O1xuICBsaW5lLWhlaWdodDogMjBweDtcbiAgY29sb3I6ICNmZjNkM2Q7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC1zaXplOiAxNnB4O1xufVxuPC9zdHlsZT5cbiIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuIF9jKCdkaXYnLF92bS5fZyh7cmVmOlwiY29udGVudFwiLHN0YXRpY0NsYXNzOlwiZHJhd2luZy1jb25cIn0sX3ZtLiRsaXN0ZW5lcnMpLFsoX3ZtLmlzRG93bmxvYWRpbmcpP1tfYygncCcsW19jKCdzdmcnLHtzdGF0aWNDbGFzczpcInN2Zy1sb2FkaW5nXCIsYXR0cnM6e1widmlld0JveFwiOlwiMCAwIDgwIDgwXCJ9fSxbX2MoJ2NpcmNsZScse2F0dHJzOntcImN4XCI6XCI0MFwiLFwiY3lcIjpcIjQwXCIsXCJyXCI6XCIzNlwifX0pXSldKSxfYygncCcse3N0YXRpY0NsYXNzOlwibG9hZGluZy10ZXh0XCJ9LFtfdm0uX3YoXCLmraPlnKjkuIvovb0uLi5cIildKV06WyghX3ZtLmVycm9yKT9fYygnY2FudmFzJyx7cmVmOlwiZHJhd2luZy1jYW52YXNcIn0pOl92bS5fZSgpLChfdm0uZXJyb3IpP19jKCdwJyx7c3RhdGljQ2xhc3M6XCJlcnJvci10ZXh0XCJ9LFtfdm0uX3YoX3ZtLl9zKF92bS5lcnJvcikpXSk6X3ZtLl9lKCldXSwyKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NhY2hlLWxvYWRlckAyLjAuMUBjYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3RocmVhZC1sb2FkZXJAMi4xLjNAdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2JhYmVsLWxvYWRlckA4LjIuMUBiYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdGhyZWFkLWxvYWRlckAyLjEuM0B0aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fYmFiZWwtbG9hZGVyQDguMi4xQGJhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1mYmE1OTkwYSZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9pbmRleC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9pbmRleC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD1mYmE1OTkwYSZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS43LjBAdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCJmYmE1OTkwYVwiLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsIi8qKlxuICogSGlEUEkgQ2FudmFzIFBvbHlmaWxsICgxLjAuOSlcbiAqXG4gKiBBdXRob3I6IEpvbmF0aGFuIEQuIEpvaG5zb24gKGh0dHA6Ly9qb25kYXZpZGpvaG4uY29tKVxuICogSG9tZXBhZ2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb25kYXZpZGpvaG4vaGlkcGktY2FudmFzLXBvbHlmaWxsXG4gKiBJc3N1ZSBUcmFja2VyOiBodHRwczovL2dpdGh1Yi5jb20vam9uZGF2aWRqb2huL2hpZHBpLWNhbnZhcy1wb2x5ZmlsbC9pc3N1ZXNcbiAqIExpY2Vuc2U6IEFwYWNoZSAyLjBcbiAqL1xuZnVuY3Rpb24gRXh0ZW5kQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKHByb3RvdHlwZSkge1xuICB2YXIgcGl4ZWxSYXRpbyA9IChmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICB2YXIgYmFja2luZ1N0b3JlID1cbiAgICAgICAgY29udGV4dC5iYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC53ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgIGNvbnRleHQubW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICBjb250ZXh0Lm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICBjb250ZXh0Lm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgIGNvbnRleHQuYmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICAxO1xuXG4gICAgICByZXR1cm4gKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpIC8gYmFja2luZ1N0b3JlO1xuICAgIH0pKHByb3RvdHlwZSksXG4gICAgZm9yRWFjaCA9IGZ1bmN0aW9uKG9iaiwgZnVuYykge1xuICAgICAgZm9yICh2YXIgcCBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgICAgIGZ1bmMob2JqW3BdLCBwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgcmF0aW9BcmdzID0ge1xuICAgICAgZmlsbFJlY3Q6ICdhbGwnLFxuICAgICAgY2xlYXJSZWN0OiAnYWxsJyxcbiAgICAgIHN0cm9rZVJlY3Q6ICdhbGwnLFxuICAgICAgbW92ZVRvOiAnYWxsJyxcbiAgICAgIGxpbmVUbzogJ2FsbCcsXG4gICAgICBhcmM6IFswLCAxLCAyXSxcbiAgICAgIGFyY1RvOiAnYWxsJyxcbiAgICAgIGJlemllckN1cnZlVG86ICdhbGwnLFxuICAgICAgaXNQb2ludGluUGF0aDogJ2FsbCcsXG4gICAgICBpc1BvaW50aW5TdHJva2U6ICdhbGwnLFxuICAgICAgcXVhZHJhdGljQ3VydmVUbzogJ2FsbCcsXG4gICAgICByZWN0OiAnYWxsJyxcbiAgICAgIHRyYW5zbGF0ZTogJ2FsbCcsXG4gICAgICBjcmVhdGVSYWRpYWxHcmFkaWVudDogJ2FsbCcsXG4gICAgICBjcmVhdGVMaW5lYXJHcmFkaWVudDogJ2FsbCcsXG4gICAgfTtcblxuICBpZiAocGl4ZWxSYXRpbyA9PT0gMSkgcmV0dXJuO1xuXG4gIGZvckVhY2gocmF0aW9BcmdzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgcHJvdG90eXBlW2tleV0gPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICAgIGxlbixcbiAgICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblxuICAgICAgICBpZiAodmFsdWUgPT09ICdhbGwnKSB7XG4gICAgICAgICAgYXJncyA9IGFyZ3MubWFwKGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgIHJldHVybiBhICogcGl4ZWxSYXRpbztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHZhbHVlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW3ZhbHVlW2ldXSAqPSBwaXhlbFJhdGlvO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9O1xuICAgIH0pKHByb3RvdHlwZVtrZXldKTtcbiAgfSk7XG5cbiAgLy8gU3Ryb2tlIGxpbmVXaWR0aCBhZGp1c3RtZW50XG4gIHByb3RvdHlwZS5zdHJva2UgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5saW5lV2lkdGggKj0gcGl4ZWxSYXRpbztcbiAgICAgIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgdGhpcy5saW5lV2lkdGggLz0gcGl4ZWxSYXRpbztcbiAgICB9O1xuICB9KShwcm90b3R5cGUuc3Ryb2tlKTtcblxuICAvLyBUZXh0XG4gIC8vXG4gIHByb3RvdHlwZS5maWxsVGV4dCA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cbiAgICAgIGFyZ3NbMV0gKj0gcGl4ZWxSYXRpbzsgLy8geFxuICAgICAgYXJnc1syXSAqPSBwaXhlbFJhdGlvOyAvLyB5XG5cbiAgICAgIHRoaXMuZm9udCA9IHRoaXMuZm9udC5yZXBsYWNlKC8oXFxkKykocHh8ZW18cmVtfHB0KS9nLCBmdW5jdGlvbih3LCBtLCB1KSB7XG4gICAgICAgIHJldHVybiBtICogcGl4ZWxSYXRpbyArIHU7XG4gICAgICB9KTtcblxuICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXG4gICAgICB0aGlzLmZvbnQgPSB0aGlzLmZvbnQucmVwbGFjZSgvKFxcZCspKHB4fGVtfHJlbXxwdCkvZywgZnVuY3Rpb24odywgbSwgdSkge1xuICAgICAgICByZXR1cm4gbSAvIHBpeGVsUmF0aW8gKyB1O1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSkocHJvdG90eXBlLmZpbGxUZXh0KTtcblxuICBwcm90b3R5cGUuc3Ryb2tlVGV4dCA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cbiAgICAgIGFyZ3NbMV0gKj0gcGl4ZWxSYXRpbzsgLy8geFxuICAgICAgYXJnc1syXSAqPSBwaXhlbFJhdGlvOyAvLyB5XG5cbiAgICAgIHRoaXMuZm9udCA9IHRoaXMuZm9udC5yZXBsYWNlKC8oXFxkKykocHh8ZW18cmVtfHB0KS9nLCBmdW5jdGlvbih3LCBtLCB1KSB7XG4gICAgICAgIHJldHVybiBtICogcGl4ZWxSYXRpbyArIHU7XG4gICAgICB9KTtcblxuICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXG4gICAgICB0aGlzLmZvbnQgPSB0aGlzLmZvbnQucmVwbGFjZSgvKFxcZCspKHB4fGVtfHJlbXxwdCkvZywgZnVuY3Rpb24odywgbSwgdSkge1xuICAgICAgICByZXR1cm4gbSAvIHBpeGVsUmF0aW8gKyB1O1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSkocHJvdG90eXBlLnN0cm9rZVRleHQpO1xuXG4gIHByb3RvdHlwZS5leHRlbmRlZCA9IHRydWU7XG59XG5cbmxldCBFeHRlbmRIVE1MQ2FudmFzRWxlbWVudCA9IGZ1bmN0aW9uKGNhbnZhcykge1xuICAoZnVuY3Rpb24ocHJvdG90eXBlKSB7XG4gICAgcHJvdG90eXBlLmdldENvbnRleHQgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB2YXIgYmFja2luZ1N0b3JlLFxuICAgICAgICAgIHJhdGlvLFxuICAgICAgICAgIGNvbnRleHQgPSBfc3VwZXIuY2FsbCh0aGlzLCB0eXBlKTtcblxuICAgICAgICBpZiAodHlwZSA9PT0gJzJkJykge1xuICAgICAgICAgIGJhY2tpbmdTdG9yZSA9XG4gICAgICAgICAgICBjb250ZXh0LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC53ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICBjb250ZXh0Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgIGNvbnRleHQubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICBjb250ZXh0Lm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICBjb250ZXh0LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgIDE7XG5cbiAgICAgICAgICByYXRpbyA9ICh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSAvIGJhY2tpbmdTdG9yZTtcblxuICAgICAgICAgIGlmIChyYXRpbyA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICAgICAgdGhpcy53aWR0aCAqPSByYXRpbztcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ICo9IHJhdGlvO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBFeHRlbmRDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQoY29udGV4dCk7XG4gICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgICAgfTtcbiAgICB9KShwcm90b3R5cGUuZ2V0Q29udGV4dCk7XG4gIH0pKGNhbnZhcyk7XG59O1xuXG5leHBvcnQgeyBFeHRlbmRDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIEV4dGVuZEhUTUxDYW52YXNFbGVtZW50IH07XG4iXSwic291cmNlUm9vdCI6IiJ9