(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["report-special-inspect-leader-index"],{"0702":function(t,e,a){"use strict";a("3f7d")},"096d":function(t,e,a){var i=a("1e2a");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("77296578",i,!0,{sourceMap:!1,shadowMode:!1})},"0c09":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return s}));var i="QA",s="ES"},"0d3e":function(t,e,a){var i=a("193d9");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("4b2fc00e",i,!0,{sourceMap:!1,shadowMode:!1})},"0df4":function(t,e,a){"use strict";a.r(e);var i=a("ff5c").a,s=(a("7173"),a("17cc")),r=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-content",{attrs:{title:"报表-员工工作量"}},[a("div",{staticClass:"header-btn",attrs:{slot:"header-bar-right"},on:{click:t.share},slot:"header-bar-right"},[a("icon",{attrs:{name:"nav-share"}})],1),"repair"!==t.currentRole?a("div",{staticClass:"ui-tabs border-bottom ui-process-v2-tabs"},["supervision"===t.currentRole||"construct"===t.currentRole?a("a",{staticClass:"ui-tabs-item border-none f14",class:{"tab-cur":0==t.tabIndex},on:{click:function(e){t.changeTab(0)}}},[t._v("施工单位")]):t._e(),"supervision"===t.currentRole||"construct"===t.currentRole?a("a",{staticClass:"ui-tabs-item border-none f14",class:{"tab-cur":1==t.tabIndex},on:{click:function(e){t.changeTab(1)}}},[t._v("监理单位")]):t._e(),"construct"===t.currentRole?a("a",{staticClass:"ui-tabs-item border-none f14",class:{"tab-cur":2==t.tabIndex},on:{click:function(e){t.changeTab(2)}}},[t._v("建设单位")]):t._e()]):t._e(),a("van-sticky",{attrs:{"offset-top":t.viewSize.headerHeight+("repair"!==t.currentRole?40:0)}},[a("table",{directives:[{name:"show",rawName:"v-show",value:t.showFixedHead&&t.list[t.type]&&t.list[t.type].length,expression:"showFixedHead && list[type] && list[type].length"}],ref:"fixed-head",staticClass:"table fixed-head",attrs:{cellpadding:"0",cellspacing:"0",border:"0"}},[a("thead",[a("tr",{staticClass:"border-bottom"},[a("th",{staticClass:"report-staff-name border-right",attrs:{width:"120px",rowspan:"2"},on:{click:function(e){t.sortList(t.type,"name")}}},[t._v("姓名")]),t.isCheck?a("th",{staticClass:"border-right",attrs:{colspan:"3"}},[t._v("现场检查")]):t._e(),t.isCheckQuality?a("th",{staticClass:"border-right",attrs:{colspan:"3"}},[t._v("质量检查")]):t._e(),t.isCheckSafety?a("th",{staticClass:"border-right",attrs:{colspan:"3"}},[t._v("安全检查")]):t._e(),a("th",{staticClass:"border-right"},[t._v("实测实量")]),t.isAllowCheck?a("th",{staticClass:"border-right"},[t._v("工序移交")]):t._e(),t.isAllowAccept?a("th",{staticClass:"border-right"},[t._v("工序验收")]):t._e(),a("th",{staticClass:"border-right"},[t._v("材料验收")])]),a("tr",{staticClass:"report-staff-tips border-bottom"},[t.isCheck?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"check_problem_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"check_problem_num")}}},[a("i")]),t._v("登记问题\n            ")])]):t._e(),t.isCheck?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"check_repair_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"check_repair_num")}}},[a("i")]),t._v("整改问题\n            ")])]):t._e(),t.isCheck?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"check_reinspect_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"check_reinspect_num")}}},[a("i")]),t._v("复验问题\n            ")])]):t._e(),t.isCheckQuality?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"quality_check_problem_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"quality_check_problem_num")}}},[a("i")]),t._v("登记问题\n            ")])]):t._e(),t.isCheckQuality?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"quality_check_repair_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"quality_check_repair_num")}}},[a("i")]),t._v("整改问题\n            ")])]):t._e(),t.isCheckQuality?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"quality_check_reinspect_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"quality_check_reinspect_num")}}},[a("i")]),t._v("复验问题\n            ")])]):t._e(),t.isCheckSafety?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"safety_check_problem_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"safety_check_problem_num")}}},[a("i")]),t._v("登记问题\n            ")])]):t._e(),t.isCheckSafety?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"safety_check_repair_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"safety_check_repair_num")}}},[a("i")]),t._v("整改问题\n            ")])]):t._e(),t.isCheckSafety?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"safety_check_reinspect_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"safety_check_reinspect_num")}}},[a("i")]),t._v("复验问题\n            ")])]):t._e(),a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"measure_point_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"measure_point_num")}}},[a("i")]),t._v("实测点数\n            ")])]),t.isAllowCheck?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"process_times_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"process_times_num")}}},[a("i")]),t._v("移交次数\n            ")])]):t._e(),t.isAllowAccept?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"process_accept_times_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"process_accept_times_num")}}},[a("i")]),t._v("验收次数\n            ")])]):t._e(),a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"material_task_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"material_task_num")}}},[a("i")]),t._v("进场验收批次\n            ")])])])])]),a("table",{directives:[{name:"show",rawName:"v-show",value:t.showFixedHead&&t.list[t.type]&&t.list[t.type].length,expression:"showFixedHead && list[type] && list[type].length"}],staticClass:"table fixed-nook-sticky"},[a("thead",[a("tr",{staticClass:"border-bottom",staticStyle:{height:"100px"}},[a("th",{staticClass:"report-staff-name border-right",attrs:{width:"120px",rowspan:"2"},on:{click:function(e){t.sortList(t.type,"name")}}},[t._v("姓名")])])])])]),a("scroller",{staticClass:"report-staff-scroll",on:{scroll:t.onScrollY}},[a("div",{staticClass:"align-c bg-white border-bottom",staticStyle:{padding:"9px 0"}},[a("div",{staticClass:"item-checkbox-radius",class:{checked:1===t.date_type},attrs:{"data-track":"报表-员工工作量-上周"},on:{click:function(e){t.selectDate(1)}}},[t._v("上周")]),a("div",{staticClass:"item-checkbox-radius",class:{checked:2===t.date_type},attrs:{"data-track":"报表-员工工作量-本周"},on:{click:function(e){t.selectDate(2)}}},[t._v("本周")]),a("div",{staticClass:"item-checkbox-radius",class:{checked:3===t.date_type},attrs:{"data-track":"报表-员工工作量-上月"},on:{click:function(e){t.selectDate(3)}}},[t._v("上月")]),a("div",{staticClass:"item-checkbox-radius",class:{checked:4===t.date_type},attrs:{"data-track":"报表-员工工作量-本月"},on:{click:function(e){t.selectDate(4)}}},[t._v("本月")])]),!t.listLoading&&t.list[t.type]&&t.list[t.type].length?a("div",{staticClass:"table-content"},[a("div",{staticClass:"scroll-y"},[a("div",{staticClass:"scroll-x",on:{scroll:t.onScrollX}},[a("table",{staticClass:"table",staticStyle:{transform:"translateZ(0)"},attrs:{cellpadding:"0",cellspacing:"0",border:"0"}},[a("thead",[a("tr",{staticClass:"border-bottom"},[a("th",{staticClass:"report-staff-name border-right",attrs:{width:"120px",rowspan:"2"},on:{click:function(e){t.sortList(t.type,"name")}}}),t.isCheck?a("th",{staticClass:"border-right",attrs:{colspan:"3"}},[t._v("现场检查")]):t._e(),t.isCheckQuality?a("th",{staticClass:"border-right",attrs:{colspan:"3"}},[t._v("质量检查")]):t._e(),t.isCheckSafety?a("th",{staticClass:"border-right",attrs:{colspan:"3"}},[t._v("安全检查")]):t._e(),a("th",{staticClass:"border-right"},[t._v("实测实量")]),t.isAllowCheck?a("th",{staticClass:"border-right"},[t._v("工序移交")]):t._e(),t.isAllowAccept?a("th",{staticClass:"border-right"},[t._v("工序验收")]):t._e(),a("th",{staticClass:"border-right"},[t._v("材料验收")])]),a("tr",{staticClass:"report-staff-tips border-bottom"},[t.isCheck?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"check_problem_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"check_problem_num")}}},[a("i")]),t._v("登记问题\n                  ")])]):t._e(),t.isCheck?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"check_repair_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"check_repair_num")}}},[a("i")]),t._v("整改问题\n                  ")])]):t._e(),t.isCheck?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"check_reinspect_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"check_reinspect_num")}}},[a("i")]),t._v("复验问题\n                  ")])]):t._e(),t.isCheckQuality?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"quality_check_problem_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"quality_check_problem_num")}}},[a("i")]),t._v("登记问题\n                  ")])]):t._e(),t.isCheckQuality?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"quality_check_repair_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"quality_check_repair_num")}}},[a("i")]),t._v("整改问题\n                  ")])]):t._e(),t.isCheckQuality?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"quality_check_reinspect_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"quality_check_reinspect_num")}}},[a("i")]),t._v("复验问题\n                  ")])]):t._e(),t.isCheckSafety?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"safety_check_problem_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"safety_check_problem_num")}}},[a("i")]),t._v("登记问题\n                  ")])]):t._e(),t.isCheckSafety?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"safety_check_repair_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"safety_check_repair_num")}}},[a("i")]),t._v("整改问题\n                  ")])]):t._e(),t.isCheckSafety?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"safety_check_reinspect_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"safety_check_reinspect_num")}}},[a("i")]),t._v("复验问题\n                  ")])]):t._e(),a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"measure_point_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"measure_point_num")}}},[a("i")]),t._v("实测点数\n                  ")])]),t.isAllowCheck?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"process_times_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"process_times_num")}}},[a("i")]),t._v("移交次数\n                  ")])]):t._e(),t.isAllowAccept?a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"process_accept_times_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"process_accept_times_num")}}},[a("i")]),t._v("验收次数\n                  ")])]):t._e(),a("th",{staticClass:"border-right",on:{click:function(e){t.sortList(t.type,"material_task_num")}}},[a("div",{staticClass:"th-layer"},[a("div",{staticClass:"icon",on:{click:function(e){t.tipsProps(e,"material_task_num")}}},[a("i")]),t._v("进场验收批次\n                  ")])])])]),a("tbody",t._l(t.list[t.type],(function(e,i){return a("tr",{key:i,staticClass:"border-bottom"},[a("td",{staticClass:"report-staff-row-name border-right"},[t._v(t._s(e.name))]),t.isCheck?a("td",{staticClass:"border-right"},[t._v("\n                  "+t._s(e.check_problem_num)+"\n                  "),e.check_problem_num_moust?a("i",{staticClass:"td-icon"}):t._e()]):t._e(),t.isCheck?a("td",{staticClass:"border-right"},[t._v("\n                  "+t._s(e.check_repair_num)+"\n                  "),e.check_repair_num_moust?a("i",{staticClass:"td-icon"}):t._e()]):t._e(),t.isCheck?a("td",{staticClass:"border-right"},[t._v("\n                  "+t._s(e.check_reinspect_num)+"\n                  "),e.check_reinspect_num_moust?a("i",{staticClass:"td-icon"}):t._e()]):t._e(),t.isCheckQuality?a("td",{staticClass:"border-right"},[t._v("\n                  "+t._s(e.quality_check_problem_num)+"\n                  "),e.quality_check_problem_num_moust?a("i",{staticClass:"td-icon"}):t._e()]):t._e(),t.isCheckQuality?a("td",{staticClass:"border-right"},[t._v("\n                  "+t._s(e.quality_check_repair_num)+"\n                  "),e.quality_check_repair_num_moust?a("i",{staticClass:"td-icon"}):t._e()]):t._e(),t.isCheckQuality?a("td",{staticClass:"border-right"},[t._v("\n                  "+t._s(e.quality_check_reinspect_num)+"\n                  "),e.quality_check_reinspect_num_moust?a("i",{staticClass:"td-icon"}):t._e()]):t._e(),t.isCheckSafety?a("td",{staticClass:"border-right"},[t._v("\n                  "+t._s(e.safety_check_problem_num)+"\n                  "),e.safety_check_problem_num_moust?a("i",{staticClass:"td-icon"}):t._e()]):t._e(),t.isCheckSafety?a("td",{staticClass:"border-right"},[t._v("\n                  "+t._s(e.safety_check_repair_num)+"\n                  "),e.safety_check_repair_num_moust?a("i",{staticClass:"td-icon"}):t._e()]):t._e(),t.isCheckSafety?a("td",{staticClass:"border-right"},[t._v("\n                  "+t._s(e.safety_check_reinspect_num)+"\n                  "),e.safety_check_reinspect_num_moust?a("i",{staticClass:"td-icon"}):t._e()]):t._e(),a("td",{staticClass:"border-right"},[t._v("\n                  "+t._s(e.measure_point_num)+"\n                  "),e.measure_point_num_moust?a("i",{staticClass:"td-icon"}):t._e()]),t.isAllowCheck?a("td",{staticClass:"border-right"},[t._v("\n                  "+t._s(e.process_times_num)+"\n                  "),e.process_times_num_moust?a("i",{staticClass:"td-icon"}):t._e()]):t._e(),t.isAllowAccept?a("td",{staticClass:"border-right"},[t._v("\n                  "+t._s(e.process_accept_times_num)+"\n                  "),e.process_accept_times_num_moust?a("i",{staticClass:"td-icon"}):t._e()]):t._e(),a("td",[t._v("\n                  "+t._s(e.material_task_num)+"\n                  "),e.material_task_num_moust?a("i",{staticClass:"td-icon"}):t._e()])])})))])]),a("table",{directives:[{name:"show",rawName:"v-show",value:t.showFixedSlide,expression:"showFixedSlide"}],staticClass:"table fixed-slide"},[a("thead",[a("tr",{staticClass:"border-bottom",staticStyle:{height:"100px"}},[a("th",{staticClass:"report-staff-name border-right",attrs:{width:"120px",rowspan:"2"},on:{click:function(e){t.sortList(t.type,"name")}}},[t._v("姓名")])])]),a("tbody",t._l(t.list[t.type],(function(e,i){return a("tr",{key:i,staticClass:"border-bottom"},[a("td",{staticClass:"report-staff-row-name border-right"},[t._v(t._s(e.name))])])})))])]),a("table",{directives:[{name:"show",rawName:"v-show",value:t.showFixedNook,expression:"showFixedNook"}],staticClass:"table fixed-nook"},[a("thead",[a("tr",{staticClass:"border-bottom",staticStyle:{height:"100px"}},[a("th",{staticClass:"report-staff-name border-right",attrs:{width:"120px",rowspan:"2"},on:{click:function(e){t.sortList(t.type,"name")}}},[t._v("姓名")])])])])]):t._e(),a("loading-status",{style:{height:"("+t.viewSize.contentHeight+" -140)px"},attrs:{"ng-if":"listLoading || !list[type] || !list[type].length","is-loading":t.listLoading,"is-empty":!t.list[t.type]||!t.list[t.type].length,"empty-text":"所选时段无数据",type:"report"}})],1),a("van-action-sheet",{staticClass:"user-info-actionsheet",attrs:{"cancel-text":"取消",actions:t.actions},on:{select:t.onSelectShare},model:{value:t.showShare,callback:function(e){t.showShare=e},expression:"showShare"}})],1)}),[],!1,null,"5ad9780c",null);e.default=r.exports},1308:function(t,e,a){"use strict";a("5c5e")},1529:function(t,e,a){var i=a("be89");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("76ef9a76",i,!0,{sourceMap:!1,shadowMode:!1})},1588:function(t,e,a){"use strict";a("cc57");var i=a("07d2"),s=a("cd05"),r={name:"ReportMaterialDetailTast",components:{Item:i.default,UserSelect:s.a},props:{taskData:{type:Object,default:function(){return{}}}},computed:{selectedMaterialType:function(){var t=[];return this.taskData.materialType&&this.taskData.materialType.map((function(e){t.push(e.name)})),t.join("、")}},methods:{saveTask:function(){}}},n=(a("487d"),a("17cc")),c=Object(n.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-wrap"},[a("item",{attrs:{label:"所属标段",text:t.taskData.bidsection_name}}),a("item",{attrs:{label:"材料名称",text:t.taskData.meterial_name}}),t.selectedMaterialType?a("item",{attrs:{label:"材料类型",text:t.selectedMaterialType}}):t._e(),a("item",{attrs:{label:"使用部位",text:t.taskData.place||"无"}}),a("item",{attrs:{label:"材料供应商",text:t.taskData.supplier||"无"}}),t.taskData.remark?a("item",{attrs:{label:"补充说明",text:t.taskData.remark}}):t._e(),a("user-select",{attrs:{title:"接收人",mode:"view",editabled:!1},model:{value:t.taskData.receiver,callback:function(e){t.$set(t.taskData,"receiver",e)},expression:"taskData.receiver"}}),a("item",{attrs:{label:"接收单位",text:t.taskData.contractor_name||"无"}}),a("user-select",{attrs:{title:"监理",mode:"view",editabled:!1},model:{value:t.taskData.checker,callback:function(e){t.$set(t.taskData,"checker",e)},expression:"taskData.checker"}}),t.taskData.constructer.length?a("user-select",{attrs:{title:"建设单位验收人",mode:"view",multi:!0,editabled:!1},model:{value:t.taskData.constructer,callback:function(e){t.$set(t.taskData,"constructer",e)},expression:"taskData.constructer"}}):t._e(),t.taskData.isAreaCheckOn?a("user-select",{attrs:{title:"区域验收人",mode:"view",multi:!0,editabled:!1},model:{value:t.taskData.areaCheckers,callback:function(e){t.$set(t.taskData,"areaCheckers",e)},expression:"taskData.areaCheckers"}}):t._e(),a("user-select",{attrs:{title:"抄送人",mode:"view",multi:!0,editabled:!1},model:{value:t.taskData.cc,callback:function(e){t.$set(t.taskData,"cc",e)},expression:"taskData.cc"}}),a("user-select",{attrs:{title:"创建人",date:t._f("formatDate")(t.taskData.created_on),mode:"view",editabled:!1},model:{value:t.taskData.creater,callback:function(e){t.$set(t.taskData,"creater",e)},expression:"taskData.creater"}})],1)}),[],!1,null,"54711e08",null);e.a=c.exports},"193d9":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .table-tree-r li[data-v-289d47fb],.zjapp .table-tree-r li .display-flex[data-v-289d47fb]{border:none}.zjapp .report-date-item-circle[data-v-289d47fb]{line-height:26px;padding:0 8px;background-color:#fff;font-size:14px;border:1px solid #d7e0f7;border-radius:14px}.zjapp .report-date-item-circle[data-v-289d47fb],.zjapp .report-date-split-circle[data-v-289d47fb]{display:inline-block;vertical-align:top;margin-top:3px;height:28px;color:#666}.zjapp .report-date-split-circle[data-v-289d47fb]{line-height:28px;font-size:12px;padding:0 4px}.zjapp .display-flex[data-v-289d47fb]{display:-moz-flex;display:flex;-moz-align-items:center;align-items:center;-webkit-box-align:center;-moz-box-align:center;-ms-flex-align:center;-moz-justify-content:center;justify-content:center}.zjapp .display-flex .tree-hd-item[data-v-289d47fb]{padding:5px 15px;line-height:20px}.zjapp .display-flex .flex[data-v-289d47fb]{-moz-flex:1;flex:1}",""])},"1e2a":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,'.zjapp .wrap[data-v-108d3726]{display:flex;flex:1;flex-direction:column}.zjapp .wrap .tabs[data-v-108d3726]{position:relative;height:40px;line-height:40px;background-color:#fff;text-align:center;font-size:14px;z-index:1;border:none;background-image:linear-gradient(0deg,#dcdcdc,#dcdcdc 66.6667%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}.zjapp .wrap .tabs span[data-v-108d3726]{display:inline-block;padding:0 18px;position:relative}.zjapp .wrap .tabs .active[data-v-108d3726]{color:#4275e8}.zjapp .wrap .tabs .active[data-v-108d3726]:after{position:absolute;content:" ";display:block;width:6px;height:6px;border-radius:6px;background:#4275e8;bottom:-3px;left:50%;transform:translateX(-50%);transition:transform}.zjapp .wrap .swipe-content .van-swipe-item[data-v-108d3726]{overflow:auto}.zjapp .wrap .edit-task[data-v-108d3726]{display:block;margin-top:10px}',""])},"275e":function(t,e){t.exports="data:image/png;base64,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"},2851:function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .task-wrap[data-v-54711e08]{padding-bottom:80px}",""])},"2c76":function(t,e,a){"use strict";a("c070")},"2cfc":function(t,e,a){"use strict";var i=a("07d2"),s=a("cd05"),r=a("e68e"),n={name:"ReportMaterialDetailCheckView",components:{Item:i.default,ItemImgList:r.a,UserSelect:s.a},props:{checkData:{type:Object,default:function(){return null}},checkDataFirst:{type:Object,default:function(){return null}}},data:function(){return{show:!1}},methods:{firstCheckDetail:function(){this.show=!0},closeEvent:function(){this.show=!1}}},c=(a("0702"),a("17cc")),o=Object(c.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("scroller",[t.checkDataFirst&&t.checkData?a("item",{staticClass:"frist-report",on:{click:t.firstCheckDetail}},[a("div",{staticClass:"item-text"},[t._v("首次送检记录")]),a("div",{staticClass:"item-font color-light"},[t._v("查看")]),a("icon",{attrs:{name:"arrow-right"}})],1):t._e(),t.checkData&&t.checkData.brands?a("div",{staticClass:"brand-info"},t._l(t.checkData.brands,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"brand-name"},[t._v(t._s(e.brand))]),t._l(e.type_list,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"brand-type"},[a("div",{staticClass:"flex one-line"},[t._v(t._s(e.type))]),e.spec_list&&e.spec_list.length?t._e():a("div",[t._v("\n              "+t._s(Number((t.checkDataFirst?e.retest_num:e.inspection_num)||0).toFixed(0))+"组\n            ")])]),e.spec_list&&e.spec_list.length?t._l(e.spec_list,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"brand-spec"},[a("div",[t._v(t._s(e.spec))]),a("div",[t._v("\n                  "+t._s(Number((t.checkDataFirst?e.retest_num:e.inspection_num)||0).toFixed(0))+"组\n                ")])])])})):t._e()],2)}))],2)}))):t._e(),t.checkData?a("div",{staticClass:"mt10"},[a("item",{attrs:{label:"送检照片"}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[a("item-img-list",{attrs:{"online-mode":!0,editabled:!1},model:{value:t.checkData.img,callback:function(e){t.$set(t.checkData,"img",e)},expression:"checkData.img"}})],1)]),a("item",{attrs:{mode:"view",label:"送检时间",editabled:!1,text:t._f("formatDate")(t.checkData.date,"YYYY-MM-DD")}}),a("user-select",{attrs:{title:"送检人",mode:"view",editabled:!1},model:{value:t.checkData.checker,callback:function(e){t.$set(t.checkData,"checker",e)},expression:"checkData.checker"}})],1):t._e(),a("van-popup",{attrs:{position:"right","get-container":"body"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("page-content",{attrs:{title:"首次送检记录",mode:"dialog","on-close":t.closeEvent}},[t.checkDataFirst?a("div",{staticClass:"brand-info"},t._l(t.checkDataFirst.brands,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"brand-name"},[t._v(t._s(e.brand))]),t._l(e.type_list,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"brand-type"},[a("div",{staticClass:"flex one-line"},[t._v(t._s(e.type))]),e.spec_list&&e.spec_list.length?t._e():a("div",[t._v("\n                  "+t._s(Number(e.inspection_num||0).toFixed(0))+"组\n                ")])]),e.spec_list&&e.spec_list.length?t._l(e.spec_list,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"brand-spec"},[a("div",[t._v(t._s(e.spec))]),a("div",[t._v(t._s(Number(e.inspection_num||0).toFixed(0))+"组")])])])})):t._e()],2)}))],2)}))):t._e(),t.checkDataFirst?a("div",{staticClass:"mt10"},[a("item",{attrs:{label:"送检照片"}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[a("item-img-list",{attrs:{"online-mode":!0,editabled:!1},model:{value:t.checkDataFirst.img,callback:function(e){t.$set(t.checkDataFirst,"img",e)},expression:"checkDataFirst.img"}})],1)]),a("item",{attrs:{mode:"view",label:"送检时间",editabled:!1,text:t._f("formatDate")(t.checkDataFirst.date,"YYYY-MM-DD")}}),a("user-select",{attrs:{title:"送检人",mode:"view",editabled:!1},model:{value:t.checkDataFirst.checker,callback:function(e){t.$set(t.checkDataFirst,"checker",e)},expression:"checkDataFirst.checker"}})],1):t._e()])],1)],1)],1)}),[],!1,null,"59dde30c",null);e.a=o.exports},"2d6e":function(t,e,a){var i=a("7eb2");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("53a2fbaa",i,!0,{sourceMap:!1,shadowMode:!1})},"3c64":function(t,e,a){"use strict";a("163d");var i={name:"ItemTextarea",components:{},props:{value:{type:String,default:""},placeholder:{type:String,default:""},maxlength:{type:Number,default:200},borderBottom:{type:Boolean,default:!0}},data:function(){return{textareaHeight:40,isLock:!1,blurTime:null}},computed:{lastLength:function(){var t=this.value&&this.value.length||0,e=this.maxlength-t;return e>0?e:0}},mounted:function(){var t=this;this.$nextTick((function(){t.textareaHeight=t.$refs.rule&&t.$refs.rule.offsetHeight||40}))},methods:{onfocus:function(){var t=(new Date).getTime();this.blurTime&&t-this.blurTime<300&&window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(this.$refs.input.blur(),window.cordova.plugins.Keyboard.close()),this.blurTime=null,this.$emit("focus")},onblur:function(){this.blurTime=(new Date).getTime(),this.$emit("blur")},setStatus:function(t){console.log(t),this.isLock=t},oninput:function(t){var e=this;setTimeout((function(){if(!e.isLock){var a=t.target.value;a.length>e.maxlength&&(a=a.substring(0,e.maxlength),e.$refs.input.value=a),e.$refs.rule.innerText=a,e.textareaHeight=e.$refs.rule&&e.$refs.rule.offsetHeight+20,e.$emit("input",a),e.$emit("change",a)}}),0)}}},s=(a("2c76"),a("17cc")),r=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-textarea",class:{"border-bottom":t.borderBottom}},[a("div",{staticClass:"item-textarea-content"},[a("textarea",{ref:"input",style:{height:t.textareaHeight+"px"},attrs:{placeholder:t.placeholder},domProps:{value:t.value},on:{focus:t.onfocus,blur:t.onblur,compositionstart:function(e){t.setStatus(!0)},compositionend:function(e){t.setStatus(!1)},input:t.oninput}}),a("div",{ref:"rule",staticClass:"rule"},[t._v("\n      "+t._s(t.value)+"\n    ")]),t.maxlength!==1/0?a("p",{staticClass:"counter"},[t._v("\n      "+t._s(t.lastLength)+"\n    ")]):t._e()])])}),[],!1,null,null,null);e.a=r.exports},"3f56":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .item-select-project>div[data-v-44e79500]{pointer-events:none}.zjapp .report-date-item[data-v-44e79500]{display:inline-block;vertical-align:top;margin-top:2px;height:30px;line-height:30px;padding:0 6px;background-color:#fff;font-size:15px;color:#111;border:1px solid #d2d2d2;border-radius:4px}.zjapp .material-report-panel-title .icon[data-v-44e79500]{font-size:14px}.zjapp .report-date-split[data-v-44e79500]{display:inline-block;vertical-align:top;margin-top:2px;height:30px;line-height:30px;font-size:12px;color:#111;padding:0 6px}.zjapp .display-flex[data-v-44e79500]{display:-moz-flex;display:flex;-moz-align-items:center;align-items:center;-webkit-box-align:center;-moz-box-align:center;-ms-flex-align:center;-moz-justify-content:center;justify-content:center}.zjapp .flex[data-v-44e79500]{-moz-flex:1;flex:1}",""])},"3f7d":function(t,e,a){var i=a("72e7");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("1b02a7c6",i,!0,{sourceMap:!1,shadowMode:!1})},"427a":function(t,e,a){"use strict";a("7f4c")},4862:function(t,e,a){"use strict";a("5f1a")},"487d":function(t,e,a){"use strict";a("49eb")},"49eb":function(t,e,a){var i=a("2851");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("0841024a",i,!0,{sourceMap:!1,shadowMode:!1})},"4aef":function(t,e,a){"use strict";var i=a("dd16").a,s=a("17cc"),r=Object(s.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("span",{class:this.classSet[this.status]},[this._v(this._s(this.text||this.status))])}),[],!1,null,null,null);e.a=r.exports},"4c17":function(t,e,a){var i=a("52e9");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("88b35062",i,!0,{sourceMap:!1,shadowMode:!1})},"52e9":function(t,e,a){var i=a("5454");(t.exports=a("690e")(!1)).push([t.i,'.zjapp .report-staff-scroll[data-v-5ad9780c],.zjapp .ui-process-v2-tabs .tab-cur[data-v-5ad9780c]{position:relative}.zjapp .ui-process-v2-tabs .tab-cur[data-v-5ad9780c]:after{content:"";width:20px;height:2px;display:block;position:absolute;bottom:0;background:linear-gradient(#5ea2ff,#4275e8);left:50%;transform:translateX(-50%);-ms-transform:translateX(-50%);-moz-transform:translateX(-50%);-webkit-transform:translateX(-50%);-o-transform:translateX(-50%)}.zjapp .item-checkbox-radius[data-v-5ad9780c]{display:inline-block;height:32px;min-width:60px;line-height:32px;margin-left:10px;border:1px solid #dcdcdc;border-radius:16px;text-align:center;color:#666;font-size:16px}.zjapp .item-checkbox-radius.checked[data-v-5ad9780c]{color:#4275e8;border-color:#4275e8}.zjapp .item-checkbox-radius[data-v-5ad9780c]:first-child{margin-left:0}.zjapp .report-staff-name[data-v-5ad9780c]{position:relative;z-index:4}.zjapp .report-staff-tips .th-layer[data-v-5ad9780c]{display:flex;align-items:center;justify-content:center}.zjapp .report-staff-tips th[data-v-5ad9780c]{position:relative;min-width:110px!important}.zjapp .report-staff-tips .icon[data-v-5ad9780c]{position:absolute;top:0;left:0;width:30px;height:65%;text-align:left}.zjapp .report-staff-tips i[data-v-5ad9780c]{width:16px;height:16px;display:inline-block;min-height:16px;background-image:url('+i(a("ca90"))+");background-size:contain;background-repeat:no-repeat;z-index:3}.zjapp .report-staff-occlusion[data-v-5ad9780c]{position:absolute;z-index:6;width:99px;height:100px;background:#fff;display:flex;align-items:center;justify-content:center;top:101px;left:0;border-color:#eee;border-width:0 0 1px 0;border-style:solid}.zjapp .report-staff-share-icon-pyq[data-v-5ad9780c]{background:url("+i(a("d86b"))+");background-size:20px 20px}.zjapp .report-staff-share-icon-pyq[data-v-5ad9780c],.zjapp .report-staff-share-icon-wechat[data-v-5ad9780c]{display:inline-block;vertical-align:top;margin-top:11px;width:20px;height:20px;margin-right:10px}.zjapp .report-staff-share-icon-wechat[data-v-5ad9780c]{background:url("+i(a("275e"))+");background-size:20px 20px}.zjapp .report-staff-left[data-v-5ad9780c]{position:absolute;z-index:1000}.zjapp .table-content[data-v-5ad9780c]{position:relative;display:flex;flex-direction:column;flex:1;overflow:hidden}.zjapp .table-content .td-icon[data-v-5ad9780c]{display:inline-block;margin-right:-13px;margin-left:2px;width:11px;height:12px;margin-top:-6px;background:url("+i(a("7de9"))+") no-repeat;background-size:11px 12px}.zjapp .scroll-y[data-v-5ad9780c]{flex:1;overflow-y:auto;position:relative}.zjapp .scroll-x[data-v-5ad9780c]{max-width:100%;overflow-x:auto;position:relative}.zjapp .fixed-head[data-v-5ad9780c]{position:absolute;left:0;z-index:2}.zjapp .fixed-slide[data-v-5ad9780c]{position:absolute;left:0;top:0;z-index:1}.zjapp .fixed-nook[data-v-5ad9780c]{position:absolute;left:0;top:0;z-index:3}.zjapp .fixed-nook-sticky[data-v-5ad9780c]{position:absolute;left:0;z-index:5}.zjapp .table[data-v-5ad9780c]{border-collapse:collapse;background-color:#fff}.zjapp .table td[data-v-5ad9780c],.zjapp .table th[data-v-5ad9780c]{min-width:80px;height:50px;max-height:50px;padding:5px 10px;line-height:16px;font-size:14px;text-align:center;box-sizing:border-box;overflow:hidden;color:#000}.zjapp .table th[data-v-5ad9780c]{font-weight:500}.zjapp .table td[data-v-5ad9780c]:first-child,.zjapp .table th[data-v-5ad9780c]:first-child{position:relative;width:120px;min-width:120px;text-align:center}.zjapp .share-wechat .van-action-sheet__name[data-v-5ad9780c]:before{background:url("+i(a("275e"))+');background-size:20px 20px}.zjapp .share-pyq .van-action-sheet__name[data-v-5ad9780c]:before,.zjapp .share-wechat .van-action-sheet__name[data-v-5ad9780c]:before{content:"";display:inline-block;vertical-align:top;margin-top:15px;width:20px;height:20px;margin-right:10px}.zjapp .share-pyq .van-action-sheet__name[data-v-5ad9780c]:before{background:url('+i(a("d86b"))+");background-size:20px 20px}",""])},"574c":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .item-textarea{background-color:#fff;padding:5px 15px}.zjapp .item-textarea-content{position:relative}.zjapp .item-textarea .rule,.zjapp .item-textarea textarea{width:100%;min-height:40px;line-height:20px;font-size:16px;padding:0;border:none}.zjapp .item-textarea .rule{position:absolute;top:0;left:0;visibility:hidden;word-break:break-all}.zjapp .item-textarea .counter{text-align:right;margin:0 0 -5px 0;height:15px;line-height:15px;color:#b2b2b2;font-size:12px}",""])},"5c5e":function(t,e,a){var i=a("3f56");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("2374b4cd",i,!0,{sourceMap:!1,shadowMode:!1})},"5d27":function(t,e,a){"use strict";a.r(e);var i=a("be76").a,s=(a("1308"),a("17cc")),r=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-content",{attrs:{title:"报表-材料验收"}},[a("scroller",{attrs:{"is-empty":t.isLoading||!t.reportModList||!t.reportModList.length||!!t.errorTips}},[a("item",{staticClass:"bg-sub-theme",attrs:{border:"bottom"}},[a("div",{staticClass:"item-label",staticStyle:{width:"80px"}},[t._v("进场时间")]),a("div",{staticClass:"item-con align-r"},[a("div",{staticClass:"report-date-item",on:{click:function(e){t.selectDate("start")}}},[t._v(t._s(t.dateRange.start))]),a("span",{staticClass:"report-date-split"},[t._v("至")]),a("div",{staticClass:"report-date-item",on:{click:function(e){t.selectDate("end")}}},[t._v(t._s(t.dateRange.end))])])]),t.isLoading?t._e():a("div",t._l(t.reportModList,(function(e,i){return a("div",{key:i,staticClass:"material-report-panel"},[a("div",{staticClass:"material-report-panel-title display-flex",class:{"border-none":!e.isOpen},on:{click:function(a){t.toggleMaterial(e)}}},[a("div",{staticClass:"flex"},[a("div",{staticClass:"icon-material-name"}),a("div",{staticClass:"text-material-name"},[t._v(t._s(e.material_name))]),a("div",{staticClass:"text-material-quantity"},[t._v("所选时段"+t._s(e.batch)+"批，累计"+t._s(e.total_batch)+"批")])]),a("i",{staticClass:"icon",class:{"icon-arrow-up":e.isOpen,"icon-arrow-down":!e.isOpen}})]),e.isOpen?a("div",{staticClass:"material-report-panel-list"},t._l(e.task,(function(e,i){return a("div",{key:i,staticClass:"panel-item",on:{click:function(a){t.showMaterialDetail(e)}}},[a("div",{staticClass:"panel-item-content"},[a("h2",[t._v(t._s(e.task_name))]),a("p",[t._v("进场时间："+t._s(e.time.slice(0,-9)))])]),a("div",{staticClass:"panel-item-status"},[a("status-text",{attrs:{status:e.status,text:e.status}})],1)])}))):t._e()])}))),a("loading-status",{attrs:{"is-loading":t.isLoading,"is-empty":!t.reportModList||!t.reportModList.length||!!t.errorTips,"empty-text":t.errorTips?t.errorTips:"没有报表数据",type:t.errorTips?"error":"report"}})],1)],1)}),[],!1,null,"44e79500",null);e.default=r.exports},"5e1b":function(t,e,a){"use strict";var i=a("329b"),s=(a("6d57"),a("e10e"),a("6bf2")),r=a.n(s);var n={name:"DatepickerDialog",components:{},mixins:[a("e89f").a],props:{},data:function(){return{show:!1,isLoading:!0,today:"",currentYear:"",currentMonth:"",currentDate:"",yearsList:[],monthsList:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],weeksList:["日","一","二","三","四","五","六"],showYearSelect:!1,showMonthSelect:!1,dayList:[]}},methods:{openPopup:function(t){this.value=!0,this.show=!0,this.from=t.from,this.to=t.to,this.inputDate=r()(t.inputDate).isValid()?r()(r()(t.inputDate).format("YYYY-MM-DD")):r()(r()().format("YYYY-MM-DD")),this.callback=t.callback,this.today=r()(r()().format("YYYY-MM-DD")).valueOf(),this.from?this.fromDate=r()(r()(this.from).format("YYYY-MM-DD")).valueOf():this.fromDate=0,this.to?this.toDate=r()(r()(this.to).format("YYYY-MM-DD")).valueOf():this.toDate=1/0,this.selctedDateEpoch=r()(r()(this.inputDate).format("YYYY-MM-DD")).valueOf(),this.refreshDateList(this.inputDate),this.$emit("open")},closePopup:function(){this.value=!1,this.show=!1,this.$emit("close")},closeSelectList:function(){this.showYearSelect=!1,this.showMonthSelect=!1},prevMonth:function(){this.currentDate=r()(this.currentDate).subtract(1,"month"),this.currentMonth=this.monthsList[this.currentDate.month()],this.currentYear=this.currentDate.year(),this.refreshDateList(this.currentDate)},nextMonth:function(){this.currentDate=r()(this.currentDate).add(1,"month"),this.currentMonth=this.monthsList[this.currentDate.month()],this.currentYear=this.currentDate.year(),this.refreshDateList(this.currentDate)},selectYear:function(){this.showYearSelect=!this.showYearSelect,this.showMonthSelect=!1},setYear:function(t){this.currentYear=t,this.yearChanged(t),this.showYearSelect=!1},selectMonth:function(){this.showYearSelect=!1,this.showMonthSelect=!this.showMonthSelect},setMonth:function(t){this.currentMonth=t,this.monthChanged(t),this.showMonthSelect=!1},dateSelected:function(t){t&&0!==Object.keys(t).length&&(this.selctedDateEpoch=t.epoch,this.callback(this.selctedDateEpoch),this.closePopup())},monthChanged:function(t){var e=this.monthsList.indexOf(t);this.currentDate.month(e),this.refreshDateList(this.currentDate)},yearChanged:function(t){this.currentDate.year(t),this.refreshDateList(this.currentDate)},refreshDateList:function(t){var e=[];this.isLoading=!0,t=r()(r()(t).format("YYYY-MM-DD")),this.currentDate=t,this.currentYear="",this.currentMonth="";var a,i,s=this.currentDate.daysInMonth();this.yearsList=function(t,e){var a=[],i=2015,s=2100;i=t?r()(t).year():i,s=e?r()(e).year():s;for(var n=i;n<=s;n++)a.push(n);return a}(),this.dayList=[];var n=r()(this.currentDate).startOf("month").day();this.firstDayEpoch=r()(this.currentDate).startOf("month").valueOf(),this.lastDayEpoch=r()(this.currentDate).endOf("month").startOf("day").valueOf();for(var c=1;c<=s;c++)i=(a=r()(this.currentDate).date(c)).valueOf()<this.fromDate||a.valueOf()>this.toDate,e.push({date:a.date(),month:a.month(),year:a.year(),day:a.day(),epoch:a.valueOf(),disabled:i}),this.dayList=e;for(var o=0;o<n;o++)this.dayList.unshift({});this.rows=[0,7,14,21,28,35],this.cols=[0,1,2,3,4,5,6],this.currentMonth=this.monthsList[t.month()],this.currentYear=this.currentDate.year(),this.numColumns=7,this.isLoading=!1}}},c=(a("80d8"),a("17cc")),o=Object(c.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"slide-right"}},[t.show?a("page-content",{attrs:{mode:"dialog",title:"选择日期","on-close":t.closePopup},on:{click:function(e){t.closeSelectList()}}},[t.isLoading?t._e():a("div",{staticClass:"datepicker-hd"},[a("div",{class:{"datepicker-prev":!0,disabled:t.firstDayEpoch-864e5<t.fromDate},on:{click:t.prevMonth}},[a("icon",{attrs:{name:"arrow-left"}})],1),a("div",{staticClass:"datepicker-hd-center"},[a("div",{staticClass:"datepicker-year",on:{click:function(e){return e.stopPropagation(),t.selectYear(e)}}},[t._v("\n          "+t._s(t.currentYear)+"\n\n          "),a("transition",{attrs:{name:"spread"}},[t.showYearSelect?a("div",{staticClass:"select-list",on:{click:function(t){t.stopPropagation()}}},t._l(t.yearsList,(function(e,i){return a("div",{key:i,class:{"select-item":!0,"item-selected":t.currentYear===e},on:{click:function(a){t.setYear(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])}))):t._e()])],1),a("div",{staticClass:"datepicker-month",on:{click:function(e){e.stopPropagation(),t.selectMonth()}}},[t._v("\n          "+t._s(t.currentMonth)+"\n          "),a("transition",{attrs:{name:"spread"}},[t.showMonthSelect?a("div",{staticClass:"select-list",on:{click:function(t){t.stopPropagation()}}},t._l(t.monthsList,(function(e,i){return a("div",{key:i,class:{"select-item":!0,"item-selected":t.currentMonth===e},on:{click:function(a){t.setMonth(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])}))):t._e()])],1)]),a("div",{class:{"datepicker-next":!0,disabled:t.lastDayEpoch+864e5>t.toDate},on:{click:t.nextMonth}},[a("icon",{attrs:{name:"arrow-right"}})],1)]),t.isLoading?t._e():a("div",{staticClass:"calendar"},[a("div",{staticClass:"weeks-row"},t._l(t.weeksList,(function(e,i){return a("div",{key:i,staticClass:"weeks-cell"},[t._v("\n          "+t._s(e)+"\n        ")])}))),t._l(t.rows,(function(e,i){return a("div",{key:i,staticClass:"date-row"},t._l(t.cols,(function(i,s){return a("div",{key:s,staticClass:"date-cell",class:{"date-cell-selected":t.dayList[e+i]&&t.dayList[e+i].epoch===t.selctedDateEpoch,today:t.dayList[e+i]&&t.dayList[e+i].epoch===t.today,disabled:t.dayList[e+i]&&t.dayList[e+i].disabled},on:{click:function(a){t.dateSelected(t.dayList[e+i])}}},[t._v("\n          "+t._s(t.dayList[e+i]&&t.dayList[e+i].date)+"\n        ")])})))}))],2)]):t._e()],1)}),[],!1,null,"0a266c44",null).exports,l=!1;l||(l=new(i.default.extend(o))({el:document.createElement("div")}),document.body.appendChild(l.$el));e.a=l},"5ed8":function(t,e,a){"use strict";a.r(e);var i=a("8ce3").a,s=(a("64ad"),a("17cc")),r=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-content",{attrs:{"show-go-root":"Report",title:t.taskData.task_name}},[a("div",{staticClass:"wrap"},[a("div",{staticClass:"tabs"},t._l(t.part.tabs,(function(e,i){return a("span",{key:i,class:{active:i===t.part.index},on:{click:function(e){t.changeTabName(i)}}},[t._v(t._s(e))])}))),t.isLoading||-1===t.initTabContent?t._e():a("van-swipe",{ref:"materialTabContent",staticClass:"swipe-content",style:{height:t.viewSize.contentHeight-40+"px"},attrs:{"show-indicators":!1,loop:!1,"initial-swipe":t.initTabContent},on:{change:t.changeTabContent}},[a("van-swipe-item",[a("material-detail-task",{attrs:{"task-data":t.taskData}})],1),a("van-swipe-item",[[t.approachData?a("material-detail-approach-view",{attrs:{"task-data":t.taskData,"approach-data":t.approachData}}):t._e()],t.approachData?t._e():a("loading-status",{attrs:{"is-empty":!t.approachData,"empty-text":"暂无进场记录",type:"report"}})],2),t.hasCheckTab?a("van-swipe-item",[[t.checkData||t.checkDataFirst?a("material-detail-check-view",{attrs:{"check-data":t.checkData,"check-data-first":t.checkDataFirst}}):t._e()],t.checkData?t._e():a("loading-status",{attrs:{"is-empty":!t.checkData,"empty-text":t.taskData.need_check?"暂无送检记录":"本批材料不需要送检",type:"report"}})],2):t._e(),t.hasReportTab?a("van-swipe-item",[t.reportData||t.reportDataFirst?a("material-detail-report-view",{attrs:{"report-data":t.reportData,"report-data-first":t.reportDataFirst}}):t._e(),t.reportData?t._e():a("loading-status",{attrs:{"is-empty":!t.reportData,"empty-text":t.taskData.need_check?"暂无报告记录":"本批材料不需要送检",type:"report"}})],1):t._e(),t.hasBackTab?a("van-swipe-item",[t.backData?a("material-detail-back-view",{attrs:{"back-data":t.backData,"task-data":t.taskData}}):t._e(),t.backData?t._e():a("loading-status",{attrs:{"is-empty":!t.backData,"empty-text":"暂无退场记录",type:"report"}})],1):t._e()],1)],1)])}),[],!1,null,"108d3726",null);e.default=r.exports},"5f1a":function(t,e,a){var i=a("d06f");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("0fb2f829",i,!0,{sourceMap:!1,shadowMode:!1})},"64ad":function(t,e,a){"use strict";a("096d")},"65e9":function(t,e,a){"use strict";(function(t){a("5ab2"),a("6d57"),a("e10e");var i=a("28f8"),s=a("4360"),r=a("48f4"),n=a("162a"),c=a("f2d3"),o=a("6906"),l=a("a18c"),d=a("c745");function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}e.a={name:"SynchronizeTipBar",props:{isTodo:{type:Boolean},useDownload:{type:Boolean,default:!0},enterDoCheck:{type:Boolean,default:!0},buildingId:{type:String,default:""},automaticUpdateCallback:{type:Function,default:null}},data:function(){return{currentModuleCode:"",oneUpdateData:!0}},computed:{projId:function(){return s.a.state.global.currentProject.id},waitUploadNum:function(){return s.a.state.global.waitUploadNum},hasTopProgress:function(){return s.a.state.global.hasTopProgress},hasChanged:function(){if(!this.useDownload)return!1;if(this.currentModuleCode){var t,e=r.default.isModuleNeedBuilding(this.currentModuleCode)&&!this.isTodo;return!(e&&!this.buildingId)&&(t=this.isTodo?s.a.state.global.todoChangedStatus||{}:s.a.state.global.businessChangedStatus||{},e?!!t[this.currentModuleCode]&&t[this.currentModuleCode][this.buildingId]:t[this.currentModuleCode])}return!1},show:function(){return(this.hasChanged||this.waitUploadNum)&&!this.hasTopProgress},oneDataSync:function(){return this.$store.state.app.oneDataSync}},watch:{hasChanged:function(t){var e=this;t&&this.$nextTick((function(){setTimeout((function(){var t=e.$refs["synchronize-tip-bar"];if(t&&t.style){t.style.display="none";t.offsetHeight;t.style.display="block"}}),100)}))},buildingId:function(t){this.currentModuleCode&&r.default.isModuleNeedBuilding(this.currentModuleCode)&&t&&(console.log("楼栋重新加载，是否再次自动加载数据：",this.oneUpdateData),this.oneUpdateData&&this.automaticLogic(),this.checkSync())},show:function(t){t?this.$emit("show"):this.$emit("hide")}},activated:function(){this.init()},methods:{init:function(){this.getCurrentModuleCode(),this.enterDoCheck&&!l.a.isBack&&this.checkSync(),this.automaticLogic()},automaticLogic:function(){var t=this;this.$router.isBack||(this.oneUpdateData=!0,d.a.getAutomaticLoadData().then((function(e){$log.log("是否要自动加载 ===> ",e&&t.oneDataSync&&"function"==typeof t.automaticUpdateCallback),e&&t.oneDataSync&&"function"==typeof t.automaticUpdateCallback&&t.dataSync().then((function(e){console.log("是否需要初始化页面 ====> ",Boolean(e)),e&&t.automaticUpdateCallback()}))})))},getCurrentModuleCode:function(){var t=r.default.getCurrentModuleCode(),e=this.isTodo?"todo":"";this.currentModuleCode=t||e},checkSync:function(){var e=this,a="checkDataUpdate",i=this.currentModuleCode,n=this.buildingId,l=s.a.state.global.isLeader?this.projId:"";return!r.default.isModuleNeedBuilding(i)||n||this.isTodo?(this.isTodo&&(a+="_todo"),i&&(a+="_".concat(i)),n&&(a+="_".concat(n)),o.a.execAfterInterval(120,a).then((function(){return e.isTodo?"todo"===i?c.a.getModuleList().then((function(e){var a=t.map(e,"code");return r.default.hasTodoChangedData("",a)})):r.default.hasTodoChangedData("",[i]):r.default.hasBusinessChangedData(l,[i],n)})).then((function(t){if(e.isTodo){var a=u({},s.a.state.global.todoChangedStatus);a[i]=t,s.a.commit("global/SET_TODO_CHANGED_STATUS",a)}else{var r=u({},s.a.state.global.businessChangedStatus);if(n){var c=r[i]?r[i]:{};c[n]=t,r[i]=c}else r[i]=t;s.a.commit("global/SET_BUSINESS_CHANGED_STATUS",r)}})).catch((function(t){return t&&!0===t.timeNotTo?($log.debug(t.msg),!1):$q.reject(t)}))):Promise.resolve()},dataSync:function(){var t=this.currentModuleCode,e=this.buildingId,a=r.default.isModuleNeedBuilding(t),i=a&&!e;return $log.log(["模块名：",t," 楼栋id：",e," 当前模块是否需要楼栋id：",a," 判断是否终止自动更新：",i]),i?Promise.resolve():(this.oneUpdateData=!1,n.a.beginManualUpdate(),r.default.checkSync(e).then((function(t){return n.a.endManualUpdate(),t})).catch((function(t){$log.error("自动更新错误",t),n.a.endManualUpdate()})))}}}}).call(this,a("391c"))},"6f8b":function(t,e,a){"use strict";var i=a("e68e"),s=a("cd05"),r={name:"MaterialDetailBackView",components:{Item:a("07d2").default,ItemImgList:i.a,UserSelect:s.a},props:{backData:{type:Object,default:function(){return null}},taskData:{type:Object,default:function(){return null}}}},n=(a("427a"),a("17cc")),c=Object(n.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("item",{attrs:{label:"退场时间",text:t._f("formatDate")(t.backData.date,"YYYY-MM-DD")}}),a("item",{attrs:{label:"相关照片"}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[a("item-img-list",{attrs:{"online-mode":!0,editabled:!1},model:{value:t.backData.img,callback:function(e){t.$set(t.backData,"img",e)},expression:"backData.img"}})],1)]),t.backData.remark?a("item",{attrs:{label:"补充说明",text:t.backData.remark}}):t._e(),a("user-select",{attrs:{title:"监理",mode:"view",date:t._f("formatDate")(t.backData.checker_date,"YYYY-MM-DD hh:mm"),editabled:!1},model:{value:t.backData.checker,callback:function(e){t.$set(t.backData,"checker",e)},expression:"backData.checker"}}),a("user-select",{attrs:{title:"抄送人",mode:"view",multi:!0,editabled:!1},model:{value:t.taskData.cc,callback:function(e){t.$set(t.taskData,"cc",e)},expression:"taskData.cc"}})],1)}),[],!1,null,"41661c98",null);e.a=c.exports},7173:function(t,e,a){"use strict";a("4c17")},7251:function(t,e,a){"use strict";var i=a("07d2"),s=a("e68e"),r=a("cd05"),n=a("3c64"),c={name:"ReportMaterialDetailApproachView",components:{Item:i.default,ItemImgList:s.a,UserSelect:r.a,ItemTextarea:n.a},props:{approachData:{type:Object,default:function(){return{}}},taskData:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{},mounted:function(){},methods:{}},o=(a("4862"),a("17cc")),l=Object(o.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"brand-info"},t._l(t.approachData.brands,(function(e,i){return a("div",{key:"brand"+i},[a("div",{staticClass:"brand-name"},[t._v(t._s(e.brand))]),t._l(e.type_list,(function(e,i){return a("div",{key:"standard"+i},[a("div",{staticClass:"brand-type"},[a("div",{staticClass:"flex one-line"},[t._v(t._s(e.type))]),e.spec_list&&e.spec_list.length?t._e():a("div",[t._v("\n            "+t._s(Number(e.quantity))+t._s(e.quantity_unit)+"\n          ")])]),e.spec_list&&e.spec_list.length?a("div",t._l(e.spec_list,(function(e,i){return a("div",{key:"specification"+i},[a("div",{staticClass:"brand-spec"},[a("div",[t._v(t._s(e.spec))]),a("div",[t._v(t._s(Number(e.quantity))+t._s(e.quantity_unit))])])])}))):t._e()])}))],2)}))),a("div",{staticClass:"approach-info mt10"},[a("item",{attrs:{label:"进场时间",text:t._f("formatDate")(t.approachData.date,"YYYY-MM-DD")}}),0==t.approachData.receiverImg.length?a("item",{attrs:{label:"进场照片"}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[a("item-img-list",{attrs:{"online-mode":!0,editabled:!1},model:{value:t.approachData.img,callback:function(e){t.$set(t.approachData,"img",e)},expression:"approachData.img"}})],1)]):t._e(),t.approachData.receiverImg.length>0?t._l(t.approachData.receiverImg,(function(e,i){return a("item",{key:"receiverImg"+i,attrs:{label:e.title}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[a("item-img-list",{attrs:{"online-mode":!0,editabled:!1},model:{value:e.image_file,callback:function(a){t.$set(e,"image_file",a)},expression:"item.image_file"}})],1)])})):t._e(),t.approachData.remark?a("item",{attrs:{label:"补充说明",text:t.approachData.remark}}):t._e(),a("item",{attrs:{label:"接收单位",text:t.approachData.contractor_name}}),a("user-select",{attrs:{title:"接收人",mode:"view",date:t._f("formatDate")(t.approachData.receiver_date),editabled:!1},model:{value:t.approachData.receiver,callback:function(e){t.$set(t.approachData,"receiver",e)},expression:"approachData.receiver"}})],2),a("div",{staticClass:"approach-info"},[t.approachData.result?a("item",{attrs:{label:"初验结果",text:t.approachData.result}}):t._e(),t.approachData.checker.id?a("user-select",{attrs:{title:"监理",mode:"view",editabled:!1,date:t._f("formatDate")(t.approachData.checker_date),note:t.approachData.checker_result},model:{value:t.approachData.checker,callback:function(e){t.$set(t.approachData,"checker",e)},expression:"approachData.checker"}}):t._e(),t.approachData.checker_result?[0==t.approachData.checkerImg.length?a("item",{attrs:{label:"验收照片"}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[a("item-img-list",{attrs:{"online-mode":!0,editabled:!1},model:{value:t.approachData.checker_img,callback:function(e){t.$set(t.approachData,"checker_img",e)},expression:"approachData.checker_img"}})],1)]):t._e(),t.approachData.checkerImg.length>0?t._l(t.approachData.checkerImg,(function(e,i){return a("item",{key:"checkerImg"+i,attrs:{label:e.title}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[a("item-img-list",{attrs:{"online-mode":!0,editabled:!1},model:{value:e.image_file,callback:function(a){t.$set(e,"image_file",a)},expression:"item.image_file"}})],1)])})):t._e()]:t._e(),t.approachData.checker_remark?a("item",{attrs:{label:"补充说明",text:t.approachData.checker_remark}}):t._e(),!0!==t.taskData.need_check&&!1!==t.taskData.need_check||"待申请进场"===t.taskData.status||"待初验"===t.taskData.status?t._e():a("div",[a("item",{attrs:{label:"是否送检",text:t.taskData.need_check?"是":"否"}}),!0===t.taskData.need_check?a("user-select",{attrs:{title:"送检人",mode:"view",editabled:!1},model:{value:t.approachData.inspector,callback:function(e){t.$set(t.approachData,"inspector",e)},expression:"approachData.inspector"}}):t._e()],1),t._l(t.approachData.constructer,(function(e,i){return a("div",{key:"conCheckList"+i},[a("user-select",{attrs:{title:"建设单位验收人",mode:"view",note:e.result||"尚未验收",date:t._f("formatDate")(e.result&&e.operate_date),editabled:!1},model:{value:e.checker,callback:function(a){t.$set(e,"checker",a)},expression:"checkRecord.checker"}}),e.result?[e.result?a("item",{attrs:{label:"验收照片"}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[e.remark?a("p",{staticClass:"pic-title"},[t._v(t._s(e.remark))]):t._e(),a("item-img-list",{attrs:{"online-mode":!0,editabled:!1},model:{value:e.image_file,callback:function(a){t.$set(e,"image_file",a)},expression:"checkRecord.image_file"}})],1)]):t._e()]:t._e()],2)})),a("user-select",{attrs:{title:"抄送人",mode:"view",editabled:!1},model:{value:t.taskData.cc,callback:function(e){t.$set(t.taskData,"cc",e)},expression:"taskData.cc"}})],2)])}),[],!1,null,"3b37d777",null);e.a=l.exports},"72e7":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .wrap[data-v-59dde30c]{height:100%;overflow:auto;padding-bottom:100px}.zjapp .brand-info[data-v-59dde30c]{background-color:#fff;padding:15px 15px 0 15px;font-size:16px;background-image:linear-gradient(0deg,#dcdcdc,#dcdcdc 33.3333%,transparent 0)}.zjapp .brand-info[data-v-59dde30c],.zjapp .brand-name[data-v-59dde30c]{border:none;background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}.zjapp .brand-name[data-v-59dde30c]{color:#4275e8;padding-bottom:10px;background-image:linear-gradient(0deg,#dcdcdc,#dcdcdc 50%,transparent 0)}.zjapp .brand-type[data-v-59dde30c]{color:#333;padding:10px 0 10px 10px}.zjapp .brand-spec[data-v-59dde30c],.zjapp .brand-type[data-v-59dde30c]{display:flex;justify-content:space-between}.zjapp .brand-spec[data-v-59dde30c]{padding:10px 0 10px 30px}.zjapp .frist-report[data-v-59dde30c]{margin-bottom:10px;background-color:#ebf1ff;border:none;background-image:linear-gradient(0deg,#ddd,#ddd 33.3333%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}.zjapp .van-popup--right[data-v-59dde30c]{width:100%;height:100%}",""])},7762:function(t,e,a){"use strict";a.r(e);var i=a("8de5").a,s=(a("8007"),a("17cc")),r=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-content",{attrs:{title:t.title}},[a("div",{staticClass:"item-base bg-sub-theme"},[a("div",{staticClass:"item-label",staticStyle:{width:"80px"}},[t._v("创建时间")]),a("div",{staticClass:"item-con align-r"},[a("div",{staticClass:"report-date-item-circle",on:{click:function(e){t.selectDate("start")}}},[t._v("\n        "+t._s(t.dateRange.start)+"\n      ")]),a("span",{staticClass:"report-date-split-circle"},[t._v("至")]),a("div",{staticClass:"report-date-item-circle",on:{click:function(e){t.selectDate("end")}}},[t._v(t._s(t.dateRange.end))])])]),!t.isLoading&&t.list.length?a("div",{staticClass:"tree-hd display-flex border-bottom"},[a("div",{staticClass:"tree-hd-item color-theme",on:{click:function(e){t.toggleTree()}}},[t._v("\n      "+t._s(t.hasOpen?"全收起":"全展开")+"\n    ")]),a("div",{staticClass:"tree-hd-item flex align-r color-gray2"},[t._v("成绩")])]):t._e(),t.isLoading||!t.list.length||t.errorTips?t._e():a("scroller",[a("ul",{staticClass:"table-tree-r mt0"},t._l(t.list,(function(e,i){return a("li",{key:i,class:{open:e.isOpen}},[a("div",{staticStyle:{width:"100%"},on:{click:function(a){t.toggleFold(e)}}},[t._v(t._s(e.proj_name))]),a("ul",t._l(e.template,(function(e,i){return a("li",{key:i,staticClass:"display-flex",on:{click:function(a){t.toJumpToDetails(e)}}},[a("div",{staticClass:"flex",staticStyle:{width:"auto"}},[a("p",{staticClass:"f14 color-black"},[t._v(t._s(e.name))]),a("p",{staticClass:"f12 color-gray3"},[t._v("\n                "+t._s(t._f("formatDate")(e.created_on,"YYYY-MM-DD"))+"创建\n              ")])]),a("div",{staticClass:"pl20 pr15 ws-nowrap",class:{"color-theme":e.status,"color-gray3":!e.status},staticStyle:{width:"auto"}},[t._v("\n              "+t._s(e.status?e.score:"未检查完毕")+"\n            ")])])})))])})))]),a("loading-status",{attrs:{"is-loading":t.isLoading,"is-empty":!t.list.length||!!t.errorTips,"empty-text":t.errorTips?t.errorTips:"没有数据",type:t.errorTips?"error":"report"}})],1)}),[],!1,null,"289d47fb",null);e.default=r.exports},"7de9":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAwCAMAAABdTmjTAAABI1BMVEX////xuB//yRD/yxj/yhT5xDX/zSL/zyr/xwj/yAz/zR//0C3yuiL/ziT/yxr/zif/xgT/0TT/zB30vSj1vyvzuyX2wC7/yyD/1k3/0zv/1D//0jn/0TH/zET3wjH/xgP9ykH4wzP/yRP/1UP/0Tf/0DD7yDv6xjn3wS//11D/1Ub/00H/2Fb/1kv/1kn8yT7/1FD+zkj/+Of/2Vn4yUf+zzj/0jX8yzH//Pb+78n+45j2z2b91GT/2FP/z03+00X4xj3zvS3/+u/+9d3+7L7/6bH613n/1VT+0k76yEH9z0D8zD77yzr5xjD+9uH+8tP66Lb+5aL74p/835H42oj824X9237/2nX51XP80l7/2F39z1X4zFXywDX65Kf/2GP5zllnwRcuAAAC2UlEQVRIx43Ud3OiQAAFcBRkNUs5BAvNQwTsNdaYWHLpvffc3ff/FLeww41Korz/3rzf7Kw7g8R3GT1PJs8jIlQOdS+HYWynrbfK5Zbe7oTAO/pJudHYO9F3QuBd/ThbqWRr+m4IPNH3GoVCdltvh8CG4eL6tmGEwuVKFZ1shDh53zDqBcU9+X0zvjb0hqIUsjUjxA+8bbYLCJePm0+b8Wtzqshypdxqbn7ng6ZRlWWlUZs0DzbZ4btzJqsqwk5zfxN+cs5lq68q9ZbzusnuOI6s9l3cdm432PtisWdptmYp06LTWUt/7SIraLatCfJ58XH9OzhFp6fZEEJb6BVP1x/cjZ3LAvRiD2LB7+Tq6DTmxS2xWEW1gRc4iC1m9nE/JK4QXcQFAfJuEB9cxpbySLzkL1TbVgv5vIvz+aoAeD/gf6AmT/NdYpav9gHQFB8rGmCD4aFVQSKXU2yet5VcDlnc6GBYaE1zMzTLkGWh7GHctoJhQf8s95colWRI01AulZDFLWgzNLDOSkdEOq0CmgZqOo0sbslgELhI36HZAltbwPIwblwgyQyUY+kRmgU+meQFD+NGBsK590zvE5IksBzHCpKELG5fY6nrzhrNcbTmYdyoQEgaXkgveCbJRUx+hbWidEcQoggzFJWBoogsbtHVmAjnxJE3JykqiTFu0UBIVhClIZ5NcxGbidWYJN8Tu94MuGiUAwj7LYCjJD8Qj9CcSvFkFLVUivBbfCUJdNZl6jeeqUSCwhi3+GoQllLX3sya8bhJ+5g24z9WgjBMzd2ZYVgqgTDD4Ibwz6UgbGYGzAeeAYmuwfqYpVZORncm+UvmAc8CS5JbwMdg9Z1Nk+OFEnODZ/cThaqPVUBnlkKzwKqkmI47z5lWRVGrdR/Xq5awFEutZk+YT8LNODJ7q9W2/0QibotE3mrl7GJa5b3jrhh5wP+E8wgOxt9kPCSwHs/XY+ZzfIPpPx/Vbp6OxL+2AAAAAElFTkSuQmCC"},"7eb2":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .synchronize-tip-bar[data-v-66826030]{height:30px;padding:5px 15px;line-height:20px;text-align:center;background-color:#ffe6e6;color:#ff6060;font-size:14px}.zjapp .synchronize-tip-bar .icon-caution[data-v-66826030]{line-height:20px;margin-right:5px}@media screen and (-webkit-min-device-pixel-ratio:1){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 100%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:1.5){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 66.6667%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:2){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 50%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:2.625){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 38.0952%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:3){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 33.3333%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:4){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 25%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}",""])},"7f4c":function(t,e,a){var i=a("80de");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("d2ac34fe",i,!0,{sourceMap:!1,shadowMode:!1})},8007:function(t,e,a){"use strict";a("0d3e")},"80d8":function(t,e,a){"use strict";a("e60b")},"80de":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .wrap[data-v-41661c98]{height:100%;overflow:auto;padding-bottom:100px}",""])},"8ce3":function(t,e,a){"use strict";(function(t){a("ed63"),a("8cf2"),a("cc57");var i=a("07d2"),s=a("162a"),r=a("1b7e"),n=a("cd05"),c=a("1588"),o=a("7251"),l=a("2cfc"),d=a("9fa9"),p=a("6f8b");e.a={name:"ReportPorjectMaterialDetail",components:{Item:i.default,UserSelect:n.a,MaterialDetailTask:c.a,MaterialDetailApproachView:o.a,MaterialDetailCheckView:l.a,MaterialDetailReportView:d.a,MaterialDetailBackView:p.a},data:function(){return{isLoading:!0,hasNetwork:!0,part:{tabs:["任务","进场"],num:2,index:1},task_id:"",hasCheckTab:!1,hasReportTab:!1,hasBackTab:!1,taskData:{},approachData:null,checkData:null,checkDataFirst:null,reportData:null,reportDataFirst:null,backData:null,initTabContent:1,viewSize:$rootScope.viewSize}},computed:{selectedMaterialType:function(){var t=[];return this.taskData.materialType&&this.taskData.materialType.map((function(e){t.push(e.name)})),t.join("、")}},activated:function(){this.part={tabs:["任务","进场"],num:2,index:1},this.init()},methods:{init:function(){var t=this.$route.params.id;this.task_id=t,this.getTaskDetail()},getTaskDetail:function(){var e=this,a=this.task_id;s.a.request("/report/task-detail",{task_id:a}).then((function(i){var s=!(!i.tab3||!i.tab3.occurrence_date);"待退场"===i.tab1.status||"已退场"===i.tab1.status?e.part.tabs=s?["任务","进场","送检","报告","退场"]:["任务","进场","退场"]:i.tab1.need_check?e.part.tabs=["任务","进场","送检","报告"]:e.part.tabs=["任务","进场"],e.part.num=e.part.tabs.length,e.hasCheckTab=t.includes(e.part.tabs,"送检"),e.hasReportTab=t.includes(e.part.tabs,"报告"),e.hasBackTab=t.includes(e.part.tabs,"退场"),e.taskData={task_id:a,task_name:i.tab1.task_name,status:i.tab1.status,bidsection_name:i.tab1.bidsection_name,meterial_name:i.tab1.meterial,materialType:i.tab2.brand_list&&i.tab2.brand_list.length?t.map(i.tab2.brand_list[0].type_list,(function(t,e){return{id:e,name:t.type}})):[],place:i.tab1.used_part,supplier:i.tab1.supplier,contractor_name:i.tab1.recipient_unit_name,receiver:i.user[i.tab1.recipient],checker:i.user[i.tab1.supervisor],constructer:t.isEmpty(i.tab1.constructer)||t.isEmpty(i.tab1.constructer[0])?[]:t.map(i.tab1.constructer,(function(t){return i.user[t]})),cc:t.map(i.cc,(function(t){return i.user[t]})),creater:i.user[i.tab1.created_by],created_on:i.tab1.created_on,need_check:"1"===i.tab1.need_check||"0"!==i.tab1.need_check&&"",need_constructer:!!i.tab1.constructer,remark:i.tab1.remark},console.log("this.taskData ====",e.taskData,e.taskData.constructer,JSON.stringify(e.taskData.constructer));var r="";switch(i.tab1.status){case"待申请进场":case"待验收":r="";break;case"待退场":case"已退场":r="不合格";break;default:r="合格"}if(i.tab2&&(e.hasFile(i.tab2.image_file)||e.hasFile(i.tab2.photoRequirement))){var n=[],c=[];e.hasFile(i.tab2.photoRequirement)&&(e.hasFile(i.tab2.photoRequirement.recipient)&&(i.tab2.photoRequirement.recipient.length>0?(n=i.tab2.photoRequirement.recipient,t.each(n,(function(e,a){e.image_file=t.isArray(e.image_file)?e.image_file:JSON.parse(e.image_file||"[]")}))):n=t.isArray(i.tab2.image_file)?i.tab2.image_file:JSON.parse(i.tab2.image_file||"[]")),e.hasFile(i.tab2.photoRequirement.supervisor)&&(i.tab2.photoRequirement.supervisor.length>0?(c=i.tab2.photoRequirement.supervisor,t.each(c,(function(e,a){e.image_file=t.isArray(e.image_file)?e.image_file:JSON.parse(e.image_file||"[]")}))):c=t.isArray(i.tab2.super_image_file)?i.tab2.super_image_file:JSON.parse(i.tab2.super_image_file||"[]"))),e.approachData={status:i.tab2.status,brands:i.tab2.brand_list,date:i.tab2.occurrence_date,img:t.isArray(i.tab2.image_file)?i.tab2.image_file:JSON.parse(i.tab2.image_file||"[]"),remark:i.tab2.remark,contractor_name:i.tab2.recipient_unit,receiver:i.user[i.tab2.recipient],receiver_date:i.tab2.created_on,result:r,inspector:i.tab2.checker,checker:i.user[i.tab2.super_operator],checker_date:i.tab2.super_result&&i.tab2.super_operate_date,checker_img:t.isArray(i.tab2.super_image_file)?i.tab2.super_image_file:JSON.parse(i.tab2.super_image_file||"[]"),checker_remark:i.tab2.super_remark,checker_result:i.tab2.super_result,receiverImg:n,checkerImg:c,constructer:t.isEmpty(i.tab2.constructer)?t.map(e.taskData.constructer,(function(t){return{checker:t}})):t.map(i.tab2.constructer,(function(t){return t.image_file=JSON.parse(t.image_file),t.checker=i.user[t.operator],t}))}}else e.approachData=null;i.tab3&&i.tab3.occurrence_date?t.has(i.tab3,"second_occurrence_date")?(e.checkData={brands:i.tab2.brand_list,img:t.isArray(i.tab3.second_super_image_file)?i.tab3.second_super_image_file:JSON.parse(i.tab3.second_super_image_file||"[]"),date:i.tab3.second_occurrence_date,checker:i.user[i.tab3.second_super_operator],checker_date:i.tab3.second_super_operate_date},e.checkDataFirst={brands:i.tab2.brand_list,img:t.isArray(i.tab3.super_image_file)?i.tab3.super_image_file:JSON.parse(i.tab3.super_image_file||"[]"),date:i.tab3.occurrence_date,checker:i.user[i.tab3.super_operator],checker_date:i.tab3.super_operate_date}):(e.checkData={brands:i.tab2.brand_list,img:t.isArray(i.tab3.super_image_file)?i.tab3.super_image_file:JSON.parse(i.tab3.super_image_file||"[]"),date:i.tab3.occurrence_date,checker:i.user[i.tab3.super_operator],checker_date:i.tab3.super_operate_date},e.checkDataFirst=null):(e.checkDataFirst=null,e.checkData=null),i.tab4&&i.tab4.super_operate_date?t.has(i.tab4,"second_super_operate_date")?(e.reportData={img:t.isArray(i.tab4.second_super_image_file)?i.tab4.second_super_image_file:JSON.parse(i.tab4.second_super_image_file||"[]"),result:i.tab4.second_super_remark,checker:i.user[i.tab4.second_super_operator],checker_date:i.tab4.second_super_operate_date},e.reportDataFirst={img:t.isArray(i.tab4.super_image_file)?i.tab4.super_image_file:JSON.parse(i.tab4.super_image_file||"[]"),result:i.tab4.super_remark,checker:i.user[i.tab4.super_operator],checker_date:i.tab4.super_operate_date}):(e.reportData={img:t.isArray(i.tab4.super_image_file)?i.tab4.super_image_file:JSON.parse(i.tab4.super_image_file||"[]"),result:i.tab4.super_remark,checker:i.user[i.tab4.super_operator],checker_date:i.tab4.super_operate_date},e.reportDataFirst=null):(e.reportData=null,e.reportDataFirst=null),i.tab5&&i.tab5.occurrence_date?e.backData={date:i.tab5.occurrence_date,img:t.isArray(i.tab5.super_image_file)?i.tab5.super_image_file:JSON.parse(i.tab5.super_image_file||"[]"),remark:i.tab5.super_remark,checker:i.user[i.tab5.super_operator],checker_date:i.tab5.super_operate_date}:e.backData=null})).finally((function(){e.isLoading=!1})).catch((function(){r.a.getHasNetwork().then((function(t){e.hasNetwork=t}))}))},changeTab:function(t){this.part.index=t},changeTabName:function(t){this.$refs.materialTabContent.swipeTo(t)},changeTabContent:function(t){this.changeTab(t)},hasFile:function(t){return""!==t&&null!=t&&"[]"!==t}}}}).call(this,a("391c"))},"8de5":function(t,e,a){"use strict";(function(t){a("163d"),a("ed63"),a("9e76");var i=a("3e83"),s=a("07d2"),r=a("6bf2"),n=a.n(r),c=a("5e1b"),o=a("162a"),l=a("774b"),d=a("e2a7"),p=a("0c09"),u=a("9416"),h=a("8d95");e.a={name:"ReportSpecialInspectLeader",components:{Item:s.default,Scroller:l.default},filters:{},data:function(){return{title:"报表-"+(Object(u.a)(h.a.SPECIAL_INSPECT)||"专项巡检"),dateRange:{start:"",end:""},list:[],isLoading:!0,errorTips:"",hasOpen:!0}},watch:{},activated:function(){this.init()},mounted:function(){window.processNewTest=this},methods:{init:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth();this.dateRange.start=n()(new Date(e,a-1,1)).format("YYYY-MM-DD"),this.dateRange.end=n()(t).format("YYYY-MM-DD"),this.getReportData()},newDate:function(t){if(!t)return new Date;if("object"===Object(i.a)(t))return t instanceof Date?t:new Date;var e=t.match(/\d+/g);if(e.length<3)return"";for(var a=0;a<e.length;a++)e[a]=parseInt(e[a]);return new Date(e[0],e[1]-1,e[2],e[3]||0,e[4]||0,e[5]||0)},selectDate:function(t){var e,a=this,i={from:"",to:""};"end"===t?(e=this.newDate(this.dateRange.end),i.from=this.newDate(this.dateRange.start)||"",i.to=""):(e=this.newDate(this.dateRange.start),i.from="",i.to=this.newDate(this.dateRange.end)||""),c.a.openPopup({from:n()(i.from).toDate(),to:n()(i.to).toDate(),inputDate:n()(e).toDate(),callback:function(i){"end"===t?(a.dateRange.end=n()(i).format("YYYY-MM-DD"),e.end=a.dateRange.end):(a.dateRange.start=n()(i).format("YYYY-MM-DD"),e.start=a.dateRange.start),a.getReportData()}})},toggleTree:function(){var e=this;t.each(this.list,(function(t){t.isOpen=!e.hasOpen})),this.hasOpen=!this.hasOpen},toggleFold:function(e){e.isOpen=!e.isOpen,this.hasOpen=t.some(this.list,(function(t){return t.isOpen}))},toJumpToDetails:function(t){$log.log("集团报表-专项巡检-跳转H5 => ",["类型：".concat(t.mode)," 检查状态：".concat(t.status)]);var e=[2,11];e.includes(Number(t.mode))&&t.status?this.$router.push({name:"ReportCommonIframe",query:{path:"report/special-inspect/detail",title:(Object(u.a)(h.a.SPECIAL_INSPECT)||"专项巡检")+"详情",site_type:p.b,parameter:{batch_id:t.batch_id}}}):!e.includes(Number(t.mode))&&t.status&&d.a.alert("此类模板暂不支持穿透")},getReportData:function(){var e=this;return this.isLoading=!0,this.errorTips="",o.a.request("/report/leader-special-inspect",{begin_date:this.dateRange.start,end_date:this.dateRange.end}).then((function(a){e.hasOpen&&t.each(a,(function(t){t.isOpen=!0})),e.list=a||[],e.isLoading=!1})).catch((function(a){e.list=[],e.errorTips=t.isString(a)?a:"获取数据失败",e.isLoading=!1}))}}}}).call(this,a("391c"))},"9c3d":function(t,e,a){"use strict";a("1529")},"9fa9":function(t,e,a){"use strict";var i=a("07d2"),s=a("e68e"),r=a("cd05"),n=a("f7ab"),c=a("774b"),o={name:"MaterialDetailReportView",components:{Item:i.default,ItemImgList:s.a,UserSelect:r.a,Scroller:c.default,SynchronizeTipBar:n.a},props:{reportData:{type:Object,default:function(){return null}},reportDataFirst:{type:Object,default:function(){return null}}},data:function(){return{show:!1}},methods:{firstReportDetail:function(){this.show=!0},closeEvent:function(){this.show=!1}}},l=(a("9c3d"),a("17cc")),d=Object(l.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("scroller",[t.reportDataFirst&&t.reportData?a("item",{staticClass:"frist-report",on:{click:t.firstReportDetail}},[a("div",{staticClass:"item-text"},[t._v("首次送检报告")]),a("div",{staticClass:"item-font color-light"},[t._v("查看")]),a("icon",{attrs:{name:"arrow-right"}})],1):t._e(),t.reportData?a("item",{attrs:{label:"送检报告",border:"top"}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[a("item-img-list",{attrs:{"online-mode":!0,editabled:!1},model:{value:t.reportData.img,callback:function(e){t.$set(t.reportData,"img",e)},expression:"reportData.img"}})],1)]):t._e(),t.reportData?a("item",{attrs:{label:"报告结果",text:t.reportData.result}}):t._e(),t.reportData?a("user-select",{attrs:{title:"送检人",mode:"view",editabled:!1,date:t._f("formatDate")(t.reportData.checker_date)},model:{value:t.reportData.checker,callback:function(e){t.$set(t.reportData,"checker",e)},expression:"reportData.checker"}}):t._e()],1),a("van-popup",{attrs:{position:"right","get-container":"body"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("page-content",{attrs:{title:"首次送检报告",mode:"dialog","on-close":t.closeEvent}},[a("item",{attrs:{label:"送检报告",border:"top"}},[t.reportDataFirst?a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[a("item-img-list",{attrs:{"online-mode":!0,editabled:!1},model:{value:t.reportDataFirst.img,callback:function(e){t.$set(t.reportDataFirst,"img",e)},expression:"reportDataFirst.img"}})],1):t._e()]),t.reportDataFirst?a("item",{attrs:{label:"报告结果",text:t.reportDataFirst.result}}):t._e(),t.reportDataFirst?a("user-select",{attrs:{title:"送检人",mode:"view",editabled:!1,date:t._f("formatDate")(t.reportDataFirst.checker_date)},model:{value:t.reportDataFirst.checker,callback:function(e){t.$set(t.reportDataFirst,"checker",e)},expression:"reportDataFirst.checker"}}):t._e()],1)],1)],1)}),[],!1,null,"06e0fa38",null);e.a=d.exports},be76:function(t,e,a){"use strict";(function(t){a("9e76");var i=a("3e83"),s=a("07d2"),r=a("774b"),n=a("6bf2"),c=a.n(n),o=a("5e1b"),l=a("162a"),d=a("4aef"),p=a("6144");e.a={name:"ReportPorjectMaterialIndex",components:{Item:s.default,Scroller:r.default,StatusText:d.a},data:function(){return{dateRange:{start:"",end:""},isLoading:!0,errorTips:"",reportModList:[],bidsection_id:""}},computed:{projectSelected:function(){return this.$store.state.global.currentReportProject}},activated:function(){this.$router.isBack||this.init()},methods:{init:function(){var t=this.$route.query,e=t.start_date,a=t.end_date,i=t.bidsection_id;this.bidsection_id=i||"";var s=new Date,r=s.getFullYear(),n=s.getMonth()+1,o=s.getDate(),l=p.a.getString("reportDateType",p.a.level.user),d=c()(r+"-"+n+"-"+o,"YYYY-MM-DD").format("E"),u=c()().subtract(d-1,"days").format("YYYY-MM-DD");o<10&&(o="0"+o),n<10&&(n="0"+n),this.dateRange.start=e||("week"===l?u:r+"-"+n+"-01"),this.dateRange.end=a||r+"-"+n+"-"+o,this.initReportData()},selectDate:function(t){var e,a=this,i={from:"",to:""};"end"===t?(e=this.newDate(this.dateRange.end),i.from=this.newDate(this.dateRange.start)||"",i.to=""):(e=this.newDate(this.dateRange.start),i.from="",i.to=this.newDate(this.dateRange.end)||""),o.a.openPopup({from:c()(i.from).toDate(),to:c()(i.to).toDate(),inputDate:c()(e).toDate(),closeOnSelect:!0,templateType:"modal",callback:function(i){"end"===t?(a.dateRange.end=c()(i).format("YYYY-MM-DD"),e.end=a.dateRange.end):(a.dateRange.start=c()(i).format("YYYY-MM-DD"),e.start=a.dateRange.start),a.initReportData()}})},newDate:function(t){if(!t)return new Date;if("object"===Object(i.a)(t))return t instanceof Date?t:new Date;var e=t.match(/\d+/g);if(e.length<3)return"";for(var a=0;a<e.length;a++)e[a]=parseInt(e[a]);return new Date(e[0],e[1]-1,e[2],e[3]||0,e[4]||0,e[5]||0)},initReportData:function(){var e=this;this.isLoading=!0,this.errorTips="";var a=this.projectSelected.id;return l.a.request("/report/material",{proj_id:a,bidsection_id:this.bidsection_id,begin_date:this.dateRange.start,end_date:this.dateRange.end}).then((function(t){e.isLoading=!1,e.reportModList=t})).catch((function(a){e.reportModList=[],e.errorTips=t.isString(a)?a:"获取数据失败",e.isLoading=!1}))},toggleMaterial:function(t){this.$set(t,"isOpen",!t.isOpen)},showMaterialDetail:function(t){console.log(t),this.$router.push("/report/material/project-detail/".concat(t.task_id,"/").concat(t.status))}}}}).call(this,a("391c"))},be89:function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .wrap[data-v-06e0fa38]{height:100%;overflow:auto;padding-bottom:100px}.zjapp .wrap .uploader[data-v-06e0fa38]{background-image:linear-gradient(180deg,#dcdcdc,#dcdcdc 33.3333%,transparent 0);background-position:top}.zjapp .wrap .frist-report[data-v-06e0fa38],.zjapp .wrap .uploader[data-v-06e0fa38]{border:none;background-size:100% 1px;background-repeat:no-repeat}.zjapp .wrap .frist-report[data-v-06e0fa38]{margin-bottom:10px;background-color:#ebf1ff;background-image:linear-gradient(0deg,#ddd,#ddd 33.3333%,transparent 0);background-position:bottom}.zjapp .van-popup--right[data-v-06e0fa38]{width:100%;height:100%}",""])},c070:function(t,e,a){var i=a("574c");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("35590dcb",i,!0,{sourceMap:!1,shadowMode:!1})},ca90:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAtCAYAAADoSujCAAAAAXNSR0IArs4c6QAABCpJREFUaAXVWNtOE0EY/mfbLYW20nJQCgLxgGAoh2gMNyVYLU244Y5rrg0vwCPIG/AEPAFXxij3eETQiAoqUgiRo9AzxX8Ku6VlZ3emuy1hEpjZ+Q/7fTv/zHxAXrxaOIGr2ghM2q8mdpIFAhORUM/0lSNACGRAksaHh7pn6MfnIiBJBPxNPmis94DHXQ2ybINM5hiOYsncz9qf7Vxf7tUkhCQIwFh4qHtWeZchAW9tDfR0t4GzSlZicr3NJkEVztX53NDir4O19W34vrIJ2Wx5thSC/4cvHg2HeubOA5HOPxSPPZ5qeNh/+wL4Yj+6Qu2tDdDf015ssuSZANlGAk+Hi8DT5MwVwAAI3L+J5YaLdtYSiRREN/dg/yAGEtrrsaRa/D6gvrTV13mw1LywgT5WNcwctTmkyJNg95JWTiaBZgTidjnVmBjW+5sPq5BMptW5rb8HsLt7mCsxZbKx4ZplBBD8CpFhGMGvKPmLe2YJXW+sLfD9shwtAK8YN7f2IY4rozS6yS1qSycOx2B4sJcJnr6HSYAaU6kM7XIbc3fvMDfW+pVM5FfFgSeU2YYlOS+55KFIsCtqlItZQu8XfuZi7fS0ccpwwjhc6B5xufOlRo9WMw3Bz1XL8mhwoIueOoaNSUCJzBxnIXPEBnXvrh9ke/6rHxzElVDhHsHP2sE9FgzeSvAGGxJgJaIHT2dHM7S21Ksu9HJb/bWlPosMMN2MHQLjoRA5rVvO4JII0Ju4L9AOPq+r4DXLPzYhebZvCgwGD/jlp8OPAxPYZw1cL5iFCdByefTgDrhqqtRkJ7hBvn7bgPXojjrHO8AtNIW36ySvf7GfMIHODn8B+FQ6A5+W1mAH7wPhhnI4HOqdEo47FyBEwImnUdMNrxpOz/+3eLnF4/l7QDXqDvJyWNeNwyhEgNY81qmadvHzmjB4DC+Qw2qyEgdCBKqdDvU1VFLs7cfUZ54Bkr8gh3ni9HyECNDTR2mp9LEy5OoRvKYc5grWcRIiQG/jNJ71tNGTh7edyeERPCrneWN4/Ui5/6jHHYNy2MaUw7xAWX5CK8BKwppH8IZymBXLOy9EoC/QBorM3ts/gvl3ukqXyuHIMIei5AWr5SdEQCuB1hxu2HlSYx8JD3Rta9mtnLOcAIIXksNmyej+QSOaHMFTOTwSDPJpedH8Wv5CK/Bx8bdWjtxcqXKYmZDTIESAlRO/fMlymJWTd950CVE5jP+veYYkhLU8L0g9P3MrYIEc1gPHYyuRgHVymAekno8wAavlsB44HpsQAaxzy+UwD0g9H24CCL4sclgPHI+Ni0A55TAPSD0fQwKncpj932G95JWw6RKohBw2S1KPQEXkcFkI4IatmBy2nACCr6gcNkugQAsh+IrLYbME1D1wWXLYEgL45S9NDpslAC9fLzw3neQSE/wH+fklLOMySBUAAAAASUVORK5CYII="},cf0d:function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,'.zjapp .layout-main[data-v-0a266c44] .layout-content{overflow:auto}.zjapp .datepicker-hd[data-v-0a266c44]{display:flex;text-align:center;padding:5px 5px 15px 5px}.zjapp .datepicker-hd-center[data-v-0a266c44]{flex:1;display:flex;padding:10px 5px}.zjapp .datepicker-month[data-v-0a266c44],.zjapp .datepicker-year[data-v-0a266c44]{position:relative;flex:1;border:none;border-bottom:1px solid #4374ea;padding:0;line-height:26px;font-size:14px;text-align:center}.zjapp .datepicker-month[data-v-0a266c44]{margin-left:10px}.zjapp .datepicker-month[data-v-0a266c44]:after,.zjapp .datepicker-year[data-v-0a266c44]:after{position:absolute;top:50%;right:5px;margin-top:-3px;width:0;height:0;border-top:5px solid;border-right:5px solid transparent;border-left:5px solid transparent;content:"";pointer-events:none;color:#4374ea}.zjapp .datepicker-next[data-v-0a266c44],.zjapp .datepicker-prev[data-v-0a266c44]{width:10%;padding:10px 5px;font-size:24px;color:#4374ea}.zjapp .select-list[data-v-0a266c44]{position:absolute;top:27px;left:0;width:100%;max-height:380px;overflow:auto;background-color:#fff;box-shadow:0 0 5px #333}.zjapp .select-item[data-v-0a266c44]{padding:5px;height:38px;line-height:28px}.zjapp .item-selected[data-v-0a266c44]{background-color:#4374ea;color:#fff}.zjapp .weeks-row[data-v-0a266c44]{padding:5px;display:flex}.zjapp .weeks-cell[data-v-0a266c44]{flex:1;line-height:20px;text-align:center;font-size:14px;font-weight:700}.zjapp .date-row[data-v-0a266c44]{padding:0 5px;display:flex}.zjapp .date-cell[data-v-0a266c44]{flex:1;height:50px;line-height:50px;text-align:center;font-size:14px}.zjapp .date-cell-selected[data-v-0a266c44]{background-color:#4374ea;color:#fff;font-weight:700}.zjapp .date-cell.today[data-v-0a266c44]{border:1px solid #4374ea}.zjapp .disabled[data-v-0a266c44]{pointer-events:none;color:#aaa}',""])},d06f:function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .wrap[data-v-3b37d777]{height:100%;padding-bottom:100px;overflow:auto}.zjapp .wrap .brand-info[data-v-3b37d777]{background-color:#fff;padding:15px 15px 0 15px;font-size:16px;background-image:linear-gradient(0deg,#dcdcdc,#dcdcdc 33.3333%,transparent 0)}.zjapp .wrap .brand-info[data-v-3b37d777],.zjapp .wrap .brand-name[data-v-3b37d777]{border:none;background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}.zjapp .wrap .brand-name[data-v-3b37d777]{color:#4275e8;padding-bottom:10px;background-image:linear-gradient(0deg,#dcdcdc,#dcdcdc 50%,transparent 0)}.zjapp .wrap .brand-type[data-v-3b37d777]{display:flex;justify-content:space-between;color:#333;padding:10px 0 10px 10px}.zjapp .wrap .brand-spec[data-v-3b37d777]{display:flex;justify-content:space-between;padding:10px 0 10px 30px}.zjapp .wrap .approach-info[data-v-3b37d777]{background-color:#fff;padding-top:1px;border:none;background-image:linear-gradient(180deg,#dcdcdc,#dcdcdc 33.3333%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:top}.zjapp .wrap .item-select-box[data-v-3b37d777]{display:inline-block;height:34px;line-height:32px;min-width:60px;padding:0 5px;border:1px solid #d9d9d9;background:#fff;color:#666;vertical-align:top;font-size:14px;text-align:center;border-radius:3px}.zjapp .wrap .item-select-box+.item-select-box[data-v-3b37d777]{margin-left:15px}.zjapp .wrap .item-select-box.selected[data-v-3b37d777]{border-color:#4275e8;color:#4275e8}.zjapp .wrap .title-name[data-v-3b37d777]{font-size:16px;padding:15px 0 10px 15px;color:#8c8c8c}.zjapp .wrap .pic-title[data-v-3b37d777]{padding:5px 0 10px 0}.zjapp .wrap .photo-list[data-v-3b37d777]{padding:10px 0 10px 15px}.zjapp .wrap .photo-list p[data-v-3b37d777]{font-size:16px;color:#8c8c8c;padding-bottom:10px}",""])},d86b:function(t,e){t.exports="data:image/png;base64,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"},dd16:function(t,e,a){"use strict";(function(t){e.a={name:"StatusText",props:{status:{type:String},text:{type:String},extend:{type:Object,default:function(){return{}}},statusStyles:{type:Object,default:function(){return{}}}},data:function(){return{classSet:t.extend({"草稿":"color-gray","暂存":"color-gray","检查中":"color-orange","待整改":"color-red","待复验":"color-orange","待验收":"color-red","待报验":"color-red","待申请进场":"color-red","待初验":"color-red","待送检":"color-red","待上传报告":"color-red","待退场":"color-red","待建设单位验收":"color-red","待区域验收":"color-red","供应链退回":"color-red","预创建":"color-status-blue","已提交":"color-green","已整改":"color-green","已验收":"color-green","已通过":"color-green","已退场":"color-gray","已关闭":"color-gray","非正常关闭":"color-gray","已退回":"color-red","已完成":"color-green","已甩项":"color-gray","检查完毕":"color-green","送检合格":"color-green","复验合格":"color-green","验收合格":"color-green","验收不合格":"color-red","未验收":"color-orange","待点评":"color-orange","已点评":"color-green","合格":"color-green","不合格":"color-red","待审核":"color-orange","已发布":"color-green","已拒绝":"color-red","进度正常":"color-green","进度滞后":"color-red","正常":"color-green","滞后":"color-red","施工单位验收合格":"color-green","监理单位验收合格":"color-green","建设单位验收合格":"color-green","施工单位验收不合格":"color-red","监理单位验收不合格":"color-red","建设单位验收不合格":"color-red"},this.extend)}},mounted:function(){}}}).call(this,a("391c"))},e60b:function(t,e,a){var i=a("cf0d");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("1be2b028",i,!0,{sourceMap:!1,shadowMode:!1})},f7ab:function(t,e,a){"use strict";var i=a("65e9").a,s=(a("f7d4"),a("17cc")),r=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{ref:"synchronize-tip-bar",staticClass:"synchronize-tip-bar"},[a("icon",{attrs:{name:"caution"}}),t.waitUploadNum?a("span",[t._v("您有"+t._s(t.waitUploadNum)+"条数据待上传")]):t._e(),!t.waitUploadNum&&t.hasChanged?a("span",[t._v("有新数据")]):t._e(),t._v("\n  ，下拉可"+t._s(t.waitUploadNum?"上传":"刷新")+"\n")],1):t._e()}),[],!1,null,"66826030",null);e.a=r.exports},f7d4:function(t,e,a){"use strict";a("2d6e")},ff5c:function(t,e,a){"use strict";(function(t){a("cc57"),a("6d57"),a("e10e"),a("ed63"),a("8cf2");var i=a("07d2"),s=a("6bf2"),r=a.n(s),n=a("fd50"),c=a("e2a7"),o=a("162a"),l=a("774b"),d=a("c745"),p=a("3bd5"),u=a("4ad6"),h=a("a500");e.a={name:"ReportPorjectStaffIndex",components:{Item:i.default,Scroller:l.default},filters:{},data:function(){return{listLoading:!0,tabIndex:0,date_type:2,date_start:null,date_end:null,itemArr:{check_problem_num:"所选时段该员工提交的问题",check_repair_num:"所选时段该员工完成整改的问题数，同一问题因被退回而操作多次的，仅计1次",check_reinspect_num:"所选时段该员工复验通过的问题数",safety_check_problem_num:"所选时段该员工提交的问题",safety_check_repair_num:"所选时段该员工完成整改的问题数，同一问题因被退回而操作多次的，仅计1次",safety_check_reinspect_num:"所选时段该员工复验通过的问题数",quality_check_problem_num:"所选时段该员工提交的问题",quality_check_repair_num:"所选时段该员工完成整改的问题数，同一问题因被退回而操作多次的，仅计1次",quality_check_reinspect_num:"所选时段该员工复验通过的问题数",measure_point_num:"所选时段该员工提交的实测总点数",process_times_num:"所选时段该员工提交或作为工序移交的工序验收次数，批量验收仅计1次",process_accept_times_num:"所选时段该员工发起或验收的共同验收人任务数，同一任务因被退回而操作多次的，仅计1次",material_task_num:"所选时段该角色所有该员工操作的“申请进场验收”、“进场验收合格”或“进场验收不合格”都计数，同一任务中仅计1次"},list:{repair:[],supervision:[],construct:[]},isAllowCheck:!1,isAllowAccept:!1,isCheck:!1,isCheckSafety:!1,isCheckQuality:!1,userId:"",sortInfo:{},type:"repair",currentRole:"",isShowStaffLeft:"none",viewSize:$rootScope.viewSize,showFixedSlide:!0,showFixedHead:!1,showFixedNook:!0,showShare:!1,actions:[{key:"shareWhchat",name:"分享到微信",className:"share-wechat"},{key:"sharePyq",name:"分享到朋友圈",className:"share-pyq"}]}},computed:{projectSelected:function(){return this.$store.state.global.currentReportProject}},watch:{},activated:function(){this.init()},mounted:function(){},methods:{init:function(){this.showFixedHead=!1,this.userId=p.a.getUser().user_id,this.date_start=this.$route.params.date_start?this.$route.params.date_start:null,this.date_end=this.$route.params.date_end?this.$route.params.date_end:null,void 0!==this.$route.params.tab?(this.tabIndex=+this.$route.params.tab,this.changeTab(this.tabIndex)):this.getRoles()},getRoles:function(){var e=this;return d.a.getRoles(this.userId).then((function(a){t.includes(a,33)?(e.type="construct",e.currentRole="construct",e.tabIndex=2):t.includes(a,32)?(e.type="supervision",e.currentRole="supervision",e.tabIndex=1):t.includes(a,31)&&(e.type="repair",e.currentRole="repair",e.tabIndex=0)})).then((function(){e.defaultInit()}))},defaultInit:function(){var t=this;n.a.when().then((function(){var e=t.projectSelected.id;if(e)return t.setTimeArea(2),t.getList(e)})).catch((function(t){c.a.alert(t)}))},changeTab:function(t){switch(this.tabIndex=t,t){case 0:this.type="repair";break;case 1:this.type="supervision";break;case 2:this.type="construct"}var e=this.projectSelected.id;this.getList(e)},selectDate:function(t){var e=this.projectSelected.id;this.setTimeArea(t),this.getList(e);h.a.addTrack(["报表-员工工作量-上周","报表-员工工作量-本周","报表-员工工作量-上月","报表-员工工作量-本月"][t-1])},setTimeArea:function(t){var e=new Date,a=e.getTime(),i=e.getFullYear(),s=e.getMonth(),n=e.getDay(),c=e.getDate(),o=new Date(i,s,-1).getDate();this.date_type=t,0===n&&(n=7),1===t?(this.date_start=r()(new Date(a-864e5*(n+6))).format("YYYY-MM-DD"),this.date_end=r()(new Date(a-864e5*n)).format("YYYY-MM-DD")):2===t?(this.date_start=r()(new Date(a-864e5*(n-1))).format("YYYY-MM-DD"),this.date_end=r()(e).format("YYYY-MM-DD")):3===t?(this.date_start=r()(new Date(a-864e5*(c+o))).format("YYYY-MM-DD"),this.date_end=r()(new Date(a-864e5*c)).format("YYYY-MM-DD")):4===t&&(this.date_start=r()(new Date(a-864e5*(c-1))).format("YYYY-MM-DD"),this.date_end=r()(e).format("YYYY-MM-DD"))},getList:function(e){var a=this;return this.listLoading=!0,e&&this.date_start&&this.date_end?o.a.request("/report/staff-workload",{projID:e,date_start:this.date_start,date_end:this.date_end,userId:this.userId}).then((function(e){a.list=e,t.each(a.list,(function(t){a.getMost(t)})),a.$refs["fixed-head"].style.transform="translate3d(0, 0, 0)",a.sortInfo={},a.listLoading=!1})).then((function(){return d.a.getModuleCodeList().then((function(t){t?(a.isAllowCheck=t.indexOf("process")>-1,a.isAllowAccept=t.indexOf("process-accept")>-1,a.isCheck=t.indexOf("check")>-1,a.isCheckSafety=t.indexOf("check-safety")>-1,a.isCheckQuality=t.indexOf("check-quality")>-1):console.error("报表-员工工作量-获取所有code判断显示项目-报错")}))})).catch((function(t){c.a.alert(t)})):(this.list={repair:[],supervision:[],construct:[]},this.listLoading=!1,n.a.when())},getMost:function(e){var a;e&&e.length&&t.each(Object.keys(this.itemArr),(function(i){var s=t.map(e,(function(t){return parseInt(t[i])})),r=t.maxBy(s);r&&(a=t.filter(e,(function(t){return parseInt(t[i])===r})),t.each(a,(function(t){t[i+"_moust"]=!0})))}))},sortList:function(e,a){var i=void 0===this.sortInfo[e+"-"+a]?1:this.sortInfo[e+"-"+a];this.list[e]="name"===a?t.sortBy(this.list[e],a):t.sortBy(this.list[e],(function(t){return i?-parseInt(t[a]):parseInt(t[a])})),this.sortInfo[e+"-"+a]=i?0:1},tipsProps:function(t,e){var a=this.itemArr[e];a&&(c.a.notify(a,"知道了"),t.stopPropagation())},onScrollY:function(t){(t&&t.target?t.target.scrollTop:0)>=96?(this.showFixedHead=!0,this.showFixedNook=!0):(this.showFixedHead=!1,this.showFixedNook=!1)},onScrollX:function(t){var e=t&&t.target?t.target.scrollLeft:0;this.$refs["fixed-head"].style.transform="translate3d(".concat(-e,"px, 0, 0)"),e>=0?(this.showFixedSlide=!0,this.showFixedNook=!0):(this.showFixedSlide=!1,this.showFixedNook=!1)},share:function(){this.projectSelected.id||c.a.alert("未选择项目"),this.showShare=!0},onSelectShare:function(t){var e={context:JSON.stringify({proj_id:this.projectSelected.id,date_start:this.date_start,date_end:this.date_end,tab:this.tabIndex}),business_type:"staffWorkload"},a=r()(this.date_start).format("MM月DD日")+"-"+r()(this.date_end).format("MM月DD日"),i=this.projectSelected.name+"-"+a;"shareWhchat"===t.key?o.a.request("/user-share/share",e).then((function(t){var e=t.url;u.a.shareUrlToWeixin("员工工作量报表",e,i,0)})).then((function(){h.a.addTrack("报表-员工工作量-分享到微信")})).catch((function(t){c.a.alert(t)})):"sharePyq"===t.key&&o.a.request("/user-share/share",e).then((function(t){var e=t.url;u.a.shareUrlToWeixin("员工工作量报表",e,i,1)})).then((function(){h.a.addTrack("报表-员工工作量-分享到朋友圈")})).catch((function(t){c.a.alert(t)})),this.showShare=!1}}}}).call(this,a("391c"))}}]);