(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-462bebd1"],{"0b64":function(e,t,n){var o=n("7520");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("85cb").default)("7da6fbf0",o,!0,{sourceMap:!1,shadowMode:!1})},"470f":function(e,t,n){"use strict";n("0b64")},"654f":function(e,t,n){"use strict";n.r(t);n("f548");var o=n("3bd5"),a=n("e2a7"),r=n("9a34"),s=n("9942"),p=/[\u4E00-\u9FA5\uF900-\uFA2D]/g,c={name:"ResetPwd",data:function(){return{password:"",passwordType:"password",iconPwd:"closed-eye",iconColor:"#4376e8"}},activated:function(){this.password="",this.passwordType="password",this.iconPwd="closed-eye",this.iconColor="#4376e8"},methods:{changePwdType:function(){this.passwordType="password"===this.passwordType?"text":"password",this.iconPwd="password"===this.passwordType?"closed-eye":"eye-o",this.iconColor="password"===this.passwordType?"#4376e8":"#c6c6c6"},replaceChineseChar:function(){p.test(this.password)&&(this.password=this.password.replace(p,""))},submit:function(){var e=this,t=this.password;return t?p.test(t)?a.a.alert("不能使用中文作为密码"):void r.a.resetPwd(this.password,this.password).then((function(t){t&&(a.a.loading("正在登录..."),setTimeout((function(){return s.a.login(o.a.getUser().tenant_code,t.account,e.password).then((function(e){return s.a.afterLogin(e)})).catch((function(e){e&&"string"==typeof e||(e="登录失败，请稍后重试")}))}),1e3))})).catch((function(e){a.a.alert(e.errmsg||e)})):a.a.alert("密码不能为空")}}},i=(n("470f"),n("17cc")),d=Object(i.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("page-content",{attrs:{title:"找回密码","show-go-root":"login"}},[n("div",{staticClass:"reset-pwd-wrap"},[n("van-cell-group",[n("van-field",{attrs:{border:!1,type:e.passwordType,placeholder:"请设置新密码"},model:{value:e.password,callback:function(t){e.password="string"==typeof t?t.trim():t},expression:"password"}},[n("van-icon",{attrs:{slot:"button",name:e.iconPwd,color:e.iconColor,size:"18px"},on:{click:e.changePwdType},slot:"button"})],1)],1),n("app-button-group",[n("app-button",{on:{click:e.submit}},[e._v("\n        确认并登录\n      ")])],1)],1)])}),[],!1,null,"cfd4029c",null);t.default=d.exports},7520:function(e,t,n){(e.exports=n("690e")(!1)).push([e.i,".zjapp .reset-pwd-wrap[data-v-cfd4029c]{background:#f2f2f2;padding:20px 0 0}.zjapp .reset-pwd-wrap .van-cell-group[data-v-cfd4029c]{margin:0 0 10px}.zjapp .reset-pwd-wrap .van-cell-group .van-field[data-v-cfd4029c]{padding:8px 16px;align-items:center}.zjapp .reset-pwd-wrap .van-cell-group .van-field[data-v-cfd4029c] .van-field__control{height:34px;padding:2px 24px 0 0;line-height:16px;color:#111;font-size:14px}.zjapp .reset-pwd-wrap .van-cell-group .van-field[data-v-cfd4029c] .van-field__button{padding-top:6px}",""])},"9a34":function(e,t,n){"use strict";var o=n("fd50"),a=n("3bd5"),r=n("1b7e"),s=n("162a"),p=function(){return r.a.getHasNetwork()},c={isNetwork:function(){var e=o.a.defer();return r.a.getHasNetwork().then((function(t){return t||(e.reject("请检查网络"),e.promise)}))},sendMsg:function(e,t){return p().then((function(n){if(n){var o={tenant_code:e,mobile:t};return s.a.post("/common/get-verify-code",{},o)}})).then((function(n){return n&&n.length>0&&a.a.updateUser({tenant_code:e,user_mobile:t}),n}))},resetPwd:function(e,t){var n=o.a.defer();return p().then((function(o){if(o){var r={tenant_code:a.a.getUser().tenant_code,mobile:a.a.getUser().mobile,new_password:e,check_new_password:t,verify_code:a.a.getUser().verify_code};return s.a.post("/common/reset-password",{},r)}return n.reject("请检查网络"),n.promise})).then((function(t){return t&&t.length>0&&a.a.updateUser({user_pwd:e,user_name:t.account}),t}))}};t.a=c}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3ZpZXdzL2xvZ2luL3Jlc2V0UHdkLnZ1ZT80MmIwIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvdmlld3MvbG9naW4vcmVzZXRQd2QudnVlP2I3NzkiLCJ3ZWJwYWNrOi8vX19tb2R1bGVfZW50cnlfemphcHBfXy8uL3NyYy92aWV3cy9sb2dpbi9yZXNldFB3ZC52dWU/MDAxNSIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fL3NyYy92aWV3cy9sb2dpbi9yZXNldFB3ZC52dWUiLCJ3ZWJwYWNrOi8vX19tb2R1bGVfZW50cnlfemphcHBfXy8uL3NyYy92aWV3cy9sb2dpbi9yZXNldFB3ZC52dWU/ZmI3YyIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3ZpZXdzL2xvZ2luL3Jlc2V0UHdkLnZ1ZSIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3ZpZXdzL2xvZ2luL3Jlc2V0UHdkLnZ1ZT9jNzExIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvc2VydmljZS9yZWNvdmVyL3JlY292ZXItcHdkLXNlcnZpY2UuanMiXSwibmFtZXMiOlsiY29udGVudCIsIm1vZHVsZSIsImkiLCJsb2NhbHMiLCJleHBvcnRzIiwiYWRkIiwiZGVmYXVsdCIsIm5hbWUiLCJkYXRhIiwicGFzc3dvcmQiLCJwYXNzd29yZFR5cGUiLCJpY29uUHdkIiwiaWNvbkNvbG9yIiwiYWN0aXZhdGVkIiwidGhpcyIsIm1ldGhvZHMiLCJjaGFuZ2VQd2RUeXBlIiwicmVwbGFjZUNoaW5lc2VDaGFyIiwiUkVHX0NISU5FU0UiLCJ0ZXN0IiwicmVwbGFjZSIsInN1Ym1pdCIsImNvbXBvbmVudCIsIl92bSIsIl9oIiwiJGNyZWF0ZUVsZW1lbnQiLCJfYyIsIl9zZWxmIiwiYXR0cnMiLCJzdGF0aWNDbGFzcyIsIm1vZGVsIiwidmFsdWUiLCJjYWxsYmFjayIsIiQkdiIsInRyaW0iLCJleHByZXNzaW9uIiwib24iLCJzbG90IiwiX3YiLCJwdXNoIiwiZ2V0SGFzTmV0d29yayIsIm5ldHdvcmsiLCJpc05ldHdvcmsiLCJkZWZlcnJlZCIsIiRxIiwiZGVmZXIiLCJ0aGVuIiwiaGFzTmV0d29yayIsInJlamVjdCIsInByb21pc2UiLCJzZW5kTXNnIiwidGVuYW50Q29kZSIsIm1vYmlsZSIsInBvc3REYXRhIiwidGVuYW50X2NvZGUiLCJXZWJTZXJ2aWNlIiwicG9zdCIsInNlbmRSZXN1bHQiLCJsZW5ndGgiLCJjb250ZXh0IiwidXBkYXRlVXNlciIsInVzZXJfbW9iaWxlIiwicmVzZXRQd2QiLCJuZXdQYXNzd29yZCIsImNoZWNrTmV3UGFzc3dvcmQiLCJnZXRVc2VyIiwibmV3X3Bhc3N3b3JkIiwiY2hlY2tfbmV3X3Bhc3N3b3JkIiwidmVyaWZ5X2NvZGUiLCJyZXNldFJlc3VsdCIsInVzZXJfcHdkIiwidXNlcl9uYW1lIiwiYWNjb3VudCJdLCJtYXBwaW5ncyI6InVJQUdBLElBQUlBLEVBQVUsRUFBUSxRQUNBLGlCQUFaQSxJQUFzQkEsRUFBVSxDQUFDLENBQUNDLEVBQU9DLEVBQUlGLEVBQVMsTUFDN0RBLEVBQVFHLFNBQVFGLEVBQU9HLFFBQVVKLEVBQVFHLFNBRy9CRSxFQURILEVBQVEsUUFBMEZDLFNBQzNGLFdBQVlOLEdBQVMsRUFBTSxDQUFDLFdBQVksRUFBTSxZQUFhLEssb0NDUjVFLFcscURDQUEsSSxnRENzQ0Esa0NDdENxYyxFRHVDcmMsQ0FDRU8sS0FBTSxXQUNOQyxLQUZGLFdBR0ksTUFBTyxDQUNMQyxTQUFVLEdBQ1ZDLGFBQWMsV0FDZEMsUUFBUyxhQUNUQyxVQUFXLFlBR2ZDLFVBVkYsV0FXSUMsS0FBS0wsU0FBVyxHQUNoQkssS0FBS0osYUFBZSxXQUNwQkksS0FBS0gsUUFBVSxhQUNmRyxLQUFLRixVQUFZLFdBRW5CRyxRQUFTLENBRVBDLGNBRkosV0FHTUYsS0FBS0osYUFDWCxpREFDTUks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QSxHQUFlQSxFQUFZWCxPQUFTLEdBQ3BDQyxJQUFRQyxXQUFXLENBQ2ZVLFNBQVVQLEVBQ1ZRLFVBQVdGLEVBQVlHLFVBR3hCSCxPQU9KMUMiLCJmaWxlIjoianMvY2h1bmstNDYyYmViZDEuanM/djE2MDg3MTQ0NTExOTUiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDEuMC4xQGNzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjkuNUB2dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Nhc3MtbG9hZGVyQDcuMS4wQHNhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tOC1vbmVPZi0xLTQhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9yZXNldFB3ZC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD1jZmQ0MDI5YyZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLXN0eWxlLWxvYWRlckA0LjEuMkB2dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjdkYTZmYmYwXCIsIGNvbnRlbnQsIHRydWUsIHtcInNvdXJjZU1hcFwiOmZhbHNlLFwic2hhZG93TW9kZVwiOmZhbHNlfSk7IiwiZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtc3R5bGUtbG9hZGVyQDQuMS4yQHZ1ZS1zdHlsZS1sb2FkZXIvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDEuMC4xQGNzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjkuNUB2dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Nhc3MtbG9hZGVyQDcuMS4wQHNhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tOC1vbmVPZi0xLTQhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9yZXNldFB3ZC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD1jZmQ0MDI5YyZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCIiLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygncGFnZS1jb250ZW50Jyx7YXR0cnM6e1widGl0bGVcIjpcIuaJvuWbnuWvhueggVwiLFwic2hvdy1nby1yb290XCI6J2xvZ2luJ319LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJyZXNldC1wd2Qtd3JhcFwifSxbX2MoJ3Zhbi1jZWxsLWdyb3VwJyxbX2MoJ3Zhbi1maWVsZCcse2F0dHJzOntcImJvcmRlclwiOmZhbHNlLFwidHlwZVwiOl92bS5wYXNzd29yZFR5cGUsXCJwbGFjZWhvbGRlclwiOlwi6K+36K6+572u5paw5a+G56CBXCJ9LG1vZGVsOnt2YWx1ZTooX3ZtLnBhc3N3b3JkKSxjYWxsYmFjazpmdW5jdGlvbiAoJCR2KSB7X3ZtLnBhc3N3b3JkPSh0eXBlb2YgJCR2ID09PSAnc3RyaW5nJz8gJCR2LnRyaW0oKTogJCR2KX0sZXhwcmVzc2lvbjpcInBhc3N3b3JkXCJ9fSxbX2MoJ3Zhbi1pY29uJyx7YXR0cnM6e1wic2xvdFwiOlwiYnV0dG9uXCIsXCJuYW1lXCI6X3ZtLmljb25Qd2QsXCJjb2xvclwiOl92bS5pY29uQ29sb3IsXCJzaXplXCI6XCIxOHB4XCJ9LG9uOntcImNsaWNrXCI6X3ZtLmNoYW5nZVB3ZFR5cGV9LHNsb3Q6XCJidXR0b25cIn0pXSwxKV0sMSksX2MoJ2FwcC1idXR0b24tZ3JvdXAnLFtfYygnYXBwLWJ1dHRvbicse29uOntcImNsaWNrXCI6X3ZtLnN1Ym1pdH19LFtfdm0uX3YoXCJcXG4gICAgICAgIOehruiupOW5tueZu+W9lVxcbiAgICAgIFwiKV0pXSwxKV0sMSldKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiPHRlbXBsYXRlPlxuICA8cGFnZS1jb250ZW50XG4gICAgdGl0bGU9XCLmib7lm57lr4bnoIFcIlxuICAgIDpzaG93LWdvLXJvb3Q9XCInbG9naW4nXCJcbiAgPlxuICAgIDxkaXYgY2xhc3M9XCJyZXNldC1wd2Qtd3JhcFwiPlxuICAgICAgPHZhbi1jZWxsLWdyb3VwPlxuICAgICAgICA8dmFuLWZpZWxkXG4gICAgICAgICAgdi1tb2RlbC50cmltPVwicGFzc3dvcmRcIlxuICAgICAgICAgIDpib3JkZXI9XCJmYWxzZVwiXG4gICAgICAgICAgOnR5cGU9XCJwYXNzd29yZFR5cGVcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwi6K+36K6+572u5paw5a+G56CBXCJcbiAgICAgICAgPlxuICAgICAgICAgIDx2YW4taWNvblxuICAgICAgICAgICAgc2xvdD1cImJ1dHRvblwiXG4gICAgICAgICAgICA6bmFtZT1cImljb25Qd2RcIlxuICAgICAgICAgICAgOmNvbG9yPVwiaWNvbkNvbG9yXCJcbiAgICAgICAgICAgIHNpemU9XCIxOHB4XCJcbiAgICAgICAgICAgIEBjbGljaz1cImNoYW5nZVB3ZFR5cGVcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvdmFuLWZpZWxkPlxuICAgICAgPC92YW4tY2VsbC1ncm91cD5cblxuICAgICAgPGFwcC1idXR0b24tZ3JvdXA+XG4gICAgICAgIDxhcHAtYnV0dG9uIEBjbGljaz1cInN1Ym1pdFwiPlxuICAgICAgICAgIOehruiupOW5tueZu+W9lVxuICAgICAgICA8L2FwcC1idXR0b24+XG4gICAgICA8L2FwcC1idXR0b24tZ3JvdXA+XG4gICAgPC9kaXY+XG4gIDwvcGFnZS1jb250ZW50PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCBjb250ZXh0IGZyb20gJ0BzcmMvZnJhbWV3b3JrL2NvbnRleHQnO1xuaW1wb3J0IFBvcHVwIGZyb20gJ0BzcmMvdXRpbHMvcG9wdXAnO1xuaW1wb3J0IFJlY292ZXJTZXJ2aWNlIGZyb20gJ0BzcmMvc2VydmljZS9yZWNvdmVyL3JlY292ZXItcHdkLXNlcnZpY2UnO1xuaW1wb3J0IExvZ2luU2VydmljZSBmcm9tICdAc3JjL3NlcnZpY2UvbG9naW4tc2VydmljZSc7XG5cbmNvbnN0IFJFR19DSElORVNFID0gL1tcXHU0RTAwLVxcdTlGQTVcXHVGOTAwLVxcdUZBMkRdL2c7XG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdSZXNldFB3ZCcsXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhc3N3b3JkOiAnJyxcbiAgICAgIHBhc3N3b3JkVHlwZTogJ3Bhc3N3b3JkJyxcbiAgICAgIGljb25Qd2Q6ICdjbG9zZWQtZXllJyxcbiAgICAgIGljb25Db2xvcjogJyM0Mzc2ZTgnLFxuICAgIH07XG4gIH0sXG4gIGFjdGl2YXRlZCgpIHtcbiAgICB0aGlzLnBhc3N3b3JkID0gJyc7XG4gICAgdGhpcy5wYXNzd29yZFR5cGUgPSAncGFzc3dvcmQnO1xuICAgIHRoaXMuaWNvblB3ZCA9ICdjbG9zZWQtZXllJztcbiAgICB0aGlzLmljb25Db2xvciA9ICcjNDM3NmU4JztcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIC8vIOaUueWPmOWvhueggeaYjuaWh+aal+aWh1xuICAgIGNoYW5nZVB3ZFR5cGUoKSB7XG4gICAgICB0aGlzLnBhc3N3b3JkVHlwZSA9XG4gICAgICAgIHRoaXMucGFzc3dvcmRUeXBlID09PSAncGFzc3dvcmQnID8gJ3RleHQnIDogJ3Bhc3N3b3JkJztcbiAgICAgIHRoaXMuaWNvblB3ZCA9IHRoaXMucGFzc3dvcmRUeXBlID09PSAncGFzc3dvcmQnID8gJ2Nsb3NlZC1leWUnIDogJ2V5ZS1vJztcbiAgICAgIHRoaXMuaWNvbkNvbG9yID0gdGhpcy5wYXNzd29yZFR5cGUgPT09ICdwYXNzd29yZCcgPyAnIzQzNzZlOCcgOiAnI2M2YzZjNic7XG4gICAgfSxcbiAgICAvLyDmm7/mjaLovpPlhaXnmoTkuK3mlodcbiAgICByZXBsYWNlQ2hpbmVzZUNoYXIoKSB7XG4gICAgICBpZiAoUkVHX0NISU5FU0UudGVzdCh0aGlzLnBhc3N3b3JkKSkge1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gdGhpcy5wYXNzd29yZC5yZXBsYWNlKFJFR19DSElORVNFLCAnJyk7XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyDkv67mlLnlr4bnoIFcbiAgICBzdWJtaXQoKSB7XG4gICAgICBjb25zdCBwYXNzd29yZCA9IHRoaXMucGFzc3dvcmQ7XG4gICAgICBpZiAoIXBhc3N3b3JkKSB7XG4gICAgICAgIHJldHVybiBQb3B1cC5hbGVydCgn5a+G56CB5LiN6IO95Li656m6Jyk7XG4gICAgICB9XG4gICAgICBpZiAoUkVHX0NISU5FU0UudGVzdChwYXNzd29yZCkpIHtcbiAgICAgICAgcmV0dXJuIFBvcHVwLmFsZXJ0KCfkuI3og73kvb/nlKjkuK3mlofkvZzkuLrlr4bnoIEnKTtcbiAgICAgIH1cbiAgICAgIFJlY292ZXJTZXJ2aWNlLnJlc2V0UHdkKHRoaXMucGFzc3dvcmQsIHRoaXMucGFzc3dvcmQpXG4gICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgUG9wdXAubG9hZGluZygn5q2j5Zyo55m75b2VLi4uJyk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIExvZ2luU2VydmljZS5sb2dpbihcbiAgICAgICAgICAgICAgICBjb250ZXh0LmdldFVzZXIoKS50ZW5hbnRfY29kZSxcbiAgICAgICAgICAgICAgICByZXN1bHQuYWNjb3VudCxcbiAgICAgICAgICAgICAgICB0aGlzLnBhc3N3b3JkXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIExvZ2luU2VydmljZS5hZnRlckxvZ2luKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvciB8fCB0eXBlb2YgZXJyb3IgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yID0gJ+eZu+W9leWksei0pe+8jOivt+eojeWQjumHjeivlSc7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIFBvcHVwLmhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgIFBvcHVwLmFsZXJ0KGVycm9yIHx8ICfnmbvlvZXlvILluLjvvIzor7fnqI3lkI7ph43or5UnKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICBQb3B1cC5hbGVydChlcnJvci5lcnJtc2cgfHwgZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICB9LFxufTtcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XG4ucmVzZXQtcHdkLXdyYXAge1xuICBiYWNrZ3JvdW5kOiAjZjJmMmYyO1xuICBwYWRkaW5nOiAyMHB4IDAgMDtcbiAgLnZhbi1jZWxsLWdyb3VwIHtcbiAgICBtYXJnaW46IDAgMCAxMHB4O1xuICAgIC52YW4tZmllbGQge1xuICAgICAgcGFkZGluZzogOHB4IDE2cHg7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgL2RlZXAvLnZhbi1maWVsZF9fY29udHJvbCB7XG4gICAgICAgIGhlaWdodDogMzRweDtcbiAgICAgICAgcGFkZGluZzogMnB4IDI0cHggMCAwO1xuICAgICAgICBsaW5lLWhlaWdodDogMTZweDtcbiAgICAgICAgY29sb3I6ICMxMTE7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIH1cbiAgICAgIC9kZWVwLy52YW4tZmllbGRfX2J1dHRvbiB7XG4gICAgICAgIHBhZGRpbmctdG9wOiA2cHg7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG48L3N0eWxlPlxuIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NhY2hlLWxvYWRlckAyLjAuMUBjYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3RocmVhZC1sb2FkZXJAMi4xLjNAdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2JhYmVsLWxvYWRlckA4LjIuMUBiYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vcmVzZXRQd2QudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdGhyZWFkLWxvYWRlckAyLjEuM0B0aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fYmFiZWwtbG9hZGVyQDguMi4xQGJhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9yZXNldFB3ZC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL3Jlc2V0UHdkLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1jZmQ0MDI5YyZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9yZXNldFB3ZC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL3Jlc2V0UHdkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9yZXNldFB3ZC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD1jZmQ0MDI5YyZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS43LjBAdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCJjZmQ0MDI5Y1wiLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2Nzcy1sb2FkZXJAMS4wLjFAY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnpqYXBwIC5yZXNldC1wd2Qtd3JhcFtkYXRhLXYtY2ZkNDAyOWNde2JhY2tncm91bmQ6I2YyZjJmMjtwYWRkaW5nOjIwcHggMCAwfS56amFwcCAucmVzZXQtcHdkLXdyYXAgLnZhbi1jZWxsLWdyb3VwW2RhdGEtdi1jZmQ0MDI5Y117bWFyZ2luOjAgMCAxMHB4fS56amFwcCAucmVzZXQtcHdkLXdyYXAgLnZhbi1jZWxsLWdyb3VwIC52YW4tZmllbGRbZGF0YS12LWNmZDQwMjljXXtwYWRkaW5nOjhweCAxNnB4O2FsaWduLWl0ZW1zOmNlbnRlcn0uemphcHAgLnJlc2V0LXB3ZC13cmFwIC52YW4tY2VsbC1ncm91cCAudmFuLWZpZWxkW2RhdGEtdi1jZmQ0MDI5Y10gLnZhbi1maWVsZF9fY29udHJvbHtoZWlnaHQ6MzRweDtwYWRkaW5nOjJweCAyNHB4IDAgMDtsaW5lLWhlaWdodDoxNnB4O2NvbG9yOiMxMTE7Zm9udC1zaXplOjE0cHh9LnpqYXBwIC5yZXNldC1wd2Qtd3JhcCAudmFuLWNlbGwtZ3JvdXAgLnZhbi1maWVsZFtkYXRhLXYtY2ZkNDAyOWNdIC52YW4tZmllbGRfX2J1dHRvbntwYWRkaW5nLXRvcDo2cHh9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG5pbXBvcnQgJHEgZnJvbSAnQHN0YXRpYy9saWIvcHJvbWlzZSc7XG5pbXBvcnQgY29udGV4dCBmcm9tICdAc3JjL2ZyYW1ld29yay9jb250ZXh0JztcbmltcG9ydCBuZXR3b3JrIGZyb20gJ0BzcmMvZnJhbWV3b3JrL25ldHdvcmsnO1xuaW1wb3J0IFdlYlNlcnZpY2UgZnJvbSAnQHNyYy9zZXJ2aWNlL2NvbW1vbi93ZWItc2VydmljZSc7XG5cbmNvbnN0IGdldEhhc05ldHdvcmsgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV0d29yay5nZXRIYXNOZXR3b3JrKCk7XG59O1xuXG4vLyBSZWNvdmVyUHdkTW9kLnJlZ2lzdGVyRmFjdG9yeSgnUmVjb3ZlclNlcnZpY2UnLCBbJ2RldmljZScsICd3ZWJBcGknLCAnJGxvY2F0aW9uJywgJyRpb25pY0hpc3RvcnknLCAnJHEnLCAnJGxvZycsICdQb3B1cCcsICdjb250ZXh0JywgJ25ldHdvcmsnLCAnJHdpbmRvdycsXG4vLyAgICAgJ2FwcFVwZGF0ZVNlcnZpY2UnLCAnVXNlclJlcG9zaXRvcnknLCAnTG9naW5TZXJ2aWNlJywgJ3BsdWdpbkFwaScsICdXZWJTZXJ2aWNlJywgJ0RhdGFTeW5jaHJvbml6ZXInLFxuLy8gICAgIGZ1bmN0aW9uKGRldmljZSwgd2ViQXBpLCAkbG9jYXRpb24sICRpb25pY0hpc3RvcnksICRxLCAkbG9nLCBQb3B1cCwgY29udGV4dCwgbmV0d29yaywgJHdpbmRvdyxcbi8vICAgICAgICAgYXBwVXBkYXRlU2VydmljZSwgVXNlclJlcG9zaXRvcnksIExvZ2luU2VydmljZSwgcGx1Z2luQXBpLCBXZWJTZXJ2aWNlLCBEYXRhU3luY2hyb25pemVyKSB7XG4vLyAgICAgICAgIHZhciBnZXRIYXNOZXR3b3JrID0gZnVuY3Rpb24oKSB7XG4vLyAgICAgICAgICAgICByZXR1cm4gbmV0d29yay5nZXRIYXNOZXR3b3JrKCk7XG4vLyAgICAgICAgIH07XG4vLyAgICAgfV0pO1xuXG5jb25zdCBfc2VsZiA9IHtcblxuICAgIC8qKlxuICAgICAqIOWIpOaWreaYr+WQpuaciee9kVxuICAgICAqL1xuICAgIGlzTmV0d29yazogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIHJldHVybiBuZXR3b3JrLmdldEhhc05ldHdvcmsoKS50aGVuKGZ1bmN0aW9uKGhhc05ldHdvcmspIHtcbiAgICAgICAgICAgIGlmIChoYXNOZXR3b3JrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhc05ldHdvcms7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgn6K+35qOA5p+l572R57ucJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDlj5HpgIHkv6Hmga/pqozor4HnoIFcbiAgICAgKiBAcGFyYW0gdGVuYW50Q29kZVxuICAgICAqIEBwYXJhbSBtb2JpbGVcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBzZW5kTXNnOiBmdW5jdGlvbih0ZW5hbnRDb2RlLCBtb2JpbGUpIHtcbiAgICAgICAgLy8gdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgcmV0dXJuIGdldEhhc05ldHdvcmsoKS50aGVuKGZ1bmN0aW9uKGhhc05ldHdvcmspIHtcbiAgICAgICAgICAgIGlmIChoYXNOZXR3b3JrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvc3REYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICB0ZW5hbnRfY29kZTogdGVuYW50Q29kZSxcbiAgICAgICAgICAgICAgICAgICAgbW9iaWxlOiBtb2JpbGVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBXZWJTZXJ2aWNlLnBvc3QoJy9jb21tb24vZ2V0LXZlcmlmeS1jb2RlJywge30sIHBvc3REYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihzZW5kUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoc2VuZFJlc3VsdCAmJiBzZW5kUmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnVwZGF0ZVVzZXIoe1xuICAgICAgICAgICAgICAgICAgICB0ZW5hbnRfY29kZTogdGVuYW50Q29kZSxcbiAgICAgICAgICAgICAgICAgICAgdXNlcl9tb2JpbGU6IG1vYmlsZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNlbmRSZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIOmqjOivgeefreS/oemqjOivgeeggVxuICAgICAqIEBwYXJhbSB0ZW5hbnRDb2RlXG4gICAgICogQHBhcmFtIG1vYmlsZVxuICAgICAqIEBwYXJhbSBuZXdQYXNzd29yZFxuICAgICAqIEBwYXJhbSBjaGVja05ld1Bhc3N3b3JkXG4gICAgICogQHBhcmFtIHZlcmlmeUNvZGVcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICByZXNldFB3ZDogZnVuY3Rpb24obmV3UGFzc3dvcmQsIGNoZWNrTmV3UGFzc3dvcmQpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgcmV0dXJuIGdldEhhc05ldHdvcmsoKS50aGVuKGZ1bmN0aW9uKGhhc05ldHdvcmspIHtcbiAgICAgICAgICAgIGlmIChoYXNOZXR3b3JrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvc3REYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICB0ZW5hbnRfY29kZTogY29udGV4dC5nZXRVc2VyKCkudGVuYW50X2NvZGUsXG4gICAgICAgICAgICAgICAgICAgIG1vYmlsZTogY29udGV4dC5nZXRVc2VyKCkubW9iaWxlLFxuICAgICAgICAgICAgICAgICAgICBuZXdfcGFzc3dvcmQ6IG5ld1Bhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICBjaGVja19uZXdfcGFzc3dvcmQ6IGNoZWNrTmV3UGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgIHZlcmlmeV9jb2RlOiBjb250ZXh0LmdldFVzZXIoKS52ZXJpZnlfY29kZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIFdlYlNlcnZpY2UucG9zdCgnL2NvbW1vbi9yZXNldC1wYXNzd29yZCcsIHt9LCBwb3N0RGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgn6K+35qOA5p+l572R57ucJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzZXRSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChyZXNldFJlc3VsdCAmJiByZXNldFJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC51cGRhdGVVc2VyKHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcl9wd2Q6IG5ld1Bhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICB1c2VyX25hbWU6IHJlc2V0UmVzdWx0LmFjY291bnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXNldFJlc3VsdDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IF9zZWxmO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==