(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-2b8a39de"],{"10d4":function(e,t,i){(e.exports=i("690e")(!1)).push([e.i,".zjapp .multi-select-list-title[data-v-89cd976c]{position:relative;color:#888;font-size:14px;line-height:30px;min-height:40px;margin-bottom:0;margin-top:0;padding:8px 16px;background-color:#f2f2f2}.zjapp .item[data-v-89cd976c]{padding:16px}.zjapp .search-item>div[data-v-89cd976c]{padding-right:35px}.zjapp .search-item i[data-v-89cd976c]{position:absolute;color:#ccc;font-size:26px;right:0;top:50%;transform:translateY(-50%)}.zjapp .van-popup--right[data-v-89cd976c]{width:100%;height:100%}[data-v-89cd976c] .van-cell__title{color:#4174e9;font-weight:700}[data-v-89cd976c] .van-collapse-item__content{transform:translateZ(0);padding:0 0 0 25px}[data-v-89cd976c] .van-collapse-item__content .van-cell{padding-left:0}",""])},"2dea":function(e,t,i){var n=i("10d4");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i("85cb").default)("d2d2cc46",n,!0,{sourceMap:!1,shadowMode:!1})},3730:function(e,t,i){"use strict";var n=i("329b"),a=i("b65c").a,c=(i("50d5e"),i("17cc")),s=Object(c.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"slide-right"}},[e.show?i("page-content",{attrs:{title:e.title,mode:"dialog","on-close":e.closeEvent}},[e.rightBtn?i("div",{staticClass:"header-btn",attrs:{slot:"header-bar-right"},on:{click:function(t){e.checkBoxAliRight?e.submit():e.rightBtnEvent(e.category)}},slot:"header-bar-right"},[e._v(e._s(e.checkBoxAliRight?e.rightBtn+"("+e.realChecked.length+")":e.rightBtn))]):e._e(),i("scroller",{staticClass:"bg-white",attrs:{"has-next":!e.searchStatus&&!e.grouping&&e.optionsLimit<e.options.length,"end-text":"","is-empty":0===e.optionsShow.length},on:{loadNext:e.pageOptions}},[e.searchBar?i("app-search-bar",{ref:"app-search-bar",attrs:{placeholder:"搜索","history-key":e.storageKey},on:{changeSearchStatus:e.onSearchTypeChange,input:e.onInput},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}):e._e(),e.showSelected&&(e.searchStatus&&e.isHasVal||!e.searchStatus)?i("div",[i("div",{staticClass:"multi-select-list-title"},[e._v("已选")]),i("div",{staticClass:"item"},[e._v(e._s(e.selectedNames||"请选择"))])]):e._e(),e.listTile&&(e.searchStatus&&e.isHasVal||!e.searchStatus)?i("div",{staticClass:"multi-select-list-title"},[e._v("全部")]):e._e(),e.searchStatus?[e.keyword?[e.grouping?i("van-collapse",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.searchData,(function(t,n){return i("van-collapse-item",{key:n,attrs:{title:t.name,name:n}},e._l(t.children,(function(t,n){return i("item",{key:n,attrs:{checked:!!e.checkedItem[t.id],item:t,"render-field":"rename"},on:{click:e.selectItem}})})))}))):e._l(e.searchData,(function(t,n){return i("item",{key:n,attrs:{checked:!!e.checkedItem[t.id],item:t,disabled:t.disabled,"render-field":"rename"},on:{click:e.selectItem}})}))]:e._e()]:[e.grouping?i("van-collapse",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.optionsShow,(function(t,n){return i("van-collapse-item",{key:n,attrs:{title:t.name,name:n}},[e._l(t.children,(function(t,n){return i("item",{key:n,attrs:{checked:!!e.checkedItem[t.id],item:t},on:{click:e.selectItem}})})),e._v("\n            "+e._s(t.id)+"\n          ")],2)}))):e._l(e.optionsShow,(function(t,n){return i("item",{key:n,attrs:{checked:!!e.checkedItem[t.id],item:t,"align-right":e.checkBoxAliRight,disabled:t.disabled},on:{click:e.selectItem}})})),e.optionsShow.length?e._e():i("loading-status",{attrs:{"is-empty":!0,"empty-text":"没有内容",type:"search"}})]],2),e.checkBoxAliRight?e._e():i("app-button-group",{staticClass:"ctrl",attrs:{"fixed-bottom":""}},[i("app-button",{on:{click:e.submit}},[e._v("提交")])],1)],1):e._e()],1)}),[],!1,null,"89cd976c",null).exports,o=!1;o||(o=new(n.default.extend(s))({el:document.createElement("div")}),document.body.appendChild(o.$el));t.a=o},"50d5e":function(e,t,i){"use strict";i("2dea")},"53bf":function(e,t,i){(e.exports=i("690e")(!1)).push([e.i,".zjapp .single-item[data-v-b3cb8602]{min-height:44px}.zjapp .single-item .checkbox[data-v-b3cb8602]{font-size:14px;color:transparent;text-align:center;line-height:inherit;width:20px;height:20px;box-sizing:border-box;border:1px solid #dcdcdc;transition:.2s;border-radius:100%;display:inline-block;vertical-align:middle}.zjapp .single-item .checkbox i[data-v-b3cb8602]{display:none}.zjapp .single-item .checkbox.checked[data-v-b3cb8602]{color:#fff;border-color:#1989fa;background-color:#1989fa}.zjapp .single-item .checkbox.checked i[data-v-b3cb8602]{display:inline-block}.zjapp .single-item .checkbox.disabled[data-v-b3cb8602]{border-color:#b2b2b2}.zjapp .single-item .checkboxtxt[data-v-b3cb8602]{flex:1;margin-left:8px}.zjapp .single-item .disabled-text[data-v-b3cb8602]{color:#b2b2b2}.zjapp .wrapper[data-v-b3cb8602]{display:flex;align-items:center}",""])},"88c7":function(e,t,i){"use strict";var n=i("c7df").a,a=i("17cc"),c=Object(a.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{on:{click:e.openSelect}},[e.$slots.default?e._t("default"):i("item",{class:e.required,attrs:{label:e.title,text:e.selectVal,mode:e.mode,editabled:e.editabled,placeholder:e.required?"请选择":"选填"}},[e.$slots.right?e._t("right",null,{slot:"right"}):e._e()],2)],2)}),[],!1,null,null,null);t.a=c.exports},b65c:function(e,t,i){"use strict";(function(e){i("5ab2"),i("e10e"),i("f548"),i("9dd9"),i("cc57");var n=i("28f8"),a=(i("6d57"),i("de78"),i("9eea")),c=i("b850"),s=i("774b"),o=i("e89f");function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}t.a={name:"AppMultiSelect",components:{appSearchBar:a.default,item:c.a,Scroller:s.default},mixins:[o.a],props:{},data:function(){return{activeTab:[],storageKey:encodeURI(this.title||"multiSelectMark"),storageVal:[],keyword:"",searchStatus:!1,isHasVal:!1,checkedItem:{},show:!1,searchData:[],showSelected:!1,listTile:"",selectedNames:"",options:[],optionsLimit:20,pagingOptions:!1,searchBar:!0,category:[]}},computed:{optionsShow:function(){return this.options&&this.options.length?this.grouping?this.getGroupData():this.options.slice(0,this.optionsLimit):[]},realChecked:function(){return Object.values(this.checkedItem).filter((function(e){return!!e}))}},watch:{keyword:function(e){var t=this;this.$nextTick((function(){t.filterList(e)}))}},methods:{openPopup:function(t){this.value=!0,this.show=!0,this.title=t.title,this.selected=t.selected,this.options=t.options,this.onSelect=t.onSelect,this.searchBar=t.searchBar,this.grouping=t.grouping,this.rightBtn=t.rightBtn,this.rightBtnEvent=t.rightBtnEvent,this.checkBoxAliRight=t.checkBoxAliRight,this.showSelected=t.showSelected,this.listTile=t.listTile,this.beforeCheck=t.beforeCheck,e.isEmpty(this.selected)&&(this.selectedNames=""),this.setValue(t.selected),this.$emit("open")},setValue:function(e){var t={};e&&e.length?(e.forEach((function(e){e&&(t[e.id]=e)})),this.checkedItem=t):this.checkedItem={}},closePopup:function(){this.value=!1,this.show=!1,this.$emit("close")},closeEvent:function(){this.value=!1,this.show=!1,this.keyword="",this.searchStatus=!1,this.$refs["app-search-bar"]&&this.$refs["app-search-bar"].cancelSearch()},selectItem:function(t){var i=this;if(!t.disabled){var n=this.beforeCheck&&this.beforeCheck(t);n instanceof Promise||(n=Promise.resolve(n)),n.then((function(n){if(!1!==n){var a=l({},i.checkedItem);if(i.$refs["app-search-bar"]&&i.$refs["app-search-bar"].saveHistory(),i.checkedItem[t.id]?delete a[t.id]:a[t.id]=t,i.checkedItem=a,i.showSelected){var c=[];e.each(i.checkedItem,(function(e){c.push(e.name)})),i.selectedNames=c.join("、")}}}))}},onSearchTypeChange:function(e){this.searchStatus=e},onInput:function(e){this.isHasVal=!!e},filterList:function(e){var t,i,n=this,a=new RegExp("("+e+")","gmi");if(this.category=[],this.keyword=e,this.searchData=[],!e)return!1;this.options.map((function(e){return a.test(e.name)&&(i=l(l({},e),{},{rename:e.name.replace(a,"<label>$1</label>")}),n.grouping?-1===(t=n.category.indexOf(i[n.grouping]))?(n.category.push(i[n.grouping]),n.searchData.push({name:i[n.grouping],children:[i]})):n.searchData[t].children.push(i):n.searchData.push(i)),e}))},pageOptions:function(){this.optionsLimit=this.optionsLimit+20,this.pagingOptions=!1},getGroupData:function(){var e,t=this,i=[];return this.category=[],this.options.map((function(n){return-1===(e=t.category.indexOf(n[t.grouping]))?(t.category.push(n[t.grouping]),i.push({name:n[t.grouping],children:[n]})):i[e].children.push(n),n})),i},submit:function(){var e=Object.values(this.checkedItem);this.onSelect(e),this.closeEvent()},getHadSelectValue:function(){return Object.values(this.checkedItem)}}}}).call(this,i("391c"))},b850:function(e,t,i){"use strict";var n={name:"MultiSelectItem",props:{item:{type:Object,default:function(){return{id:"",name:""}}},checked:{type:Boolean,default:!1},alignRight:{type:Boolean,default:!1},renderField:{type:String,default:"name"},disabled:{type:Boolean,default:!1}},methods:{selectItem:function(e){this.disabled||this.$emit("click",e)}}},a=(i("c85b"),i("17cc")),c=Object(a.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("van-cell",{staticClass:"single-item",attrs:{clickable:!0},on:{click:function(t){e.selectItem(e.item)}}},[i("div",{staticClass:"wrapper"},[i("span",{class:{checkbox:!0,checked:e.checked,disabled:e.disabled},style:{order:e.alignRight?10:0}},[i("i",{staticClass:"van-icon van-icon-success"})]),i("div",{staticClass:"checkboxtxt",class:{"disabled-text":e.disabled}},[i("span",{domProps:{innerHTML:e._s(e.item[e.renderField])}}),e.alignRight?i("p",{staticClass:"f12 color-gray"},[e._v(e._s(e.item.code))]):e._e()])])])}),[],!1,null,"b3cb8602",null);t.a=c.exports},c7df:function(e,t,i){"use strict";(function(e){i("cc57");var n=i("07d2"),a=i("3730"),c=i("6144");t.a={name:"MultiSelect",components:{Item:n.default},props:{title:{type:String,default:""},value:{type:Array,default:function(){return[]}},options:{type:Array,default:function(){return[]}},selectedText:{type:String,default:""},required:{type:Boolean,default:!0},mode:{type:String,default:"edit"},editabled:{type:Boolean,default:!0},memory:{type:Boolean,default:!1},autoSelect:{type:Boolean,default:!1},beforeOpen:{type:Function,default:function(){}},beforeCheck:{type:Function,default:function(){}},searchBar:{type:Boolean,default:!0},checkBoxAliRight:{type:Boolean,default:!1},grouping:{type:String,default:""},rightBtn:{type:String,default:""},rightBtnEvent:{type:Function,default:function(){return 0}}},data:function(){return{memoryKey:this.$route.name+encodeURI(this.title)}},computed:{selectVal:function(){return""!==this.selectedText?this.selectedText:this.value&&this.value.length?this.value.map((function(e){return e.name})).join("、"):"view"===this.mode?"无":""}},watch:{options:function(){this.setSelected()}},mounted:function(){this.setSelected()},methods:{openSelect:function(){var t=this;if(this.editabled){var i=this.beforeOpen();i&&i.then&&e.isFunction(i.then)?i.then((function(e){!1!==e&&t.openPopup()})):!1!==i&&this.openPopup()}},renderSelected:function(e){a.a.selectItem(e)},openPopup:function(){var e=this;a.a.openPopup({title:"选择"+this.title,selected:this.value,options:this.options,required:this.required,searchBar:this.searchBar,grouping:this.grouping,rightBtn:this.rightBtn,checkBoxAliRight:this.checkBoxAliRight,beforeCheck:this.beforeCheck,onSelect:function(t){e.$emit("input",t),e.$emit("onSelect",t)},rightBtnEvent:function(t){e.$emit("rightBtnEvent",t)}})},setDialogValue:function(e){a.a.setValue(e)},getDialogValue:function(){return a.a.getHadSelectValue()},closePopup:function(){a.a.closePopup()},onSelect:function(e){this.$emit("input",e),this.$emit("onSelect",e)},setSelected:function(){var t=c.a.getObject(this.memoryKey,c.a.level.user);!1===this.editabled||e.isEmpty(this.options)||(e.isEmpty(this.value)?this.memory&&!e.isEmpty(t)&&e.some(this.options,{id:t.id})&&(this.$emit("input",t),this.autoSelect&&this.$emit("onSelect",t)):this.autoSelect&&this.$emit("onSelect",this.value))}}}}).call(this,i("391c"))},c85b:function(e,t,i){"use strict";i("f6e3")},f6e3:function(e,t,i){var n=i("53bf");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i("85cb").default)("d3b0c900",n,!0,{sourceMap:!1,shadowMode:!1})}}]);