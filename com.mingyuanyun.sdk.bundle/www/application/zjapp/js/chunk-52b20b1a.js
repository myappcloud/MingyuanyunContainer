(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-52b20b1a","chunk-2d2263f6"],{"00e4":function(t,e,a){"use strict";(function(t){a("6d57"),a("163d"),a("ed63"),a("8cf2");var s=a("07d2"),i=a("e2a7"),n=a("966e"),o=a("7cb8");e.a={name:"ListFooter",components:{Item:s.default},props:{batch:{type:Object,default:function(){}},listData:{type:Array,default:function(){return[]}},totalData:{type:Object,default:function(){}},editable:{type:Boolean,default:!1}},data:function(){return{unqualifiedTotal:0,total:0,tips:""}},computed:{parseBatch:function(){if(!this.batch)return{};var e=t.clone(this.batch);return e.template_extension="string"==typeof e.template_extension?JSON.parse(e.template_extension||""):e.template_extension,e},batchMode:function(){return this.batch?parseInt(this.batch.mode):""},batchMeasurePassRate:function(){var t=this.batch.template_extension;return t&&t.pass_rate_mode||1},batchPortfolioTemplate:function(){var t=this.batch.template_extension;return t&&t.total_score_algorithm||1},isSubmitStatus:function(){return this.listData.map((function(t){return"检查完毕"===t.status})).includes(!0)}},watch:{listData:{handler:function(t){this.getTotal()},immediate:!0,deep:!0}},methods:{round:function(t){return Object(n.b)(t,2)},parseNumber2:function(t){return+(+t).toFixed(2)},formulaTips:function(){var e="",a=this.totalData,s=a.scoreRate,o=a.qualityScoreRate,c=a.unqualifiedTotalNum,r=a.qualifiedTotalNum,l=(a.totalItemNum,a.measurement_points),u=a.problem_points,d=a.deduction,p=a.score,m=a.redlineDeduction,h=(a.unqualifiedRateWeighted,a.real_toltal_checked_score),b=a.toltal_checked_score,f=a.unqualifiedRate,g="";if(1===this.batchMode){var _=[],v=[];t.each(this.listData,(function(t){if(t.hasProblem){var e=t.score-t.deduction<0?0:t.score-t.deduction;_.push("".concat(Number(e.toFixed(2)),"*").concat(t.weight,"%")),v.push("".concat(t.weight,"%"))}})),t.isEmpty(_)||(e="(".concat(_.join("+"),")/(").concat(v.join("+"),")=").concat(s)),g="得分=∑（有记录的一级检查项得分*该项权重）/∑（有记录的一级检查项权重）".concat(e?"="+e:"")}else if(2===this.batchMode)g=this.tips;else if(3===this.batchMode)if(0===p)g="得分＝检查过的项目得分之和/检查过的项目满分之和*100%";else{var C=Object(n.a)((p-d)/p,2);g="得分＝检查过的项目得分之和/检查过的项目满分之和*100%=\n".concat(this.round(p-d,2),"/").concat(p,"*100%=").concat(C)}else if(4===this.batchMode){var x=[],y=[];t.each(this.listData,(function(t){t.hasProblem&&(x.push("".concat(t.scoreRate,"%*").concat(t.weight||0,"%")),y.push("".concat(t.weight||0,"%")))})),g=t.isEmpty(x)?"综合得分=(已检查的一级检查项得分率的加权平均-红线扣分*0.01)*100%":"综合得分=(已检查的一级检查项得分率的加权平均-红线扣分*0.01)*100%=((".concat(x.join("+"),")/(").concat(y.join("+"),")-").concat(m,"*0.01)*100%=").concat(s,"%")}else if(5===this.batchMode){var k=[],w=[0];t.each(this.listData,(function(t,e){k.push(t.score),t.deduction&&(w[e]=Math.min(t.deduction,t.score))})),g="得分=总满分-总扣分=(".concat(k.join("+"),") - (").concat(w.join("+"),") = ").concat((p-d).toFixed(2),"\n需至少检查一项，记录合格或扣分，批次创建人才能最终结束并提交")}else if(6===this.batchMode){if(0!==c||0!==r){var B=(r/(r+c)*100).toFixed(2);e="".concat(r,"/").concat(r+c,"*100%=").concat(B,"%")}g="合格率=参与检查的合格项数/参与检查的全部项数*100%".concat(e?"\n"+e:"")}else if(7===this.batchMode)if(2===this.batchMeasurePassRate){var I=[],P=[];t.forEach(this.listData,(function(t){if(t.measurement_points){var e=(Number(t.measurement_points)-Number(t.problem_points))/Number(t.measurement_points);e=Object(n.a)(e||0,2);var a=(Number(t.weight)||0)/100;a=Object(n.a)(a||0,2,!1),I.push("".concat(e,"*").concat(a)),P.push("".concat(a))}})),I.length>0&&P.length>0&&(e="= (".concat(I.join("+"),") / ( ").concat(P.join("+")," ) = ").concat(Object(n.a)(f||0,2))),g="总合格率 = ( 一级检查项1合格率*一级检查项1权重+一级检查项2合格率*一级检查项2权重+...+一级检查项n合格率*一级检查项n权重) / (一级检查项1权重+一级检查项2权重+...+一级检查项n权重) ".concat(e?"\n"+e:"")}else if(3===this.batchMeasurePassRate){var j=[],D=[];t.forEach(this.listData,(function(e){t.forEach(e.subitems,(function(t){if("检查完毕"===t.status&&t.measurement_points){var e=(Number(t.measurement_points)-Number(t.problem_points))/Number(t.measurement_points);e=Object(n.a)(e||0,2);var a=(Number(t.weight)||0)/100;a=Object(n.a)(a||0,2,!1),j.push("".concat(e,"*").concat(a)),D.push("".concat(a))}}))})),j.length>0&&D.length>0&&(f||0===f)&&(e="= (".concat(j.join("+"),") / ( ").concat(D.join("+")," ) = ").concat(Object(n.a)(f||0,2))),g="总合格率 = ( 末级检查项1合格率*末级检查项1权重+末级检查项2合格率*末级检查项2权重+...+末级检查项n合格率*末级检查项n权重) / (末级检查项1权重+末级检查项2权重+...+末级检查项n权重) ".concat(e?"\n"+e:"")}else{var S=Object(n.a)((l-u)/l,2);e="=".concat(l-u,"/").concat(l,"*100%=").concat(S),g="总合格率=总合格点数/总实测点数*100%".concat(e?"\n"+e:"")}else if(8===this.batchMode)e="（（ ".concat(Number(p.toFixed(2))," - ").concat(Number(d.toFixed(2))," ）/ ").concat(Number(p.toFixed(2))," - ").concat(Number(m.toFixed(2))," * 0.01）* 100% = ").concat(o,"% "),g="综合得分 =（（已检项的应得分-扣分值）/应得分-星标项的加扣分值*0.01）*100%\n".concat(e);else if(10===this.batchMode)console.log(this.parseBatch),g="当前综合得分=".concat(this.parseBatch.template_extension&&1===this.parseBatch.template_extension.score_mode?"加分值之和=":"扣分值之和=-").concat(Number(d.toFixed(2)));else if(9===this.batchMode)e="（".concat(Number(h).toFixed(2)," / ").concat(Number(b).toFixed(2),") * 100% = ").concat(f,"% "),g="综合得分 =（已检项的实得分之和 / 已检项应得满分之和）*100%\n".concat(e);else if(99===this.batchMode){var O=this.listData.filter((function(t){return"检查完毕"===t.status})),T=Object(n.a)(this.totalData.score,2,!1),N=t.map(O,(function(t){var e=t.score.includes("%")?t.score:t.score+"%";return"".concat(e,"*").concat(t.weight?t.weight+"%":" ")}));if(2===this.batchPortfolioTemplate){var M=t.map(O,(function(t){return"".concat(t.weight?t.weight+"%":" ")}));e="= (".concat(N.join("+"),") / (").concat(M.join("+"),") = ").concat(T),g="总分 = (得分1*权重1+...+得分n*权重n) / (权重1+…+权重n) ".concat(e&&this.isSubmitStatus?"\n"+e:" ")}else e="=".concat(N.join("+"),"=").concat(T),g="总分=得分1*权重1+...+得分n*权重n".concat(e&&this.isSubmitStatus?"\n"+e:" ")}i.a.notify(g,{buttonName:"知道了",className:"broad-dialog"})},getTotal:function(){if(1===this.batchMode);else if(2===this.batchMode){var t=Object(o.g)(this.listData,"status",["合格","不合格"]),e=t["合格"],a=t["不合格"],s=a+e;this.unqualifiedTotal=a,this.total=s?(e/s*100).toFixed(2):0,this.tips="合格率=合格项总数/（合格项数+不合格项数）*100%=".concat(e,"/").concat(s,"*100%=").concat(this.total,"%")}}}}}).call(this,a("391c"))},"06c7":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .icon-yiwen[data-v-ebe7c1aa]{font-size:18px;color:#b4b4b4;line-height:30px;padding-left:10px}.zjapp .ios-bezel-less .item[data-v-ebe7c1aa]{padding-bottom:42px}",""])},1173:function(t,e,a){"use strict";(function(t){a("5ab2"),a("e10e");var s=a("28f8"),i=(a("6d57"),a("f548"),a("e697"),a("ed63"),a("8cf2"),a("6a61"),a("2e91")),n=(a("cc57"),a("fd50")),o=a("3bd5"),c=a("f369"),r=a("774b"),l=a("3516"),u=a("6144"),d=a("6e1b"),p=a("48f4"),m=a("7b81"),h=a("07d2"),b=a("f7ab"),f=a("e2a7"),g=a("d3a3"),_=a("2c802"),v=a("a18c"),C=a("7cb8"),x=a("6f9e"),y=a("bc49"),k=a("7a71"),w=a("2798"),B=a("7bac"),I=a("4360"),P=a("8d95"),j=a("9416");function D(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}var S;e.a={name:"SpecialInspect",components:{CheckGuide:c.a,Scroller:r.default,Item:h.default,SynchronizeTipBar:b.a,IndexList:g.a,ListFooter:_.a},data:function(){return{title:Object(j.a)(P.a.SPECIAL_INSPECT)||"专项巡检",isBatchLoading:!0,isListLoading:!0,currentUserId:o.a.getUser().user_id,routeBatchId:"",currentBatch:{},currentBatchCreater:{},hasNewBatchRights:!1,batchEditable:!0,editable:!1,isBatchChecker:!1,partCanClick:!1,listData:[],isListEmpty:!0,totalData:{scoreRate:"",qualityScoreRate:"",unqualifiedTotalNum:"",qualifiedTotalNum:"",totalItemNum:"",measurement_points:"",problem_points:"",unqualifiedRate:"",scoreRateWithoutWeight:"",deduction:"",score:"",redlineDeduction:""},templateConfig:null,indexListComponent:null,indexFooterComponent:null,popupShow:!0}},computed:{projId:function(){return this.$store.state.global.currentProject.id},batchLocalStorageKey:function(){return"SpecialInspectBatchStorageKey-"+this.$store.state.global.currentProject.id},batchText:function(){return this.isBatchLoading?"正在加载检批次...":this.currentBatch&&this.currentBatch.id?this.currentBatch.is_closed?"上次使用的批次已关闭":this.currentBatch.name:this.hasNewBatchRights?"请新建一个检查批次":"暂无与你相关的检查批次"},batchTips:function(){return this.isBatchLoading?"":this.batchEditable&&this.currentBatch&&this.currentBatch.id&&!this.currentBatch.is_closed?"切换批次":""},batchArrow:function(){return!this.isBatchLoading&&(!!this.batchEditable&&(!(!this.currentBatch||!this.currentBatch.id)||this.hasNewBatchRights))},submitLogic:function(){return!this.isListLoading&&this.listData.length&&this.editable&&this.currentBatch.created_by===this.currentUserId},submitComboGray:function(){return t.some(this.listData,{status:"检查完毕"})},hasAllProblem:function(){var t=this.currentBatch&&this.currentBatch.mode||"",e=this.templateConfig&&this.templateConfig.pages&&this.templateConfig.pages.index||{};return[1,3,5,6,8,9].some((function(e){return e===t}))||10===t&&this.currentBatch.template_extension&&2===this.currentBatch.template_extension.score_mode||e.hasAllProblemList}},created:function(){var t=this;Object(x.d)((function(){t.init()})),Object(x.e)((function(){t.init()}))},activated:function(){this.routeBatchId=this.$route.query.batch_id,this.init()},beforeRouteEnter:(S=Object(i.a)(regeneratorRuntime.mark((function t(e,a,s){var i,n,c,r,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!I.a.state.global.allGrayRelease.UsingSpecialInspectEnterListPage||!a.path.includes("/layout/workbench")){t.next=30;break}return i="SpecialInspectBatchStorageKey-"+I.a.state.global.currentProject.id,t.next=4,B.a.getUserKey(i);case 4:if(n=t.sent,c=I.a.state.global.currentProject.id,r=o.a.getUser().user_id,l={},!n||n.proj_id!==c){t.next=21;break}return t.next=11,d.a.getSpecialInspectBatchById(n.id);case 11:if(l=t.sent){t.next=19;break}return t.next=15,d.a.getSpecialInspectBatch(c,r);case 15:if(t.t0=t.sent[0],t.t0){t.next=18;break}t.t0={};case 18:l=t.t0;case 19:t.next=27;break;case 21:return t.next=23,d.a.getSpecialInspectBatch(c,r);case 23:if(t.t1=t.sent[0],t.t1){t.next=26;break}t.t1={};case 26:l=t.t1;case 27:"检查完毕"===l.status?(window.closeRouteChangeTransition=!0,s((function(t){t.$router.push("/special-inspect-batch-list")}))):s(),t.next=31;break;case 30:s();case 31:case"end":return t.stop()}}),t)}))),function(t,e,a){return S.apply(this,arguments)}),methods:{init:function(){var e=this;return Promise.resolve().then((function(){if(e.routeBatchId)return d.a.getSpecialInspectBatchById(e.routeBatchId)})).then((function(a){if(t.isEmpty(a))return e.batchEditable=!0,d.a.getSpecialInspectBatch(e.projId,e.currentUserId).then(function(){var a=Object(i.a)(regeneratorRuntime.mark((function a(s){var i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.getUserKey(e.batchLocalStorageKey);case 2:(i=a.sent)&&i.proj_id===e.projId?e.currentBatch=t.find(s,{id:i.id})||s[0]||{}:e.currentBatch=s[0]||{};case 4:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}());e.currentBatch=a,e.batchEditable=!1})).then((function(){var t=e.currentBatch;if(7===t.mode||99===t.mode||10===t.mode){var a=t.template_extension,s="string"==typeof a&&a?JSON.parse(a):{};t.template_extension=s,e.currentBatch=t}})).then((function(){return l.a.checkUserBatchRights(e.currentUserId).then((function(t){e.hasNewBatchRights=!!t}))})).then((function(){if(t.isEmpty(e.currentBatch))return Promise.reject("没有批次")})).then((function(){return m.a.getUser(e.currentBatch.created_by).then((function(t){e.currentBatchCreater=t||{}}))})).then((function(){return l.a.getBatchUsers(e.currentBatch.id).then((function(a){var s=t.some(a,{user_id:e.currentUserId}),i=e.currentBatchCreater&&e.currentBatchCreater.id===e.currentUserId;e.editable="检查完毕"!==e.currentBatch.status&&s,e.isBatchChecker=s,e.partCanClick="检查完毕"!==e.currentBatch.status&&(s||i),e.isBatchLoading=!1}))})).then((function(){var t=e.currentBatch.mode;e.getTemplateConfig(t),e.$refs.indexListComponent&&e.$refs.indexListComponent.$emit("reload"),e.$refs.indexFooterComponent&&e.$refs.indexFooterComponent.$emit("reload")})).then((function(){if(!e.indexListComponent&&!e.indexFooterComponent){var t=e.currentBatch.mode;return 7===t?d.a.getSpecialInspectMeasureList(e.currentBatch.id):99===t?d.a.getTemplateComboList(e.currentBatch.id):d.a.getSpecialInspectCheckItem(e.currentBatch.id,e.currentBatch.mode)}})).then((function(a){if(!e.indexListComponent&&!e.indexFooterComponent){var s=u.a.getUserObject("special-inspect-index-list-memory")||{};t.each(a,(function(e){e.isOpen=s[e.id],t.each(e.subitems||[],(function(t){t.isOpen=s[t.id]}))})),e.listData=a,setTimeout((function(){e.listData=a,console.log(a)}),1e3),e.totalData=d.a.getTotalData(a,e.currentBatch)}})).finally((function(){e.indexListComponent||e.indexFooterComponent||(e.isListEmpty=!e.listData||!e.listData.length),e.isListLoading=!1})).catch((function(t){console.error(t),e.isBatchLoading=!1,e.isListLoading=!1,e.listData=[]}))},getTemplateConfig:function(t){if(!t)return this.templateConfig={},this.indexListComponent=null,void(this.indexFooterComponent=null);var e=y.a.templates.find((function(e){return e.mode===t}));this.templateConfig!==e&&(this.templateConfig=e,this.indexListComponent=e&&e.indexListComponent||null,this.indexFooterComponent=e&&e.indexFooterComponent||null)},onPullDown:function(){var t=this;d.a.recoverDraftFromMmkv().then((function(){t.init()}))},templateComboDetail:function(t){"检查完毕"===this.currentBatch.status&&"检查完毕"!==t.status||this.$router.push({path:"/special-inspect-combo-template-detail",query:{batchId:t.batch_id,from:this.routeBatchId?"todo":""}})},getAllProblem:function(){this.templateConfig&&this.templateConfig.isProblemPureMode?this.$router.push({path:"/special-inspect-problem-pure-list",query:{batchId:this.currentBatch.id}}):this.$router.push({path:"/special-inspect-problem-list",query:{batchId:this.currentBatch.id,mode:this.currentBatch.mode}})},editPlace:function(){var t=this;f.a.popBoxExt({content:'<textarea class="special-inspect-index-place-text"  id="special-inspect-index-place-text" maxlength="50" placeholder="请输入检查部位"></textarea>',cssClass:"promptBox",buttons:["取消","保存"],buttonsType:["color-gray1"],scope:this,callback:function(e){switch(e){case 1:var a=document.querySelector("#special-inspect-index-place-text"),s=a?a.value.trim():"";if(""===s)return;t.currentBatch.place=s,l.a.updateBatchPlace(t.currentBatch.id,s)}}}),setTimeout((function(){document.querySelector("#special-inspect-index-place-text")&&(document.querySelector("#special-inspect-index-place-text").value=t.currentBatch.place||"")}),100),setTimeout((function(){var t=document.querySelector("#special-inspect-index-place-text");t&&(t.focus(),window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&window.cordova.plugins.Keyboard.show())}),500)},backEvent:function(){window.__YL_SUPER_APP__?v.a.back():this.$router.replace("/layout/workbench",!0)},batchClick:function(){this.isBatchLoading||this.batchEditable&&(this.currentBatch&&this.currentBatch.id?this.$router.push("/special-inspect-batch-list"):this.hasNewBatchRights&&this.$router.push("/special-inspect-batch-add"))},problemAdd:function(t){this.currentBatch.id&&!this.currentBatch.is_closed?this.$router.push({name:"CheckEdit"}):f.a.alert("请先选择检查批次")},problemEdit:function(t){this.$router.push({name:"CheckEdit",params:{id:t.id}})},problemDetail:function(t){this.$router.push({name:"CheckDetail",params:{id:t.id}})},finishCheckBatch:function(){var e=this;if(99===this.currentBatch.mode)return this.comboSubmit();if(10!==this.currentBatch.mode){var a=!1,s=n.a.when(!0),i=[],o=0,c=[],r=0,l=0,u=8===this.currentBatch.mode?t.find(this.listData,(function(t){return t.temporaryStorage>0})):void 0;if(2===this.currentBatch.mode){var m=(this.listData||[]).filter((function(t){return t.subitems&&t.subitems.length})),h=Object(C.g)(m,"status",["未设置","草稿"]);if(h["未设置"]>0||h["草稿"]>0)return void f.a.notify("有未检查的检查项，请检查完之后重试","知道了")}if(5!==this.currentBatch.mode&&8!==this.currentBatch.mode||(a=t.every(this.listData,(function(t){return!t.hasProblem}))),6!==this.currentBatch.mode||0!==this.totalData.unqualifiedTotalNum||0!==this.totalData.qualifiedTotalNum){if(!a){if(7===this.currentBatch.mode){t.each(this.listData,(function(e){var a=r,s=o;t.each(e.subitems,(function(t){"未设置"===t.status&&(r+=1),"检查中"===t.status&&(o+=1),"未设置"!==t.status&&"检查中"!==t.status&&(l+=1)})),a!==r&&c.push(e),s!==o&&i.push(e)}));var b=this.currentBatch.place&&this.currentBatch.place.trim();if(!b||!l)return void f.a.alert((b?"":"检查部位必填")+(b||l?"":"；")+(l?"":"至少1项有记录"));if(o)return void f.a.notify('有<span class="color-orange pl5 pr5">'+o+"</span>项暂存，请先填写完整或删除草稿后再提交","知道了").then((function(){t.each(i,(function(t){t.isOpen=!0}))}));r&&(s=f.a.popBox({title:'有<span class="color-orange pl5 pr5">'+r+"</span>项无记录，是否正常提交？",cancelText:"取消",okText:"提交"}))}else if(8===this.currentBatch.mode&&void 0!==u)s=f.a.confirm("有暂存数据未提交，继续操作将清除所有暂存数据，是否确定提交？");else if(9===this.currentBatch.mode){var g=!1;if(function e(a){t.forEach(a,(function(t){t.subitems.length||"检查完毕"===t.status||"已甩项"===t.status||(g=!0),t.subitems.length&&!g&&e(t.subitems)}))}(this.listData),g)return f.a.notify("有未检查的检查项，请检查完之后重试","知道了")}return s.then((function(a){if(a)return d.a.getBatchWillUploadNum(e.currentBatch.id).then((function(a){if(t.isEmpty(a)){var s=n.a.when(!0);return(8!==e.currentBatch.mode||8===e.currentBatch.mode&&void 0===u)&&(s=f.a.confirm("请确保所有检查人已上传数据，提交后不可修改，确认提交？")),s.then((function(a){var s=t.clone(e.currentBatch);if(a)return delete s.contracts,d.a.finishCheckBatch(s).then((function(){return p.default.setLocalChanged(),e.init()})).catch((function(t){console.error(t),t&&500102===t.errcode?f.a.alert("检测到检查结果有冲突，请下拉刷新后再试"):f.a.alert(t)}))}))}f.a.alert("还有问题正在上传，请等待问题上传完毕")}));7===e.currentBatch.mode&&t.each(c,(function(t){t.isOpen=!0}))}))}f.a.notify("您未录入任何检查项的检查记录，请录入后再提交","知道了")}else f.a.notify("至少有一项检查记录","知道了")}else Object(k.a)(this)},comboSubmit:function(){var t=this;return this.submitComboGray?f.a.confirm("请确保所有检查人已上传数据，提交后不可修改，确认提交？").then((function(e){if(!e)return!1;var a=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?D(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t.currentBatch);return delete a.contracts,d.a.finishCheckBatch(a).then((function(){return p.default.setLocalChanged(),t.init()})).catch((function(t){console.error(t),t&&500102===t.errcode?f.a.alert("检测到检查结果有冲突，请下拉刷新后再试"):f.a.alert(t)}))})):(f.a.alert("请至少完成一个评分表数据录入"),!1)},indexListLoaded:function(t){this.isListEmpty=!t||!t.length},openPopupList:function(t){var e=this;if(w.a.show)w.a.closePopup();else{var a="special_inspect_template_is_desc";B.a.getUserKey(a).then((function(s){w.a.openPopup({isDesc:s||!1,el:t&&t.target?t.target:null,callback:function(t,s){"toAll"===t?e.getAllProblem():"switchChange"===t&&(B.a.setUserKey(a,s),e.init())}})}))}}}}}).call(this,a("391c"))},"21c0":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA7pJREFUaAXtWEtPE1EU/s5YRDE+NuqGmGjagmCmJSx0Jz4WBlaauBETn0SJOxXfMT4WxGh0I4nxkRAXRhdufSx8/ASKEtpSNWokLojIAkyl9HimqOmUmencYQZd9CaTmXvmnPOd75x779w7QKVVMlDJQCUD/zIDFBQ4J6JbAL4j1yiqqnZQw+DHILACIcAJfREw8Q6Mlb+DfkXxzOYgCGhBOAV+dBYFb0Bs4v7wxiCwfCfAH1oWyLA5PiNYpnMzZD4IfCeAsS8dJdmfDpN5KyfCG3yI2eTCVwI80DgfhBMmhOJOAFXwlQCmJveCubY4ZvMzt3FfuMksm13PNwLMLSEJ/lTZcMjfueAbAfQPtwuB1WUJgLfzQENjeT13Gr4Q4KFwNTh/1hUkyyzJTV50petCyfOHjPmChuTDVchOrROcw7J0trnAK1bpQWjeY1BokBoHvha/UHkuS4CTdYsxiTrwVB1Acuf63/eIAC1UAXPQHROfKRCnAC0pyUghVJXE/J8ZimSyDnZSTpvGich6cdQja3qzjUrwYkJeiD1DtdZB9alhK0CHOcB3/2nwRrQMTSreiixfsgrekDkQwFI7o7mX8wo7THsCROXXdDuvfst5Xo+dS1sCpA89kAIdszOcMzlRF8WTz+3wbAkYBhRPX4fPX067QKzldJ5iQ9es301LbVehYiPui1yWGRXIdrgYx/RM6KZY5oxJZtFxRcCwk2X1qqwIM/f5Fk5nL9JuSPWPuvHjmoDhTHaSN+V2xI1jzzpEt2TYdLq1VyPATOiP3Jb1+aBbADU96kUsvZ+I2K2d4yQudVJwrO8+JBP7Sem7WfeJXiDWfkAleANTqQJ/guS30Rhy+b4/fV/umtZKevqpqi+lCvx1TjKU/G4aRry49EYgh7VewBxtcpBdrnrzRgBsnAH8bp5OaR4JwBOYM2NvSfFIgAKowBwR4OHmGvmkrXbOpoe3hFWF05+iqXoFRsbXFg4aikBl1Y3DfjbfUFavREGdAOfdDp/XIK1Dwjoo18sSXJuu+jAK2XhyEJcBIbyRwE/JR6n4a32PE3XbgPwV2RDqts5ZU14cPFSAw5YBED5Do33Qd8dLgi+oUyz1DHp7k5DbIxX5ZO0jv8ZS7iBUJ0A0UeLvuwR+Ektqo3KK6yW6IH8SrJvxjmLp+6hBVPZTXUJk1KTJ2ntT30VHeUsgf6DDyGUfiu/lspV6BFrQTfobcyAugA0V/hBfhrHx00Jkl/TSCFXvlJ9c31yaV9QqGahkoJKB/yADvwCwKfUADObhFgAAAABJRU5ErkJggg=="},"264e":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"c",(function(){return i})),a.d(e,"b",(function(){return n})),a.d(e,"d",(function(){return o}));var s="检查完毕",i="未设置",n="草稿",o=[i,n]},2798:function(t,e,a){"use strict";var s=a("329b"),i=a("07d2"),n=a("e89f"),o=a("6f9e"),c={name:"DropDownSelectCheckDialog",components:{Item:i.default},mixins:[n.a],data:function(){return{show:!1,showList:!1,contentTop:44,listHeight:475,options:[],selected:{},totalProblemNum:0,isDesc:!1,target:""}},watch:{show:function(t){var e=this;t&&this.$nextTick((function(){e.showList=!0}))}},created:function(){o.a.$on("routerBeforeEach",this.closePopup),o.a.$on("pageContentClick",this.onClickOther)},destroyed:function(){o.a.$off("routerBeforeEach",this.closePopup),o.a.$off("pageContentClick",this.onClickOther)},methods:{openPopup:function(t){if(this.show=!0,this.isDesc=t.isDesc,this.callback=t.callback,t.el){var e=t.el.getBoundingClientRect();this.contentTop=e.bottom}this.target=t.el,this.listHeight=window.innerHeight-this.contentTop-50>475?475:window.innerHeight-this.contentTop-50},onClose:function(){this.show=!1},closePopup:function(){this.showList=!1},onClickOther:function(t){t&&t.target&&t.target!==this.target&&this.show&&this.closePopup()},switchChange:function(t){this.callback("switchChange",t)},getAllProblem:function(){this.callback("toAll"),this.closePopup()}}},r=(a("c2b10"),a("17cc")),l=Object(r.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"content",style:{top:t.contentTop+"px"},on:{click:function(e){return e.target!==e.currentTarget?null:t.closePopup(e)}}},[a("transition",{attrs:{name:"slide-down"},on:{afterLeave:t.onClose}},[t.showList?a("div",{staticClass:"list",style:{"max-height":t.listHeight+"px"}},[a("van-cell",{directives:[{name:"track",rawName:"v-track",value:"专项巡检-首页-全部问题",expression:"'专项巡检-首页-全部问题'"}],attrs:{title:"全部问题","is-link":""},on:{click:t.getAllProblem}}),a("item",{attrs:{label:"展示描述",border:"bottom"}},[a("van-switch",{attrs:{slot:"right"},on:{change:t.switchChange},slot:"right",model:{value:t.isDesc,callback:function(e){t.isDesc=e},expression:"isDesc"}})],1)],1):t._e()])],1):t._e()}),[],!1,null,"d386f5b8",null).exports,u=!1;u||(u=new(s.default.extend(l))({el:document.createElement("div")}),document.body.appendChild(u.$el));e.a=u},"2c802":function(t,e,a){"use strict";var s=a("00e4").a,i=(a("965b"),a("17cc")),n=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("item",{attrs:{border:"top"}},[1===t.batchMode?[a("div",{staticClass:"item-text"},[t._v("当前综合得分")]),a("div",{staticClass:"item-font color-theme f18 fw-b"},[t._v(t._s(t.totalData.scoreRate))]),a("icon",{attrs:{name:"yiwen"},on:{click:function(e){t.formulaTips(t.totalData)}}})]:t._e(),2===t.batchMode?[a("div",{staticClass:"item-text"},[t.editable?a("span",[t._v("当前")]):t._e(),t._v("合格率")]),a("div",{staticClass:"item-font color-gray3"},[t._v(t._s(t.unqualifiedTotal)+"项不合格")]),a("div",{staticClass:"item-font color-theme f18 fw-b ml10"},[t._v(t._s(t.total)+"%")]),a("icon",{attrs:{name:"yiwen"},on:{click:function(e){t.formulaTips(t.totalData)}}})]:t._e(),3===t.batchMode?[a("div",{staticClass:"item-text"},[t._v("当前综合得分")]),a("div",{staticClass:"item-font color-theme f18 fw-b ml10"},[t._v(t._s(t.totalData.scoreRateWithoutWeight)+"%")]),a("icon",{attrs:{name:"yiwen"},on:{click:function(e){t.formulaTips(t.totalData)}}})]:t._e(),4===t.batchMode?[a("div",{staticClass:"item-text"},[t._v("当前综合得分")]),a("div",{staticClass:"item-font color-theme f18 fw-b ml10"},[t._v(t._s(t.totalData.scoreRate)+"%")]),a("icon",{attrs:{name:"yiwen"},on:{click:function(e){t.formulaTips(t.totalData)}}})]:t._e(),5===t.batchMode?[a("div",{staticClass:"item-text"},[t._v("当前综合得分")]),a("div",{staticClass:"item-font color-theme f18 fw-b"},[t._v("\n      "+t._s(t.round(t.totalData.score-t.totalData.deduction,2))+"\n    ")]),a("icon",{attrs:{name:"yiwen"},on:{click:function(e){t.formulaTips(t.totalData)}}})]:t._e(),6===t.batchMode?[a("div",{staticClass:"item-text"},[t.editable?a("span",[t._v("当前")]):t._e(),t._v("合格率")]),a("div",{staticClass:"item-font color-gray3"},[t._v(t._s(t.totalData.unqualifiedTotalNum)+"项不合格")]),a("div",{staticClass:"item-font color-theme f18 fw-b ml10"},[t._v(t._s(t.totalData.unqualifiedRate)+"%")]),a("icon",{attrs:{name:"yiwen"},on:{click:function(e){t.formulaTips(t.totalData)}}})]:t._e(),7===t.batchMode?[a("div",{staticClass:"item-text"},[t.editable?a("span",[t._v("当前")]):t._e(),t._v("合格率")]),a("div",{staticClass:"item-font color-theme f18 fw-b ml10"},[t._v("\n      "+t._s(t._f("percent")(t.totalData.unqualifiedRate,2))+"\n    ")]),a("icon",{attrs:{name:"yiwen"},on:{click:function(e){t.formulaTips(t.totalData)}}})]:t._e(),8===t.batchMode?[a("div",{staticClass:"item-text"},[t._v("当前综合得分")]),a("div",{staticClass:"item-font color-theme f18 fw-b ml10"},[t._v(t._s(t.totalData.qualityScoreRate||0)+"%")]),a("icon",{attrs:{name:"yiwen"},on:{click:function(e){t.formulaTips(t.totalData)}}})]:t._e(),10===t.batchMode?[a("div",{staticClass:"item-text",domProps:{textContent:t._s("当前综合得分")}}),a("div",{staticClass:"item-font color-theme f18 fw-b ml10",domProps:{textContent:t._s((t.parseBatch.template_extension&&1===t.parseBatch.template_extension.score_mode?"":"-")+t.parseNumber2(t.totalData.deduction||0))}}),a("icon",{attrs:{name:"yiwen"},on:{click:function(e){t.formulaTips(t.totalData)}}})]:t._e(),9===t.batchMode?[a("div",{staticClass:"item-text"},[t._v("当前综合得分")]),a("div",{staticClass:"item-font color-theme f18 fw-b ml10"},[t._v(t._s(t.totalData.unqualifiedRate||0)+"%")]),a("icon",{attrs:{name:"yiwen"},on:{click:function(e){t.formulaTips(t.totalData)}}})]:t._e(),99===t.batchMode?[a("div",{staticClass:"item-text"},[t._v("总得分")]),a("div",{staticClass:"item-font ml10"},[t.isSubmitStatus?a("span",{staticClass:"color-theme f18 fw-b"},[t._v(t._s(t._f("percent")(t.totalData.score,2,!1)))]):t._e(),t.isSubmitStatus?t._e():a("span",{staticClass:"color-text"},[t._v("未检查完毕")])]),a("icon",{attrs:{name:"yiwen"},on:{click:function(e){t.formulaTips(t.totalData)}}})]:t._e()],2)}),[],!1,null,"ebe7c1aa",null);e.a=n.exports},"2d6e":function(t,e,a){var s=a("7eb2");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("85cb").default)("53a2fbaa",s,!0,{sourceMap:!1,shadowMode:!1})},"3fee":function(t,e,a){var s=a("a775");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("85cb").default)("79ff1007",s,!0,{sourceMap:!1,shadowMode:!1})},"4aef":function(t,e,a){"use strict";var s=a("dd16").a,i=a("17cc"),n=Object(i.a)(s,(function(){var t=this.$createElement;return(this._self._c||t)("span",{class:this.classSet[this.status]},[this._v(this._s(this.text||this.status))])}),[],!1,null,null,null);e.a=n.exports},"544e":function(t,e,a){"use strict";a("cfed")},5878:function(t,e,a){"use strict";(function(t){var s=a("28f8"),i=a("6144"),n=a("07d2"),o=a("4aef"),c=a("264e");e.a={name:"JfkfItem",components:{Item:n.default,StatusText:o.a},props:{edit:{type:Boolean,default:function(){return!1}},batch:{type:Object,default:function(){return{}}},list:{type:Array,default:function(){return[]}}},data:function(){return{DRAFT:c.b,UN_SETTING:c.c,extendRoot:Object(s.a)({1:"color-gray",2:"color-gray"},c.b,"color-orange"),extend:Object(s.a)({1:"color-green",2:"color-red"},c.b,"color-orange"),flag:!0}},computed:{parseBatch:function(){var e=t.clone(this.batch);return e.template_extension="string"==typeof e.template_extension?JSON.parse(e.template_extension||"{}"):e.template_extension,e}},created:function(){},mounted:function(){},methods:{getStatus:function(t){return t.status===c.b?t.status:this.parseBatch.template_extension.score_mode+""},getItemDeduction:function(t){return t.status===c.b?t.status:t.deduction&&"0"!==t.deduction?"".concat(1===this.parseBatch.template_extension.score_mode?"+":"-").concat(t.deduction):"0"},toggleItem:function(t){this.flag=!this.flag,t.isOpen=!t.isOpen;var e=i.a.getObject("special-inspect-index-list-memory",i.a.level.user)||{};e[t.id]=t.isOpen,i.a.saveObject("special-inspect-index-list-memory",e,i.a.level.user)},tapItem:function(t,e){t.subitems.length?this.toggleItem(t):this.openDetail(t,e)},openDetail:function(t,e){this.$router.push({path:"/special-inspect-jfkf-edit",query:{batchId:this.batch.id,specialInspectId:t.id,checkItemId:t.item_id,mode:this.batch.mode,rootId:e}})}}}}).call(this,a("391c"))},"5d59":function(t,e,a){var s=a("8fb5");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("85cb").default)("541fbb5b",s,!0,{sourceMap:!1,shadowMode:!1})},"64fa":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .content[data-v-d386f5b8]{position:fixed;width:100%;bottom:0;background-color:rgba(0,0,0,.4);overflow:hidden}.zjapp .content .item[data-v-d386f5b8]{justify-content:space-between}.zjapp .content .van-cell__title[data-v-d386f5b8],.zjapp .content[data-v-d386f5b8] .item-label{color:#333}",""])},"65e9":function(t,e,a){"use strict";(function(t){a("5ab2"),a("6d57"),a("e10e");var s=a("28f8"),i=a("4360"),n=a("48f4"),o=a("162a"),c=a("f2d3"),r=a("6906"),l=a("a18c"),u=a("c745");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}e.a={name:"SynchronizeTipBar",props:{isTodo:{type:Boolean},useDownload:{type:Boolean,default:!0},enterDoCheck:{type:Boolean,default:!0},buildingId:{type:String,default:""},automaticUpdateCallback:{type:Function,default:null}},data:function(){return{currentModuleCode:"",oneUpdateData:!0}},computed:{projId:function(){return i.a.state.global.currentProject.id},waitUploadNum:function(){return i.a.state.global.waitUploadNum},hasTopProgress:function(){return i.a.state.global.hasTopProgress},hasChanged:function(){if(!this.useDownload)return!1;if(this.currentModuleCode){var t,e=n.default.isModuleNeedBuilding(this.currentModuleCode)&&!this.isTodo;return!(e&&!this.buildingId)&&(t=this.isTodo?i.a.state.global.todoChangedStatus||{}:i.a.state.global.businessChangedStatus||{},e?!!t[this.currentModuleCode]&&t[this.currentModuleCode][this.buildingId]:t[this.currentModuleCode])}return!1},show:function(){return(this.hasChanged||this.waitUploadNum)&&!this.hasTopProgress},oneDataSync:function(){return this.$store.state.app.oneDataSync}},watch:{hasChanged:function(t){var e=this;t&&this.$nextTick((function(){setTimeout((function(){var t=e.$refs["synchronize-tip-bar"];if(t&&t.style){t.style.display="none";t.offsetHeight;t.style.display="block"}}),100)}))},buildingId:function(t){this.currentModuleCode&&n.default.isModuleNeedBuilding(this.currentModuleCode)&&t&&(console.log("楼栋重新加载，是否再次自动加载数据：",this.oneUpdateData),this.oneUpdateData&&this.automaticLogic(),this.checkSync())},show:function(t){t?this.$emit("show"):this.$emit("hide")}},activated:function(){this.init()},methods:{init:function(){this.getCurrentModuleCode(),this.enterDoCheck&&!l.a.isBack&&this.checkSync(),this.automaticLogic()},automaticLogic:function(){var t=this;this.$router.isBack||(this.oneUpdateData=!0,u.a.getAutomaticLoadData().then((function(e){$log.log("是否要自动加载 ===> ",e&&t.oneDataSync&&"function"==typeof t.automaticUpdateCallback),e&&t.oneDataSync&&"function"==typeof t.automaticUpdateCallback&&t.dataSync().then((function(e){console.log("是否需要初始化页面 ====> ",Boolean(e)),e&&t.automaticUpdateCallback()}))})))},getCurrentModuleCode:function(){var t=n.default.getCurrentModuleCode(),e=this.isTodo?"todo":"";this.currentModuleCode=t||e},checkSync:function(){var e=this,a="checkDataUpdate",s=this.currentModuleCode,o=this.buildingId,l=i.a.state.global.isLeader?this.projId:"";return!n.default.isModuleNeedBuilding(s)||o||this.isTodo?(this.isTodo&&(a+="_todo"),s&&(a+="_".concat(s)),o&&(a+="_".concat(o)),r.a.execAfterInterval(120,a).then((function(){return e.isTodo?"todo"===s?c.a.getModuleList().then((function(e){var a=t.map(e,"code");return n.default.hasTodoChangedData("",a)})):n.default.hasTodoChangedData("",[s]):n.default.hasBusinessChangedData(l,[s],o)})).then((function(t){if(e.isTodo){var a=p({},i.a.state.global.todoChangedStatus);a[s]=t,i.a.commit("global/SET_TODO_CHANGED_STATUS",a)}else{var n=p({},i.a.state.global.businessChangedStatus);if(o){var c=n[s]?n[s]:{};c[o]=t,n[s]=c}else n[s]=t;i.a.commit("global/SET_BUSINESS_CHANGED_STATUS",n)}})).catch((function(t){return t&&!0===t.timeNotTo?($log.debug(t.msg),!1):$q.reject(t)}))):Promise.resolve()},dataSync:function(){var t=this.currentModuleCode,e=this.buildingId,a=n.default.isModuleNeedBuilding(t),s=a&&!e;return $log.log(["模块名：",t," 楼栋id：",e," 当前模块是否需要楼栋id：",a," 判断是否终止自动更新：",s]),s?Promise.resolve():(this.oneUpdateData=!1,o.a.beginManualUpdate(),n.default.checkSync(e).then((function(t){return o.a.endManualUpdate(),t})).catch((function(t){$log.error("自动更新错误",t),o.a.endManualUpdate()})))}}}}).call(this,a("391c"))},"6cb7":function(t,e,a){"use strict";a("3fee")},"7a71":function(t,e,a){"use strict";(function(t){a.d(e,"a",(function(){return u}));a("6a61");var s=a("2e91"),i=a("7cb8"),n=a("e2a7"),o=a("6e1b"),c=a("8693"),r=a("48f4"),l=a("264e");var u=function(){var e=Object(s.a)(regeneratorRuntime.mark((function e(a){var s,u,d,p,m,h,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.getBatchWillUploadNum(a.currentBatch.id);case 2:if(s=e.sent,t.isEmpty(s)){e.next=7;break}return e.next=6,n.a.alert("还有问题正在上传，请等待问题上传完毕");case 6:return e.abrupt("return");case 7:if(u=Object(i.g)(a.listData,"status",[l.b]),d=!0,!(u[l.b]>0)){e.next=13;break}return e.next=12,n.a.popBox({title:'有<span class="color-orange pl5 pr5">'+u[l.b]+"</span>项草稿记录未提交，继续操作将清除所有暂存数据，是否正常提交？",cancelText:"取消",okText:"提交"});case 12:d=e.sent;case 13:if(d){e.next=15;break}return e.abrupt("return");case 15:if(p=!0,!(u[l.b]<=0)){e.next=20;break}return e.next=19,n.a.confirm("请确保所有检查人已上传数据，提交后不可修改，确认提交？");case 19:p=e.sent;case 20:if(p){e.next=22;break}return e.abrupt("return");case 22:if(!(u[l.b]>0)){e.next=27;break}return m={status:l.c,deduction:0,image_file:"[]"},h={batch_id:a.currentBatch.id,status:l.b},e.next=27,c.a.updateSpecialInspectAll(h,m);case 27:delete(b=t.clone(a.currentBatch)).contracts,o.a.finishCheckBatch(b).then((function(){return r.default.setLocalChanged(),a.init()})).catch((function(t){console.error(t),t&&500102===t.errcode?n.a.alert("检测到检查结果有冲突，请下拉刷新后再试"):n.a.alert(t)}));case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}).call(this,a("391c"))},"7eb2":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .synchronize-tip-bar[data-v-66826030]{height:30px;padding:5px 15px;line-height:20px;text-align:center;background-color:#ffe6e6;color:#ff6060;font-size:14px}.zjapp .synchronize-tip-bar .icon-caution[data-v-66826030]{line-height:20px;margin-right:5px}@media screen and (-webkit-min-device-pixel-ratio:1){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 100%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:1.5){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 66.6667%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:2){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 50%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:2.625){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 38.0952%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:3){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 33.3333%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:4){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 25%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}",""])},"8a11":function(t,e,a){var s=a("64fa");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("85cb").default)("5024236a",s,!0,{sourceMap:!1,shadowMode:!1})},"8fb5":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .special-inspect-icon-sys[data-v-29dbab6b]{position:absolute;top:17px;left:0;width:4px;height:16px;background-color:#4275e8}.zjapp .bg-enditem[data-v-29dbab6b]{background-color:#fafafa}.zjapp .special-inspect-icon-end[data-v-29dbab6b]{width:6px;height:6px;margin-top:12px;margin-right:14px;border-radius:3px;background-color:#d9d9d9}",""])},"965b":function(t,e,a){"use strict";a("e60f")},"9fd1":function(t,e,a){"use strict";a.r(e);var s=a("1173").a,i=(a("544e"),a("17cc")),n=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-content",{attrs:{title:t.title}},[t.hasAllProblem?a("div",{directives:[{name:"track",rawName:"v-track",value:"专项巡检-首页-全部问题",expression:"'专项巡检-首页-全部问题'"}],staticClass:"header-btn",attrs:{slot:"header-bar-right"},on:{click:t.getAllProblem},slot:"header-bar-right"},[t._v("\n    全部问题\n  ")]):t._e(),4===t.currentBatch.mode?a("div",{staticClass:"header-btn",attrs:{slot:"header-bar-right"},on:{click:t.openPopupList},slot:"header-bar-right"},[a("Icon",{staticClass:"icon icon-guanbi"})],1):t._e(),a("synchronize-tip-bar",{attrs:{"automatic-update-callback":t.onPullDown}}),a("scroller",{attrs:{"end-text":"","is-empty":t.isListEmpty||t.isListLoading},on:{pullDown:t.onPullDown}},[a("item",{staticClass:"bg-sub-theme",attrs:{border:"bottom","icon-right":t.batchArrow?"arrow-right":""},on:{click:t.batchClick}},[a("div",{staticClass:"item-text"},[t._v(t._s(t.batchText))]),a("div",{staticClass:"item-font color-gray"},[t._v(t._s(t.batchTips))])]),!t.isListLoading&&t.indexListComponent?a(t.indexListComponent,{ref:"indexListComponent",tag:"component",attrs:{"batch-id":t.currentBatch.id},on:{loaded:t.indexListLoaded}}):t._e(),t.indexListComponent?t._e():[7==t.currentBatch.mode?a("item",{staticStyle:{margin:"10px 0"},attrs:{label:"检查部位",editabled:t.partCanClick},on:{click:function(e){t.partCanClick&&t.editPlace()}}},[a("i",{staticClass:"special-inspect-icon-sys",attrs:{slot:"icon-left"},slot:"icon-left"}),a("div",{staticClass:"item-text color-gray1 align-r",attrs:{slot:"right"},slot:"right"},[t.currentBatch.place?a("span",[t._v(t._s(t.currentBatch.place))]):t._e(),t.currentBatch.place?t._e():a("span",{staticClass:"item-placeholder"},[t._v("必填")])])]):t._e(),t.isListLoading||99===t.currentBatch.mode?t._e():a("index-list",{attrs:{"list-data":t.listData,batch:t.currentBatch,editable:t.editable,"is-batch-checker":t.isBatchChecker}}),t.isListLoading||99!=t.currentBatch.mode?t._e():[t.listData.length?a("item",{staticClass:"special-inspect-index-list-title border-bottom"},[a("div",{staticClass:"item-text"},[t._v("评分表")]),a("div",{staticClass:"col-weight item-font"},[t._v("权重")]),a("div",{staticClass:"col-score item-font"},[t._v("得分")])]):t._e(),t._l(t.listData,(function(e){return a("item",{key:e.id,staticClass:"combo-item",class:{active:"检查完毕"===t.currentBatch.status&&"检查完毕"!==e.status},attrs:{border:"bottom","icon-right":"arrow-right"},on:{click:function(a){t.templateComboDetail(e)}}},[a("div",{staticClass:"item-text"},[t._v(t._s(e.template_name))]),a("div",{staticClass:"col-weight item-font color-gray1"},[t._v("\n            "+t._s(e.weight?e.weight+"%":"")+"\n          ")]),a("div",{staticClass:"col-score item-font color-gray1"},[t._v("\n            "+t._s("检查完毕"===e.status?e.score:"检查完毕"===t.currentBatch.status?"已甩项":"")+"\n          ")])])}))],"检查完毕"===t.currentBatch.status&&t.listData.length?a("div",{staticClass:"p15 color-gray3 align-c"},[t._v("\n        "+t._s(t._f("formatDate")(t.currentBatch.modified_on))+" "+t._s(t.currentBatchCreater.name)+" 提交检查完毕\n      ")]):t._e(),t.submitLogic?a("app-button-group",{staticClass:"mt20",class:{comboBtnActive:99===t.currentBatch.mode&&!t.submitComboGray}},[a("app-button",{on:{click:t.finishCheckBatch}},[t._v("\n          检查完毕并提交\n        ")])],1):t._e(),a("loading-status",{attrs:{"is-loading":t.isListLoading,"is-empty":!t.listData.length,"empty-text":"没有数据"}})]],2),!t.isListLoading&&t.indexFooterComponent?a(t.indexFooterComponent,{ref:"indexFooterComponent",tag:"component",attrs:{"batch-id":t.currentBatch.id}}):t._e(),t.isListLoading||!t.listData.length||t.indexFooterComponent?t._e():a("list-footer",{attrs:{batch:t.currentBatch,"list-data":t.listData,"total-data":t.totalData,editable:t.editable}})],1)}),[],!1,null,"48d3cb65",null);e.default=n.exports},a775:function(t,e,a){var s=a("5454");(t.exports=a("690e")(!1)).push([t.i,".zjapp .special-inspect-icon-sys[data-v-58a4251e]{position:absolute;top:15px;left:0;width:4px;height:16px;background-color:#4275e8}.zjapp .sublist[data-v-58a4251e]{padding-left:25px;background-color:#fff}.zjapp .subitem[data-v-58a4251e]{width:100%;padding-left:0}.zjapp .special-inspect-icon-end[data-v-58a4251e]{width:6px;height:6px;margin-top:12px;margin-right:14px;border-radius:3px;background-color:#d9d9d9}.zjapp .item-align-center[data-v-58a4251e]{align-items:center;justify-content:flex-start}.zjapp .item-text-detail[data-v-58a4251e]{flex:1;padding:7px 0}.zjapp .right-slot[data-v-58a4251e]{display:flex}.zjapp .w100[data-v-58a4251e]{width:100%;max-width:none}.zjapp .icon-mark[data-v-58a4251e]{width:20px;height:30px;background:url("+s(a("21c0"))+") 0 no-repeat;background-size:16px 16px}.zjapp .bg-enditem[data-v-58a4251e]{background-color:#fafafa}.zjapp .special-inspect-pass-rate[data-v-58a4251e]{margin-left:5px;font-weight:400}.zjapp .app-btn-operate[data-v-58a4251e]{height:30px;line-height:28px;padding:0 15px;border:1px solid #4275e8;color:#4275e8;background-color:#fff;background-image:none;font-size:16px;min-width:auto}[data-v-58a4251e] .app-btn-operate .svg-loading{margin-top:4px}",""])},c2b10:function(t,e,a){"use strict";a("8a11")},cfed:function(t,e,a){var s=a("edfa");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("85cb").default)("288902c3",s,!0,{sourceMap:!1,shadowMode:!1})},d3a3:function(t,e,a){"use strict";a("6d57"),a("163d");var s=a("07d2"),i=a("6144"),n=a("e2a7"),o=a("966e"),c=a("4aef"),r=a("6e1b"),l=a("48f4"),u=a("5878").a,d=(a("dcc5"),a("17cc")),p=Object(d.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.list,(function(e){return a("div",{key:e.id,staticClass:"mb10"},[a("item",{on:{click:function(a){t.tapItem(e)}}},[a("i",{staticClass:"special-inspect-icon-sys"}),a("div",{staticClass:"item-text pr10 fw-b"},[t._v(t._s(e.name))]),e.subitems&&e.subitems.length?a("div",{staticClass:"item-font"},[a("status-text",{attrs:{status:t.parseBatch.template_extension.score_mode+"",extend:t.extendRoot,text:t.getItemDeduction(e)}})],1):[e.status===t.DRAFT?[a("div",{staticClass:"item-font"},[a("status-text",{attrs:{status:e.status,extend:t.extend}})],1)]:e.status&&e.status!==t.UN_SETTING?[a("div",{staticClass:"item-font"},[a("status-text",{attrs:{status:t.parseBatch.template_extension.score_mode+"",extend:t.extend,text:t.getItemDeduction(e)}})],1)]:[a("div",{staticClass:"item-operate"},[t.edit?a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.openDetail(e,e.id)}}},[t._v("\n              打分\n            ")]):t._e()])]],e.subitems&&e.subitems.length?a("icon",{attrs:{name:e.isOpen?"arrow-up":"arrow-down"}}):t._e()],2),e.isOpen&&e.subitems&&e.subitems.length?t._l(e.subitems,(function(s){return a("div",{key:s.id},[a("item",{attrs:{border:"top"},on:{click:function(a){t.tapItem(s,e.id)}}},[a("div",{staticClass:"item-text pr10"},[t._v("\n            "+t._s(s.name)+"\n            "),s.subitems&&s.subitems.length?t._e():void 0],2),s.subitems&&s.subitems.length?t._e():[s.status!==t.UN_SETTING?[a("div",{staticClass:"item-font"},[a("status-text",{attrs:{status:t.getStatus(s),extend:t.extend,text:t.getItemDeduction(s)}})],1)]:[a("div",{staticClass:"item-operate"},[t.edit?a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.openDetail(s,e.id)}}},[t._v("\n                  打分\n                ")]):t._e()])]],s.subitems&&s.subitems.length?a("icon",{attrs:{name:s.isOpen?"arrow-up":"arrow-down"}}):t._e()],2),s.subitems&&s.subitems.length&&s.isOpen?t._l(s.subitems,(function(s){return a("item",{key:s.id,staticClass:"bg-enditem",attrs:{border:"top"},on:{click:function(a){t.tapItem(s,e.id)}}},[a("i",{staticClass:"special-inspect-icon-end"}),a("div",{staticClass:"item-text"},[t._v("\n              "+t._s(s.name)+"\n            ")]),s.status!==t.UN_SETTING?[a("div",{staticClass:"item-font"},[a("status-text",{attrs:{status:t.getStatus(s),extend:t.extend,text:t.getItemDeduction(s)}})],1)]:[[a("div",{staticClass:"item-operate"},[t.edit?a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.openDetail(s,e.id)}}},[t._v("\n                    打分\n                  ")]):t._e()])]]],2)})):t._e()],2)})):t._e()],2)})))}),[],!1,null,"29dbab6b",null).exports,m={name:"IndexList",components:{Item:s.default,StatusText:c.a,JfkfTpl:p},filters:{percent:function(t){return Object(o.a)(t,2,!0)}},props:{listData:{type:Array,default:function(){return[]}},batch:{type:Object,default:function(){}},editable:{type:Boolean},isBatchChecker:{type:Boolean}},data:function(){return{flag:!0}},computed:{batchMode:function(){return parseInt(this.batch.mode)},batchMeasurePassRate:function(){var t=this.batch.template_extension;return t&&t.pass_rate_mode||1}},methods:{percent:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(o.a)(t,2,e)},toggleItem:function(t){this.flag=!this.flag,t.isOpen=!t.isOpen;var e=i.a.getObject("special-inspect-index-list-memory",i.a.level.user)||{};e[t.id]=t.isOpen,i.a.saveObject("special-inspect-index-list-memory",e,i.a.level.user)},tapItem:function(t,e){"合格"===t.status?this.setPass(t,e):t.subitems.length?this.toggleItem(t):this.problemList(t,e)},tapItemQuality:function(t,e){t.subitems&&t.subitems.length?this.toggleItem(t):"合格"===t.status?this.setPass(t,null,e):("未设置"!==t.status||t.temporaryStorage&&t.temporaryStorage>0)&&this.problemList(t,e)},measureProblem:function(t){"检查完毕"===this.batch.status&&"未设置"===t.status||(this.isBatchChecker||this.batch.created_by===this.user_id||"未设置"!==t.status)&&this.$router.push({path:"/special-inspect-measure-problem-detail",query:{bizId:t.id}})},tapItemSorte:function(t){if(t.subitems.length)return this.toggleItem(t);if("不合格"===t.status){if(!t.problem_id)return n.a.alert("问题丢失");this.$router.push({path:"/special-inspect-problem-detail",query:{specialInspectId:t.id,problem_id:t.problem_id,checkItemId:t.item_id,mode:this.batchMode}})}else if("合格"===t.status)this.$router.push({path:"/special-inspect-problem-detail-pass",query:{specialInspectId:t.id,mode:this.batchMode}});else if(9===this.batchMode){var e="";if("未设置"===t.status||"已甩项"===t.status)return null;if(this.editable)e="/special-inspect-get-score";else{if("检查完毕"!==t.status)return null;e="/special-inspect-get-score-detail"}this.$router.push({path:e,query:{specialInspectId:t.id,problem_id:t.problem_id,checkItemId:t.item_id,mode:this.batchMode}})}else"草稿"===t.status_text&&this.$router.push({path:"/special-inspect-problem-edit",query:{specialInspectId:t.id,problem_id:t.problem_id,checkItemId:t.item_id,mode:this.batchMode}})},tapContractItem:function(t){t.subitems.length?this.toggleItem(t):t.problem_id&&this.contractProblem(t)},contractProblem:function(t,e){t&&t.problem_id?this.$router.push({path:"/special-inspect-contract-problem-detail",query:{problemId:t.problem_id}}):this.$router.push({path:"/special-inspect-contract-problem-detail",query:{bizId:t.id,type:e}})},setPass:function(t,e){this.$router.push({path:"/special-inspect-pass",query:{batchId:this.batch.id,specialInspectId:t.id,checkItemId:t.item_id,mode:this.batchMode,rootId:e}})},problemList:function(t,e){(t.problemNum||8===Number(this.batchMode)||t.temporaryStorage)&&this.$router.push({path:"/special-inspect-problem-list",query:{batchId:this.batch.id,specialInspectId:t.id,checkItemId:t.item_id,mode:this.batchMode,rootId:e,editable:+this.editable}})},addProblem:function(t,e){var a="/special-inspect-problem-edit";9===this.batchMode&&(a="/special-inspect-get-score"),this.$router.push({path:a,query:{batchId:this.batch.id,specialInspectId:t.id,checkItemId:t.item_id,mode:this.batchMode,rootId:e}})},rejectItem:function(t){return r.a.saveSpecialInspectCheckItemDetail({id:t.id,status:"已甩项"}).then((function(){t.status=t.status_text="已甩项",n.a.alert("甩项成功")}))},recoverItem:function(t){return l.default.removeSyncGroup(t.id).then((function(){return r.a.saveSpecialInspectCheckItemDetail({id:t.id,status:"未设置"})})).then((function(){t.status="未设置",t.status_text="",n.a.alert("取消甩项")}))},checkItemRate:function(t){var e=0,a=0;if(t.subitems&&t.subitems.length)return t.subitems.forEach((function(t){"检查完毕"===t.status&&t.measurement_points&&(e+=(t.measurement_points-t.problem_points)/t.measurement_points*t.weight,a+=t.weight)})),this.percent(e/a)}}},h=(a("6cb7"),Object(d.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{flag:t.flag}},[1===t.batchMode||5===t.batchMode?t._l(t.listData,(function(e){return a("div",{key:e.id,staticClass:"mb10"},[a("item",{on:{click:function(a){t.toggleItem(e)}}},[a("i",{staticClass:"special-inspect-icon-sys"}),a("div",{staticClass:"item-text"},[t._v(t._s(e.name))]),a("div",{staticClass:"item-font"},[e.hasProblem?a("span",{staticClass:"color-red ws-nowrap"},[t._v("-"+t._s(e.deduction>e.score?e.score:e.deduction)+"分")]):t._e(),a("span",{staticClass:"color-gray3 ml5 ws-nowrap"},[t._v("满分"+t._s(e.score||0))])]),e.subitems&&e.subitems.length?a("icon",{attrs:{name:e.isOpen?"arrow-up":"arrow-down"}}):t._e()],1),e.isOpen?t._l(e.subitems,(function(s){return a("div",{key:s.id},[a("item",{attrs:{border:"top"},on:{click:function(a){t.tapItem(s,e.id)}}},[a("div",{staticClass:"item-text pr10"},[t._v(t._s(s.name))]),s.subitems&&s.subitems.length?t._e():["合格"===s.status?a("div",{staticClass:"item-font color-green"},[t._v("\n                "+t._s(s.status)+"\n              ")]):t._e(),"不合格"===s.status?a("div",{staticClass:"item-font color-red"},[t._v("\n                -"+t._s(s.deduction||0)+"分\n              ")]):t._e(),s.problemNum&&"合格"!==s.status?a("div",{staticClass:"item-font color-gray3 ml5"},[t._v("\n                "+t._s(s.problemNum)+"个问题\n              ")]):t._e(),s.problemNum||"合格"===s.status?t._e():a("div",{staticClass:"item-operate"},[t.editable?a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.setPass(s,e.id)}}},[t._v("\n                  合格\n                ")]):t._e()]),s.problemNum||"合格"===s.status?t._e():a("div",{staticClass:"item-operate"},[t.editable?a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.addProblem(s,e.id)}}},[t._v("\n                  扣分\n                ")]):t._e()])],s.subitems&&s.subitems.length?a("icon",{attrs:{name:s.isOpen?"arrow-up":"arrow-down"}}):t._e()],2),s.subitems&&s.subitems.length&&s.isOpen?t._l(s.subitems,(function(s){return a("item",{key:s.id,staticClass:"bg-enditem",attrs:{border:"top"},on:{click:function(a){t.tapItem(s,e.id)}}},[a("i",{staticClass:"special-inspect-icon-end"}),a("div",{staticClass:"item-text"},[t._v(t._s(s.name))]),"合格"===s.status?a("div",{staticClass:"item-font color-green"},[t._v("\n                "+t._s(s.status)+"\n              ")]):t._e(),"不合格"===s.status?a("div",{staticClass:"item-font color-red"},[t._v("\n                -"+t._s(s.deduction||0)+"分\n              ")]):t._e(),s.problemNum&&"合格"!==s.status?a("div",{staticClass:"item-font color-gray3 ml5"},[t._v("\n                "+t._s(s.problemNum)+"个问题\n              ")]):t._e(),s.problemNum||"合格"===s.status?t._e():a("div",{staticClass:"item-operate"},[t.editable?a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.setPass(s,e.id)}}},[t._v("\n                  合格\n                ")]):t._e()]),s.problemNum||"合格"===s.status?t._e():a("div",{staticClass:"item-operate"},[t.editable?a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.addProblem(s,e.id)}}},[t._v("\n                  扣分\n                ")]):t._e()])])})):t._e()],2)})):t._e()],2)})):t._e(),2===t.batchMode?t._l(t.listData,(function(e){return a("div",{key:e.id,staticClass:"mb10"},[a("item",{on:{click:function(a){t.toggleItem(e)}}},[a("i",{staticClass:"special-inspect-icon-sys"}),a("div",{staticClass:"item-text pr10 fw-b"},[t._v(t._s(e.name))]),a("div",{staticClass:"item-font color-gray3"},[t._v(t._s(e.unqualifiedItemNum||0)+"项不合格")]),e.subitems&&e.subitems.length?a("icon",{attrs:{name:e.isOpen?"arrow-up":"arrow-down"}}):t._e()],1),e.isOpen?t._l(e.subitems,(function(e){return a("div",{key:e.id},[a("item",{attrs:{border:"top"},on:{click:function(a){t.tapItemSorte(e)}}},[a("div",{staticClass:"item-text pr10"},[t._v(t._s(e.name))]),e.subitems&&e.subitems.length?a("icon",{attrs:{name:e.isOpen?"arrow-up":"arrow-down"}}):[""===e.status_text&&t.editable?[a("div",{staticClass:"item-operate"},[a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.addProblem(e)}}},[t._v("\n                    登记\n                  ")])]),a("div",{staticClass:"item-operate"},[a("app-button",{attrs:{type:"operate","has-loading":!1},on:{click:function(a){return a.stopPropagation(),t.rejectItem(e)}}},[t._v("\n                    甩项\n                  ")])],1)]:"已甩项"===e.status_text&&t.editable?[a("div",{staticClass:"item-operate"},[a("app-button",{attrs:{type:"operate","has-loading":!1},on:{click:function(a){return a.stopPropagation(),t.recoverItem(e)}}},[t._v("\n                    取消甩项\n                  ")])],1)]:a("div",{staticClass:"item-font"},[a("status-text",{attrs:{status:e.status_text,extend:{"草稿":"color-orange"}}})],1)]],2),e.subitems&&e.subitems.length&&e.isOpen?t._l(e.subitems,(function(e){return a("item",{key:e.id,staticClass:"bg-enditem",attrs:{border:"top"},on:{click:function(a){t.tapItemSorte(e)}}},[a("i",{staticClass:"special-inspect-icon-end"}),a("div",{staticClass:"item-text-detail"},[t._v(t._s(e.name))]),""===e.status_text&&t.editable?[a("div",{staticClass:"item-operate"},[a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.addProblem(e)}}},[t._v("\n                    登记\n                  ")])]),a("div",{staticClass:"item-operate"},[a("app-button",{attrs:{type:"operate","has-loading":!1},on:{click:function(a){return a.stopPropagation(),t.rejectItem(e)}}},[t._v("\n                    甩项\n                  ")])],1)]:"已甩项"===e.status_text&&t.editable?[a("div",{staticClass:"item-operate"},[a("app-button",{attrs:{type:"operate","has-loading":!1},on:{click:function(a){return a.stopPropagation(),t.recoverItem(e)}}},[t._v("\n                    取消甩项\n                  ")])],1)]:a("div",{staticClass:"item-font"},[a("status-text",{attrs:{status:e.status_text,extend:{"草稿":"color-orange"}}})],1)],2)})):t._e()],2)})):t._e()],2)})):t._e(),3===t.batchMode?t._l(t.listData,(function(e){return a("div",{key:e.id,staticClass:"mb10"},[a("item",{on:{click:function(a){t.toggleItem(e)}}},[a("i",{staticClass:"special-inspect-icon-sys"}),a("div",{staticClass:"item-text pr10 fw-b"},[t._v(t._s(e.name))]),a("div",{staticClass:"item-font"},[e.hasProblem?[a("span",{staticClass:"color-red"},[t._v("-"+t._s(e.deduction>e.score?e.score:e.deduction)+"分")]),a("span",{staticClass:"color-red ml5"},[t._v(t._s(e.scoreRate)+"%")])]:[a("span",{staticClass:"color-gray3"},[t._v("未检")])]],2),e.subitems&&e.subitems.length?a("icon",{attrs:{name:e.isOpen?"arrow-up":"arrow-down"}}):t._e()],1),e.isOpen?t._l(e.subitems,(function(s){return a("item",{key:s.id,attrs:{border:"top"},on:{click:function(a){t.tapItem(s,e.id)}}},[a("div",{staticClass:"item-text pr10"},[t._v("\n            "+t._s(s.name)+"\n            "),a("span",{staticClass:"color-gray3 ml5"},[t._v("("+t._s(s.score||0)+"分)")])]),"合格"===s.status?a("div",{staticClass:"item-font color-green"},[t._v("\n            "+t._s(s.status)+"\n          ")]):t._e(),"不合格"===s.status?a("div",{staticClass:"item-font color-red"},[t._v("\n            -"+t._s(s.deduction||0)+"分\n          ")]):t._e(),s.problemNum&&"合格"!==s.status?a("div",{staticClass:"item-font color-gray3 ml5"},[t._v("\n            "+t._s(s.problemNum)+"个问题\n          ")]):t._e(),s.problemNum||"合格"===s.status?t._e():a("div",{staticClass:"item-operate"},[t.editable?a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.setPass(s,e.id)}}},[t._v("\n              合格\n            ")]):t._e()]),s.problemNum||"合格"===s.status?t._e():a("div",{staticClass:"item-operate"},[t.editable?a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.addProblem(s,e.id)}}},[t._v("\n              扣分\n            ")]):t._e()])])})):t._e()],2)})):t._e(),4===t.batchMode?t._l(t.listData,(function(e){return a("div",{key:e.id,staticClass:"mb10"},[a("item",{on:{click:function(a){t.toggleItem(e)}}},[a("i",{staticClass:"special-inspect-icon-sys"}),a("div",{staticClass:"item-text pr10 fw-b"},[t._v(t._s(e.name))]),a("div",{staticClass:"item-font"},[e.hasProblem?a("span",{staticClass:"color-red"},[t._v("-"+t._s(e.deduction>e.score?e.score:e.deduction)+"分")]):t._e(),e.hasProblem?a("span",{staticClass:"color-red"},[t._v(t._s(e.scoreRate)+"%")]):t._e(),e.hasProblem?t._e():a("span",{staticClass:"color-gray3"},[t._v("未检")])]),e.subitems&&e.subitems.length?a("icon",{attrs:{name:e.isOpen?"arrow-up":"arrow-down"}}):t._e()],1),e.isOpen&&e.subitems&&e.subitems.length?t._l(e.subitems,(function(s){return a("div",{key:s.id},[a("item",{attrs:{border:"top"},on:{click:function(a){t.tapItem(s,e.id)}}},[a("div",{staticClass:"item-text pr10"},[t._v("\n              "+t._s(s.name)+"\n              "),s.subitems&&s.subitems.length?t._e():[a("span",{staticClass:"color-gray3 ml5"},[t._v("("+t._s(s.score||0)+"分)")])]],2),s.subitems&&s.subitems.length?t._e():["合格"===s.status?a("div",{staticClass:"item-font color-green"},[t._v("\n                "+t._s(s.status)+"\n              ")]):t._e(),"不合格"===s.status?a("div",{staticClass:"item-font color-red"},[t._v("\n                -"+t._s(s.deduction||0)+"分\n              ")]):t._e(),s.problemNum&&"合格"!==s.status?a("div",{staticClass:"item-font color-gray3 ml5"},[t._v("\n                "+t._s(s.problemNum)+"个问题\n              ")]):t._e(),s.problemNum||"合格"===s.status?t._e():a("div",{staticClass:"item-operate"},[t.editable?a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.setPass(s,e.id)}}},[t._v("\n                  合格\n                ")]):t._e()]),s.problemNum||"合格"===s.status?t._e():a("div",{staticClass:"item-operate"},[t.editable?a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.addProblem(s,e.id)}}},[t._v("\n                  扣分\n                ")]):t._e()])],s.subitems&&s.subitems.length?a("icon",{attrs:{name:s.isOpen?"arrow-up":"arrow-down"}}):t._e()],2),s.subitems&&s.subitems.length&&s.isOpen?t._l(s.subitems,(function(s){return a("item",{key:s.id,staticClass:"bg-enditem",attrs:{border:"top"},on:{click:function(a){t.tapItem(s,e.id)}}},[a("i",{staticClass:"special-inspect-icon-end"}),a("div",{staticClass:"item-text"},[t._v("\n                "+t._s(s.name)+"\n                "),a("span",{staticClass:"color-gray3 ml5"},[t._v("("+t._s(s.score||0)+"分)")])]),"合格"===s.status?[a("div",{staticClass:"item-font color-green"},[t._v(t._s(s.status))])]:t._e(),"不合格"===s.status?[a("div",{staticClass:"item-font color-red"},[t._v("-"+t._s(s.deduction||0)+"分")])]:t._e(),"合格"!==s.status?[s.problemNum?[a("div",{staticClass:"item-font color-gray3 ml5"},[t._v(t._s(s.problemNum)+"个问题")])]:[a("div",{staticClass:"item-operate"},[t.editable?a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.setPass(s,e.id)}}},[t._v("\n                      合格\n                    ")]):t._e()]),a("div",{staticClass:"item-operate"},[t.editable?a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.addProblem(s,e.id)}}},[t._v("\n                      扣分\n                    ")]):t._e()])]]:t._e()],2)})):t._e()],2)})):t._e()],2)})):t._e(),6===t.batchMode?t._l(t.listData,(function(e){return a("div",{key:e.id,staticClass:"mb10"},[a("item",{on:{click:function(a){t.toggleItem(e)}}},[a("i",{staticClass:"special-inspect-icon-sys"}),a("div",{staticClass:"item-text pr10  fw-b"},[t._v(t._s(e.name))]),a("div",{staticClass:"item-font color-gray3"},[t._v(t._s(e.unqualifiedItemNum||0)+"项不合格")]),e.subitems&&e.subitems.length?a("icon",{attrs:{name:e.isOpen?"arrow-up":"arrow-down"}}):t._e()],1),e.isOpen?t._l(e.subitems,(function(s){return a("div",{key:s.id},[a("item",{attrs:{border:"top"},on:{click:function(e){t.tapContractItem(s)}}},[a("div",{staticClass:"item-text pr10 "},[t._v(t._s(s.name))]),s.problem_id&&s.status_text?a("div",{staticClass:"item-font"},[a("status-text",{attrs:{status:s.status_text}})],1):t._e(),s.problem_id||s.subitems&&s.subitems.length?t._e():a("div",{staticClass:"item-operate"},[t.editable?a("button",{staticClass:"btn btn-operate-gray",on:{click:function(e){e.stopPropagation(),t.contractProblem(s,1)}}},[t._v("\n                合格\n              ")]):t._e()]),s.problem_id||s.subitems&&s.subitems.length?t._e():a("div",{staticClass:"item-operate"},[t.editable?a("button",{staticClass:"btn btn-operate-gray",on:{click:function(e){e.stopPropagation(),t.contractProblem(s,0)}}},[t._v("\n                不合格\n              ")]):t._e()]),s.subitems&&s.subitems.length?a("icon",{attrs:{slot:"icon-right",name:s.isOpen?"arrow-up":"arrow-down"},slot:"icon-right"}):t._e()],1),s.subitems&&s.subitems.length&&s.isOpen?t._l(s.subitems,(function(s){return a("item",{key:s.id,staticClass:"bg-enditem",attrs:{border:"top"},on:{click:function(a){t.tapContractItem(s,e.id)}}},[a("i",{staticClass:"special-inspect-icon-end"}),a("div",{staticClass:"item-text"},[t._v(t._s(s.name))]),s.problem_id&&s.status_text?a("div",{staticClass:"item-font"},[a("status-text",{attrs:{status:s.status_text}})],1):t._e(),s.problem_id||s.subitems&&s.subitems.length?t._e():a("div",{staticClass:"item-operate"},[t.editable?a("button",{staticClass:"btn btn-operate-gray",on:{click:function(e){e.stopPropagation(),t.contractProblem(s,1)}}},[t._v("\n                  合格\n                ")]):t._e()]),s.problem_id||s.subitems&&s.subitems.length?t._e():a("div",{staticClass:"item-operate"},[t.editable?a("button",{staticClass:"btn btn-operate-gray",on:{click:function(e){e.stopPropagation(),t.contractProblem(s,0)}}},[t._v("\n                  不合格\n                ")]):t._e()])])})):t._e()],2)})):t._e()],2)})):t._e(),7===t.batchMode?t._l(t.listData,(function(e){return a("div",{key:e.id,staticClass:"mb10"},[a("item",{on:{click:function(a){t.toggleItem(e)}}},[a("i",{staticClass:"special-inspect-icon-sys"}),a("div",{staticClass:"item-text pr10 fw-b"},[t._v("\n          "+t._s(e.name)+"\n\n          "),2===t.batchMeasurePassRate?a("span",{staticClass:"special-inspect-pass-rate"},[t._v(t._s(e.weight?"("+t.percent(e.weight/100,!1)+")":""))]):t._e(),3===t.batchMeasurePassRate?a("span",{staticClass:"special-inspect-pass-rate"},[t._v(t._s(e.totalWeight?"("+t.percent(e.totalWeight/100,!1)+")":""))]):t._e()]),a("div",{staticClass:"item-font"},[e.measurement_points?a("span",{class:{"color-black":"检查完毕"===t.batch.status,"color-gray":"检查完毕"!==t.batch.status}},[t._v(t._s(3===t.batchMeasurePassRate?t.checkItemRate(e):t.percent((e.measurement_points-e.problem_points)/e.measurement_points)))]):t._e()]),e.subitems&&e.subitems.length?a("icon",{attrs:{name:e.isOpen?"arrow-up":"arrow-down"}}):t._e()],1),e.isOpen?t._l(e.subitems,(function(e){return a("div",{key:e.id},[a("item",{attrs:{border:"top"},on:{click:function(a){t.measureProblem(e)}}},[a("div",{staticClass:"item-text",class:{"color-black":"检查完毕"!==t.batch.status,"color-gray":"检查完毕"===t.batch.status}},[t._v("\n              "+t._s(e.name)+"\n\n              "),3===t.batchMeasurePassRate?a("span",{staticClass:"special-inspect-pass-rate"},[t._v("("+t._s(t.percent(e.weight/100,!1))+")")]):t._e()]),"未设置"!==e.status?a("div",{staticClass:"item-font",class:{"color-orange":"检查中"===e.status,"color-gray":"检查中"!==e.status&&"检查完毕"!==t.batch.status,"color-black":"检查中"!==e.status&&"检查完毕"===t.batch.status}},[t._v("\n              "+t._s("检查中"===e.status?"暂存":t.percent((e.measurement_points-e.problem_points)/e.measurement_points))+"\n            ")]):t._e()])],1)})):t._e()],2)})):t._e(),8===t.batchMode?t._l(t.listData,(function(e){return a("div",{key:e.id,staticClass:"mb10"},[a("item",{on:{click:function(a){t.toggleItem(e)}}},[a("i",{staticClass:"special-inspect-icon-sys"}),a("div",{staticClass:"item-text pr10 fw-b"},[t._v(t._s(e.name))]),a("div",{staticClass:"item-font"},[e.temporaryStorage&&e.temporaryStorage>0?[a("span",{staticClass:"color-orange"},[t._v("暂存")])]:[e.hasProblem?[a("span",{staticClass:"color-red"},[t._v("-"+t._s(e.deduction)+"分")]),a("span",{staticClass:"color-gray ml5"},[t._v(t._s(e.scoreRate)+"%")])]:[a("span",{staticClass:"color-gray3"},[t._v("未检")])]]],2),e.subitems&&e.subitems.length?a("icon",{attrs:{name:e.isOpen?"arrow-up":"arrow-down"}}):t._e()],1),e.isOpen?t._l(e.subitems,(function(s){return a("div",{key:s.id},[a("item",{attrs:{border:"top"},on:{click:function(a){t.tapItemQuality(s,e.id)}}},[!s.is_redline_deduction||s.subitems&&s.subitems.length?t._e():a("i",{staticClass:"icon-mark"}),a("div",{staticClass:"item-text pr10"},[t._v("\n              "+t._s(s.name)),s.subitems&&s.subitems.length?t._e():a("span",{staticClass:"color-gray3 ml5"},[t._v("("+t._s(s.score||0)+"分)")])]),s.temporaryStorage&&s.temporaryStorage>0&&s.subitems&&s.subitems.length?a("div",{staticClass:"item-font color-orange"},[t._v("\n              暂存\n            ")]):t._e(),"合格"!==s.status||s.subitems&&s.subitems.length||s.temporaryStorage&&!(s.temporaryStorage<=0)?t._e():a("div",{staticClass:"item-font color-green"},[t._v("\n              "+t._s(s.status)+"\n            ")]),"不合格"!==s.status||s.subitems&&s.subitems.length||s.temporaryStorage&&!(s.temporaryStorage<=0)?t._e():a("div",{staticClass:"item-font color-red"},[t._v("\n              -"+t._s(s.deduction||0)+"分\n            ")]),!s.problemNum||"合格"===s.status||s.subitems&&s.subitems.length||s.temporaryStorage&&!(s.temporaryStorage<=0)?t._e():a("div",{staticClass:"item-font color-gray3 ml5"},[t._v("\n              "+t._s(s.problemNum)+"个问题\n            ")]),!(s.temporaryStorage&&s.temporaryStorage>0)||s.subitems&&s.subitems.length?t._e():a("div",{staticClass:"item-font color-orange ml5"},[t._v("\n              暂存\n            ")]),s.problemNum||"合格"===s.status||s.subitems&&s.subitems.length||s.temporaryStorage&&!(s.temporaryStorage<=0)?t._e():a("div",{staticClass:"item-operate"},[t.editable?a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.setPass(s,e.id)}}},[t._v("\n                合格\n              ")]):t._e()]),s.problemNum||"合格"===s.status||s.subitems&&s.subitems.length||s.temporaryStorage&&!(s.temporaryStorage<=0)?t._e():a("div",{staticClass:"item-operate"},[t.editable?a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.addProblem(s,e.id)}}},[t._v("\n                扣分\n              ")]):t._e()]),s.subitems&&s.subitems.length?a("icon",{attrs:{name:s.isOpen?"arrow-up":"arrow-down"}}):t._e()],1),s.subitems&&s.subitems.length&&s.isOpen?t._l(s.subitems,(function(s){return a("div",{key:s.id},[a("item",{staticClass:"bg-enditem",attrs:{border:"top"},on:{click:function(a){t.tapItemQuality(s,e.id)}}},[s.is_redline_deduction?a("i",{staticClass:"icon-mark"}):t._e(),a("div",{staticClass:"item-text pr10"},[t._v("\n                  "+t._s(s.name)),a("span",{staticClass:"color-gray3 ml5"},[t._v("("+t._s(s.score||0)+"分)")])]),"合格"===s.status&&(!s.temporaryStorage||s.temporaryStorage<=0)?a("div",{staticClass:"item-font color-green"},[t._v("\n                  "+t._s(s.status)+"\n                ")]):t._e(),"不合格"===s.status&&(!s.temporaryStorage||s.temporaryStorage<=0)?a("div",{staticClass:"item-font color-red"},[t._v("\n                  -"+t._s(s.deduction||0)+"分\n                ")]):t._e(),s.problemNum&&"合格"!==s.status&&(!s.temporaryStorage||s.temporaryStorage<=0)?a("div",{staticClass:"item-font color-gray3 ml5"},[t._v("\n                  "+t._s(s.problemNum)+"个问题\n                ")]):t._e(),s.temporaryStorage&&s.temporaryStorage>0?a("div",{staticClass:"item-font color-orange"},[t._v("\n                  暂存\n                ")]):t._e(),s.problemNum||"合格"===s.status||s.temporaryStorage&&!(s.temporaryStorage<=0)?t._e():a("div",{staticClass:"item-operate"},[t.editable?a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.setPass(s,e.id)}}},[t._v("\n                    合格\n                  ")]):t._e()]),s.problemNum||"合格"===s.status||s.temporaryStorage&&!(s.temporaryStorage<=0)?t._e():a("div",{staticClass:"item-operate"},[t.editable?a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.addProblem(s,e.id)}}},[t._v("\n                    扣分\n                  ")]):t._e()])])],1)})):t._e()],2)})):t._e()],2)})):t._e(),9===t.batchMode?t._l(t.listData,(function(e){return a("div",{key:e.id,staticClass:"mb10"},[a("item",{on:{click:function(a){t.tapItemSorte(e)}}},[a("i",{staticClass:"special-inspect-icon-sys"}),a("div",{staticClass:"item-text pr10 fw-b"},[t._v(t._s(e.name))]),e.subitems&&e.subitems.length?a("icon",{attrs:{name:e.isOpen?"arrow-up":"arrow-down"}}):["未设置"===e.status&&t.editable?[a("div",{staticClass:"item-operate"},[a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.addProblem(e)}}},[t._v("\n                登记\n              ")])]),a("div",{staticClass:"item-operate"},[a("app-button",{attrs:{type:"operate","has-loading":!1},on:{click:function(a){return a.stopPropagation(),t.rejectItem(e)}}},[t._v("\n                甩项\n              ")])],1)]:"已甩项"===e.status&&t.editable?[a("div",{staticClass:"item-operate"},[a("app-button",{attrs:{type:"operate","has-loading":!1},on:{click:function(a){return a.stopPropagation(),t.recoverItem(e)}}},[t._v("\n                取消甩项\n              ")])],1)]:"检查完毕"===e.status?a("div",{staticClass:"item-font"},[a("status-text",{attrs:{status:"已退场",text:e.level+"   "+e.reward+"分"}})],1):"未设置"!==e.status||t.editable?"草稿"!==e.status||t.editable?a("div",{staticClass:"item-font"},[a("status-text",{attrs:{status:e.status,text:e.status,extend:{"草稿":"color-orange"}}})],1):a("div",{staticClass:"item-font"},[a("status-text",{attrs:{status:e.status,text:"未设置",extend:{"草稿":"color-orange"}}})],1):a("div",{staticClass:"item-font"},[a("status-text",{attrs:{text:"",extend:{"草稿":"color-orange"}}})],1)]],2),e.isOpen?t._l(e.subitems,(function(e){return a("div",{key:e.id},[a("item",{attrs:{border:"top"},on:{click:function(a){t.tapItemSorte(e)}}},[a("div",{staticClass:"item-text pr10"},[t._v(t._s(e.name))]),e.subitems&&e.subitems.length?a("icon",{attrs:{name:e.isOpen?"arrow-up":"arrow-down"}}):["未设置"===e.status&&t.editable?[a("div",{staticClass:"item-operate"},[a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.addProblem(e)}}},[t._v("\n                    登记\n                  ")])]),a("div",{staticClass:"item-operate"},[a("app-button",{attrs:{type:"operate","has-loading":!1},on:{click:function(a){return a.stopPropagation(),t.rejectItem(e)}}},[t._v("\n                    甩项\n                  ")])],1)]:"已甩项"===e.status&&t.editable?[a("div",{staticClass:"item-operate"},[a("app-button",{attrs:{type:"operate","has-loading":!1},on:{click:function(a){return a.stopPropagation(),t.recoverItem(e)}}},[t._v("\n                    取消甩项\n                  ")])],1)]:"检查完毕"===e.status?a("div",{staticClass:"item-font"},[a("status-text",{attrs:{status:"已退场",text:e.level+"   "+e.reward+"分"}})],1):"未设置"!==e.status||t.editable?"草稿"!==e.status||t.editable?a("div",{staticClass:"item-font"},[a("status-text",{attrs:{status:e.status,text:e.status,extend:{"草稿":"color-orange"}}})],1):a("div",{staticClass:"item-font"},[a("status-text",{attrs:{status:e.status,text:"未设置",extend:{"草稿":"color-orange"}}})],1):a("div",{staticClass:"item-font"},[a("status-text",{attrs:{text:"",extend:{"草稿":"color-orange"}}})],1)]],2),e.subitems&&e.subitems.length&&e.isOpen?t._l(e.subitems,(function(e){return a("item",{key:e.id,staticClass:"bg-enditem",attrs:{border:"top"},on:{click:function(a){t.tapItemSorte(e)}}},[a("div",{staticClass:"item-text-detail"},[t._v(t._s(e.name))]),"未设置"===e.status&&t.editable?[a("div",{staticClass:"item-operate"},[a("button",{staticClass:"btn btn-operate",on:{click:function(a){a.stopPropagation(),t.addProblem(e)}}},[t._v("\n                    登记\n                  ")])]),a("div",{staticClass:"item-operate"},[a("app-button",{attrs:{type:"operate","has-loading":!1},on:{click:function(a){return a.stopPropagation(),t.rejectItem(e)}}},[t._v("\n                    甩项\n                  ")])],1)]:"已甩项"===e.status&&t.editable?[a("div",{staticClass:"item-operate"},[a("app-button",{attrs:{type:"operate","has-loading":!1},on:{click:function(a){return a.stopPropagation(),t.recoverItem(e)}}},[t._v("\n                    取消甩项\n                  ")])],1)]:"检查完毕"===e.status?a("div",{staticClass:"item-font"},[a("status-text",{attrs:{status:"已退场",text:e.level+"   "+e.reward+"分"}})],1):"未设置"!==e.status||t.editable?"草稿"!==e.status||t.editable?a("div",{staticClass:"item-font"},[a("status-text",{attrs:{status:e.status,text:e.status,extend:{"草稿":"color-orange"}}})],1):a("div",{staticClass:"item-font"},[a("status-text",{attrs:{status:e.status,text:"未设置",extend:{"草稿":"color-orange"}}})],1):a("div",{staticClass:"item-font"},[a("status-text",{attrs:{text:"",extend:{"草稿":"color-orange"}}})],1)],2)})):t._e()],2)})):t._e()],2)})):t._e(),10===t.batchMode?[a("jfkf-tpl",{attrs:{list:t.listData,edit:t.editable,batch:t.batch}})]:t._e()],2)}),[],!1,null,"58a4251e",null));e.a=h.exports},dcc5:function(t,e,a){"use strict";a("5d59")},dd16:function(t,e,a){"use strict";(function(t){e.a={name:"StatusText",props:{status:{type:String},text:{type:String},extend:{type:Object,default:function(){return{}}},statusStyles:{type:Object,default:function(){return{}}}},data:function(){return{classSet:t.extend({"草稿":"color-gray","暂存":"color-gray","检查中":"color-orange","待整改":"color-red","待复验":"color-orange","待验收":"color-red","待报验":"color-red","待申请进场":"color-red","待初验":"color-red","待送检":"color-red","待上传报告":"color-red","待退场":"color-red","待建设单位验收":"color-red","待区域验收":"color-red","供应链退回":"color-red","预创建":"color-status-blue","已提交":"color-green","已整改":"color-green","已验收":"color-green","已通过":"color-green","已退场":"color-gray","已关闭":"color-gray","非正常关闭":"color-gray","已退回":"color-red","已完成":"color-green","已甩项":"color-gray","检查完毕":"color-green","送检合格":"color-green","复验合格":"color-green","验收合格":"color-green","验收不合格":"color-red","未验收":"color-orange","待点评":"color-orange","已点评":"color-green","合格":"color-green","不合格":"color-red","待审核":"color-orange","已发布":"color-green","已拒绝":"color-red","进度正常":"color-green","进度滞后":"color-red","正常":"color-green","滞后":"color-red","施工单位验收合格":"color-green","监理单位验收合格":"color-green","建设单位验收合格":"color-green","施工单位验收不合格":"color-red","监理单位验收不合格":"color-red","建设单位验收不合格":"color-red"},this.extend)}},mounted:function(){}}}).call(this,a("391c"))},e60f:function(t,e,a){var s=a("06c7");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("85cb").default)("770d8d07",s,!0,{sourceMap:!1,shadowMode:!1})},e89f:function(t,e,a){"use strict";var s=a("04f3"),i=a("cf09"),n=a("4360"),o=0;e.a={name:"PopupMixin",data:function(){return{backButtonEvent:null}},watch:{show:function(t){var e=this;if(t){if(this.$nextTick((function(){e.$el&&e.$el.style&&(e.$el.style.zIndex=++i.a.zIndex,o++,n.a.commit("app/SET_HAS_POPUP",!!o))})),!this.backButtonEvent){var a=this.close||this.closePopup;this.backButtonEvent=Object(s.a)(a)}}else--o<0&&(o=0),n.a.commit("app/SET_HAS_POPUP",!!o),this.backButtonEvent&&(Object(s.c)(this.backButtonEvent),this.backButtonEvent=null)}},methods:{}}},edfa:function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .layout-main[data-v-48d3cb65] .layout-content{display:flex;flex-direction:column}.zjapp .layout-main[data-v-48d3cb65] .layout-content .van-tabs,.zjapp .layout-main[data-v-48d3cb65] .layout-content .van-tabs__content{height:100%}.zjapp .main-wrapper[data-v-48d3cb65]{flex:1;display:flex;flex-direction:column}.zjapp .comboBtnActive .app-btn[data-v-48d3cb65]{opacity:.5}.zjapp .combo-item.active[data-v-48d3cb65] .item-icon-right{visibility:hidden}.zjapp .special-inspect-icon-sys[data-v-48d3cb65]{position:absolute;top:17px;left:0;width:4px;height:16px;background-color:#4275e8}.zjapp .p0[data-v-48d3cb65]{padding:0}.zjapp .footer[data-v-48d3cb65]{font-size:16px}.zjapp .footer .item-text-detail[data-v-48d3cb65]{flex:1}.zjapp .footer .special-inspect-icon-tips[data-v-48d3cb65]{font-size:18px;color:#b4b4b4;line-height:34px;padding-left:10px}.zjapp .wrapper[data-v-48d3cb65]{flex:1;display:flex;align-items:center}.zjapp .special-inspect-index-list-title[data-v-48d3cb65]{padding-top:0;padding-bottom:0;padding-right:39px;background-color:transparent}.zjapp .special-inspect-index-list-title .item-font[data-v-48d3cb65],.zjapp .special-inspect-index-list-title .item-text[data-v-48d3cb65]{color:#888}.zjapp .col-weight[data-v-48d3cb65]{width:80px;text-align:center}.zjapp .col-score[data-v-48d3cb65]{width:80px;text-align:right}",""])},f7ab:function(t,e,a){"use strict";var s=a("65e9").a,i=(a("f7d4"),a("17cc")),n=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{ref:"synchronize-tip-bar",staticClass:"synchronize-tip-bar"},[a("icon",{attrs:{name:"caution"}}),t.waitUploadNum?a("span",[t._v("您有"+t._s(t.waitUploadNum)+"条数据待上传")]):t._e(),!t.waitUploadNum&&t.hasChanged?a("span",[t._v("有新数据")]):t._e(),t._v("\n  ，下拉可"+t._s(t.waitUploadNum?"上传":"刷新")+"\n")],1):t._e()}),[],!1,null,"66826030",null);e.a=n.exports},f7d4:function(t,e,a){"use strict";a("2d6e")}}]);