(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-0c229d4c"],{"20eb":function(t,e,i){"use strict";i("9908")},"4b41":function(t,e,i){"use strict";i.r(e);var a=i("1601"),n=i("5072"),s=i("e2a7"),o={components:{Item:i("07d2").default},data:function(){return{model:{},isLoading:!1}},created:function(){this.init()},activated:function(){this.init()},methods:{init:function(){this.model=n.a,n.a.init()},openIm:function(t){a.a.openIm(t.targetId,t.targetName,t.portraitUri).catch((function(t){s.a.alert(t)}))}}},l=(i("20eb"),i("17cc")),c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("page-content",{attrs:{title:"聊天"}},[t.model.conversationList.length?i("div",{staticClass:"list p0 bg-white border-bottom"},t._l(t.model.conversationList,(function(e,a){return i("item",{key:a,attrs:{border:"bottom"},on:{click:function(i){t.openIm(e)}}},[i("div",{staticClass:"im-list-img",style:{"background-image":"url("+e.portraitUri+")"}}),i("div",{staticClass:"item-con",staticStyle:{overflow:"hidden"}},[i("div",{staticClass:"display-flex"},[i("div",{staticClass:"im-list-name flex"},[t._v(t._s(e.targetName))]),i("div",{staticClass:"im-list-date"},[t._v(t._s(e.lastTime))])]),i("div",{staticClass:"display-flex"},[i("div",{staticClass:"im-list-message flex"},[t._v(t._s(e.lastMessage))]),e.unreadMessageCount?i("div",{staticClass:"im-list-unread ml10"},[t._v("\n            "+t._s(e.unreadMessageCount)+"\n          ")]):t._e()])])])}))):t._e(),t.isLoading||!t.model.conversationList.length?i("loading-status",{attrs:{"is-loading":t.isLoading,"is-empty":!0,"empty-text":"没有聊天历史"}}):t._e()],1)}),[],!1,null,"39f7e7c6",null);e.default=c.exports},5072:function(t,e,i){"use strict";(function(t){var a,n=i("a32d"),s=i.n(n),o=i("1601");o.a.onConversationListChange().then(null,null,(function(t){a.refreshConversations()})),a={conversationList:[],unreadCount:0,init:function(e,i,n,s){t.isEmpty(a.conversationList)&&a.refreshConversations()},refreshConversations:function(){return o.a.getTotalUnreadCount().then((function(t){a.unreadCount=t})),o.a.getConversationList().then((function(e){t.each(e,(function(t){var e=new Date,i=e.getFullYear(),a=e.getMonth(),n=e.getDate(),o=new Date(i,a,n,0,0,0).getTime(),l=new Date(t.time);t.time>o?t.lastTime=s.a.lpad(l.getHours(),2,"0")+":"+s.a.lpad(l.getMinutes(),2,"0"):t.lastTime=s.a.lpad(l.getMonth()+1,2,"0")+"-"+s.a.lpad(l.getDate(),2,"0")})),a.conversationList=e}))}},e.a=a}).call(this,i("391c"))},9908:function(t,e,i){var a=i("b3a2");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i("85cb").default)("db728c20",a,!0,{sourceMap:!1,shadowMode:!1})},b3a2:function(t,e,i){(t.exports=i("690e")(!1)).push([t.i,".zjapp .list[data-v-39f7e7c6]{margin:0;padding:0}.zjapp .im-list-img[data-v-39f7e7c6]{display:#000;width:50px;height:50px;margin-right:15px;background:no-repeat 50%;background-size:cover;background-color:#ddd;border-radius:5px}.zjapp .item-con[data-v-39f7e7c6]{flex:1;padding:0;font-size:16px;display:block;line-height:34px;color:#666;white-space:normal}.zjapp .display-flex[data-v-39f7e7c6]{display:flex;align-items:center;justify-content:center}.zjapp .im-list-name[data-v-39f7e7c6]{padding-top:4px;line-height:22px;font-size:18px;color:#333}.zjapp .flex[data-v-39f7e7c6]{flex:1}.zjapp .im-list-date[data-v-39f7e7c6]{line-height:16px;font-size:12px;color:#b2b2b2}.zjapp .im-list-message[data-v-39f7e7c6]{line-height:20px;font-size:14px;color:#8c8c8c;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""])}}]);