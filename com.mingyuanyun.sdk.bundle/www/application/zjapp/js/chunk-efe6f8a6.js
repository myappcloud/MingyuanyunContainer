(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-efe6f8a6"],{"0ec5":function(e,t,n){"use strict";(function(e){n("c04d");var o=n("f585"),a=n("9942"),i=n("e2a7"),r=n("24de"),s=n("4ad6"),c=n("a078");t.a={name:"Login",props:{loginSuccess:Object,forgetPwd:Object},data:function(){return{focusInput:"",corpId:"",username:"",password:"",isAgree:!0,showTenantCode:!0}},computed:{fullYear:function(){return(new Date).getFullYear()},containerStyle:function(){return{}},isIOS:function(){return this.$store.state.app.isIOS},appName:function(){return c.a.appName}},created:function(){var e=a.a.getLastUser();$log.log("loginData",e),e&&(this.corpId=e.tenant_code,this.username=e.user_code),window.TENANT_CODE&&(this.corpId=window.TENANT_CODE,this.showTenantCode=!1),document.addEventListener("pause",this.onPauseEvent,!1)},activated:function(){console.log("isIOS",this.isIOS),this.$refs["login-button"].setNormal()},methods:{setFocus:function(e){var t=this;"password"===e&&window.setTimeout((function(){t.$refs["login-submit-btn"].scrollIntoViewIfNeeded(!0)}),400),this.focusInput=e},clear:function(e){this[e]=""},submitLogin:function(){var t=this,n=this.corpId.trim(),r=this.username.trim(),s=this.password.trim();return this.isAgree?n?"poly"===n?(Object(o.a)("保利筑善云企业代码已由poly改为：polygc"),this.$nextTick((function(){t.$refs["login-corpId"].focus()})),!1):r?s?(this.$refs["login-password"].blur(),this.$refs["login-button"].setActive(),a.a.login(n.toLocaleLowerCase(),r.toLocaleLowerCase(),s).then((function(e){if(console.error(e),!e||e.login_status)return a.a.afterLogin(e).then((function(){t.$refs["login-button"].setNormal(),document.removeEventListener("pause",t.onPauseEvent,!1)}));t.$refs["login-button"].setNormal(),console.error(e),i.a.alert(e.msg)})).catch((function(n){var o;console.error(n),o=n?e.isObject(n)?n.errmsg?n.errmsg:n.errMsg?n.errMsg:JSON.stringify(n):"string"!=typeof n?JSON.stringify(n):n:"登录失败，未知错误",t.$refs["login-button"].setNormal(),i.a.hideLoading(),i.a.alert(o)}))):(Object(o.a)("请输入密码"),this.$nextTick((function(){t.$refs["login-password"].focus()})),!1):(Object(o.a)("请输入帐号"),this.$nextTick((function(){t.$refs["login-username"].focus()})),!1):(Object(o.a)("请输入企业代码"),this.$nextTick((function(){t.$refs["login-corpId"].focus()})),!1):(Object(o.a)("请在下方阅读并同意《用户协议》和《隐私声明》"),!1)},recoverPwd:function(){if(!this.isAgree)return Object(o.a)("请在下方阅读并同意《用户协议》和《隐私声明》"),!1;this.$router.push({name:"RecoverPwd"})},hideKeyBoard:function(){window.focus()},onPauseEvent:function(){this.$refs["login-button"].setNormal()},setSelStatus:function(){this.isAgree=!this.isAgree},goUserAgreement:function(){r.a.checkHasNetwork().then((function(){s.a.openUrl("https://bbx.mysre.cn/Operation400/web/index.html#/productAnnouncement/reviewIndex?id=39f2018f-e724-e15f-aa4d-923206555da7&product_id=c2a55e1a-1b35-11ea-bd79-6c92bf61e29e&key=0d1201a55291549dd5fdf99f50228a5b&time=1575975037&_k=19mls3","用户协议")}))},goPrivacyStatement:function(){r.a.checkHasNetwork().then((function(){s.a.openUrl("https://bbx.mysre.cn/Operation400/web/index.html#/productAnnouncement/reviewIndex?id=39f170b5-e9d9-4565-d13f-56a7ee52e623&product_id=0dc1973a-a67c-11e8-bd79-6c92bf61e29e&key=cc9fa379ab02b499f066087bb4c8b92a&time=1575973483&_k=wg3jdk","隐私声明")}))}}}}).call(this,n("391c"))},3428:function(e,t,n){e.exports=n.p+"img/login-bg.a55798e2.jpg"},"703c":function(e,t,n){var o=n("5454");(e.exports=n("690e")(!1)).push([e.i,".zjapp .page-login-content[data-v-c107f2f0]{height:100%;background-image:url("+o(n("3428"))+");background-repeat:no-repeat;background-size:100%;background-color:#fff;display:flex;flex-direction:column;scroll-behavior:smooth}.zjapp .page-login-content input[data-v-c107f2f0]{border:none}.zjapp .page-login-content .btn-wrap[data-v-c107f2f0]{margin:50px 48px 0 48px}.zjapp .page-login-screen[data-v-c107f2f0]{top:0!important;bottom:40px!important;scroll-behavior:smooth;flex:1;overflow:auto}.zjapp .page-login[data-v-c107f2f0]{position:relative;height:100%;line-height:0}.zjapp .page-login .login-welcome[data-v-c107f2f0]{padding:80px 0 15px 0;margin:0;text-align:center;font-weight:400;font-size:45px;color:#4275e8}.zjapp .page-login .login-title[data-v-c107f2f0]{padding:0 0 50px 0;margin:0;text-align:center;font-weight:400;font-size:20px;color:#808086}.zjapp .page-login .login-list[data-v-c107f2f0]{margin:0 48px;line-height:1;overflow:hidden}.zjapp .page-login .form-item[data-v-c107f2f0]{position:relative;height:42px;margin-top:8px;border-bottom:1px solid #e2e2e2}.zjapp .page-login .login-list .icon[data-v-c107f2f0]{position:absolute;top:0;left:0;width:42px;height:42px;line-height:42px;text-align:center;font-size:26px;color:#9197a5}.zjapp .page-login input[data-v-c107f2f0]{width:100%;height:42px;line-height:20px;padding:11px 0 11px 0;font-size:16px;color:#333;background:transparent}.zjapp .page-login .input-clear[data-v-c107f2f0]{position:absolute;width:30px;height:40px;top:0;right:0;background:url("+o(n("7b08"))+") 100% no-repeat;background-size:20px 20px}.zjapp .page-login .btn-apply-try[data-v-c107f2f0]{display:inline-block;line-height:14px;color:#999!important}.zjapp .page-login .recover[data-v-c107f2f0]{margin-top:20px;text-align:left;font-size:14px;color:#4275e8;padding:0 48px;height:14px}.zjapp .page-login .recover-pwd[data-v-c107f2f0]{float:right;line-height:14px}.zjapp .copyright[data-v-c107f2f0]{line-height:1;padding:5px 0 15px 0;text-align:center;color:#c0c0c6;font-size:12px;text-decoration:none}.zjapp .ios-bezel-less .copyright[data-v-c107f2f0]{padding-bottom:45px}.zjapp .keyboard-open .copyright[data-v-c107f2f0],.zjapp .keyboard-open .user-agreement[data-v-c107f2f0]{display:none}.zjapp .user-agreement[data-v-c107f2f0]{padding:5px 0;color:#c8c8c8;text-align:center}.zjapp .user-agreement .checkbox[data-v-c107f2f0]{font-size:12px;color:#fff;width:14px;height:14px;border-radius:50%;text-align:center;line-height:14px;position:relative;top:2px}.zjapp .user-agreement .single-check[data-v-c107f2f0]{background:#4275e8}.zjapp .user-agreement .single-no-check[data-v-c107f2f0]{background:#fff;border:1px solid #c8c8c8}.zjapp .user-agreement .agree-content[data-v-c107f2f0]{padding-left:5px;font-size:12px;line-height:18px}.zjapp .user-agreement .underline[data-v-c107f2f0]{border-bottom:1px solid #c8c8c8}",""])},"838d":function(e,t,n){var o=n("703c");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("85cb").default)("2c23a812",o,!0,{sourceMap:!1,shadowMode:!1})},"9ed6":function(e,t,n){"use strict";n.r(t);var o=n("0ec5").a,a=(n("fcf3"),n("17cc")),i=Object(a.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-login-content",on:{click:function(t){return t.target!==t.currentTarget?null:e.window.focus()}}},[n("div",{staticClass:"page-login-screen",attrs:{id:"page-login-screen"}},[n("form",{staticClass:"page-login"},[n("div",{on:{click:e.hideKeyBoard}},[n("h2",{staticClass:"login-welcome"},[e._v("欢迎使用")]),n("h3",{staticClass:"login-title"},[e._v(e._s(e.appName))])]),n("div",{staticClass:"login-list"},[e.showTenantCode?n("div",{staticClass:"clearfix form-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.corpId,expression:"corpId"}],ref:"login-corpId",attrs:{id:"login-corpid",type:"text",name:"corpId",placeholder:"企业代码"},domProps:{value:e.corpId},on:{blur:function(t){t.stopPropagation(),e.setFocus("")},focus:function(t){t.stopPropagation(),e.setFocus("corpId")},keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitLogin(t)},input:function(t){t.target.composing||(e.corpId=t.target.value)}}}),e.corpId&&e.focusInput&&"corpId"===e.focusInput?n("app-label",{staticClass:"input-clear",attrs:{for:"login-corpid"},on:{click:function(t){e.clear("corpId")}}},[e._v(" ")]):e._e()],1):e._e(),n("div",{staticClass:"clearfix form-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],ref:"login-username",attrs:{id:"login-username",type:"text",name:"username",placeholder:"帐号"},domProps:{value:e.username},on:{blur:function(t){t.stopPropagation(),e.setFocus("")},focus:function(t){t.stopPropagation(),e.setFocus("username")},keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitLogin(t)},input:function(t){t.target.composing||(e.username=t.target.value)}}}),e.username&&e.focusInput&&"username"===e.focusInput?n("app-label",{staticClass:"input-clear",attrs:{for:"login-username"},on:{click:function(t){e.clear("username")}}},[e._v(" ")]):e._e()],1),n("div",{staticClass:"clearfix form-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"login-password",attrs:{id:"login-password",type:"password",name:"password",placeholder:"密码"},domProps:{value:e.password},on:{blur:function(t){t.stopPropagation(),e.setFocus("")},focus:function(t){t.stopPropagation(),e.setFocus("password")},keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitLogin(t)},input:function(t){t.target.composing||(e.password=t.target.value)}}}),e.password&&e.focusInput&&"password"===e.focusInput?n("app-label",{staticClass:"input-clear",attrs:{for:"login-password"},on:{click:function(t){e.clear("password")}}},[e._v(" ")]):e._e()],1)]),n("div",{ref:"login-submit-btn",staticClass:"btn-wrap"},[n("app-button",{ref:"login-button",attrs:{"active-text":"正在登录"},on:{click:e.submitLogin}},[e._v("登录")])],1),n("div",{staticClass:"recover"},[n("a",{directives:[{name:"track",rawName:"v-track",value:"登录页-找回密码",expression:"'登录页-找回密码'"}],staticClass:"recover-pwd",attrs:{href:"javascript:;"},on:{click:e.recoverPwd}},[e._v("找回密码")])])])]),!e.focusInput&&e.isIOS||!e.isIOS?n("div",{staticClass:"user-agreement",attrs:{href:"javascript:;"}},[n("van-icon",{staticClass:"checkbox",class:e.isAgree?"single-check":"single-no-check",attrs:{name:"success"},on:{click:e.setSelStatus}}),n("span",{staticClass:"agree-content"},[e._v("\n      已同意《\n      "),n("span",{staticClass:"underline",on:{click:e.goUserAgreement}},[e._v("用户协议")]),e._v("》，并知晓《\n      "),n("span",{staticClass:"underline",on:{click:e.goPrivacyStatement}},[e._v("隐私声明")]),e._v("》\n    ")])],1):e._e(),!e.focusInput&&e.isIOS||!e.isIOS?n("a",{staticClass:"copyright",attrs:{href:"javascript:;"}},[e._v("Copyright ©2015-"+e._s(e.fullYear)+" 明源云链 版权所有")]):e._e()])}),[],!1,null,"c107f2f0",null);t.default=i.exports},fcf3:function(e,t,n){"use strict";n("838d")}}]);