(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-e17bca40"],{"56bf":function(e,t,i){"use strict";i("ea6b")},"8cb7":function(e,t,i){(e.exports=i("690e")(!1)).push([e.i,'.zjapp .item-img-list{display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;align-items:flex-start;margin-top:-15px;margin-left:-15px}.zjapp .item-img-list li{position:relative;width:70px;height:70px;margin-left:15px;margin-top:15px;background:no-repeat 50%;background-size:cover;background-color:#eee;transform:translateZ(0)}.zjapp .item-img-list-popup{padding:0}.zjapp .item-img-list-popup .item-img-list{margin-top:0;text-align:center;font-size:0;white-space:nowrap}.zjapp .item-img-list-popup .item-img-list li{float:none;display:inline-block;vertical-align:top;background-color:transparent;border-color:#fff;color:#fff}.zjapp .item-img-list .icon-minus{position:absolute;top:-10px;right:-10px;width:20px;height:20px;line-height:20px;border-radius:10px;background-color:#ff4546;color:#fff;font-size:14px;text-align:center}.zjapp .item-img-list .icon-minus:before{content:"";position:absolute;left:5px;top:9px;width:10px;height:2px;background-color:#fff}.zjapp .item-img-list .no-img{color:#4275e8;background:#fff;line-height:70px;text-align:center;font-size:45px;border:1px dotted #4275e8}.zjapp .item-img-list .add-img{color:#b6b6b6;background:#fff;line-height:70px;text-align:center;font-size:40px;border:1px dotted #c6c6c6}.zjapp .item-img-list .list-icon{height:40px;line-height:30px;padding-top:10px;overflow:hidden;font-size:40px}.zjapp .item-img-list .list-icon i{font-size:28px;display:block}.zjapp .item-img-list .list-icon i:before{vertical-align:top}.zjapp .item-img-list .list-icon .icon-shoot-video{font-size:24px;margin-top:1px}.zjapp .item-img-list .list-text{line-height:20px;font-size:14px}.zjapp .item-img-list .van-icon-play{position:absolute;top:15px;left:20px;padding-left:2px;width:30px;height:30px;line-height:28px;text-align:center;font-size:22px;color:hsla(0,0%,100%,.8);border:1px solid hsla(0,0%,100%,.8);border-radius:15px}.zjapp .item-img-list .size{position:absolute;bottom:0;right:5px;line-height:18px;color:#fff;font-size:10px;font-style:normal}',""])},d209:function(e,t,i){"use strict";(function(e){i("5ab2"),i("e10e"),i("6a61");var a=i("2e91"),n=(i("6d57"),i("06a2"),i("28f8")),o=(i("e204"),i("163d"),i("a32d")),l=i.n(o),r=i("48f4"),s=i("4ad6"),u=i("a500"),c=i("3122"),d=i("162a"),p=i("e2a7"),m=i("3bd5"),h=i("ed08"),g=i("4360"),f=i("7cb8"),b=i("6cb4"),v=i("cc90");i("8d95");function w(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function x(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?w(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}t.a={name:"ItemImgList",store:g.a,props:{value:{type:Array,default:function(){return[]}},maxlength:{type:Number,default:3},editabled:{type:Boolean,default:!0},allowSelectAlbum:{type:Boolean,default:void 0},allowBuildinAlbum:{type:Boolean,default:void 0},allowMultiSelect:{type:Boolean,default:!0},editedBy:{type:String,default:""},prepareCallback:{type:Function,default:function(){}},cancelCallback:{type:Function,default:function(){}},onlineMode:{type:Boolean},trackText:{type:String,default:""},userLink:{type:Boolean,default:!1},allowVideo:{type:Boolean,default:!0},beforeEdit:{type:Function,default:function(){}},folder:{type:String,default:"images"},group:{type:String},modelId:{type:String},modelTable:{type:String},modelField:{type:String},pointImageMode:{type:Boolean,default:!1},pointImageEdit:{type:Function,default:function(){}}},data:function(){return{moduleCode:r.default.getCurrentModuleCode(),currentUserId:m.a.getUser().user_id,thumbnailSet:{},statusSet:{},addImageFunc:e.throttle(this.addImage,1e3),viewImages:[],pluginAllowVideo:s.a.allowShootVideo()}},computed:{allowAlbum:function(){return e.isBoolean(this.allowSelectAlbum)?this.allowSelectAlbum:this.$store.state.global.allowSelectPictureFromAlbums[this.moduleCode]},allowBuildin:function(){return e.isBoolean(this.allowBuildinAlbum)?this.allowBuildinAlbum:this.$store.state.global.allowSelectPictureFromBuildinAlbums[this.moduleCode]},hasVideoItem:function(){return this.allowVideo&&this.pluginAllowVideo}},watch:{value:function(t){var i=this;this.$nextTick((function(){e.isEmpty(t)||i.init()}))}},created:function(){var t=this;this.init(),this.$on("changeViewValue",(function(i){var a=e.clone(t.value),n=e.findIndex(a,{id:i.id}),o=t.modelId,l=t.modelTable,s=t.modelField;a[n]=i,t.$emit("input",a),o&&l&&s||console.error("更换图片失败，数据库参数不全",{modelId:o,modelTable:l,modelField:s});var u={};u[s]=Object(f.o)(a),localDB.update(l,u,{id:o}).then((function(){r.default.addSyncGroup([[l,o,"id"]])}))}))},methods:{init:function(){var t=this;e.each(this.value,(function(e){if(!e.id){var i=e.url||e.temp||"";i=l.a.replaceAll(i,"\\?x-oss-process=image\\/resize,","@");var a=l.a.strRightBack(i,"/"),n=l.a.strLeftBack(a,".")||+new Date;t.$set(e,"id",n)}e.temp&&t.$set(e,"temp",s.a.fixImagePath(e.temp)),e.videoTemp&&t.$set(e,"videoTemp",s.a.fixImagePath(e.videoTemp)),e.local&&t.$set(e,"local",s.a.fixImagePath(e.local))}))},getThumbnail:function(e){return this.onlineMode?"dev"===APP_ENV?this.thumbnailSet[e.id]?this.thumbnailSet[e.id]:e.url:e.temp?c.a.fixUrl(e.temp):e.url:"loading"===this.statusSet[e.id]?c.a.IMAGE_LOADING:"failed"===this.statusSet[e.id]?c.a.IMAGE_RELOAD:"dev"===APP_ENV?c.a.getImageThumbnail(e):e.temp?c.a.fixUrl(e.temp):e.url?this.thumbnailSet[e.id]?this.thumbnailSet[e.id]:(this.loadThumbnail(e),""):c.a.IMAGE_PLACEHOLD},loadThumbnail:function(e){var t=this,i=c.a.getImageThumbnail(e);this.$set(this.statusSet,e.id,"loading"),c.a.isNeedDownload(i,"thumbnail").then((function(a){a?c.a.download(i,"","thumbnail").then((function(i){t.$set(t.thumbnailSet,e.id,i),t.statusSet[e.id]="successed"})).catch((function(i){console.error(i),t.statusSet[e.id]="failed"})):(t.$set(t.thumbnailSet,e.id,c.a.getPathFromUrl(i,"thumbnail")),t.statusSet[e.id]="successed")}))},getSizeText:function(e){return e&&e.size?h.a.formatFilesize(e.size):""},getAllItems:function(){var t=this;if(this.group){var i=[],a=document.querySelectorAll(".item-img-list-"+this.group),n=e.map(a,(function(e){return e.__vue__}));return e.each(n,(function(t){e.each(t.value,(function(e){var a=x(x({},e),{},{component:t});i.push(a)}))})),i}return e.map(this.value,(function(e){return x(x({},e),{},{component:t})}))},imgView:function(t){var i=this,a=this.getAllItems(),n=e.findIndex(a,{id:t.id}),o=e.some(a,(function(e){return"loading"===i.statusSet[e.id]}));if(o)p.a.alert("正在下载图片，请稍等");else{var l={};if(this.editabled||this.editedBy!==this.currentUserId||"process-accept"===this.moduleCode||(l.toolBar={isShow:!0,isShowChange:!0},this.allowAlbum||(l.toolBar.changeOption=[1])),this.onlineMode)return this.viewImages=c.a.convertMediaList(a,!0),void s.a.openImageBrowser(this.viewImages,n,l).then(null,null,this.changeViewImage);if("dev"===APP_ENV)return this.viewImages=c.a.convertMediaList(a,!0),void s.a.openImageBrowser(this.viewImages,n,l).then(null,null,this.changeViewImage);var r=[];e.each(a,(function(e){var t;if("dev"===APP_ENV)t=Promise.resolve(e.url);else if(e.temp)t=Promise.resolve(e.temp);else if(e.local)t=Promise.resolve(e.local);else{var a=c.a.getImageUrl(e);t=c.a.isNeedDownload(a,i.folder).then((function(t){return t?(i.$set(i.statusSet,e.id,"loading"),c.a.download(a,!1,i.folder).then((function(t){return i.$set(i.statusSet,e.id,"successed"),t}))):c.a.getPathFromUrl(a,i.folder)}))}r.push(t)})),Promise.all(r).then((function(t){var o=e.map(a,(function(e,i){return e&&(e.videoUrl||e.videoTemp)?{image:c.a.fixUrl(t[i]),video:c.a.fixUrl(e.videoUrl||e.videoTemp)}:c.a.fixUrl(t[i])}));i.viewImages=o,s.a.openImageBrowser(o,n,l).then(null,null,i.changeViewImage)}))}},changeViewImage:function(t){var i=this.getAllItems(),a=t.change,n=a.imagePath,o=a.exchangePath,r=a.changeMode,u=l.a.strRightBack(n,"/"),d=i[e.findIndex(this.viewImages,(function(t){var i;if(e.isObject(t)){var a=t.image;i=l.a.strRightBack(a,"/")}else i=e.isString(t)?l.a.strRightBack(t,"/"):"";return i===u}))];if(d){var p={id:d.id,temp:o},m=d.component,h=s.a.getWatermark(1===r);return s.a.addwatermark(p.temp,h).then((function(e){if(p.temp=e,"dev"===APP_ENV)return c.a.uploadImage(e).then((function(e){p.url=e}))})).then((function(){m.$emit("changeViewValue",p)})).catch((function(e){console.error(e)}))}console.error("更换图片错误",t,i)},addImage:function(){var e=this;return Promise.resolve().then((function(){return e.beforeEdit()})).then((function(){return e.prepareCallback()})).then((function(){return c.a.takePicture()})).then((function(t){if(!t)return!1;console.log("获取图片数据",t),!g.a.state.global.hasTopProgress&&window&&window.StatusBar&&window.StatusBar.show();var i=e.value.concat(t);return t.user_id=e.currentUserId,v.a.handelPicture(t.temp).then((function(){"dev"===APP_ENV&&(e.$set(e.statusSet,t.id,"loading"),c.a.uploadImage(t.temp).then((function(e){t.url=e})).then((function(){e.$set(e.thumbnailSet,t.id,c.a.getImageThumbnail(t)),e.$set(e.statusSet,t.id,"successed"),e.$emit("input",i),e.$emit("callback",i)})))})).then((function(){e.$emit("input",i),e.$emit("callback",i)})),!0})).catch((function(t){return $log.error(t),p.a.alert(t||"发生了错误"),e.cancelCallback(),!g.a.state.global.hasTopProgress&&window&&window.StatusBar&&window.StatusBar.show(),!1}))},addVideo:function(){var t=this;return Promise.resolve().then((function(){return t.beforeEdit()})).then((function(){return t.prepareCallback()})).then((function(){return c.a.shootVideo()})).then((function(i){if(!g.a.state.global.hasTopProgress&&window&&window.StatusBar&&window.StatusBar.show(),e.isEmpty(i))return!1;i.user_id=t.currentUserId;var a=t.value.concat(i);return t.$emit("input",a),t.$emit("callback",a),"dev"===APP_ENV&&(t.$set(t.statusSet,i.id,"loading"),c.a.uploadImage(i.temp).then((function(e){i.url=e})).then((function(){return d.a.uploadFile(i.videoTemp).then((function(e){i.videoUrl=e}))})).then((function(){t.$set(t.thumbnailSet,i.id,c.a.getImageThumbnail(i)),t.$set(t.statusSet,i.id,"successed"),t.$emit("input",a),t.$emit("callback",a)}))),!0})).catch((function(e){return $log.error(e),p.a.alert(e||"发生了错误"),t.cancelCallback(),!g.a.state.global.hasTopProgress&&window&&window.StatusBar&&window.StatusBar.show(),!1}))},selectImage:function(){var t,i=this;if(this.allowMultiSelect){var a=Math.max(this.maxlength-this.value.length,0);t={maxSelectCount:a}}return Promise.resolve().then((function(){return i.beforeEdit()})).then((function(){return i.prepareCallback()})).then((function(){return c.a.selectPicture(t)})).then((function(t){if(!g.a.state.global.hasTopProgress&&window&&window.StatusBar&&window.StatusBar.show(),e.isEmpty(t))return!1;e.each(t,(function(e){e.user_id=i.currentUserId}));var a=i.value.concat(t);if(i.$emit("input",a),i.$emit("callback",a),"dev"===APP_ENV){var n=Promise.resolve();e.each(t,(function(e){i.$set(i.statusSet,e.id,"loading"),n=n.then((function(){return c.a.uploadImage(e.temp).then((function(t){delete e.temp,e.url=t,i.$set(i.thumbnailSet,e.id,c.a.getImageThumbnail(e)),i.$set(i.statusSet,e.id,"successed")}))}))})),n.then((function(){i.$emit("input",a),i.$emit("callback",a)}))}return!0})).catch((function(e){return $log.error(e),p.a.alert(e||"发生了错误"),i.cancelCallback(),!g.a.state.global.hasTopProgress&&window&&window.StatusBar&&window.StatusBar.show(),!1}))},addAppImage:function(t){var i=this;if(e.isEmpty(t))return Promise.reject("没有选择图片");var a=this.value.concat(t);return this.trackText&&u.a.addTrack(this.trackText+"-从APP相册选择照片","",""),Promise.all(e.map(t,(function(e){var t=h.a.uuid(),a=s.a.appImagePath()+"images/"+t+".jpg";return s.a.copyFile(e.temp,a).then((function(){e.id=t,e.temp=a,e.user_id=i.currentUserId})).then((function(){"dev"===APP_ENV&&(i.$set(i.statusSet,e.id,"loading"),c.a.uploadImage(e.temp).then((function(t){e.url=t,i.$set(i.thumbnailSet,e.id,c.a.getImageThumbnail(e)),i.$set(i.statusSet,e.id,"successed")})))}))}))).then((function(){i.$emit("input",a),i.$emit("callback",a)}))},selectBuildinImage:function(){var e=this;return new Promise(function(){var t=Object(a.a)(regeneratorRuntime.mark((function t(i,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.beforeEdit();case 3:v.a.maxImageLength=Math.max(e.maxlength-e.value.length,0),b.a.openPopup({bool:!0,callback:function(){var t=Object(a.a)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.addAppImage(a).catch((function(e){p.a.alert(e),i(!1)}));case 2:i(!0);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),p.a.alert(t.t0),i(!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,i){return t.apply(this,arguments)}}())},removeImage:function(t){var i=this,a=t.videoTemp?"确定要删除视频吗？":"确定要删除图片吗？";Promise.resolve().then((function(){return i.beforeEdit()})).then((function(){p.a.confirm(a).then((function(a){if(a){var n=i.value,o=e.indexOf(n,t);o>-1&&n.splice(o,1),i.$emit("remove",{index:o}),i.$emit("input",n),i.$emit("callback",n)}}))})).catch((function(e){p.a.alert(e)}))}}}}).call(this,i("391c"))},e68e:function(e,t,i){"use strict";var a=i("d209").a,n=(i("56bf"),i("17cc")),o=Object(n.a)(a,(function(){var e,t=this,i=t.$createElement,a=t._self._c||i;return t.editabled||t.value.length?a("ul",{staticClass:"item-img-list",class:(e={},e["item-img-list-"+t.group]=t.group,e)},[t.value.length?t._l(t.value,(function(e,i){return a("li",{key:i,style:{"background-image":"url("+t.getThumbnail(e)+")"},on:{click:function(a){t.imgView(e,i)}}},[!1===t.editabled||t.userLink&&(!t.userLink||e.user_id!==t.currentUserId)||t.pointImageMode?t._e():a("i",{staticClass:"icon-minus",on:{click:function(i){i.stopPropagation(),t.removeImage(e)}}}),e.videoUrl?a("van-icon",{attrs:{name:"play"}}):t._e(),e.size?a("i",{staticClass:"size"},[t._v(t._s(t.getSizeText(e)))]):t._e()],1)})):t._e(),t.pointImageMode?[t.value.length<t.maxlength&&!1!==t.editabled?a("li",{staticClass:"no-img",on:{click:t.pointImageEdit}},[a("p",{staticClass:"list-icon"},[a("icon",{attrs:{name:"dianweizhao"}})],1),a("p",{staticClass:"list-text"},[t._v("点位照")])]):t._e()]:[t.value.length<t.maxlength&&!1!==t.editabled?a("li",{staticClass:"no-img",on:{click:t.addImageFunc}},[a("p",{staticClass:"list-icon"},[a("icon",{attrs:{name:"paizhao"}})],1),a("p",{staticClass:"list-text"},[t._v("拍照")])]):t._e(),t.value.length<t.maxlength&&!1!==t.editabled&&t.hasVideoItem?a("li",{staticClass:"no-img",on:{click:t.addVideo}},[a("p",{staticClass:"list-icon"},[a("icon",{attrs:{name:"shoot-video"}})],1),a("p",{staticClass:"list-text"},[t._v("拍视频")])]):t._e(),t.value.length<t.maxlength&&!1!==t.editabled&&t.allowAlbum?a("li",{staticClass:"no-img",on:{click:t.selectImage}},[a("p",{staticClass:"list-icon"},[a("icon",{attrs:{name:"xiangce"}})],1),a("p",{staticClass:"list-text"},[t._v("手机相册")])]):t._e(),t.value.length<t.maxlength&&!1!==t.editabled&&t.allowBuildin?a("li",{staticClass:"no-img",on:{click:t.selectBuildinImage}},[a("p",{staticClass:"list-icon"},[a("icon",{attrs:{name:"xiangce"}})],1),a("p",{staticClass:"list-text"},[t._v("APP相册")])]):t._e()]],2):t._e()}),[],!1,null,null,null);t.a=o.exports},ea6b:function(e,t,i){var a=i("8cb7");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,i("85cb").default)("2c75d179",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL2NvbXBvbmVudHMvaXRlbS1pbWctbGlzdC9pbmRleC52dWU/ZWQ4NyIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL2NvbXBvbmVudHMvaXRlbS1pbWctbGlzdC9pbmRleC52dWU/ZTEwOSIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fL3NyYy9jb21wb25lbnRzL2l0ZW0taW1nLWxpc3QvaW5kZXgudnVlIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvY29tcG9uZW50cy9pdGVtLWltZy1saXN0L2luZGV4LnZ1ZT9lZTEyIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvY29tcG9uZW50cy9pdGVtLWltZy1saXN0L2luZGV4LnZ1ZT80ZjBkIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvY29tcG9uZW50cy9pdGVtLWltZy1saXN0L2luZGV4LnZ1ZSIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL2NvbXBvbmVudHMvaXRlbS1pbWctbGlzdC9pbmRleC52dWU/YmFlMSJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicHVzaCIsImkiLCJuYW1lIiwic3RvcmUiLCJwcm9wcyIsInZhbHVlIiwidHlwZSIsIkFycmF5IiwiZGVmYXVsdCIsIm1heGxlbmd0aCIsIk51bWJlciIsImVkaXRhYmxlZCIsIkJvb2xlYW4iLCJhbGxvd1NlbGVjdEFsYnVtIiwidW5kZWZpbmVkIiwiYWxsb3dCdWlsZGluQWxidW0iLCJhbGxvd011bHRpU2VsZWN0IiwiZWRpdGVkQnkiLCJTdHJpbmciLCJwcmVwYXJlQ2FsbGJhY2siLCJGdW5jdGlvbiIsImNhbmNlbENhbGxiYWNrIiwib25saW5lTW9kZSIsInRyYWNrVGV4dCIsInVzZXJMaW5rIiwiYWxsb3dWaWRlbyIsImJlZm9yZUVkaXQiLCJmb2xkZXIiLCJncm91cCIsIm1vZGVsSWQiLCJtb2RlbFRhYmxlIiwibW9kZWxGaWVsZCIsInBvaW50SW1hZ2VNb2RlIiwicG9pbnRJbWFnZUVkaXQiLCJkYXRhIiwibW9kdWxlQ29kZSIsImN1cnJlbnRVc2VySWQiLCJ0aHVtYm5haWxTZXQiLCJzdGF0dXNTZXQiLCJhZGRJbWFnZUZ1bmMiLCJfIiwidGhyb3R0bGUiLCJ0aGlzIiwiYWRkSW1hZ2UiLCJ2aWV3SW1hZ2VzIiwicGx1Z2luQWxsb3dWaWRlbyIsImNvbXB1dGVkIiwiYWxsb3dBbGJ1bSIsImlzQm9vbGVhbiIsIiRzdG9yZSIsInN0YXRlIiwiZ2xvYmFsIiwiYWxsb3dTZWxlY3RQaWN0dXJlRnJvbUFsYnVtcyIsImFsbG93QnVpbGRpbiIsImFsbG93U2VsZWN0UGljdHVyZUZyb21CdWlsZGluQWxidW1zIiwiaGFzVmlkZW9JdGVtIiwid2F0Y2giLCIkbmV4dFRpY2siLCJpc0VtcHR5IiwidiIsImNyZWF0ZWQiLCJpbml0IiwiJG9uIiwidmFsdWVzIiwiaW5kZXgiLCJjb25zb2xlIiwiZXJyb3IiLCJ1cGRhdGVPYmplY3QiLCJsb2NhbERCIiwidXBkYXRlIiwibWV0aG9kcyIsImVhY2giLCJpbWFnZSIsImlkIiwidXJsIiwidGVtcCIsInZpZGVvVGVtcCIsImxvY2FsIiwiZ2V0VGh1bWJuYWlsIiwiQVBQX0VOViIsImxvYWRUaHVtYm5haWwiLCIkc2V0IiwiaXNOZWVkIiwiZ2V0U2l6ZVRleHQiLCJzaXplIiwiZ2V0QWxsSXRlbXMiLCJkb20iLCJfX3Z1ZV9fIiwiYWxsQ29tcCIsImNvbXAiLCJjb21wb25lbnQiLCJyZXN1bHQiLCJtYXAiLCJpbWdWaWV3IiwiaGFzTG9hZGluZyIsImFsbEl0ZW1zIiwiZG93bmxvYWRQcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJwYXRoIiwiZG93bmxvYWRQcm9taXNlcyIsImFsbCIsInRoZW4iLCJ2aWRlb1VybCIsInZpZGVvIiwiY2hhbmdlVmlld0ltYWdlIiwiaXNPYmplY3QiLCJpdGVtIiwiaXRlbU5hbWUiLCJpbWFnZU5hbWUiLCJleGNoYW5nZVBhdGgiLCJub3RpZnlEYXRhIiwiYWRkVmlkZW8iLCJzZWxlY3RJbWFnZSIsInNlbGVjdENvdW50IiwiTWF0aCIsIm1heCIsImxlbmd0aCIsIm9wdGlvbnMiLCJhZGRBcHBJbWFnZSIsImltYWdlcyIsInJlamVjdCIsInNlbGVjdEJ1aWxkaW5JbWFnZSIsInJlbW92ZUltYWdlIiwiX29iaiIsIl92bSIsIl9oIiwiJGNyZWF0ZUVsZW1lbnQiLCJfYyIsIl9zZWxmIiwic3RhdGljQ2xhc3MiLCJjbGFzcyIsIl9sIiwia2V5Iiwic3R5bGUiLCJvbiIsIiRldmVudCIsInVzZXJfaWQiLCJfZSIsInN0b3BQcm9wYWdhdGlvbiIsImF0dHJzIiwiX3YiLCJfcyIsImNvbnRlbnQiLCJsb2NhbHMiLCJhZGQiXSwibWFwcGluZ3MiOiJvSkFBQSxXLHdCQ0FVQSxFQUFPQyxRQUFVLEVBQVEsT0FBUixFQUE4RSxJQUtqR0MsS0FBSyxDQUFDRixFQUFPRyxFQUFJLGs5REFBcTlELE0sNjRCQ3FHOStELEtBQ0VDLEtBQU0sY0FDTkMsTUFBRixJQUNFQyxNQUFPLENBQ0xDLE1BQU8sQ0FDTEMsS0FBTUMsTUFDTkMsUUFBUyxXQUFmLFdBRUlDLFVBQVcsQ0FDVEgsS0FBTUksT0FDTkYsUUFBUyxHQUVYRyxVQUFXLENBQ1RMLEtBQU1NLFFBQ05KLFNBQVMsR0FFWEssaUJBQWtCLENBQ2hCUCxLQUFNTSxRQUNOSixhQUFTTSxHQUVYQyxrQkFBbUIsQ0FDakJULEtBQU1NLFFBQ05KLGFBQVNNLEdBRVhFLGlCQUFrQixDQUNoQlYsS0FBTU0sUUFDTkosU0FBUyxHQUdYUyxTQUFVLENBQ1JYLEtBQU1ZLE9BQ05WLFFBQVMsSUFFWFcsZ0JBQWlCLENBQ2ZiLEtBQU1jLFNBQ05aLFFBQVMsY0FFWGEsZUFBZ0IsQ0FDZGYsS0FBTWMsU0FDTlosUUFBUyxjQUdYYyxXQUFZLENBQ1ZoQixLQUFNTSxTQUdSVyxVQUFXLENBQ1RqQixLQUFNWSxPQUNOVixR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LE1BQU1nSCxPQUFTUSxFQUFJcEgsWUFBK0IsSUFBbEJvSCxFQUFJbEgsV0FBdUJrSCxFQUFJeEUsYUFBYzJFLEVBQUcsS0FBSyxDQUFDRSxZQUFZLFNBQVNLLEdBQUcsQ0FBQyxNQUFRVixFQUFJSCxxQkFBcUIsQ0FBQ00sRUFBRyxJQUFJLENBQUNFLFlBQVksYUFBYSxDQUFDRixFQUFHLE9BQU8sQ0FBQ1ksTUFBTSxDQUFDLEtBQU8sY0FBYyxHQUFHWixFQUFHLElBQUksQ0FBQ0UsWUFBWSxhQUFhLENBQUNMLEVBQUlnQixHQUFHLGFBQWFoQixFQUFJYSxPQUFvUixHQUFHYixFQUFJYSxPQUN6cEQsSUVLcEIsRUFDQSxLQUNBLEtBQ0EsTUFJYSxJQUFBaEQsRSw4QkNoQmYsSUFBSXFELEVBQVUsRUFBUSxRQUNBLGlCQUFaQSxJQUFzQkEsRUFBVSxDQUFDLENBQUNqSixFQUFPRyxFQUFJOEksRUFBUyxNQUM3REEsRUFBUUMsU0FBUWxKLEVBQU9DLFFBQVVnSixFQUFRQyxTQUcvQkMsRUFESCxFQUFRLFFBQTBGekksU0FDM0YsV0FBWXVJLEdBQVMsRUFBTSxDQUFDLFdBQVksRUFBTSxZQUFhIiwiZmlsZSI6ImpzL2NodW5rLWUxN2JjYTQwLmpzP3YxNjA4NzE0NDUxMTk1Iiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtc3R5bGUtbG9hZGVyQDQuMS4yQHZ1ZS1zdHlsZS1sb2FkZXIvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDEuMC4xQGNzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjkuNUB2dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Nhc3MtbG9hZGVyQDcuMS4wQHNhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tOC1vbmVPZi0xLTQhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPXNjc3MmXCIiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDEuMC4xQGNzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi56amFwcCAuaXRlbS1pbWctbGlzdHtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtd3JhcDp3cmFwO2FsaWduLWNvbnRlbnQ6ZmxleC1zdGFydDthbGlnbi1pdGVtczpmbGV4LXN0YXJ0O21hcmdpbi10b3A6LTE1cHg7bWFyZ2luLWxlZnQ6LTE1cHh9LnpqYXBwIC5pdGVtLWltZy1saXN0IGxpe3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjcwcHg7aGVpZ2h0OjcwcHg7bWFyZ2luLWxlZnQ6MTVweDttYXJnaW4tdG9wOjE1cHg7YmFja2dyb3VuZDpuby1yZXBlYXQgNTAlO2JhY2tncm91bmQtc2l6ZTpjb3ZlcjtiYWNrZ3JvdW5kLWNvbG9yOiNlZWU7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCl9LnpqYXBwIC5pdGVtLWltZy1saXN0LXBvcHVwe3BhZGRpbmc6MH0uemphcHAgLml0ZW0taW1nLWxpc3QtcG9wdXAgLml0ZW0taW1nLWxpc3R7bWFyZ2luLXRvcDowO3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtc2l6ZTowO3doaXRlLXNwYWNlOm5vd3JhcH0uemphcHAgLml0ZW0taW1nLWxpc3QtcG9wdXAgLml0ZW0taW1nLWxpc3QgbGl7ZmxvYXQ6bm9uZTtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3A7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItY29sb3I6I2ZmZjtjb2xvcjojZmZmfS56amFwcCAuaXRlbS1pbWctbGlzdCAuaWNvbi1taW51c3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTEwcHg7cmlnaHQ6LTEwcHg7d2lkdGg6MjBweDtoZWlnaHQ6MjBweDtsaW5lLWhlaWdodDoyMHB4O2JvcmRlci1yYWRpdXM6MTBweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZjQ1NDY7Y29sb3I6I2ZmZjtmb250LXNpemU6MTRweDt0ZXh0LWFsaWduOmNlbnRlcn0uemphcHAgLml0ZW0taW1nLWxpc3QgLmljb24tbWludXM6YmVmb3Jle2NvbnRlbnQ6XFxcIlxcXCI7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1cHg7dG9wOjlweDt3aWR0aDoxMHB4O2hlaWdodDoycHg7YmFja2dyb3VuZC1jb2xvcjojZmZmfS56amFwcCAuaXRlbS1pbWctbGlzdCAubm8taW1ne2NvbG9yOiM0Mjc1ZTg7YmFja2dyb3VuZDojZmZmO2xpbmUtaGVpZ2h0OjcwcHg7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjQ1cHg7Ym9yZGVyOjFweCBkb3R0ZWQgIzQyNzVlOH0uemphcHAgLml0ZW0taW1nLWxpc3QgLmFkZC1pbWd7Y29sb3I6I2I2YjZiNjtiYWNrZ3JvdW5kOiNmZmY7bGluZS1oZWlnaHQ6NzBweDt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXNpemU6NDBweDtib3JkZXI6MXB4IGRvdHRlZCAjYzZjNmM2fS56amFwcCAuaXRlbS1pbWctbGlzdCAubGlzdC1pY29ue2hlaWdodDo0MHB4O2xpbmUtaGVpZ2h0OjMwcHg7cGFkZGluZy10b3A6MTBweDtvdmVyZmxvdzpoaWRkZW47Zm9udC1zaXplOjQwcHh9LnpqYXBwIC5pdGVtLWltZy1saXN0IC5saXN0LWljb24gaXtmb250LXNpemU6MjhweDtkaXNwbGF5OmJsb2NrfS56amFwcCAuaXRlbS1pbWctbGlzdCAubGlzdC1pY29uIGk6YmVmb3Jle3ZlcnRpY2FsLWFsaWduOnRvcH0uemphcHAgLml0ZW0taW1nLWxpc3QgLmxpc3QtaWNvbiAuaWNvbi1zaG9vdC12aWRlb3tmb250LXNpemU6MjRweDttYXJnaW4tdG9wOjFweH0uemphcHAgLml0ZW0taW1nLWxpc3QgLmxpc3QtdGV4dHtsaW5lLWhlaWdodDoyMHB4O2ZvbnQtc2l6ZToxNHB4fS56amFwcCAuaXRlbS1pbWctbGlzdCAudmFuLWljb24tcGxheXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTVweDtsZWZ0OjIwcHg7cGFkZGluZy1sZWZ0OjJweDt3aWR0aDozMHB4O2hlaWdodDozMHB4O2xpbmUtaGVpZ2h0OjI4cHg7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjIycHg7Y29sb3I6aHNsYSgwLDAlLDEwMCUsLjgpO2JvcmRlcjoxcHggc29saWQgaHNsYSgwLDAlLDEwMCUsLjgpO2JvcmRlci1yYWRpdXM6MTVweH0uemphcHAgLml0ZW0taW1nLWxpc3QgLnNpemV7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjA7cmlnaHQ6NXB4O2xpbmUtaGVpZ2h0OjE4cHg7Y29sb3I6I2ZmZjtmb250LXNpemU6MTBweDtmb250LXN0eWxlOm5vcm1hbH1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCI8dGVtcGxhdGU+XG4gIDx1bFxuICAgIGNsYXNzPVwiaXRlbS1pbWctbGlzdFwiXG4gICAgOmNsYXNzPVwieyBbJ2l0ZW0taW1nLWxpc3QtJyArIGdyb3VwXTogZ3JvdXAgfVwiXG4gICAgdi1pZj1cIiEoIWVkaXRhYmxlZCAmJiAhdmFsdWUubGVuZ3RoKVwiXG4gID5cbiAgICA8IS0tIOWxleekuuWIl+ihqCAtLT5cbiAgICA8dGVtcGxhdGUgdi1pZj1cInZhbHVlLmxlbmd0aFwiPlxuICAgICAgPGxpXG4gICAgICAgIHYtZm9yPVwiKGl0ZW0sIGtleSkgaW4gdmFsdWVcIlxuICAgICAgICA6a2V5PVwia2V5XCJcbiAgICAgICAgOnN0eWxlPVwieyAnYmFja2dyb3VuZC1pbWFnZSc6ICd1cmwoJyArIGdldFRodW1ibmFpbChpdGVtKSArICcpJyB9XCJcbiAgICAgICAgQGNsaWNrPVwiaW1nVmlldyhpdGVtLCBrZXkpXCJcbiAgICAgID5cbiAgICAgICAgPGlcbiAgICAgICAgICB2LWlmPVwiXG4gICAgICAgICAgICBlZGl0YWJsZWQgIT09IGZhbHNlICYmXG4gICAgICAgICAgICAoIXVzZXJMaW5rIHx8ICh1c2VyTGluayAmJiBpdGVtLnVzZXJfaWQgPT09IGN1cnJlbnRVc2VySWQpKSAmJlxuICAgICAgICAgICAgIXBvaW50SW1hZ2VNb2RlXG4gICAgICAgICAgXCJcbiAgICAgICAgICBjbGFzcz1cImljb24tbWludXNcIlxuICAgICAgICAgIEBjbGljay5zdG9wPVwicmVtb3ZlSW1hZ2UoaXRlbSlcIlxuICAgICAgICA+PC9pPlxuICAgICAgICA8dmFuLWljb24gbmFtZT1cInBsYXlcIiB2LWlmPVwiaXRlbS52aWRlb1VybFwiIC8+XG4gICAgICAgIDxpIHYtaWY9XCJpdGVtLnNpemVcIiBjbGFzcz1cInNpemVcIj57eyBnZXRTaXplVGV4dChpdGVtKSB9fTwvaT5cbiAgICAgIDwvbGk+XG4gICAgPC90ZW1wbGF0ZT5cbiAgICA8IS0tIOWxleekuuWIl+ihqCBlbmQgLS0+XG5cbiAgICA8dGVtcGxhdGUgdi1pZj1cIiFwb2ludEltYWdlTW9kZVwiPlxuICAgICAgPGxpXG4gICAgICAgIHYtaWY9XCJ2YWx1ZS5sZW5ndGggPCBtYXhsZW5ndGggJiYgZWRpdGFibGVkICE9PSBmYWxzZVwiXG4gICAgICAgIGNsYXNzPVwibm8taW1nXCJcbiAgICAgICAgQGNsaWNrPVwiYWRkSW1hZ2VGdW5jXCJcbiAgICAgID5cbiAgICAgICAgPHAgY2xhc3M9XCJsaXN0LWljb25cIj5cbiAgICAgICAgICA8aWNvbiBuYW1lPVwicGFpemhhb1wiIC8+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJsaXN0LXRleHRcIj7mi43nhac8L3A+XG4gICAgICA8L2xpPlxuXG4gICAgICA8bGlcbiAgICAgICAgdi1pZj1cInZhbHVlLmxlbmd0aCA8IG1heGxlbmd0aCAmJiBlZGl0YWJsZWQgIT09IGZhbHNlICYmIGhhc1ZpZGVvSXRlbVwiXG4gICAgICAgIGNsYXNzPVwibm8taW1nXCJcbiAgICAgICAgQGNsaWNrPVwiYWRkVmlkZW9cIlxuICAgICAgPlxuICAgICAgICA8cCBjbGFzcz1cImxpc3QtaWNvblwiPlxuICAgICAgICAgIDxpY29uIG5hbWU9XCJzaG9vdC12aWRlb1wiIC8+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJsaXN0LXRleHRcIj7mi43op4bpopE8L3A+XG4gICAgICA8L2xpPlxuXG4gICAgICA8bGlcbiAgICAgICAgdi1pZj1cInZhbHVlLmxlbmd0aCA8IG1heGxlbmd0aCAmJiBlZGl0YWJsZWQgIT09IGZhbHNlICYmIGFsbG93QWxidW1cIlxuICAgICAgICBjbGFzcz1cIm5vLWltZ1wiXG4gICAgICAgIEBjbGljaz1cInNlbGVjdEltYWdlXCJcbiAgICAgID5cbiAgICAgICAgPHAgY2xhc3M9XCJsaXN0LWljb25cIj5cbiAgICAgICAgICA8aWNvbiBuYW1lPVwieGlhbmdjZVwiIC8+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJsaXN0LXRleHRcIj7miYvmnLrnm7jlhow8L3A+XG4gICAgICA8L2xpPlxuICAgICAgPGxpXG4gICAgICAgIHYtaWY9XCJ2YWx1ZS5sZW5ndGggPCBtYXhsZW5ndGggJiYgZWRpdGFibGVkICE9PSBmYWxzZSAmJiBhbGxvd0J1aWxkaW5cIlxuICAgICAgICBjbGFzcz1cIm5vLWltZ1wiXG4gICAgICAgIEBjbGljaz1cInNlbGVjdEJ1aWxkaW5JbWFnZVwiXG4gICAgICA+XG4gICAgICAgIDxwIGNsYXNzPVwibGlzdC1pY29uXCI+XG4gICAgICAgICAgPGljb24gbmFtZT1cInhpYW5nY2VcIiAvPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwibGlzdC10ZXh0XCI+QVBQ55u45YaMPC9wPlxuICAgICAgPC9saT5cbiAgICA8L3RlbXBsYXRlPlxuXG4gICAgPHRlbXBsYXRlIHYtZWxzZT5cbiAgICAgIDxsaVxuICAgICAgICB2LWlmPVwidmFsdWUubGVuZ3RoIDwgbWF4bGVuZ3RoICYmIGVkaXRhYmxlZCAhPT0gZmFsc2VcIlxuICAgICAgICBjbGFzcz1cIm5vLWltZ1wiXG4gICAgICAgIEBjbGljaz1cInBvaW50SW1hZ2VFZGl0XCJcbiAgICAgID5cbiAgICAgICAgPHAgY2xhc3M9XCJsaXN0LWljb25cIj5cbiAgICAgICAgICA8aWNvbiBuYW1lPVwiZGlhbndlaXpoYW9cIiAvPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwibGlzdC10ZXh0XCI+54K55L2N54WnPC9wPlxuICAgICAgPC9saT5cbiAgICA8L3RlbXBsYXRlPlxuICA8L3VsPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCBzIGZyb20gJ3VuZGVyc2NvcmUuc3RyaW5nJztcbi8vIGltcG9ydCAkcSBmcm9tICdAc3RhdGljL2xpYi9wcm9taXNlJztcbmltcG9ydCBEYXRhU3luY2hyb25pemVyIGZyb20gJ0BzcmMvc2VydmljZS9jb21tb24vZGF0YS1zeW5jaHJvbml6ZXInO1xuLy8gaW1wb3J0IENvbW1vbkJhc2VkYXRhU2VydmljZSBmcm9tICdAc3JjL3NlcnZpY2UvY29tbW9uL2NvbW1vbi1iYXNlZGF0YS1zZXJ2aWNlJztcbmltcG9ydCBwbHVnaW5BcGkgZnJvbSAnQHNyYy9hcGkvcGx1Z2luQXBpJztcbmltcG9ydCBUYWxraW5nRGF0YVNlcnZpY2UgZnJvbSAnQHNyYy9zZXJ2aWNlL2NvbW1vbi90YWxraW5nLWRhdGEtc2VydmljZSc7XG5pbXBvcnQgSW1hZ2VTZXJ2aWNlIGZyb20gJ0BzcmMvc2VydmljZS9jb21tb24vaW1hZ2Utc2VydmljZSc7XG5pbXBvcnQgV2ViU2VydmljZSBmcm9tICdAc3JjL3NlcnZpY2UvY29tbW9uL3dlYi1zZXJ2aWNlJztcbmltcG9ydCBQb3B1cCBmcm9tICdAc3JjL3V0aWxzL3BvcHVwJztcbmltcG9ydCBjb250ZXh0IGZyb20gJ0BzcmMvZnJhbWV3b3JrL2NvbnRleHQnO1xuaW1wb3J0IFV0aWxzIGZyb20gJ0BzcmMvdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ0BzdG9yZSc7XG5pbXBvcnQgeyB0b0pzb24gfSBmcm9tICdAc3JjL2NvbW1vbi9kYXRhLWhhbmRsZSc7XG5pbXBvcnQgU2VsZWN0UGhvdG9EaWFsb2cgZnJvbSAnQHNyYy93aWRnZXQvc2VsZWN0LXBob3RvL2luZGV4LmpzJztcbmltcG9ydCBBcHBQaG90b01vZGVsIGZyb20gJ0BzcmMvd2lkZ2V0L3NlbGVjdC1waG90by9tb2RlbC5qcyc7XG5pbXBvcnQgbW91ZGxlQ29kZUxpc3QgZnJvbSAnQHNyYy9jb25maWcvbW9kdWxlLWNvZGUnO1xuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnSXRlbUltZ0xpc3QnLFxuICBzdG9yZSxcbiAgcHJvcHM6IHtcbiAgICB2YWx1ZToge1xuICAgICAgdHlwZTogQXJyYXksXG4gICAgICBkZWZhdWx0OiAoKSA9PiBbXSxcbiAgICB9LFxuICAgIG1heGxlbmd0aDoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMyxcbiAgICB9LFxuICAgIGVkaXRhYmxlZDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgfSxcbiAgICBhbGxvd1NlbGVjdEFsYnVtOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdW5kZWZpbmVkLFxuICAgIH0sXG4gICAgYWxsb3dCdWlsZGluQWxidW06IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB1bmRlZmluZWQsXG4gICAgfSxcbiAgICBhbGxvd011bHRpU2VsZWN0OiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZSxcbiAgICB9LFxuICAgIC8vIOeFp+eJh+aYr+eUseiwgee8lui+keeahO+8jOafpeeci+Wkp+WbvuabtOaNouWbvueJh+aXtumcgOimgVxuICAgIGVkaXRlZEJ5OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnJyxcbiAgICB9LFxuICAgIHByZXBhcmVDYWxsYmFjazoge1xuICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICBkZWZhdWx0OiAoKSA9PiB7fSxcbiAgICB9LFxuICAgIGNhbmNlbENhbGxiYWNrOiB7XG4gICAgICB0eXBlOiBGdW5jdGlvbixcbiAgICAgIGRlZmF1bHQ6ICgpID0+IHt9LFxuICAgIH0sXG4gICAgLy8g5piv5ZCm5Zyo57q/5qih5byPXG4gICAgb25saW5lTW9kZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICB9LFxuICAgIC8vIOWfi+eCueaWh+Wtl+ivtOaYjlxuICAgIHRyYWNrVGV4dDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJycsXG4gICAgfSxcbiAgICB1c2VyTGluazoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIH0sXG4gICAgLy8g5piv5ZCm56aB5q2i6KeG6aKRXG4gICAgYWxsb3dWaWRlbzoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgfSxcbiAgICAvLyDmi43nhafvvIzmi43op4bpopHvvIzpgInnm7jlhozliY3miafooYznmoTmlrnms5XvvIzov5Tlm54gcHJvbWlzZSDvvIzlkowgcHJlcGFyZUNhbGxiYWNrIOS4jeWQjOS5i+WkhOWcqOS6juKAnOafpeeci+Wkp+WbvuKAneeahOaXtuWAmeS4jeS8muaJp+ihjFxuICAgIGJlZm9yZUVkaXQ6IHtcbiAgICAgIHR5cGU6IEZ1bmN0aW9uLFxuICAgICAgZGVmYXVsdDogKCkgPT4ge30sXG4gICAgfSxcbiAgICAvLyDmnKzlnLDlm77niYflrZjmlL7nmoTmlofku7blpLlcbiAgICBmb2xkZXI6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdpbWFnZXMnLFxuICAgIH0sXG4gICAgLy8g5aSa5Liq57uE5Lu25Liy6IGU77yI5YiG57uE77yJXG4gICAgZ3JvdXA6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICB9LFxuICAgIC8vIOS4u+mUrmlk77yM5Y+q5pyJ5Zyo5pu05o2i5Zu+54mH55qE5pe25YCZ55So5YiwXG4gICAgbW9kZWxJZDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgIH0sXG4gICAgLy8g6KGo5ZCN77yM5Y+q5pyJ5pu05o2i5Zu+54mH55qE5pe25YCZ55So5YiwXG4gICAgbW9kZWxUYWJsZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgIH0sXG4gICAgLy8g5a2X5q615ZCNXG4gICAgbW9kZWxGaWVsZDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgIH0sXG4gICAgLy8g54K55L2N54WnXG4gICAgcG9pbnRJbWFnZU1vZGU6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB9LFxuICAgIHBvaW50SW1hZ2VFZGl0OiB7XG4gICAgICB0eXBlOiBGdW5jdGlvbixcbiAgICAgIGRlZmF1bHQ6ICgpID0+IHt9LFxuICAgIH0sXG4gIH0sXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIOW9k+WJjeaooeWdl1xuICAgICAgbW9kdWxlQ29kZTogRGF0YVN5bmNocm9uaXplci5nZXRDdXJyZW50TW9kdWxlQ29kZSgpLFxuICAgICAgY3VycmVudFVzZXJJZDogY29udGV4dC5nZXRVc2VyKCkudXNlcl9pZCxcblxuICAgICAgLy8g57yp55Wl5Zu+6ZuG5ZCI77yM57yp55Wl5Zu+5piv6Z2e5bi46KeE5bGe5oCn77yM5omA5Lul5LiN5a2Y5pS+5Yiw5Zu+54mH5a+56LGh5LiKKHRoaXMudmFsdWUp77yM5LiN54S25Lya6KKr5a2Y6L+b5pWw5o2u5bqTXG4gICAgICB0aHVtYm5haWxTZXQ6IHt9LFxuICAgICAgLy8g54q25oCB6ZuG5ZCIXG4gICAgICBzdGF0dXNTZXQ6IHt9LFxuICAgICAgYWRkSW1hZ2VGdW5jOiBfLnRocm90dGxlKHRoaXMuYWRkSW1hZ2UsIDEwMDApLFxuICAgICAgdmlld0ltYWdlczogW10sXG4gICAgICAvLyDmj5Lku7bmmK/lkKbmlK/mjIHmi43op4bpopHvvIzlhbzlrrnogIHmj5Lku7ZcbiAgICAgIHBsdWdpbkFsbG93VmlkZW86IHBsdWdpbkFwaS5hbGxvd1Nob290VmlkZW8oKSxcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGFsbG93QWxidW0oKSB7XG4gICAgICBpZiAoXy5pc0Jvb2xlYW4odGhpcy5hbGxvd1NlbGVjdEFsYnVtKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbGxvd1NlbGVjdEFsYnVtO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmdsb2JhbC5hbGxvd1NlbGVjdFBpY3R1cmVGcm9tQWxidW1zW3RoaXMubW9kdWxlQ29kZV07XG4gICAgICB9XG4gICAgfSxcbiAgICBhbGxvd0J1aWxkaW4oKSB7XG4gICAgICBpZiAoXy5pc0Jvb2xlYW4odGhpcy5hbGxvd0J1aWxkaW5BbGJ1bSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWxsb3dCdWlsZGluQWxidW07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZ2xvYmFsLmFsbG93U2VsZWN0UGljdHVyZUZyb21CdWlsZGluQWxidW1zW3RoaXMubW9kdWxlQ29kZV07XG4gICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiDnjrDlnKjmqKHlnZfpu5jorqTlvIDlp4vop4bpopHlip/og73vvIzkuI3pnIDopoHmoLnmja7mqKHlnZfljLrliIbvvIzku6PnoIHmmoLml7bkv53nlZnvvIzlkI7mnJ/liKDpmaRcbiAgICAgKi9cbiAgICAvLyBhbGxvd1Nob290VmlkZW8oKSB7XG4gICAgLy8gICBpZiAoXy5pc0Jvb2xlYW4odGhpcy5hbGxvd1ZpZGVvKSkge1xuICAgIC8vICAgICByZXR1cm4gdGhpcy5hbGxvd1ZpZGVvO1xuICAgIC8vICAgfSBlbHNlIHtcbiAgICAvLyAgICAgcmV0dXJuIF8uaW5jbHVkZXMoXG4gICAgLy8gICAgICAgW1xuICAgIC8vICAgICAgICAgJ3Byb2Nlc3MnLFxuICAgIC8vICAgICAgICAgbW91ZGxlQ29kZUxpc3QuQ0hFQ0ssXG4gICAgLy8gICAgICAgICBtb3VkbGVDb2RlTGlzdC5DSEVDS19TQUZFVFksXG4gICAgLy8gICAgICAgICBtb3VkbGVDb2RlTGlzdC5DSEVDS19RVUFMSVRZLFxuICAgIC8vICAgICAgICAgbW91ZGxlQ29kZUxpc3QuSU1BR0VfUFJPQ0VTUyxcbiAgICAvLyAgICAgICAgIG1vdWRsZUNvZGVMaXN0LlBST0NFU1NfQUNDRVBULFxuICAgIC8vICAgICAgICAgbW91ZGxlQ29kZUxpc3QuUElMRV9BQ0NFUFQsXG4gICAgLy8gICAgICAgICBtb3VkbGVDb2RlTGlzdC5TUEVDSUFMX0lOU1BFQ1QsXG4gICAgLy8gICAgICAgICBtb3VkbGVDb2RlTGlzdC5XQVRFUl9QT1VSSU5HX1RFU1QsXG4gICAgLy8gICAgICAgICBtb3VkbGVDb2RlTGlzdC5NRUVUSU5HLFxuICAgIC8vICAgICAgICAgbW91ZGxlQ29kZUxpc3QuTUVBU1VSRV9WMyxcbiAgICAvLyAgICAgICAgIG1vdWRsZUNvZGVMaXN0LlBST0NFU1NfQUNDRVBUX1YyLFxuICAgIC8vICAgICAgICAgbW91ZGxlQ29kZUxpc3QuUFJPQ0VTU19BQ0NFUFRfVjMsXG4gICAgLy8gICAgICAgICBtb3VkbGVDb2RlTGlzdC5NQVRFUklBTCxcbiAgICAvLyAgICAgICAgIG1vdWRsZUNvZGVMaXN0LklOVkVOVE9SWSxcbiAgICAvLyAgICAgICAgIG1vdWRsZUNvZGVMaXN0LlRFTVBMRVRfUExBTixcbiAgICAvLyAgICAgICAgIG1vdWRsZUNvZGVMaXN0LlRFTVBMRVRfUExBTl9WMixcbiAgICAvLyAgICAgICAgIG1vdWRsZUNvZGVMaXN0LlNDSEVEVUxFX1BMQU4sXG4gICAgLy8gICAgICAgICBtb3VkbGVDb2RlTGlzdC5DTE9TRURfV0FURVJfVEVTVCxcbiAgICAvLyAgICAgICAgIG1vdWRsZUNvZGVMaXN0LkZMWV9JTlNQRUNULFxuICAgIC8vICAgICAgICAgbW91ZGxlQ29kZUxpc3QuUFJPSkVDVF9ISUdITElHSFQsXG4gICAgLy8gICAgICAgICBtb3VkbGVDb2RlTGlzdC5UUkFDRUFCSUxJVFksXG4gICAgLy8gICAgICAgXSxcbiAgICAvLyAgICAgICB0aGlzLm1vZHVsZUNvZGVcbiAgICAvLyAgICAgKTtcbiAgICAvLyAgIH1cbiAgICAvLyB9LFxuICAgIC8vIOaYr+WQpuacieKAnOaLjeeFp+KAnemhue+8jOimgeaxgiBjb20ubXlzb2Z0Lm1lZGl0cGhvdG8g5o+S5Lu255qE54mI5pys5aSn5LqOIDIuMi4yXG4gICAgaGFzVmlkZW9JdGVtKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYWxsb3dWaWRlbyAmJiB0aGlzLnBsdWdpbkFsbG93VmlkZW87XG4gICAgfSxcbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICB2YWx1ZSh2KSB7XG4gICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIGlmICghXy5pc0VtcHR5KHYpKSB7XG4gICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gIH0sXG4gIGNyZWF0ZWQoKSB7XG4gICAgdGhpcy5pbml0KCk7XG5cbiAgICAvLyDmm7TmjaLlm77niYfvvIzov5nph4zku4Xku4XnlKjkuo7mn6XnnIvlpKflm77ml7bnmoTigJzmm7TmjaLlm77niYfigJ3vvIzkuI3kvZzku5bnlKjvvIFcbiAgICB0aGlzLiRvbignY2hhbmdlVmlld1ZhbHVlJywgdmFsdWUgPT4ge1xuICAgICAgbGV0IHZhbHVlcyA9IF8uY2xvbmUodGhpcy52YWx1ZSk7XG4gICAgICBsZXQgaW5kZXggPSBfLmZpbmRJbmRleCh2YWx1ZXMsIHsgaWQ6IHZhbHVlLmlkIH0pO1xuXG4gICAgICBsZXQgbW9kZWxJZCA9IHRoaXMubW9kZWxJZDtcbiAgICAgIGxldCBtb2RlbFRhYmxlID0gdGhpcy5tb2RlbFRhYmxlO1xuICAgICAgbGV0IG1vZGVsRmllbGQgPSB0aGlzLm1vZGVsRmllbGQ7XG5cbiAgICAgIHZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdmFsdWVzKTtcblxuICAgICAgaWYgKCFtb2RlbElkIHx8ICFtb2RlbFRhYmxlIHx8ICFtb2RlbEZpZWxkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+abtOaNouWbvueJh+Wksei0pe+8jOaVsOaNruW6k+WPguaVsOS4jeWFqCcsIHsgbW9kZWxJZCwgbW9kZWxUYWJsZSwgbW9kZWxGaWVsZCB9KTtcbiAgICAgIH1cblxuICAgICAgbGV0IHVwZGF0ZU9iamVjdCA9IHt9O1xuICAgICAgdXBkYXRlT2JqZWN0W21vZGVsRmllbGRdID0gdG9Kc29uKHZhbHVlcyk7XG5cbiAgICAgIC8vIGNvbnNvbGUubG9nKCdjaGFuZ2VWaWV3VmFsdWUg5pu05paw5pWw5o2u5bqTJywgbW9kZWxJZCwgbW9kZWxUYWJsZSwgbW9kZWxGaWVsZCwgdXBkYXRlT2JqZWN0KTtcblxuICAgICAgbG9jYWxEQi51cGRhdGUobW9kZWxUYWJsZSwgdXBkYXRlT2JqZWN0LCB7IGlkOiBtb2RlbElkIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICBEYXRhU3luY2hyb25pemVyLmFkZFN5bmNHcm91cChbW21vZGVsVGFibGUsIG1vZGVsSWQsICdpZCddXSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGluaXQoKSB7XG4gICAgICBfLmVhY2godGhpcy52YWx1ZSwgaW1hZ2UgPT4ge1xuICAgICAgICAvLyDlpoLmnpzlm77niYfmsqHmnIkgaWTvvIzliJnotYvlgLwgaWTvvIzvvIjlvojml6nnmoTmlbDmja7lj6/og73msqHmnIkgaWTvvIlcbiAgICAgICAgaWYgKCFpbWFnZS5pZCkge1xuICAgICAgICAgIGxldCB1cmwgPSBpbWFnZS51cmwgfHwgaW1hZ2UudGVtcCB8fCAnJztcbiAgICAgICAgICB1cmwgPSBzLnJlcGxhY2VBbGwodXJsLCAnXFxcXD94LW9zcy1wcm9jZXNzPWltYWdlXFxcXC9yZXNpemUsJywgJ0AnKTtcbiAgICAgICAgICBsZXQgZmlsZW5hbWUgPSBzLnN0clJpZ2h0QmFjayh1cmwsICcvJyk7XG4gICAgICAgICAgbGV0IGlkID0gcy5zdHJMZWZ0QmFjayhmaWxlbmFtZSwgJy4nKSB8fCArbmV3IERhdGUoKTtcblxuICAgICAgICAgIHRoaXMuJHNldChpbWFnZSwgJ2lkJywgaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g5pys5Zyw5Zyw5Z2A55+r5q2jXG4gICAgICAgIGlmIChpbWFnZS50ZW1wKSB7XG4gICAgICAgICAgdGhpcy4kc2V0KGltYWdlLCAndGVtcCcsIHBsdWdpbkFwaS5maXhJbWFnZVBhdGgoaW1hZ2UudGVtcCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbWFnZS52aWRlb1RlbXApIHtcbiAgICAgICAgICB0aGlzLiRzZXQoaW1hZ2UsICd2aWRlb1RlbXAnLCBwbHVnaW5BcGkuZml4SW1hZ2VQYXRoKGltYWdlLnZpZGVvVGVtcCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbWFnZS5sb2NhbCkge1xuICAgICAgICAgIHRoaXMuJHNldChpbWFnZSwgJ2xvY2FsJywgcGx1Z2luQXBpLmZpeEltYWdlUGF0aChpbWFnZS5sb2NhbCkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgZ2V0VGh1bWJuYWlsKGltYWdlKSB7XG4gICAgICBpZiAodGhpcy5vbmxpbmVNb2RlKSB7XG4gICAgICAgIC8vIOWcqOe6v+aooeW8j++8jOWbvueJh+S4jeS8muS4i+i9vVxuICAgICAgICBpZiAoQVBQX0VOViA9PT0gJ2RldicpIHtcbiAgICAgICAgICBpZiAodGhpcy50aHVtYm5haWxTZXRbaW1hZ2UuaWRdKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aHVtYm5haWxTZXRbaW1hZ2UuaWRdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaW1hZ2UudXJsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaW1hZ2UudGVtcCkge1xuICAgICAgICAgICAgcmV0dXJuIEltYWdlU2VydmljZS5maXhVcmwoaW1hZ2UudGVtcCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpbWFnZS51cmw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDnprvnur/mqKHlvI9cbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzU2V0W2ltYWdlLmlkXSA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIEltYWdlU2VydmljZS5JTUFHRV9MT0FESU5HO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdHVzU2V0W2ltYWdlLmlkXSA9PT0gJ2ZhaWxlZCcpIHtcbiAgICAgICAgICByZXR1cm4gSW1hZ2VTZXJ2aWNlLklNQUdFX1JFTE9BRDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoQVBQX0VOViA9PT0gJ2RldicpIHtcbiAgICAgICAgICAgIC8vIOW8gOWPkeeOr+Wig++8jOS4jeivu+WPluacrOWcsOaWh+S7tu+8iHRlbXDvvIlcbiAgICAgICAgICAgIHJldHVybiBJbWFnZVNlcnZpY2UuZ2V0SW1hZ2VUaHVtYm5haWwoaW1hZ2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaW1hZ2UudGVtcCkge1xuICAgICAgICAgICAgICByZXR1cm4gSW1hZ2VTZXJ2aWNlLmZpeFVybChpbWFnZS50ZW1wKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1hZ2UudXJsKSB7XG4gICAgICAgICAgICAgIC8vIOemu+e6v+aooeW8j++8jOmcgOimgeS4i+i9veWIsOacrOWcsOafpeeci1xuICAgICAgICAgICAgICBpZiAodGhpcy50aHVtYm5haWxTZXRbaW1hZ2UuaWRdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGh1bWJuYWlsU2V0W2ltYWdlLmlkXTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRUaHVtYm5haWwoaW1hZ2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIEltYWdlU2VydmljZS5JTUFHRV9QTEFDRUhPTEQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGxvYWRUaHVtYm5haWwoaW1hZ2UpIHtcbiAgICAgIGxldCB1cmwgPSBJbWFnZVNlcnZpY2UuZ2V0SW1hZ2VUaHVtYm5haWwoaW1hZ2UpO1xuICAgICAgdGhpcy4kc2V0KHRoaXMuc3RhdHVzU2V0LCBpbWFnZS5pZCwgJ2xvYWRpbmcnKTtcblxuICAgICAgSW1hZ2VTZXJ2aWNlLmlzTmVlZERvd25sb2FkKHVybCwgJ3RodW1ibmFpbCcpLnRoZW4oaXNOZWVkID0+IHtcbiAgICAgICAgaWYgKGlzTmVlZCkge1xuICAgICAgICAgIEltYWdlU2VydmljZS5kb3dubG9hZCh1cmwsICcnLCAndGh1bWJuYWlsJylcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnRodW1ibmFpbFNldCwgaW1hZ2UuaWQsIHJlcyk7XG4gICAgICAgICAgICAgIHRoaXMuc3RhdHVzU2V0W2ltYWdlLmlkXSA9ICdzdWNjZXNzZWQnO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICB0aGlzLnN0YXR1c1NldFtpbWFnZS5pZF0gPSAnZmFpbGVkJztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnRodW1ibmFpbFNldCwgaW1hZ2UuaWQsIEltYWdlU2VydmljZS5nZXRQYXRoRnJvbVVybCh1cmwsICd0aHVtYm5haWwnKSk7XG4gICAgICAgICAgdGhpcy5zdGF0dXNTZXRbaW1hZ2UuaWRdID0gJ3N1Y2Nlc3NlZCc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBnZXRTaXplVGV4dChpbWFnZSkge1xuICAgICAgaWYgKGltYWdlICYmIGltYWdlLnNpemUpIHtcbiAgICAgICAgcmV0dXJuIFV0aWxzLmZvcm1hdEZpbGVzaXplKGltYWdlLnNpemUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXRBbGxJdGVtcygpIHtcbiAgICAgIGlmICh0aGlzLmdyb3VwKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IGFsbERvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pdGVtLWltZy1saXN0LScgKyB0aGlzLmdyb3VwKTtcbiAgICAgICAgbGV0IGFsbENvbXAgPSBfLm1hcChhbGxEb20sIGRvbSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGRvbS5fX3Z1ZV9fO1xuICAgICAgICB9KTtcblxuICAgICAgICBfLmVhY2goYWxsQ29tcCwgY29tcCA9PiB7XG4gICAgICAgICAgXy5lYWNoKGNvbXAudmFsdWUsIGl0ZW0gPT4ge1xuICAgICAgICAgICAgbGV0IGltYWdlID0ge1xuICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICBjb21wb25lbnQ6IGNvbXAsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goaW1hZ2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF8ubWFwKHRoaXMudmFsdWUsIGl0ZW0gPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzLFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyDmn6XnnIvlpKflm75cbiAgICBpbWdWaWV3KGl0ZW0sIGluZGV4ID0gMCkge1xuICAgICAgLy8g5YWz6IGU5aSa5Liq57uE5Lu25ZCM5pe25p+l55yL5aSn5Zu+XG4gICAgICBsZXQgYWxsSXRlbXMgPSB0aGlzLmdldEFsbEl0ZW1zKCk7XG4gICAgICBsZXQgY3VycmVudEluZGV4ID0gXy5maW5kSW5kZXgoYWxsSXRlbXMsIHsgaWQ6IGl0ZW0uaWQgfSk7XG5cbiAgICAgIGxldCBoYXNMb2FkaW5nID0gXy5zb21lKGFsbEl0ZW1zLCB2ID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdHVzU2V0W3YuaWRdID09PSAnbG9hZGluZyc7XG4gICAgICB9KTtcbiAgICAgIGlmIChoYXNMb2FkaW5nKSB7XG4gICAgICAgIFBvcHVwLmFsZXJ0KCfmraPlnKjkuIvovb3lm77niYfvvIzor7fnqI3nrYknKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyDph43mlrDliqDovb3nvKnnlaXlm75cbiAgICAgIC8qIGxldCBoYXNGYWlsZWQgPSBfLnNvbWUoYWxsSXRlbXMsIHYgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0dXNTZXRbdi5pZF0gPT09ICdmYWlsZWQnO1xuICAgICAgfSk7ICovXG4gICAgICAvL1xuXG4gICAgICBsZXQgb3B0aW9ucyA9IHt9O1xuXG4gICAgICBpZiAoXG4gICAgICAgICF0aGlzLmVkaXRhYmxlZCAmJlxuICAgICAgICB0aGlzLmVkaXRlZEJ5ID09PSB0aGlzLmN1cnJlbnRVc2VySWQgJiZcbiAgICAgICAgdGhpcy5tb2R1bGVDb2RlICE9PSAncHJvY2Vzcy1hY2NlcHQnIC8qIOW3peW6j+mqjOaUtnYx5pqC5pe25bGP6JS9ICovXG4gICAgICApIHtcbiAgICAgICAgLy8g6Z2e57yW6L6R54q25oCB44CB6Ieq5bex5LiK5Lyg55qE5Zu+44CB57uR5a6a5LqGSUTjgIHmjIflrprkuoblm77niYflrZfmrrVcbiAgICAgICAgb3B0aW9ucy50b29sQmFyID0ge1xuICAgICAgICAgIGlzU2hvdzogdHJ1ZSxcbiAgICAgICAgICBpc1Nob3dDaGFuZ2U6IHRydWUsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCF0aGlzLmFsbG93QWxidW0pIHtcbiAgICAgICAgICAvLyDlpoLmnpzkuI3lhYHorrjku47nm7jlhozpgInmi6nvvIzljrvmjonor6XpgInpoblcbiAgICAgICAgICBvcHRpb25zLnRvb2xCYXIuY2hhbmdlT3B0aW9uID0gWzFdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIOWcqOe6v+aooeW8j++8jOS4jemcgOimgeS4i+i9vVxuICAgICAgaWYgKHRoaXMub25saW5lTW9kZSkge1xuICAgICAgICB0aGlzLnZpZXdJbWFnZXMgPSBJbWFnZVNlcnZpY2UuY29udmVydE1lZGlhTGlzdChhbGxJdGVtcywgdHJ1ZSk7XG4gICAgICAgIHBsdWdpbkFwaVxuICAgICAgICAgIC5vcGVuSW1hZ2VCcm93c2VyKHRoaXMudmlld0ltYWdlcywgY3VycmVudEluZGV4LCBvcHRpb25zKVxuICAgICAgICAgIC50aGVuKG51bGwsIG51bGwsIHRoaXMuY2hhbmdlVmlld0ltYWdlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyDlvIDlj5HmqKHlvI/vvIzkuI3pobvopoHkuIvovb3vvIzlj6rog73nlKggdXJsXG4gICAgICBpZiAoQVBQX0VOViA9PT0gJ2RldicpIHtcbiAgICAgICAgdGhpcy52aWV3SW1hZ2VzID0gSW1hZ2VTZXJ2aWNlLmNvbnZlcnRNZWRpYUxpc3QoYWxsSXRlbXMsIHRydWUpO1xuICAgICAgICBwbHVnaW5BcGlcbiAgICAgICAgICAub3BlbkltYWdlQnJvd3Nlcih0aGlzLnZpZXdJbWFnZXMsIGN1cnJlbnRJbmRleCwgb3B0aW9ucylcbiAgICAgICAgICAudGhlbihudWxsLCBudWxsLCB0aGlzLmNoYW5nZVZpZXdJbWFnZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8g5LiL6L295aSn5Zu+XG4gICAgICBsZXQgZG93bmxvYWRQcm9taXNlcyA9IFtdO1xuICAgICAgXy5lYWNoKGFsbEl0ZW1zLCB2ID0+IHtcbiAgICAgICAgbGV0IGRvd25sb2FkUHJvbWlzZTtcbiAgICAgICAgaWYgKEFQUF9FTlYgPT09ICdkZXYnKSB7XG4gICAgICAgICAgZG93bmxvYWRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHYudXJsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodi50ZW1wKSB7XG4gICAgICAgICAgICBkb3dubG9hZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUodi50ZW1wKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHYubG9jYWwpIHtcbiAgICAgICAgICAgIGRvd25sb2FkUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh2LmxvY2FsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHVybCA9IEltYWdlU2VydmljZS5nZXRJbWFnZVVybCh2KTtcbiAgICAgICAgICAgIGRvd25sb2FkUHJvbWlzZSA9IEltYWdlU2VydmljZS5pc05lZWREb3dubG9hZCh1cmwsIHRoaXMuZm9sZGVyKS50aGVuKGlzTmVlZCA9PiB7XG4gICAgICAgICAgICAgIGlmIChpc05lZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5zdGF0dXNTZXQsIHYuaWQsICdsb2FkaW5nJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEltYWdlU2VydmljZS5kb3dubG9hZCh1cmwsIGZhbHNlLCB0aGlzLmZvbGRlcikudGhlbihwYXRoID0+IHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnN0YXR1c1NldCwgdi5pZCwgJ3N1Y2Nlc3NlZCcpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEltYWdlU2VydmljZS5nZXRQYXRoRnJvbVVybCh1cmwsIHRoaXMuZm9sZGVyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZG93bmxvYWRQcm9taXNlcy5wdXNoKGRvd25sb2FkUHJvbWlzZSk7XG4gICAgICB9KTtcblxuICAgICAgUHJvbWlzZS5hbGwoZG93bmxvYWRQcm9taXNlcykudGhlbihyZXMgPT4ge1xuICAgICAgICBsZXQgdmlld0RhdGEgPSBfLm1hcChhbGxJdGVtcywgKHYsIGspID0+IHtcbiAgICAgICAgICBpZiAodiAmJiAodi52aWRlb1VybCB8fCB2LnZpZGVvVGVtcCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGltYWdlOiBJbWFnZVNlcnZpY2UuZml4VXJsKHJlc1trXSksXG4gICAgICAgICAgICAgIHZpZGVvOiBJbWFnZVNlcnZpY2UuZml4VXJsKHYudmlkZW9VcmwgfHwgdi52aWRlb1RlbXApLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEltYWdlU2VydmljZS5maXhVcmwocmVzW2tdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudmlld0ltYWdlcyA9IHZpZXdEYXRhO1xuICAgICAgICBwbHVnaW5BcGlcbiAgICAgICAgICAub3BlbkltYWdlQnJvd3Nlcih2aWV3RGF0YSwgY3VycmVudEluZGV4LCBvcHRpb25zKVxuICAgICAgICAgIC50aGVuKG51bGwsIG51bGwsIHRoaXMuY2hhbmdlVmlld0ltYWdlKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDmn6XnnIvlpKflm77ml7bmm7TmjaLlm77niYdcbiAgICAgKiBAcGFyYW0gbm90aWZ5RGF0YSB7Y2hhbmdlOiB7XG4gICAgICogIGltYWdlUGF0aDog5Y6f5Zu+5Zyw5Z2AXG4gICAgICogIGV4Y2hhbmdlUGF0aDog5pu05o2i5ZCO55qE5paw5Zu+5Zyw5Z2AXG4gICAgICogfX1cbiAgICAgKi9cbiAgICBjaGFuZ2VWaWV3SW1hZ2Uobm90aWZ5RGF0YSkge1xuICAgICAgbGV0IGFsbEl0ZW1zID0gdGhpcy5nZXRBbGxJdGVtcygpO1xuICAgICAgLy8g5pu/5o2i5YmN55qE6Lev5b6EXG4gICAgICAvLyDmm7/mjaLlkI7nmoTot6/lvoRcbiAgICAgIC8vIOabv+aNouaWueW8j++8jDE65ouN54Wn77yMMjrnm7jlhoxcbiAgICAgIGxldCB7IGltYWdlUGF0aCwgZXhjaGFuZ2VQYXRoLCBjaGFuZ2VNb2RlIH0gPSBub3RpZnlEYXRhLmNoYW5nZTtcbiAgICAgIGxldCBpbWFnZU5hbWUgPSBzLnN0clJpZ2h0QmFjayhpbWFnZVBhdGgsICcvJyk7XG4gICAgICBsZXQgaW5kZXggPSBfLmZpbmRJbmRleCh0aGlzLnZpZXdJbWFnZXMsIGl0ZW0gPT4ge1xuICAgICAgICBsZXQgaXRlbU5hbWU7XG4gICAgICAgIGlmIChfLmlzT2JqZWN0KGl0ZW0pKSB7XG4gICAgICAgICAgbGV0IHVybCA9IGl0ZW0uaW1hZ2U7XG4gICAgICAgICAgaXRlbU5hbWUgPSBzLnN0clJpZ2h0QmFjayh1cmwsICcvJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoXy5pc1N0cmluZyhpdGVtKSkge1xuICAgICAgICAgIGl0ZW1OYW1lID0gcy5zdHJSaWdodEJhY2soaXRlbSwgJy8nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtTmFtZSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtTmFtZSA9PT0gaW1hZ2VOYW1lO1xuICAgICAgfSk7XG4gICAgICAvLyDopoHmm7/mjaLnmoTlm77niYdcbiAgICAgIGxldCBpbWFnZSA9IGFsbEl0ZW1zW2luZGV4XTtcblxuICAgICAgaWYgKCFpbWFnZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfmm7TmjaLlm77niYfplJnor68nLCBub3RpZnlEYXRhLCBhbGxJdGVtcyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGV0IG5ld0ltYWdlID0ge1xuICAgICAgICBpZDogaW1hZ2UuaWQsXG4gICAgICAgIHRlbXA6IGV4Y2hhbmdlUGF0aCxcbiAgICAgIH07XG4gICAgICAvLyDmj5Dkvpvov5nlvKDlm77niYfnmoTnu4Tku7ZcbiAgICAgIGxldCBjb21wb25lbnQgPSBpbWFnZS5jb21wb25lbnQ7XG5cbiAgICAgIGxldCB3YXRlcm1hcmsgPSBwbHVnaW5BcGkuZ2V0V2F0ZXJtYXJrKGNoYW5nZU1vZGUgPT09IDEpO1xuXG4gICAgICByZXR1cm4gcGx1Z2luQXBpXG4gICAgICAgIC5hZGR3YXRlcm1hcmsobmV3SW1hZ2UudGVtcCwgd2F0ZXJtYXJrKVxuICAgICAgICAudGhlbihwYXRoID0+IHtcbiAgICAgICAgICBuZXdJbWFnZS50ZW1wID0gcGF0aDtcbiAgICAgICAgICBpZiAoQVBQX0VOViA9PT0gJ2RldicpIHtcbiAgICAgICAgICAgIHJldHVybiBJbWFnZVNlcnZpY2UudXBsb2FkSW1hZ2UocGF0aCkudGhlbih1cmwgPT4ge1xuICAgICAgICAgICAgICAvLyDlvIDlj5Hnjq/looPkuI3og73mmL7npLrmnKzmnLrlm77niYfvvIznlKjov5znqIvlm77niYfku6Pmm79cbiAgICAgICAgICAgICAgLy8gZGVsZXRlIG5ld0ltYWdlLnRlbXA7XG4gICAgICAgICAgICAgIG5ld0ltYWdlLnVybCA9IHVybDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGNvbXBvbmVudC4kZW1pdCgnY2hhbmdlVmlld1ZhbHVlJywgbmV3SW1hZ2UpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8g5ouN54WnXG4gICAgYWRkSW1hZ2UoKSB7XG4gICAgICAvLyAkbG9nLmxvZygn5Zu+54mH57uE5Lu2LeeCueWHu+aLjeeFp+aMiemSricpO1xuICAgICAgLy8gaWYgKHRoaXMudHJhY2tUZXh0KSB7XG4gICAgICAvLyAgIFRhbGtpbmdEYXRhU2VydmljZS5hZGRUcmFjayh0aGlzLnRyYWNrVGV4dCArICct5ouN54WnJywgJycsICcnKTtcbiAgICAgIC8vIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5iZWZvcmVFZGl0KCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5wcmVwYXJlQ2FsbGJhY2soKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBJbWFnZVNlcnZpY2UudGFrZVBpY3R1cmUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oaW1hZ2UgPT4ge1xuICAgICAgICAgIGlmICghaW1hZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIC8vIHJldHVybiBQcm9taXNlLnJlamVjdCgn5ouN54Wn5pyq5oiQ5YqfJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnNvbGUubG9nKCfojrflj5blm77niYfmlbDmja4nLCBpbWFnZSk7XG4gICAgICAgICAgaWYgKCFzdG9yZS5zdGF0ZS5nbG9iYWwuaGFzVG9wUHJvZ3Jlc3MgJiYgd2luZG93ICYmIHdpbmRvdy5TdGF0dXNCYXIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5TdGF0dXNCYXIuc2hvdygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgaW5wdXRWYWx1ZSA9IHRoaXMudmFsdWUuY29uY2F0KGltYWdlKTtcbiAgICAgICAgICAvLyDmt7vliqDliLDlhoXnva7nm7jlhoxcbiAgICAgICAgICBpbWFnZS51c2VyX2lkID0gdGhpcy5jdXJyZW50VXNlcklkO1xuICAgICAgICAgIEFwcFBob3RvTW9kZWwuaGFuZGVsUGljdHVyZShpbWFnZS50ZW1wKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoQVBQX0VOViA9PT0gJ2RldicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5zdGF0dXNTZXQsIGltYWdlLmlkLCAnbG9hZGluZycpO1xuICAgICAgICAgICAgICAgIEltYWdlU2VydmljZS51cGxvYWRJbWFnZShpbWFnZS50ZW1wKVxuICAgICAgICAgICAgICAgICAgLnRoZW4odXJsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8g5byA5Y+R546v5aKD5LiN6IO95pi+56S65pys5py65Zu+54mH77yM55So6L+c56iL5Zu+54mH5Luj5pu/XG4gICAgICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSBpbWFnZS50ZW1wO1xuICAgICAgICAgICAgICAgICAgICBpbWFnZS51cmwgPSB1cmw7XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy50aHVtYm5haWxTZXQsIGltYWdlLmlkLCBJbWFnZVNlcnZpY2UuZ2V0SW1hZ2VUaHVtYm5haWwoaW1hZ2UpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuc3RhdHVzU2V0LCBpbWFnZS5pZCwgJ3N1Y2Nlc3NlZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2NhbGxiYWNrJywgaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBpbnB1dFZhbHVlKTtcbiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2FsbGJhY2snLCBpbnB1dFZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICRsb2cuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgIFBvcHVwLmFsZXJ0KGVycm9yIHx8ICflj5HnlJ/kuobplJnor68nKTtcbiAgICAgICAgICB0aGlzLmNhbmNlbENhbGxiYWNrKCk7XG4gICAgICAgICAgaWYgKCFzdG9yZS5zdGF0ZS5nbG9iYWwuaGFzVG9wUHJvZ3Jlc3MgJiYgd2luZG93ICYmIHdpbmRvdy5TdGF0dXNCYXIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5TdGF0dXNCYXIuc2hvdygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyDmi43op4bpopFcbiAgICBhZGRWaWRlbygpIHtcbiAgICAgIC8qICRsb2cubG9nKCflm77niYfnu4Tku7Yt54K55Ye75ouN6KeG6aKR5oyJ6ZKuJyk7XG5cbiAgICAgIGlmICh0aGlzLnRyYWNrVGV4dCkge1xuICAgICAgICBUYWxraW5nRGF0YVNlcnZpY2UuYWRkVHJhY2sodGhpcy50cmFja1RleHQgKyAnLeaLjeinhumikScsICcnLCAnJyk7XG4gICAgICB9ICovXG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYmVmb3JlRWRpdCgpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucHJlcGFyZUNhbGxiYWNrKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gSW1hZ2VTZXJ2aWNlLnNob290VmlkZW8oKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4odmlkZW8gPT4ge1xuICAgICAgICAgIGlmICghc3RvcmUuc3RhdGUuZ2xvYmFsLmhhc1RvcFByb2dyZXNzICYmIHdpbmRvdyAmJiB3aW5kb3cuU3RhdHVzQmFyKSB7XG4gICAgICAgICAgICB3aW5kb3cuU3RhdHVzQmFyLnNob3coKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoXy5pc0VtcHR5KHZpZGVvKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZpZGVvLnVzZXJfaWQgPSB0aGlzLmN1cnJlbnRVc2VySWQ7XG5cbiAgICAgICAgICBsZXQgaW5wdXRWYWx1ZSA9IHRoaXMudmFsdWUuY29uY2F0KHZpZGVvKTtcblxuICAgICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgdGhpcy4kZW1pdCgnY2FsbGJhY2snLCBpbnB1dFZhbHVlKTtcblxuICAgICAgICAgIGlmIChBUFBfRU5WID09PSAnZGV2Jykge1xuICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuc3RhdHVzU2V0LCB2aWRlby5pZCwgJ2xvYWRpbmcnKTtcbiAgICAgICAgICAgIEltYWdlU2VydmljZS51cGxvYWRJbWFnZSh2aWRlby50ZW1wKVxuICAgICAgICAgICAgICAudGhlbih1cmwgPT4ge1xuICAgICAgICAgICAgICAgIC8vIOW8gOWPkeeOr+Wig+S4jeiDveaYvuekuuacrOacuuWbvueJh++8jOeUqOi/nOeoi+WbvueJh+S7o+abv1xuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSB2aWRlby50ZW1wO1xuICAgICAgICAgICAgICAgIHZpZGVvLnVybCA9IHVybDtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBXZWJTZXJ2aWNlLnVwbG9hZEZpbGUodmlkZW8udmlkZW9UZW1wKS50aGVuKHZpZGVvVXJsID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSB2aWRlby52aWRlb1RlbXA7XG4gICAgICAgICAgICAgICAgICB2aWRlby52aWRlb1VybCA9IHZpZGVvVXJsO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMudGh1bWJuYWlsU2V0LCB2aWRlby5pZCwgSW1hZ2VTZXJ2aWNlLmdldEltYWdlVGh1bWJuYWlsKHZpZGVvKSk7XG4gICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuc3RhdHVzU2V0LCB2aWRlby5pZCwgJ3N1Y2Nlc3NlZCcpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBpbnB1dFZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdjYWxsYmFjaycsIGlucHV0VmFsdWUpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgJGxvZy5lcnJvcihlcnJvcik7XG5cbiAgICAgICAgICBQb3B1cC5hbGVydChlcnJvciB8fCAn5Y+R55Sf5LqG6ZSZ6K+vJyk7XG4gICAgICAgICAgdGhpcy5jYW5jZWxDYWxsYmFjaygpO1xuXG4gICAgICAgICAgaWYgKCFzdG9yZS5zdGF0ZS5nbG9iYWwuaGFzVG9wUHJvZ3Jlc3MgJiYgd2luZG93ICYmIHdpbmRvdy5TdGF0dXNCYXIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5TdGF0dXNCYXIuc2hvdygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyDku47nm7jlhozpgInmi6lcbiAgICBzZWxlY3RJbWFnZSgpIHtcbiAgICAgIGxldCBvcHRpb25zO1xuICAgICAgaWYgKHRoaXMuYWxsb3dNdWx0aVNlbGVjdCkge1xuICAgICAgICB2YXIgc2VsZWN0Q291bnQgPSBNYXRoLm1heCh0aGlzLm1heGxlbmd0aCAtIHRoaXMudmFsdWUubGVuZ3RoLCAwKTtcbiAgICAgICAgb3B0aW9ucyA9IHsgbWF4U2VsZWN0Q291bnQ6IHNlbGVjdENvdW50IH07XG4gICAgICB9XG5cbiAgICAgIC8vICRsb2cubG9nKCflm77niYfnu4Tku7Yt54K55Ye755u45YaM5oyJ6ZKuJyk7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYmVmb3JlRWRpdCgpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucHJlcGFyZUNhbGxiYWNrKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gSW1hZ2VTZXJ2aWNlLnNlbGVjdFBpY3R1cmUob3B0aW9ucyk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGltYWdlcyA9PiB7XG4gICAgICAgICAgaWYgKCFzdG9yZS5zdGF0ZS5nbG9iYWwuaGFzVG9wUHJvZ3Jlc3MgJiYgd2luZG93ICYmIHdpbmRvdy5TdGF0dXNCYXIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5TdGF0dXNCYXIuc2hvdygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXy5pc0VtcHR5KGltYWdlcykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXy5lYWNoKGltYWdlcywgaW1hZ2UgPT4ge1xuICAgICAgICAgICAgaW1hZ2UudXNlcl9pZCA9IHRoaXMuY3VycmVudFVzZXJJZDtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGxldCB2YWx1ZUlucHV0ID0gdGhpcy52YWx1ZS5jb25jYXQoaW1hZ2VzKTtcbiAgICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHZhbHVlSW5wdXQpO1xuICAgICAgICAgIHRoaXMuJGVtaXQoJ2NhbGxiYWNrJywgdmFsdWVJbnB1dCk7XG5cbiAgICAgICAgICBpZiAoQVBQX0VOViA9PT0gJ2RldicpIHtcbiAgICAgICAgICAgIC8vIOWQjOaXtuiwg+eUqCBJbWFnZVNlcnZpY2UudXBsb2FkSW1hZ2Ug5Lya5LiK5Lyg5aSx6LSlXG4gICAgICAgICAgICBsZXQgdXBsb2FkUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuXG4gICAgICAgICAgICBfLmVhY2goaW1hZ2VzLCBpbWFnZSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnN0YXR1c1NldCwgaW1hZ2UuaWQsICdsb2FkaW5nJyk7XG4gICAgICAgICAgICAgIHVwbG9hZFByb21pc2UgPSB1cGxvYWRQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBJbWFnZVNlcnZpY2UudXBsb2FkSW1hZ2UoaW1hZ2UudGVtcCkudGhlbih1cmwgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8g5byA5Y+R546v5aKD5LiN6IO95pi+56S65pys5py65Zu+54mH77yM55So6L+c56iL5Zu+54mH5Luj5pu/XG4gICAgICAgICAgICAgICAgICBkZWxldGUgaW1hZ2UudGVtcDtcbiAgICAgICAgICAgICAgICAgIGltYWdlLnVybCA9IHVybDtcbiAgICAgICAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnRodW1ibmFpbFNldCwgaW1hZ2UuaWQsIEltYWdlU2VydmljZS5nZXRJbWFnZVRodW1ibmFpbChpbWFnZSkpO1xuICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuc3RhdHVzU2V0LCBpbWFnZS5pZCwgJ3N1Y2Nlc3NlZCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB1cGxvYWRQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHZhbHVlSW5wdXQpO1xuICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdjYWxsYmFjaycsIHZhbHVlSW5wdXQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qIFByb21pc2UuYWxsKFxuICAgICAgICAgICAgICBfLm1hcChpbWFnZXMsIGltYWdlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5zdGF0dXNTZXQsIGltYWdlLmlkLCAnbG9hZGluZycpO1xuICAgICAgICAgICAgICAgIHJldHVybiBJbWFnZVNlcnZpY2UudXBsb2FkSW1hZ2UoaW1hZ2UudGVtcCkudGhlbih1cmwgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8g5byA5Y+R546v5aKD5LiN6IO95pi+56S65pys5py65Zu+54mH77yM55So6L+c56iL5Zu+54mH5Luj5pu/XG4gICAgICAgICAgICAgICAgICBkZWxldGUgaW1hZ2UudGVtcDtcbiAgICAgICAgICAgICAgICAgIGltYWdlLnVybCA9IHVybDtcbiAgICAgICAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnRodW1ibmFpbFNldCwgaW1hZ2UuaWQsIEltYWdlU2VydmljZS5nZXRJbWFnZVRodW1ibmFpbChpbWFnZSkpO1xuICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuc3RhdHVzU2V0LCBpbWFnZS5pZCwgJ3N1Y2Nlc3NlZCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWx1ZUlucHV0KTtcbiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2FsbGJhY2snLCB2YWx1ZUlucHV0KTtcbiAgICAgICAgICAgIH0pOyAqL1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAkbG9nLmVycm9yKGVycm9yKTtcbiAgICAgICAgICBQb3B1cC5hbGVydChlcnJvciB8fCAn5Y+R55Sf5LqG6ZSZ6K+vJyk7XG4gICAgICAgICAgdGhpcy5jYW5jZWxDYWxsYmFjaygpO1xuICAgICAgICAgIGlmICghc3RvcmUuc3RhdGUuZ2xvYmFsLmhhc1RvcFByb2dyZXNzICYmIHdpbmRvdyAmJiB3aW5kb3cuU3RhdHVzQmFyKSB7XG4gICAgICAgICAgICB3aW5kb3cuU3RhdHVzQmFyLnNob3coKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgYWRkQXBwSW1hZ2UoaW1hZ2VzKSB7XG4gICAgICBpZiAoXy5pc0VtcHR5KGltYWdlcykpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCfmsqHmnInpgInmi6nlm77niYcnKTtcbiAgICAgIH1cbiAgICAgIGxldCB2YWx1ZUlucHV0ID0gdGhpcy52YWx1ZS5jb25jYXQoaW1hZ2VzKTtcblxuICAgICAgLy8gQVBQ55u45YaM5Z+L54K5XG4gICAgICBpZiAodGhpcy50cmFja1RleHQpIHtcbiAgICAgICAgVGFsa2luZ0RhdGFTZXJ2aWNlLmFkZFRyYWNrKHRoaXMudHJhY2tUZXh0ICsgJy3ku45BUFDnm7jlhozpgInmi6nnhafniYcnLCAnJywgJycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgIF8ubWFwKGltYWdlcywgaW1hZ2UgPT4ge1xuICAgICAgICAgIGxldCBuZXdJZCA9IFV0aWxzLnV1aWQoKTtcbiAgICAgICAgICBsZXQgZGVzdFBhdGggPSBwbHVnaW5BcGkuYXBwSW1hZ2VQYXRoKCkgKyAnaW1hZ2VzLycgKyBuZXdJZCArICcuanBnJztcbiAgICAgICAgICByZXR1cm4gcGx1Z2luQXBpXG4gICAgICAgICAgICAuY29weUZpbGUoaW1hZ2UudGVtcCwgZGVzdFBhdGgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIGRlbGV0ZSBpbWFnZS50ZW1wO1xuICAgICAgICAgICAgICBpbWFnZS5pZCA9IG5ld0lkO1xuICAgICAgICAgICAgICBpbWFnZS50ZW1wID0gZGVzdFBhdGg7XG4gICAgICAgICAgICAgIGltYWdlLnVzZXJfaWQgPSB0aGlzLmN1cnJlbnRVc2VySWQ7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoQVBQX0VOViA9PT0gJ2RldicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5zdGF0dXNTZXQsIGltYWdlLmlkLCAnbG9hZGluZycpO1xuICAgICAgICAgICAgICAgIEltYWdlU2VydmljZS51cGxvYWRJbWFnZShpbWFnZS50ZW1wKS50aGVuKHVybCA9PiB7XG4gICAgICAgICAgICAgICAgICAvLyDlvIDlj5Hnjq/looPkuI3og73mmL7npLrmnKzmnLrlm77niYfvvIznlKjov5znqIvlm77niYfku6Pmm79cbiAgICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSBpbWFnZS50ZW1wO1xuICAgICAgICAgICAgICAgICAgaW1hZ2UudXJsID0gdXJsO1xuICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMudGh1bWJuYWlsU2V0LCBpbWFnZS5pZCwgSW1hZ2VTZXJ2aWNlLmdldEltYWdlVGh1bWJuYWlsKGltYWdlKSk7XG4gICAgICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5zdGF0dXNTZXQsIGltYWdlLmlkLCAnc3VjY2Vzc2VkJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWx1ZUlucHV0KTtcbiAgICAgICAgdGhpcy4kZW1pdCgnY2FsbGJhY2snLCB2YWx1ZUlucHV0KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgc2VsZWN0QnVpbGRpbkltYWdlKCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmJlZm9yZUVkaXQoKTtcbiAgICAgICAgICBBcHBQaG90b01vZGVsLm1heEltYWdlTGVuZ3RoID0gTWF0aC5tYXgodGhpcy5tYXhsZW5ndGggLSB0aGlzLnZhbHVlLmxlbmd0aCwgMCk7XG4gICAgICAgICAgU2VsZWN0UGhvdG9EaWFsb2cub3BlblBvcHVwKHtcbiAgICAgICAgICAgIGJvb2w6IHRydWUsXG4gICAgICAgICAgICBjYWxsYmFjazogYXN5bmMgZGF0YSA9PiB7XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkQXBwSW1hZ2UoZGF0YSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICBQb3B1cC5hbGVydChlcnIpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgUG9wdXAuYWxlcnQoZXJyb3IpO1xuICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8g5Yig6ZmkXG4gICAgcmVtb3ZlSW1hZ2UoaW1hZ2UpIHtcbiAgICAgIGNvbnN0IHR4dCA9IGltYWdlLnZpZGVvVGVtcCA/ICfnoa7lrpropoHliKDpmaTop4bpopHlkJfvvJ8nIDogJ+ehruWumuimgeWIoOmZpOWbvueJh+WQl++8nyc7XG4gICAgICBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYmVmb3JlRWRpdCgpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgUG9wdXAuY29uZmlybSh0eHQpLnRoZW4oaXNPSyA9PiB7XG4gICAgICAgICAgICBpZiAoaXNPSykge1xuICAgICAgICAgICAgICBsZXQgaW1hZ2VzID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgICAgbGV0IGlkeCA9IF8uaW5kZXhPZihpbWFnZXMsIGltYWdlKTtcblxuICAgICAgICAgICAgICBpZiAoaWR4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICBpbWFnZXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdyZW1vdmUnLCB7IGluZGV4OiBpZHggfSk7XG4gICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgaW1hZ2VzKTtcbiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2FsbGJhY2snLCBpbWFnZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIFBvcHVwLmFsZXJ0KGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgfSxcbn07XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJzY3NzXCI+XG4vKiDpl67popjlm77niYfliJfooaggKi9cbi5pdGVtLWltZy1saXN0IHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgZmxleC13cmFwOiB3cmFwO1xuICBhbGlnbi1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgbWFyZ2luLXRvcDogLTE1cHg7XG4gIG1hcmdpbi1sZWZ0OiAtMTVweDtcbn1cblxuLml0ZW0taW1nLWxpc3QgbGkge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiA3MHB4O1xuICBoZWlnaHQ6IDcwcHg7XG4gIG1hcmdpbi1sZWZ0OiAxNXB4O1xuICBtYXJnaW4tdG9wOiAxNXB4O1xuICBiYWNrZ3JvdW5kOiBuby1yZXBlYXQgY2VudGVyIGNlbnRlcjtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTtcbn1cbi5pdGVtLWltZy1saXN0LXBvcHVwIHtcbiAgcGFkZGluZzogMDtcbn1cbi5pdGVtLWltZy1saXN0LXBvcHVwIC5pdGVtLWltZy1saXN0IHtcbiAgbWFyZ2luLXRvcDogMDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDA7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG59XG4uaXRlbS1pbWctbGlzdC1wb3B1cCAuaXRlbS1pbWctbGlzdCBsaSB7XG4gIGZsb2F0OiBub25lO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHZlcnRpY2FsLWFsaWduOiB0b3A7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBib3JkZXItY29sb3I6IHdoaXRlO1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5pdGVtLWltZy1saXN0IC5pY29uLW1pbnVzIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IC0xMHB4O1xuICByaWdodDogLTEwcHg7XG4gIHdpZHRoOiAyMHB4O1xuICBoZWlnaHQ6IDIwcHg7XG4gIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY0NTQ2O1xuICBjb2xvcjogd2hpdGU7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLml0ZW0taW1nLWxpc3QgLmljb24tbWludXM6OmJlZm9yZSB7XG4gIGNvbnRlbnQ6ICcnO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDVweDtcbiAgdG9wOiA5cHg7XG4gIHdpZHRoOiAxMHB4O1xuICBoZWlnaHQ6IDJweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG59XG4uaXRlbS1pbWctbGlzdCAubm8taW1nIHtcbiAgY29sb3I6ICR0aGVtZUNvbG9yO1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgbGluZS1oZWlnaHQ6IDcwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC1zaXplOiA0NXB4O1xuICBib3JkZXI6IGRvdHRlZCAxcHggJHRoZW1lQ29sb3I7XG59XG4uaXRlbS1pbWctbGlzdCAuYWRkLWltZyB7XG4gIGNvbG9yOiAjYjZiNmI2O1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgbGluZS1oZWlnaHQ6IDcwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC1zaXplOiA0MHB4O1xuICBib3JkZXI6IGRvdHRlZCAxcHggI2M2YzZjNjtcbn1cbi5pdGVtLWltZy1saXN0IC5saXN0LWljb24ge1xuICBoZWlnaHQ6IDQwcHg7XG4gIGxpbmUtaGVpZ2h0OiAzMHB4O1xuICBwYWRkaW5nLXRvcDogMTBweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgZm9udC1zaXplOiA0MHB4O1xufVxuLml0ZW0taW1nLWxpc3QgLmxpc3QtaWNvbiBpIHtcbiAgZm9udC1zaXplOiAyOHB4O1xuICBkaXNwbGF5OiBibG9jaztcbn1cbi5pdGVtLWltZy1saXN0IC5saXN0LWljb24gaTo6YmVmb3JlIHtcbiAgdmVydGljYWwtYWxpZ246IHRvcDtcbn1cbi5pdGVtLWltZy1saXN0IC5saXN0LWljb24gLmljb24tc2hvb3QtdmlkZW8ge1xuICBmb250LXNpemU6IDI0cHg7XG4gIG1hcmdpbi10b3A6IDFweDtcbn1cbi5pdGVtLWltZy1saXN0IC5saXN0LXRleHQge1xuICBsaW5lLWhlaWdodDogMjBweDtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuLml0ZW0taW1nLWxpc3QgLnZhbi1pY29uLXBsYXkge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMTVweDtcbiAgbGVmdDogMjBweDtcbiAgcGFkZGluZy1sZWZ0OiAycHg7XG4gIHdpZHRoOiAzMHB4O1xuICBoZWlnaHQ6IDMwcHg7XG4gIGxpbmUtaGVpZ2h0OiAyOHB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMjJweDtcbiAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTtcbiAgYm9yZGVyOiBzb2xpZCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpO1xuICBib3JkZXItcmFkaXVzOiAxNXB4O1xufVxuLml0ZW0taW1nLWxpc3QgLnNpemUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogMDtcbiAgcmlnaHQ6IDVweDtcbiAgbGluZS1oZWlnaHQ6IDE4cHg7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgZm9udC1zaXplOiAxMHB4O1xuICBmb250LXN0eWxlOiBub3JtYWw7XG59XG48L3N0eWxlPlxuIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbnZhciBfb2JqO1xudmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuICghKCFfdm0uZWRpdGFibGVkICYmICFfdm0udmFsdWUubGVuZ3RoKSk/X2MoJ3VsJyx7c3RhdGljQ2xhc3M6XCJpdGVtLWltZy1saXN0XCIsY2xhc3M6KCBfb2JqID0ge30sIF9vYmpbJ2l0ZW0taW1nLWxpc3QtJyArIF92bS5ncm91cF0gPSBfdm0uZ3JvdXAsIF9vYmogKX0sWyhfdm0udmFsdWUubGVuZ3RoKT9fdm0uX2woKF92bS52YWx1ZSksZnVuY3Rpb24oaXRlbSxrZXkpe3JldHVybiBfYygnbGknLHtrZXk6a2V5LHN0eWxlOih7ICdiYWNrZ3JvdW5kLWltYWdlJzogJ3VybCgnICsgX3ZtLmdldFRodW1ibmFpbChpdGVtKSArICcpJyB9KSxvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7X3ZtLmltZ1ZpZXcoaXRlbSwga2V5KX19fSxbKFxuICAgICAgICAgIF92bS5lZGl0YWJsZWQgIT09IGZhbHNlICYmXG4gICAgICAgICAgKCFfdm0udXNlckxpbmsgfHwgKF92bS51c2VyTGluayAmJiBpdGVtLnVzZXJfaWQgPT09IF92bS5jdXJyZW50VXNlcklkKSkgJiZcbiAgICAgICAgICAhX3ZtLnBvaW50SW1hZ2VNb2RlXG4gICAgICAgICk/X2MoJ2knLHtzdGF0aWNDbGFzczpcImljb24tbWludXNcIixvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7JGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO192bS5yZW1vdmVJbWFnZShpdGVtKX19fSk6X3ZtLl9lKCksKGl0ZW0udmlkZW9VcmwpP19jKCd2YW4taWNvbicse2F0dHJzOntcIm5hbWVcIjpcInBsYXlcIn19KTpfdm0uX2UoKSwoaXRlbS5zaXplKT9fYygnaScse3N0YXRpY0NsYXNzOlwic2l6ZVwifSxbX3ZtLl92KF92bS5fcyhfdm0uZ2V0U2l6ZVRleHQoaXRlbSkpKV0pOl92bS5fZSgpXSwxKX0pOl92bS5fZSgpLCghX3ZtLnBvaW50SW1hZ2VNb2RlKT9bKF92bS52YWx1ZS5sZW5ndGggPCBfdm0ubWF4bGVuZ3RoICYmIF92bS5lZGl0YWJsZWQgIT09IGZhbHNlKT9fYygnbGknLHtzdGF0aWNDbGFzczpcIm5vLWltZ1wiLG9uOntcImNsaWNrXCI6X3ZtLmFkZEltYWdlRnVuY319LFtfYygncCcse3N0YXRpY0NsYXNzOlwibGlzdC1pY29uXCJ9LFtfYygnaWNvbicse2F0dHJzOntcIm5hbWVcIjpcInBhaXpoYW9cIn19KV0sMSksX2MoJ3AnLHtzdGF0aWNDbGFzczpcImxpc3QtdGV4dFwifSxbX3ZtLl92KFwi5ouN54WnXCIpXSldKTpfdm0uX2UoKSwoX3ZtLnZhbHVlLmxlbmd0aCA8IF92bS5tYXhsZW5ndGggJiYgX3ZtLmVkaXRhYmxlZCAhPT0gZmFsc2UgJiYgX3ZtLmhhc1ZpZGVvSXRlbSk/X2MoJ2xpJyx7c3RhdGljQ2xhc3M6XCJuby1pbWdcIixvbjp7XCJjbGlja1wiOl92bS5hZGRWaWRlb319LFtfYygncCcse3N0YXRpY0NsYXNzOlwibGlzdC1pY29uXCJ9LFtfYygnaWNvbicse2F0dHJzOntcIm5hbWVcIjpcInNob290LXZpZGVvXCJ9fSldLDEpLF9jKCdwJyx7c3RhdGljQ2xhc3M6XCJsaXN0LXRleHRcIn0sW192bS5fdihcIuaLjeinhumikVwiKV0pXSk6X3ZtLl9lKCksKF92bS52YWx1ZS5sZW5ndGggPCBfdm0ubWF4bGVuZ3RoICYmIF92bS5lZGl0YWJsZWQgIT09IGZhbHNlICYmIF92bS5hbGxvd0FsYnVtKT9fYygnbGknLHtzdGF0aWNDbGFzczpcIm5vLWltZ1wiLG9uOntcImNsaWNrXCI6X3ZtLnNlbGVjdEltYWdlfX0sW19jKCdwJyx7c3RhdGljQ2xhc3M6XCJsaXN0LWljb25cIn0sW19jKCdpY29uJyx7YXR0cnM6e1wibmFtZVwiOlwieGlhbmdjZVwifX0pXSwxKSxfYygncCcse3N0YXRpY0NsYXNzOlwibGlzdC10ZXh0XCJ9LFtfdm0uX3YoXCLmiYvmnLrnm7jlhoxcIildKV0pOl92bS5fZSgpLChfdm0udmFsdWUubGVuZ3RoIDwgX3ZtLm1heGxlbmd0aCAmJiBfdm0uZWRpdGFibGVkICE9PSBmYWxzZSAmJiBfdm0uYWxsb3dCdWlsZGluKT9fYygnbGknLHtzdGF0aWNDbGFzczpcIm5vLWltZ1wiLG9uOntcImNsaWNrXCI6X3ZtLnNlbGVjdEJ1aWxkaW5JbWFnZX19LFtfYygncCcse3N0YXRpY0NsYXNzOlwibGlzdC1pY29uXCJ9LFtfYygnaWNvbicse2F0dHJzOntcIm5hbWVcIjpcInhpYW5nY2VcIn19KV0sMSksX2MoJ3AnLHtzdGF0aWNDbGFzczpcImxpc3QtdGV4dFwifSxbX3ZtLl92KFwiQVBQ55u45YaMXCIpXSldKTpfdm0uX2UoKV06Wyhfdm0udmFsdWUubGVuZ3RoIDwgX3ZtLm1heGxlbmd0aCAmJiBfdm0uZWRpdGFibGVkICE9PSBmYWxzZSk/X2MoJ2xpJyx7c3RhdGljQ2xhc3M6XCJuby1pbWdcIixvbjp7XCJjbGlja1wiOl92bS5wb2ludEltYWdlRWRpdH19LFtfYygncCcse3N0YXRpY0NsYXNzOlwibGlzdC1pY29uXCJ9LFtfYygnaWNvbicse2F0dHJzOntcIm5hbWVcIjpcImRpYW53ZWl6aGFvXCJ9fSldLDEpLF9jKCdwJyx7c3RhdGljQ2xhc3M6XCJsaXN0LXRleHRcIn0sW192bS5fdihcIueCueS9jeeFp1wiKV0pXSk6X3ZtLl9lKCldXSwyKTpfdm0uX2UoKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NhY2hlLWxvYWRlckAyLjAuMUBjYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3RocmVhZC1sb2FkZXJAMi4xLjNAdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2JhYmVsLWxvYWRlckA4LjIuMUBiYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdGhyZWFkLWxvYWRlckAyLjEuM0B0aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fYmFiZWwtbG9hZGVyQDguMi4xQGJhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1lZGRhMTU1NCZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9pbmRleC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9pbmRleC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPXNjc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS43LjBAdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDEuMC4xQGNzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjkuNUB2dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Nhc3MtbG9hZGVyQDcuMS4wQHNhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tOC1vbmVPZi0xLTQhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPXNjc3MmXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLXN0eWxlLWxvYWRlckA0LjEuMkB2dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjJjNzVkMTc5XCIsIGNvbnRlbnQsIHRydWUsIHtcInNvdXJjZU1hcFwiOmZhbHNlLFwic2hhZG93TW9kZVwiOmZhbHNlfSk7Il0sInNvdXJjZVJvb3QiOiIifQ==