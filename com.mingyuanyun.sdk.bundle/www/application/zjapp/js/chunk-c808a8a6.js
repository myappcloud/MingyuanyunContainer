(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-c808a8a6"],{"6ee0":function(t,e,a){var o=a("97ec");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("85cb").default)("80e586e2",o,!0,{sourceMap:!1,shadowMode:!1})},"774b":function(t,e,a){"use strict";var o=a("d18d").a,n=(a("b225"),a("17cc")),i=Object(n.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"scroll-warp",staticClass:"scroll-warp",class:{"scroll-warp-pulling":t.pulling,"scroll-warp-complete":!t.hasNext&&!t.isEmpty,"scroll-warp-empty":t.isEmpty},style:{"padding-bottom":t.numberKeyboardCoverHeight+"px"},on:{scroll:t.onScroll,touchstart:t.onTouchstart,touchmove:t.onTouchmove,touchend:t.onTouchend}},[t.allowPullDown?a("div",{staticClass:"pull-refresh-warp",style:{height:t.pullDist+"px"}},[a("div",{staticClass:"pull-refresh"},[a("div",{staticClass:"animation-refresher",class:{refreshing:t.refreshing}}),t.updateTime?a("p",{staticClass:"pull-refresh-date"},[t._v("最后成功同步："+t._s(t.updateTime))]):t._e()])]):t._e(),t._t("default"),t.loading?a("div",{staticClass:"page-loading"},[a("svg",{staticClass:"svg-loading",attrs:{viewBox:"0 0 80 80"}},[a("circle",{attrs:{cx:"40",cy:"40",r:"36"}})])]):t._e(),t.hasNext||t.isEmpty?t._e():[t.$slots.end?t._t("end"):t._e(),!t.$slots.end&&t.endText?a("div",{staticClass:"end-text"},[t._v("\n      "+t._s(t.endText)+"\n    ")]):t._e()]],2)}),[],!1,null,"2b1a346c",null);e.a=i.exports},"8b75":function(t,e,a){"use strict";a("6ee0")},"97ec":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .swipe-tabs[data-v-672c3910]{display:flex;flex-direction:column;overflow:hidden;height:46px;padding-right:44px}.zjapp .tabs-scroll[data-v-672c3910]{position:relative;white-space:nowrap;overflow-x:auto;top:10px;display:flex;flex-wrap:wrap;padding:0 10px}.zjapp .tabs-scroll[data-v-672c3910]::-webkit-scrollbar{display:none}.zjapp .tab-point[data-v-672c3910]{font-size:14px;color:#666;white-space:nowrap;text-align:center;border:1px solid #dcdcdc;border-radius:100px;height:26px;line-height:26px}.zjapp .tabs-content[data-v-672c3910]{flex:0 0 20%;display:inline-block;padding:0 5px}.zjapp .tab-point.tab-current[data-v-672c3910]{position:relative;z-index:3;color:#4275e8;border:1px solid #4275e8;background-color:rgba(66,117,232,.1)}.zjapp .filter-current[data-v-672c3910]{color:#4275e8!important}.zjapp .tabs-mask[data-v-672c3910]{position:absolute;right:0;height:44px;padding:14px 0;background-color:#fff}.zjapp .tabs-icon[data-v-672c3910]{height:18px;padding-left:10px;padding-right:15px;border-left:1px solid #ececec}.zjapp .tabs-icon .tabs-filter[data-v-672c3910]{font-size:18px;color:#dcdcdc}.zjapp .popup-toolbar[data-v-672c3910]{position:-webkit-sticky;position:sticky;width:100%;top:0;z-index:100;height:46px;line-height:46px}.zjapp .popup-toolbar div[data-v-672c3910]{position:absolute}.zjapp .popup-toolbar .popup-cancel[data-v-672c3910]{left:15px;font-size:14px;color:#999}.zjapp .popup-toolbar .popup-title[data-v-672c3910]{left:50%;transform:translateX(-50%);-webkit-transform:translateX(-50%);font-size:16px;color:#333}.zjapp .popup-toolbar .popup-confirm[data-v-672c3910]{right:10px;font-size:14px;color:#4275e8}.zjapp .tabs-date[data-v-672c3910]{display:flex;flex-direction:row;justify-content:center;position:-webkit-sticky;position:sticky;top:46px;z-index:100;padding:6px 0}.zjapp .tabs-date div[data-v-672c3910]{height:32px;line-height:32px;text-align:center}.zjapp .tabs-date div[data-v-672c3910]:first-child,.zjapp .tabs-date div[data-v-672c3910]:last-child{width:160px;color:#666;font-size:14px;border:1px solid #ececec;border-radius:16px}.zjapp .tabs-date div[data-v-672c3910]:nth-child(2){padding:0 7px}.zjapp .tabs-date .filter-date-current[data-v-672c3910]{border:1px solid #4275e8!important}",""])},"9d55":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,'.zjapp .scroll-warp[data-v-2b1a346c]{flex:1;overflow:auto;-webkit-overflow-scrolling:touch}.zjapp .scroll-warp-pulling[data-v-2b1a346c]{overflow:hidden}.zjapp .scroll-warp-complete[data-v-2b1a346c]:after{content:"";display:block;height:100px}.zjapp .scroll-warp-empty[data-v-2b1a346c]{display:flex;flex-direction:column}.zjapp .pull-refresh-warp[data-v-2b1a346c]{position:relative;height:0;overflow:hidden}.zjapp .pull-refresh[data-v-2b1a346c]{position:absolute;left:0;bottom:0;height:70px;width:100%;padding:6px;text-align:center}.zjapp .pull-refresh-date[data-v-2b1a346c]{margin-top:4px;height:16px;line-height:16px;font-size:12px;color:#bcbcbc}.zjapp .page-loading[data-v-2b1a346c]{padding:10px;text-align:center}.zjapp .end-text[data-v-2b1a346c]{color:#c8c8c8;background:#f4f4f4;position:relative;line-height:76px;height:76px;text-align:center}.zjapp .end-text[data-v-2b1a346c]:after,.zjapp .end-text[data-v-2b1a346c]:before{content:"";position:absolute;width:48px;height:1px;background:#e4e4e4;top:50%;margin-top:-1px}.zjapp .end-text[data-v-2b1a346c]:after{left:50%;transform:translateX(-92px)}.zjapp .end-text[data-v-2b1a346c]:before{right:50%;transform:translateX(90px)}.zjapp .end-slot[data-v-2b1a346c]{padding:30px;line-height:18px;text-align:center;color:#c8c8c8}',""])},b225:function(t,e,a){"use strict";a("ef48")},d18d:function(t,e,a){"use strict";(function(t){a("2b45");var o,n=a("4360"),i=a("48f4"),s=a("162a"),r=a("e2a7"),l=a("a500"),c=a("6f9e"),p={};e.a={name:"Scroller",props:{buildingId:{type:String,default:""},hasNext:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},isSync:{type:Boolean,default:!0},endText:{type:String,default:""},memoryScrollTop:{type:Boolean,default:!0},keepScrollTop:{type:Boolean},hasPullDown:{type:Boolean,default:!0},onPullDown:{type:Function}},data:function(){return{pullDist:0,refreshing:!1,pulling:!1,loading:!1,scrollTop:0,isCurrKeyboard:!1,gapBottom:0}},computed:{allowPullDown:function(){return this.hasPullDown&&(!!this.$listeners.pullDown||!!this.onPullDown)},updateTime:function(){return n.a.state.global.businessDownloadTime},numberKeyboardCoverHeight:function(){return n.a.state.global.isNumberInputOpen?n.a.state.global.numberKeyboardHeight-this.gapBottom:0}},mounted:function(){var t=this;c.a.$on("numberKeyboardOpen",this.onNumberKeyboardOpen),this.$nextTick((function(){var e=t.$refs["scroll-warp"]&&t.$refs["scroll-warp"].getBoundingClientRect&&t.$refs["scroll-warp"].getBoundingClientRect();e&&(t.gapBottom=document.documentElement.clientHeight-e.bottom),t.$el&&t.$el.addEventListener("focus",(function(e){var a=e&&e.target,o=a&&a.tagName&&a.tagName.toLowerCase();if("input"===o||"textarea"===o){window.addEventListener("resize",(function e(){var o=a.getBoundingClientRect(),n=t.$el.getBoundingClientRect(),i=o.bottom-n.bottom;i>0&&t.scrollBy(i),window.removeEventListener("resize",e,!1)}),!1)}}),!0)}))},destroyed:function(){c.a.$off("numberKeyboardOpen",this.onNumberKeyboardOpen)},activated:function(){var t=this.keepScrollTop||this.$router.isBack&&this.memoryScrollTop;this.scrollTop&&t&&(this.$refs["scroll-warp"].scrollTop=this.scrollTop)},deactivated:function(){this.memoryScrollTop&&(this.scrollTop=this.$refs["scroll-warp"].scrollTop)},methods:{onScroll:function(t){var e=this,a=this.$refs["scroll-warp"].scrollTop,o=this.$refs["scroll-warp"].scrollHeight;if(a+this.$refs["scroll-warp"].clientHeight>=o-5&&!this.loading&&this.hasNext){this.loading=!0;var n=this.$listeners.loadNext();n&&n.then&&"function"==typeof n.then?n.then((function(){e.loading=!1})):this.loading=!1}this.$emit("scroll",t)},getTouchDiretion:function(t){if(!(p&&t&&t.touches&&t.touches[0]))return"";var e=t.touches[0].clientX,a=t.touches[0].clientY;return Math.abs(a-p.y)>Math.abs(e-p.x)&&Math.abs(a-p.y)>=3?a>p.y?"down":"up":""},onTouchstart:function(t){this.allowPullDown&&t.touches&&1===t.touches.length&&(p={x:t.touches[0].clientX,y:t.touches[0].clientY,scrollTop:this.$refs["scroll-warp"].scrollTop,pullDist:this.pullDist})},onTouchmove:function(t){if(this.allowPullDown&&t.touches&&1===t.touches.length){var e=this.$refs["scroll-warp"].scrollTop,a=t.touches[0].clientY,o=a-p.y,n=this.getTouchDiretion(t);"down"===n?!this.refreshing&&e<=0?(this.pulling=!0,this.pullDist=(o-p.scrollTop)/2,t.preventDefault()):this.pulling=!1:"up"===n?this.pullDist>0&&(this.pullDist=p.pullDist-(p.y-a),t.preventDefault()):this.pullDist=p.pullDist}},onTouchend:function(){var t=this;this.allowPullDown&&(p={},this.pulling=!1,this.pullDist>=70&&this.isSync?this.refreshing?this.makePullTo(70):this.makePullTo(70).then((function(){if(t.refreshing=!0,t.onPullDown){var e=t.onPullDown();e&&e.then&&"function"==typeof e?e.finally((function(){t.refreshing=!1,t.makePullTo(0)})):(t.refreshing=!1,t.makePullTo(0))}else t.dataSync().then((function(){t.refreshing=!1,t.makePullTo(0),t.$emit("pullDown")})).catch((function(){t.refreshing=!1,t.makePullTo(0),t.$emit("pullDown")}))})):(this.refreshing=!1,this.makePullTo(0)))},makePullTo:function(t){var e=this,a=this.pullDist,o=t,n=o-a,i=a;return a===o?Promise.resolve():new Promise((function(t){!function s(){window.requestAnimationFrame((function(){i+=n/6,e.pullDist=i,a<o&&i<o||a>o&&i>o?s():(e.pullDist=o,e.refreshing=!1,t())}))}()}))},dataSync:function(){var t,e=i.default.getCurrentModuleCode(),a=i.default.getCurrentRoute(),o=a.meta&&a.meta.isTodo;if(i.default.isModuleNeedBuilding(e)&&!o){if(!this.buildingId)return new Promise((function(t){setTimeout((function(){t()}),500)}));t=this.buildingId}return l.a.addTrack("公共-手动下拉刷新","",""),s.a.beginManualUpdate(),i.default.checkSync(t).then((function(t){return s.a.endManualUpdate(),t})).catch((function(t){$log.error("下拉刷新错误",t),t&&"Error: Network Error"===t.toString()?r.a.alert("当前网络无法同步数据"):r.a.alert(t),s.a.endManualUpdate()}))},getScrollHeight:function(){return this.$refs["scroll-warp"].offsetHeight},getScrollTop:function(){return this.$refs["scroll-warp"].scrollTop},setScrollTop:function(t){this.$refs["scroll-warp"].scrollTop=t},scrollBy:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=this.getScrollTop(),i=n+t,s=Math.round(a/16.7),r=t/s,l=n,c=o=+new Date;return n===i?Promise.resolve():new Promise((function(t){!function a(){window.requestAnimationFrame((function(){c===o&&(l+=r,e.$refs["scroll-warp"].scrollTop=l,n<i&&l<i||n>i&&l>i?a():(e.$refs["scroll-warp"].scrollTop=i,t()))}))}()}))},scrollTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a=this.getScrollTop(),o=t-a;return this.scrollBy(o,e)},scrollToEle:function(t){var e=t.keyboardHeight||232,a=(t=t.$el?t.$el:t).getBoundingClientRect(),o=this.$refs["scroll-warp"].getBoundingClientRect();if(a&&o){var i=document.documentElement.clientHeight-(n.a.state.global.isNumberInputOpen?e:0),s=o.bottom<i?o.bottom:i,r=o.top-a.top,l=a.bottom-s;r>0?this.scrollBy(-r-10):l>0&&this.scrollBy(l+10)}},isCurrent:function(e,a){var o=this;e.length&&t.each(e,(function(t){t._uid===a?o.isCurrKeyboard=!0:o.isCurrent(t.$children,a)}))},onNumberKeyboardOpen:function(t){this.isCurrKeyboard=!1,this.isCurrent(this.$children,t._uid),this.isCurrKeyboard&&this.scrollToEle(t)}}}}).call(this,a("391c"))},ef48:function(t,e,a){var o=a("9d55");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("85cb").default)("a1a65c0c",o,!0,{sourceMap:!1,shadowMode:!1})},f881:function(t,e,a){"use strict";a("163d");var o=a("07d2"),n=a("6bf2"),i=a.n(n),s=a("4360"),r={components:{Item:o.a},props:{},data:function(){return{tabs:[{id:1,name:"今日"},{id:2,name:"上周"},{id:3,name:"本周"},{id:4,name:"上月"},{id:5,name:"本月"}],start:new Date,end:new Date,showTime:!1,type:"start",currentDate:"",defaultMinDate:"",defaultMaxDate:"",minDate:"",maxDate:""}},computed:{tabsInfo:function(){return this.$store.state.timeTabs.tabs||{}},tabIndex:{get:function(){return this.tabsInfo.type||1},set:function(t){return t}}},activated:function(){this.start=new Date,this.end=new Date,this.tabIndex=this.tabsInfo.type||1,this.currentDate=""},methods:{moment:i.a,touchFun:function(t){t.stopPropagation()},toggleDate:function(t){this.tabIndex=t;var e=this.getSelTimes(t),a={type:t,start:e.start,end:e.end};s.a.commit("timeTabs/SET_TIME_TABS",a),this.$emit("onSelect",a)},toggleTime:function(t){this.type=t,this.currentDate="start"===t?this.start:this.end,this.setDateRange()},change:function(t){"start"===this.type?this.start=t:this.end=t},close:function(t){if("confirm"===t){this.tabIndex=6;var e={type:6,start:i()(this.start).format("YYYY-MM-DD"),end:i()(this.end).format("YYYY-MM-DD")};s.a.commit("timeTabs/SET_TIME_TABS",e),this.$emit("onSelect",{type:6,start:i()(this.start).format("YYYY-MM-DD"),end:i()(this.end).format("YYYY-MM-DD")})}this.showTime=!1},getSelTimes:function(t){var e,a;switch(t){case 1:e=i()().format("YYYY-MM-DD"),a=i()().format("YYYY-MM-DD");break;case 2:e=i()().subtract(parseInt(i()().format("E"))+6,"days").format("YYYY-MM-DD"),a=i()().subtract(parseInt(i()().format("E")),"days").format("YYYY-MM-DD");break;case 3:e=i()().weekday(1).format("YYYY-MM-DD"),a=i()().format("YYYY-MM-DD");break;case 4:e=i()().month(i()().month()-1).startOf("month").format("YYYY-MM-DD"),a=i()().month(i()().month()-1).endOf("month").format("YYYY-MM-DD");break;case 5:e=i()().startOf("month").format("YYYY-MM-DD"),a=i()().format("YYYY-MM-DD")}return{start:e,end:a}},selTime:function(){this.showTime=!0;var t=this.tabsInfo;console.log("tabIndex",t),this.tabIndex=t.type||1,6===Number(this.tabIndex)?(this.start=new Date(t.start),this.end=new Date(t.end)):(this.start=new Date,this.end=new Date),this.currentDate="start"===this.type?this.start:this.end,console.log("this.currentDate",this.currentDate),this.setDateRange()},setDateRange:function(){var t=(new Date).getFullYear(),e=t-10,a=t+10;this.defaultMinDate=i()("".concat(e,"-01-01")).startOf("year").format("YYYY-MM-DD"),this.defaultMaxDate=i()("".concat(a,"-01-01")).endOf("year").format("YYYY-MM-DD"),"start"===this.type?(this.minDate=new Date(i()(this.defaultMinDate).format("YYYY/MM/DD")),this.maxDate=new Date(i()(this.end).format("YYYY/MM/DD"))):(this.minDate=new Date(i()(this.start).format("YYYY/MM/DD")),this.maxDate=new Date(i()(this.defaultMaxDate).format("YYYY/MM/DD")))}}},l=(a("8b75"),a("17cc")),c=Object(l.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"swipe-tabs bg-white border-bottom",on:{touchmove:t.touchFun}},[a("div",{staticClass:"tabs-scroll"},t._l(t.tabs,(function(e){return a("div",{key:e.id,staticClass:"tabs-content",on:{click:function(a){t.toggleDate(e.id)}}},[a("div",{staticClass:"tab-point",class:{"tab-current":e.id===t.tabIndex}},[t._v("\n        "+t._s(e.name)+"\n      ")])])}))),a("div",{staticClass:"tabs-mask"},[a("div",{staticClass:"tabs-icon",on:{click:function(e){t.selTime()}}},[a("icon",{staticClass:"tabs-filter",class:{"filter-current":6===t.tabIndex},attrs:{name:"shaixuan1"}})],1)]),a("van-popup",{style:{height:"40%"},attrs:{position:"bottom","get-container":"body"},model:{value:t.showTime,callback:function(e){t.showTime=e},expression:"showTime"}},[a("div",{staticClass:"popup-toolbar bg-white border-bottom"},[a("div",{staticClass:"popup-cancel",on:{click:function(e){t.close("cancel")}}},[t._v("取消")]),a("div",{staticClass:"popup-title"},[t._v("自定义时间")]),a("div",{staticClass:"popup-confirm",on:{click:function(e){t.close("confirm")}}},[t._v("确定")])]),a("div",{staticClass:"tabs-date bg-white"},[a("div",{staticClass:"tabs-start-date",class:{"filter-date-current":"start"===t.type},on:{click:function(e){t.toggleTime("start")}}},[t._v("\n        "+t._s(t.moment(t.start).format("YYYY-MM-DD"))+"\n      ")]),a("div",[t._v("~")]),a("div",{staticClass:"tabs-start-date",class:{"filter-date-current":"end"===t.type},on:{click:function(e){t.toggleTime("end")}}},[t._v("\n        "+t._s(t.moment(t.end).format("YYYY-MM-DD"))+"\n      ")])]),a("van-datetime-picker",{attrs:{type:"date","show-toolbar":!1,"min-date":t.minDate,"max-date":t.maxDate},on:{change:function(e){t.change(t.currentDate)},cancel:function(e){t.showTime=!1}},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1)],1)}),[],!1,null,"672c3910",null);e.a=c.exports}}]);