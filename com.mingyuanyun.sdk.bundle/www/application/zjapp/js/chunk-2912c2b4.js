(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-2912c2b4"],{4276:function(e,t,a){"use strict";a.r(t);a("5ab2"),a("e10e"),a("6d57");var s=a("28f8"),c=(a("cc57"),a("07d2")),i=a("774b"),n=a("409e"),r=a("f7ab"),o=a("3e47"),l=a("e2a7"),h=a("0f1f"),d=a("ef39"),p=a("ed08"),u=a("04f3");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g={name:"TemplateManage",components:{Item:c.a,Scroller:i.a,ProgressRound:n.a,SynchronizeTipBar:r.a,AppSearchBar:h.a,TemplateItem:d.a},data:function(){return{isSecondary:!1,localTemplateList:[],keyword:"",searchKeyword:"",mass:!1,checkAll:!1,pageTitle:"离线文档",searchBack:null}},computed:{filterList:function(){var e=this;return this.searchKeyword?this.localTemplateList.filter((function(t){return t.name.indexOf(e.searchKeyword)>-1})):this.localTemplateList},hasList:function(){return!!this.filterList.length},isIOSBezelLess:function(){return this.$store.state.app.isIOSBezelLess}},activated:function(){console.log("this.$router.isBack",this.$router.isBack),this.$router.isBack||(this.init(),this.getList())},methods:{init:function(){this.keyword="",this.searchKeyword="",this.pageTitle="离线文档",this.checkAll=!1,this.mass=!1,this.$refs["app-search-bar"]&&(this.$refs["app-search-bar"].isSeaching=!1)},getList:function(){var e=this;o.a._getLocalTemplateList().then((function(t){e.localTemplateList=t.reverse().map((function(e){return b(b({},e),{},{file_type:p.a.formatFiletypes(e.url||e.name),isLocal:!0,checked:!1})}))}))},onRefresh:function(){this.handleCancelSelectMulti(),this.getList()},keywordChange:function(e){this.keyword=e,this.keyword||(this.searchKeyword=""),this.calcIsSelectAll()},onSearch:function(e){this.searchKeyword=e,this.calcIsSelectAll()},onSelectMulti:function(){var e=this;this.mass=!0,this.pageTitle="已选择0个文件",this.searchBack=Object(u.a)((function(){e.handleCancelSelectMulti()}))},handleSelectNone:function(){this.localTemplateList.forEach((function(e){return e.checked=!1,e})),this.calcIsSelectAll()},handleSelectAll:function(){this.localTemplateList.forEach((function(e){return e.checked=!0,e})),this.calcIsSelectAll()},handleCancelSelectMulti:function(){this.handleSelectNone(),this.mass=!1,this.pageTitle="离线文档",Object(u.e)()},handleRemoveSelected:function(){var e=this,t=[];this.filterList.forEach((function(e){e.checked&&t.push(e.id)})),t.length?l.a.confirm("是否确定删除文件？").then((function(e){return e?o.a.removeTemplate(t):Promise.reject()})).then((function(){e.handleCancelSelectMulti(),e.onRefresh()})):l.a.alert("请先选择文件")},calcIsSelectAll:function(){var e=this;if(this.mass&&this.hasList){var t=0,a=!0;this.filterList.forEach((function(e){e.checked&&t++,e.checked||(a=!1)})),this.checkAll=a,this.pageTitle="已选择".concat(t,"个文件"),this.searchBack&&Object(u.c)(this.searchBack),this.searchBack=Object(u.a)((function(){e.handleCancelSelectMulti()}))}else Object(u.e)(),this.pageTitle="离线文档"}}},m=(a("8db6"),a("17cc")),k=Object(m.a)(g,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("page-content",{attrs:{title:e.pageTitle,"show-go-root":!e.mass||!e.hasList,"show-go-back":!e.mass||!e.hasList}},[e.mass&&e.hasList?a("div",{staticClass:"header-btn",attrs:{slot:"header-bar-left"},on:{click:e.handleCancelSelectMulti},slot:"header-bar-left"},[e._v("\n    取消\n  ")]):e._e(),!e.mass&&e.hasList?a("div",{staticClass:"header-btn",attrs:{slot:"header-bar-right"},on:{click:e.onSelectMulti},slot:"header-bar-right"},[e._v("\n    批量删除\n  ")]):e.mass&&e.hasList&&e.checkAll?a("div",{staticClass:"header-btn",attrs:{slot:"header-bar-right"},on:{click:e.handleSelectNone},slot:"header-bar-right"},[e._v("\n    全不选\n  ")]):e.mass&&e.hasList&&!e.checkAll?a("div",{staticClass:"header-btn",attrs:{slot:"header-bar-right"},on:{click:e.handleSelectAll},slot:"header-bar-right"},[e._v("\n    全选\n  ")]):e._e(),a("synchronize-tip-bar"),a("app-search-bar",{ref:"app-search-bar",attrs:{placeholder:"搜索",value:e.keyword},on:{keywordChange:e.keywordChange,search:e.onSearch}}),a("div",{staticClass:"border-block"}),a("scroller",{attrs:{"has-pull-down":!e.mass,"is-empty":!e.hasList},on:{pullDown:e.onRefresh}},[a("div",{staticClass:"local-content"},e._l(e.filterList,(function(t,s){return a("template-item",{key:s,attrs:{"data-source":t,keyword:e.searchKeyword,"show-trash":!0,"is-mass":e.mass,checked:t.checked},on:{refresh:e.onRefresh,calcIsSelectAll:e.calcIsSelectAll}})}))),a("loading-status",{attrs:{"is-loading":!1,"is-empty":!e.hasList,"empty-text":"暂无可查看文档"}})],1),e.mass&&e.hasList?a("div",{staticClass:"bottom",class:{"ios-bezel-less":e.isIOSBezelLess},on:{click:e.handleRemoveSelected}},[e._v("\n    删除\n  ")]):e._e()],1)}),[],!1,null,"07e544c6",null);t.default=k.exports},6163:function(e,t,a){(e.exports=a("690e")(!1)).push([e.i,".zjapp .border-block[data-v-07e544c6]{height:1px;border:none;background-image:linear-gradient(0deg,#dcdcdc,#dcdcdc 50%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}.zjapp .downed-icon img[data-v-07e544c6]{padding:10px 15px;box-sizing:content-box;width:22px}.zjapp .local-content[data-v-07e544c6]{overflow:hidden}.zjapp .local-content[data-v-07e544c6] .template-item-wrapper .item{padding:10px 13px}.zjapp .bottom[data-v-07e544c6]{height:46px;line-height:46px;font-size:16px;color:#ff3b30;text-align:center;position:absolute;bottom:0;width:100%;background-color:#fff;border:none;background-image:linear-gradient(180deg,#ececec,#ececec 50%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:top}.zjapp .bottom.ios-bezel-less[data-v-07e544c6]{height:84px;line-height:64px}",""])},"8db6":function(e,t,a){"use strict";a("bee2")},bee2:function(e,t,a){var s=a("6163");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,a("85cb").default)("31bef718",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3ZpZXdzL3RlbXBsYXRlLW1hbmFnZS9sb2NhbC52dWU/ZGRkOCIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fL3NyYy92aWV3cy90ZW1wbGF0ZS1tYW5hZ2UvbG9jYWwudnVlIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvdmlld3MvdGVtcGxhdGUtbWFuYWdlL2xvY2FsLnZ1ZT85MmQxIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvdmlld3MvdGVtcGxhdGUtbWFuYWdlL2xvY2FsLnZ1ZSIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3ZpZXdzL3RlbXBsYXRlLW1hbmFnZS9sb2NhbC52dWU/MWU1MiIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3ZpZXdzL3RlbXBsYXRlLW1hbmFnZS9sb2NhbC52dWU/ZWM3ZSIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3ZpZXdzL3RlbXBsYXRlLW1hbmFnZS9sb2NhbC52dWU/ZTc0MSJdLCJuYW1lcyI6WyJuYW1lIiwiY29tcG9uZW50cyIsIkl0ZW0iLCJTY3JvbGxlciIsIlByb2dyZXNzUm91bmQiLCJTeW5jaHJvbml6ZVRpcEJhciIsIkFwcFNlYXJjaEJhciIsIlRlbXBsYXRlSXRlbSIsImRhdGEiLCJpc1NlY29uZGFyeSIsImxvY2FsVGVtcGxhdGVMaXN0Iiwia2V5d29yZCIsInNlYXJjaEtleXdvcmQiLCJtYXNzIiwiY2hlY2tBbGwiLCJwYWdlVGl0bGUiLCJzZWFyY2hCYWNrIiwiY29tcHV0ZWQiLCJmaWx0ZXJMaXN0IiwidGhpcyIsImZpbHRlciIsImhhc0xpc3QiLCJsZW5ndGgiLCJpc0lPU0JlemVsTGVzcyIsIiRzdG9yZSIsInN0YXRlIiwiYXBwIiwiYWN0aXZhdGVkIiwiY29uc29sZSIsImxvZyIsIiRyb3V0ZXIiLCJpc0JhY2siLCJpbml0IiwiZ2V0TGlzdCIsIm1ldGhvZHMiLCIkcmVmcyIsImlzU2VhY2hpbmciLCJvblJlZnJlc2giLCJoYW5kbGVDYW5jZWxTZWxlY3RNdWx0aSIsImtleXdvcmRDaGFuZ2UiLCJ2YWwiLCJjYWxjSXNTZWxlY3RBbGwiLCJvblNlYXJjaCIsIm9uU2VsZWN0TXVsdGkiLCJoYW5kbGVTZWxlY3ROb25lIiwiZm9yRWFjaCIsIml0ZW0iLCJjaGVja2VkIiwiaGFuZGxlU2VsZWN0QWxsIiwiaGFuZGxlUmVtb3ZlU2VsZWN0ZWQiLCJpZHMiLCJwdXNoIiwiaWQiLCJjaGVja2VkTnVtYmVycyIsImNvbXBvbmVudCIsIl92bSIsIl9oIiwiJGNyZWF0ZUVsZW1lbnQiLCJfYyIsIl9zZWxmIiwiYXR0cnMiLCJzdGF0aWNDbGFzcyIsIm9uIiwic2xvdCIsIl92IiwiX2UiLCJyZWYiLCJfbCIsImluZGV4Iiwia2V5IiwiY2xhc3MiLCJtb2R1bGUiLCJleHBvcnRzIiwiaSIsImNvbnRlbnQiLCJsb2NhbHMiLCJhZGQiLCJkZWZhdWx0Il0sIm1hcHBpbmdzIjoidUxBQUEsSSx5dEJDMEZBLElDMUZrYyxFRDRGbGMsQ0FDRUEsS0FBTSxpQkFDTkMsV0FBWSxDQUNWQyxLQUFKLElBQ0lDLFNBQUosSUFDSUMsY0FBSixJQUNJQyxrQkFBSixJQUNJQyxhQUFKLElBQ0lDLGFBQUosS0FFRUMsS0FWRixXQVdJLE1BQU8sQ0FDTEMsYUFBYSxFQUNiQyxrQkFBbUIsR0FDbkJDLFFBQVMsR0FDVEMsY0FBZSxHQUNmQyxNQUFNLEVBQ05DLFVBQVUsRUFDVkMsVUFwQk4sT0FxQk1DLFdBQVksT0FHaEJDLFNBQVUsQ0FDUkMsV0FESixXQUNBLFdBQ00sT0FBSUMsS0FBS1AsY0FDQU8sS0FBS1Qsa0JBQWtCVSxRQUFPLFNBQTdDLGdEQUVlRCxLQUFLVCxtQkFHaEJXLFFBUkosV0FTTSxRQUFTRixLQUFLRCxXQUFXSSxRQUczQkMsZUFaSixXQWFNLE9BQU9KLEtBQUtLLE9BQU9DLE1B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QUFVLGdCQUFrQmtCLEVBQUlkLHVCQUFzQmlCLEVBQUcsaUJBQWlCLENBQUNFLE1BQU0sQ0FBQyxjQUFhLEVBQU0sWUFBWUwsRUFBSWxDLFFBQVEsYUFBYSxjQUFjLEdBQUlrQyxFQUFJMUMsTUFBUTBDLEVBQUlsQyxRQUFTcUMsRUFBRyxNQUFNLENBQUNHLFlBQVksU0FBU1MsTUFBTSxDQUNqd0QsaUJBQWtCZixFQUFJaEMsZ0JBQ3RCdUMsR0FBRyxDQUFDLE1BQVFQLEVBQUlOLHVCQUF1QixDQUFDTSxFQUFJUyxHQUFHLGtCQUFrQlQsRUFBSVUsTUFBTSxLQUMzRCxJR1NwQixFQUNBLEtBQ0EsV0FDQSxNQUlhLFVBQUFYLEUsK0JDbkJMaUIsRUFBT0MsUUFBVSxFQUFRLE9BQVIsRUFBOEUsSUFLakdyQixLQUFLLENBQUNvQixFQUFPRSxFQUFJLDIxQkFBNDFCLE0sb0NDTHIzQixXLHFCQ0dBLElBQUlDLEVBQVUsRUFBUSxRQUNBLGlCQUFaQSxJQUFzQkEsRUFBVSxDQUFDLENBQUNILEVBQU9FLEVBQUlDLEVBQVMsTUFDN0RBLEVBQVFDLFNBQVFKLEVBQU9DLFFBQVVFLEVBQVFDLFNBRy9CQyxFQURILEVBQVEsUUFBMEZDLFNBQzNGLFdBQVlILEdBQVMsRUFBTSxDQUFDLFdBQVksRUFBTSxZQUFhIiwiZmlsZSI6ImpzL2NodW5rLTI5MTJjMmI0LmpzP3YxNjA4NzE0NDUxMTk1Iiwic291cmNlc0NvbnRlbnQiOlsidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ3BhZ2UtY29udGVudCcse2F0dHJzOntcInRpdGxlXCI6X3ZtLnBhZ2VUaXRsZSxcInNob3ctZ28tcm9vdFwiOiFfdm0ubWFzcyB8fCAhX3ZtLmhhc0xpc3QsXCJzaG93LWdvLWJhY2tcIjohX3ZtLm1hc3MgfHwgIV92bS5oYXNMaXN0fX0sWyhfdm0ubWFzcyAmJiBfdm0uaGFzTGlzdCk/X2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiaGVhZGVyLWJ0blwiLGF0dHJzOntcInNsb3RcIjpcImhlYWRlci1iYXItbGVmdFwifSxvbjp7XCJjbGlja1wiOl92bS5oYW5kbGVDYW5jZWxTZWxlY3RNdWx0aX0sc2xvdDpcImhlYWRlci1iYXItbGVmdFwifSxbX3ZtLl92KFwiXFxuICAgIOWPlua2iFxcbiAgXCIpXSk6X3ZtLl9lKCksKCFfdm0ubWFzcyAmJiBfdm0uaGFzTGlzdCk/X2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiaGVhZGVyLWJ0blwiLGF0dHJzOntcInNsb3RcIjpcImhlYWRlci1iYXItcmlnaHRcIn0sb246e1wiY2xpY2tcIjpfdm0ub25TZWxlY3RNdWx0aX0sc2xvdDpcImhlYWRlci1iYXItcmlnaHRcIn0sW192bS5fdihcIlxcbiAgICDmibnph4/liKDpmaRcXG4gIFwiKV0pOihfdm0ubWFzcyAmJiBfdm0uaGFzTGlzdCAmJiBfdm0uY2hlY2tBbGwpP19jKCdkaXYnLHtzdGF0aWNDbGFzczpcImhlYWRlci1idG5cIixhdHRyczp7XCJzbG90XCI6XCJoZWFkZXItYmFyLXJpZ2h0XCJ9LG9uOntcImNsaWNrXCI6X3ZtLmhhbmRsZVNlbGVjdE5vbmV9LHNsb3Q6XCJoZWFkZXItYmFyLXJpZ2h0XCJ9LFtfdm0uX3YoXCJcXG4gICAg5YWo5LiN6YCJXFxuICBcIildKTooX3ZtLm1hc3MgJiYgX3ZtLmhhc0xpc3QgJiYgIV92bS5jaGVja0FsbCk/X2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiaGVhZGVyLWJ0blwiLGF0dHJzOntcInNsb3RcIjpcImhlYWRlci1iYXItcmlnaHRcIn0sb246e1wiY2xpY2tcIjpfdm0uaGFuZGxlU2VsZWN0QWxsfSxzbG90OlwiaGVhZGVyLWJhci1yaWdodFwifSxbX3ZtLl92KFwiXFxuICAgIOWFqOmAiVxcbiAgXCIpXSk6X3ZtLl9lKCksX2MoJ3N5bmNocm9uaXplLXRpcC1iYXInKSxfYygnYXBwLXNlYXJjaC1iYXInLHtyZWY6XCJhcHAtc2VhcmNoLWJhclwiLGF0dHJzOntcInBsYWNlaG9sZGVyXCI6XCLmkJzntKJcIixcInZhbHVlXCI6X3ZtLmtleXdvcmR9LG9uOntcImtleXdvcmRDaGFuZ2VcIjpfdm0ua2V5d29yZENoYW5nZSxcInNlYXJjaFwiOl92bS5vblNlYXJjaH19KSxfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJib3JkZXItYmxvY2tcIn0pLF9jKCdzY3JvbGxlcicse2F0dHJzOntcImhhcy1wdWxsLWRvd25cIjohX3ZtLm1hc3MsXCJpcy1lbXB0eVwiOiFfdm0uaGFzTGlzdH0sb246e1wicHVsbERvd25cIjpfdm0ub25SZWZyZXNofX0sW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcImxvY2FsLWNvbnRlbnRcIn0sX3ZtLl9sKChfdm0uZmlsdGVyTGlzdCksZnVuY3Rpb24oaXRlbSxpbmRleCl7cmV0dXJuIF9jKCd0ZW1wbGF0ZS1pdGVtJyx7a2V5OmluZGV4LGF0dHJzOntcImRhdGEtc291cmNlXCI6aXRlbSxcImtleXdvcmRcIjpfdm0uc2VhcmNoS2V5d29yZCxcInNob3ctdHJhc2hcIjp0cnVlLFwiaXMtbWFzc1wiOl92bS5tYXNzLFwiY2hlY2tlZFwiOml0ZW0uY2hlY2tlZH0sb246e1wicmVmcmVzaFwiOl92bS5vblJlZnJlc2gsXCJjYWxjSXNTZWxlY3RBbGxcIjpfdm0uY2FsY0lzU2VsZWN0QWxsfX0pfSkpLF9jKCdsb2FkaW5nLXN0YXR1cycse2F0dHJzOntcImlzLWxvYWRpbmdcIjpmYWxzZSxcImlzLWVtcHR5XCI6IV92bS5oYXNMaXN0LFwiZW1wdHktdGV4dFwiOlwi5pqC5peg5Y+v5p+l55yL5paH5qGjXCJ9fSldLDEpLChfdm0ubWFzcyAmJiBfdm0uaGFzTGlzdCk/X2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiYm90dG9tXCIsY2xhc3M6e1xuICAgICAgJ2lvcy1iZXplbC1sZXNzJzogX3ZtLmlzSU9TQmV6ZWxMZXNzLFxuICAgIH0sb246e1wiY2xpY2tcIjpfdm0uaGFuZGxlUmVtb3ZlU2VsZWN0ZWR9fSxbX3ZtLl92KFwiXFxuICAgIOWIoOmZpFxcbiAgXCIpXSk6X3ZtLl9lKCldLDEpfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCI8dGVtcGxhdGU+XG4gIDxwYWdlLWNvbnRlbnRcbiAgICA6dGl0bGU9XCJwYWdlVGl0bGVcIlxuICAgIDpzaG93LWdvLXJvb3Q9XCIhbWFzcyB8fCAhaGFzTGlzdFwiXG4gICAgOnNob3ctZ28tYmFjaz1cIiFtYXNzIHx8ICFoYXNMaXN0XCJcbiAgPlxuICAgIDwhLS0gIOWPs+S+p+aMiemSriAgLS0+XG4gICAgPGRpdlxuICAgICAgdi1pZj1cIm1hc3MgJiYgaGFzTGlzdFwiXG4gICAgICBzbG90PVwiaGVhZGVyLWJhci1sZWZ0XCJcbiAgICAgIGNsYXNzPVwiaGVhZGVyLWJ0blwiXG4gICAgICBAY2xpY2s9XCJoYW5kbGVDYW5jZWxTZWxlY3RNdWx0aVwiXG4gICAgPlxuICAgICAg5Y+W5raIXG4gICAgPC9kaXY+XG4gICAgPCEtLSAg5Y+z5L6n5oyJ6ZKuICAtLT5cbiAgICA8ZGl2IHYtaWY9XCIhbWFzcyAmJiBoYXNMaXN0XCIgc2xvdD1cImhlYWRlci1iYXItcmlnaHRcIiBjbGFzcz1cImhlYWRlci1idG5cIiBAY2xpY2s9XCJvblNlbGVjdE11bHRpXCI+XG4gICAgICDmibnph4/liKDpmaRcbiAgICA8L2Rpdj5cbiAgICA8ZGl2XG4gICAgICB2LWVsc2UtaWY9XCJtYXNzICYmIGhhc0xpc3QgJiYgY2hlY2tBbGxcIlxuICAgICAgc2xvdD1cImhlYWRlci1iYXItcmlnaHRcIlxuICAgICAgY2xhc3M9XCJoZWFkZXItYnRuXCJcbiAgICAgIEBjbGljaz1cImhhbmRsZVNlbGVjdE5vbmVcIlxuICAgID5cbiAgICAgIOWFqOS4jemAiVxuICAgIDwvZGl2PlxuICAgIDxkaXZcbiAgICAgIHYtZWxzZS1pZj1cIm1hc3MgJiYgaGFzTGlzdCAmJiAhY2hlY2tBbGxcIlxuICAgICAgc2xvdD1cImhlYWRlci1iYXItcmlnaHRcIlxuICAgICAgY2xhc3M9XCJoZWFkZXItYnRuXCJcbiAgICAgIEBjbGljaz1cImhhbmRsZVNlbGVjdEFsbFwiXG4gICAgPlxuICAgICAg5YWo6YCJXG4gICAgPC9kaXY+XG5cbiAgICA8c3luY2hyb25pemUtdGlwLWJhciAvPlxuICAgIDxhcHAtc2VhcmNoLWJhclxuICAgICAgcmVmPVwiYXBwLXNlYXJjaC1iYXJcIlxuICAgICAgcGxhY2Vob2xkZXI9XCLmkJzntKJcIlxuICAgICAgOnZhbHVlPVwia2V5d29yZFwiXG4gICAgICBAa2V5d29yZENoYW5nZT1cImtleXdvcmRDaGFuZ2VcIlxuICAgICAgQHNlYXJjaD1cIm9uU2VhcmNoXCJcbiAgICAvPlxuICAgIDxkaXYgY2xhc3M9XCJib3JkZXItYmxvY2tcIj48L2Rpdj5cbiAgICA8c2Nyb2xsZXIgQHB1bGxEb3duPVwib25SZWZyZXNoXCIgOmhhcy1wdWxsLWRvd249XCIhbWFzc1wiIDppcy1lbXB0eT1cIiFoYXNMaXN0XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibG9jYWwtY29udGVudFwiPlxuICAgICAgICA8dGVtcGxhdGUtaXRlbVxuICAgICAgICAgIHYtZm9yPVwiKGl0ZW0sIGluZGV4KSBpbiBmaWx0ZXJMaXN0XCJcbiAgICAgICAgICA6a2V5PVwiaW5kZXhcIlxuICAgICAgICAgIDpkYXRhLXNvdXJjZT1cIml0ZW1cIlxuICAgICAgICAgIDprZXl3b3JkPVwic2VhcmNoS2V5d29yZFwiXG4gICAgICAgICAgOnNob3ctdHJhc2g9XCJ0cnVlXCJcbiAgICAgICAgICA6aXMtbWFzcz1cIm1hc3NcIlxuICAgICAgICAgIDpjaGVja2VkPVwiaXRlbS5jaGVja2VkXCJcbiAgICAgICAgICBAcmVmcmVzaD1cIm9uUmVmcmVzaFwiXG4gICAgICAgICAgQGNhbGNJc1NlbGVjdEFsbD1cImNhbGNJc1NlbGVjdEFsbFwiXG4gICAgICAgID48L3RlbXBsYXRlLWl0ZW0+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxsb2FkaW5nLXN0YXR1cyA6aXMtbG9hZGluZz1cImZhbHNlXCIgOmlzLWVtcHR5PVwiIWhhc0xpc3RcIiBlbXB0eS10ZXh0PVwi5pqC5peg5Y+v5p+l55yL5paH5qGjXCIgLz5cbiAgICA8L3Njcm9sbGVyPlxuXG4gICAgPGRpdlxuICAgICAgY2xhc3M9XCJib3R0b21cIlxuICAgICAgOmNsYXNzPVwie1xuICAgICAgICAnaW9zLWJlemVsLWxlc3MnOiBpc0lPU0JlemVsTGVzcyxcbiAgICAgIH1cIlxuICAgICAgdi1pZj1cIm1hc3MgJiYgaGFzTGlzdFwiXG4gICAgICBAY2xpY2s9XCJoYW5kbGVSZW1vdmVTZWxlY3RlZFwiXG4gICAgPlxuICAgICAg5Yig6ZmkXG4gICAgPC9kaXY+XG4gIDwvcGFnZS1jb250ZW50PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCBJdGVtIGZyb20gJ0BzcmMvY29tcG9uZW50cy9pdGVtLyc7XG5pbXBvcnQgU2Nyb2xsZXIgZnJvbSAnQGNvbXBvbmVudHMvc2Nyb2xsZXInO1xuaW1wb3J0IFByb2dyZXNzUm91bmQgZnJvbSAnQHNyYy9jb21wb25lbnRzL3Byb2dyZXNzLXJvdW5kL2luZGV4LnZ1ZSc7XG5pbXBvcnQgU3luY2hyb25pemVUaXBCYXIgZnJvbSAnQHNyYy93aWRnZXQvc3luY2hyb25pemUtdGlwLWJhcic7XG5pbXBvcnQgVGVtcGxhdGVNYW5hZ2VTZXJ2aWNlIGZyb20gJ0BzcmMvc2VydmljZS90ZW1wbGF0ZS1tYW5hZ2UvdGVtcGxhdGUtbWFuYWdlLXNlcnZpY2UnO1xuLy8gaW1wb3J0IGxvY2FsU3RvcmFnZSBmcm9tICdAc3JjL2ZyYW1ld29yay9sb2NhbFN0b3JhZ2UnO1xuLy8gaW1wb3J0IGxvY2FsU3RvcmFnZUtleXMgZnJvbSAnQHNyYy9mcmFtZXdvcmsvbG9jYWxTdG9yYWdlLmtleXMnO1xuaW1wb3J0IFBvcHVwIGZyb20gJ0BzcmMvdXRpbHMvcG9wdXAnO1xuaW1wb3J0IEFwcFNlYXJjaEJhciBmcm9tICdAc3JjL2NvbXBvbmVudHMvYXBwLXNlYXJjaC1iYXInO1xuaW1wb3J0IFRlbXBsYXRlSXRlbSBmcm9tICcuL2NvbXBvbmVudHMvdGVtcGxhdGUtaXRlbSc7XG5pbXBvcnQgVXRpbHMgZnJvbSAnQHNyYy91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBhZGRCYWNrRXZlbnRRdWV1ZSwgcmVzZXRCYWNrQnV0dG9uLCBjbGVhckJhY2tCdXR0b25FdmVudCB9IGZyb20gJ0BzcmMvY29tbW9uL2JhY2tidXR0b24nO1xuXG4vLyDluLjph49cbmNvbnN0IERFRkFVTFRfUEFHRV9USVRMRSA9ICfnprvnur/mlofmoaMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdUZW1wbGF0ZU1hbmFnZScsXG4gIGNvbXBvbmVudHM6IHtcbiAgICBJdGVtLFxuICAgIFNjcm9sbGVyLFxuICAgIFByb2dyZXNzUm91bmQsXG4gICAgU3luY2hyb25pemVUaXBCYXIsXG4gICAgQXBwU2VhcmNoQmFyLFxuICAgIFRlbXBsYXRlSXRlbSxcbiAgfSxcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNTZWNvbmRhcnk6IGZhbHNlLFxuICAgICAgbG9jYWxUZW1wbGF0ZUxpc3Q6IFtdLFxuICAgICAga2V5d29yZDogJycsXG4gICAgICBzZWFyY2hLZXl3b3JkOiAnJyxcbiAgICAgIG1hc3M6IGZhbHNlLFxuICAgICAgY2hlY2tBbGw6IGZhbHNlLFxuICAgICAgcGFnZVRpdGxlOiBERUZBVUxUX1BBR0VfVElUTEUsXG4gICAgICBzZWFyY2hCYWNrOiBudWxsLCAvLyDmkJzntKLov5Tlm57mjqfliLZcbiAgICB9O1xuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGZpbHRlckxpc3QoKSB7XG4gICAgICBpZiAodGhpcy5zZWFyY2hLZXl3b3JkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsVGVtcGxhdGVMaXN0LmZpbHRlcihpdGVtID0+IGl0ZW0ubmFtZS5pbmRleE9mKHRoaXMuc2VhcmNoS2V5d29yZCkgPiAtMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbFRlbXBsYXRlTGlzdDtcbiAgICAgIH1cbiAgICB9LFxuICAgIGhhc0xpc3QoKSB7XG4gICAgICByZXR1cm4gISF0aGlzLmZpbHRlckxpc3QubGVuZ3RoO1xuICAgIH0sXG5cbiAgICBpc0lPU0JlemVsTGVzcygpIHtcbiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAuaXNJT1NCZXplbExlc3M7XG4gICAgfSxcbiAgfSxcbiAgYWN0aXZhdGVkKCkge1xuICAgIGNvbnNvbGUubG9nKCd0aGlzLiRyb3V0ZXIuaXNCYWNrJywgdGhpcy4kcm91dGVyLmlzQmFjayk7XG4gICAgaWYgKHRoaXMuJHJvdXRlci5pc0JhY2spIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pbml0KCk7XG4gICAgdGhpcy5nZXRMaXN0KCk7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBpbml0KCkge1xuICAgICAgdGhpcy5rZXl3b3JkID0gJyc7XG4gICAgICB0aGlzLnNlYXJjaEtleXdvcmQgPSAnJztcbiAgICAgIHRoaXMucGFnZVRpdGxlID0gREVGQVVMVF9QQUdFX1RJVExFO1xuICAgICAgdGhpcy5jaGVja0FsbCA9IGZhbHNlO1xuICAgICAgdGhpcy5tYXNzID0gZmFsc2U7XG4gICAgICBpZiAodGhpcy4kcmVmc1snYXBwLXNlYXJjaC1iYXInXSkge1xuICAgICAgICB0aGlzLiRyZWZzWydhcHAtc2VhcmNoLWJhciddLmlzU2VhY2hpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldExpc3QoKSB7XG4gICAgICBUZW1wbGF0ZU1hbmFnZVNlcnZpY2UuX2dldExvY2FsVGVtcGxhdGVMaXN0KCkudGhlbihsaXN0ID0+IHtcbiAgICAgICAgdGhpcy5sb2NhbFRlbXBsYXRlTGlzdCA9IGxpc3QucmV2ZXJzZSgpLm1hcChpdGVtID0+ICh7XG4gICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICBmaWxlX3R5cGU6IFV0aWxzLmZvcm1hdEZpbGV0eXBlcyhpdGVtLnVybCB8fCBpdGVtLm5hbWUpLFxuICAgICAgICAgIGlzTG9jYWw6IHRydWUsXG4gICAgICAgICAgY2hlY2tlZDogZmFsc2UsXG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25SZWZyZXNoKCkge1xuICAgICAgdGhpcy5oYW5kbGVDYW5jZWxTZWxlY3RNdWx0aSgpO1xuICAgICAgdGhpcy5nZXRMaXN0KCk7XG4gICAgfSxcbiAgICBrZXl3b3JkQ2hhbmdlKHZhbCkge1xuICAgICAgdGhpcy5rZXl3b3JkID0gdmFsO1xuICAgICAgaWYgKCF0aGlzLmtleXdvcmQpIHtcbiAgICAgICAgdGhpcy5zZWFyY2hLZXl3b3JkID0gJyc7XG4gICAgICB9XG4gICAgICB0aGlzLmNhbGNJc1NlbGVjdEFsbCgpO1xuICAgIH0sXG4gICAgb25TZWFyY2godmFsKSB7XG4gICAgICB0aGlzLnNlYXJjaEtleXdvcmQgPSB2YWw7XG4gICAgICB0aGlzLmNhbGNJc1NlbGVjdEFsbCgpO1xuICAgIH0sXG4gICAgb25TZWxlY3RNdWx0aSgpIHtcbiAgICAgIHRoaXMubWFzcyA9IHRydWU7XG4gICAgICB0aGlzLnBhZ2VUaXRsZSA9ICflt7LpgInmi6kw5Liq5paH5Lu2JztcbiAgICAgIHRoaXMuc2VhcmNoQmFjayA9IGFkZEJhY2tFdmVudFF1ZXVlKCgpID0+IHtcbiAgICAgICAgdGhpcy5oYW5kbGVDYW5jZWxTZWxlY3RNdWx0aSgpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBoYW5kbGVTZWxlY3ROb25lKCkge1xuICAgICAgdGhpcy5sb2NhbFRlbXBsYXRlTGlzdC5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBpdGVtLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY2FsY0lzU2VsZWN0QWxsKCk7XG4gICAgfSxcbiAgICBoYW5kbGVTZWxlY3RBbGwoKSB7XG4gICAgICB0aGlzLmxvY2FsVGVtcGxhdGVMaXN0LmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGl0ZW0uY2hlY2tlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmNhbGNJc1NlbGVjdEFsbCgpO1xuICAgIH0sXG4gICAgaGFuZGxlQ2FuY2VsU2VsZWN0TXVsdGkoKSB7XG4gICAgICB0aGlzLmhhbmRsZVNlbGVjdE5vbmUoKTtcbiAgICAgIHRoaXMubWFzcyA9IGZhbHNlO1xuICAgICAgdGhpcy5wYWdlVGl0bGUgPSBERUZBVUxUX1BBR0VfVElUTEU7XG4gICAgICByZXNldEJhY2tCdXR0b24oKTtcbiAgICB9LFxuICAgIGhhbmRsZVJlbW92ZVNlbGVjdGVkKCkge1xuICAgICAgbGV0IGlkcyA9IFtdO1xuICAgICAgdGhpcy5maWx0ZXJMaXN0LmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGlmIChpdGVtLmNoZWNrZWQpIHtcbiAgICAgICAgICBpZHMucHVzaChpdGVtLmlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIWlkcy5sZW5ndGgpIHtcbiAgICAgICAgUG9wdXAuYWxlcnQoJ+ivt+WFiOmAieaLqeaWh+S7ticpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBQb3B1cC5jb25maXJtKCfmmK/lkKbnoa7lrprliKDpmaTmlofku7bvvJ8nKVxuICAgICAgICAudGhlbihpc09LID0+IHtcbiAgICAgICAgICBpZiAoaXNPSykge1xuICAgICAgICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlU2VydmljZS5yZW1vdmVUZW1wbGF0ZShpZHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaGFuZGxlQ2FuY2VsU2VsZWN0TXVsdGkoKTtcbiAgICAgICAgICB0aGlzLm9uUmVmcmVzaCgpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGNhbGNJc1NlbGVjdEFsbCgpIHtcbiAgICAgIGlmICh0aGlzLm1hc3MgJiYgdGhpcy5oYXNMaXN0KSB7XG4gICAgICAgIGxldCBjaGVja2VkTnVtYmVycyA9IDA7XG4gICAgICAgIGxldCBjaGVja0FsbCA9IHRydWU7XG4gICAgICAgIHRoaXMuZmlsdGVyTGlzdC5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgIGlmIChpdGVtLmNoZWNrZWQpIHtcbiAgICAgICAgICAgIGNoZWNrZWROdW1iZXJzKys7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghaXRlbS5jaGVja2VkKSB7XG4gICAgICAgICAgICBjaGVja0FsbCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2hlY2tBbGwgPSBjaGVja0FsbDtcbiAgICAgICAgdGhpcy5wYWdlVGl0bGUgPSBg5bey6YCJ5oupJHtjaGVja2VkTnVtYmVyc33kuKrmlofku7ZgO1xuICAgICAgICB0aGlzLnNlYXJjaEJhY2sgJiYgY2xlYXJCYWNrQnV0dG9uRXZlbnQodGhpcy5zZWFyY2hCYWNrKTtcbiAgICAgICAgdGhpcy5zZWFyY2hCYWNrID0gYWRkQmFja0V2ZW50UXVldWUoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaGFuZGxlQ2FuY2VsU2VsZWN0TXVsdGkoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNldEJhY2tCdXR0b24oKTtcbiAgICAgICAgdGhpcy5wYWdlVGl0bGUgPSBERUZBVUxUX1BBR0VfVElUTEU7XG4gICAgICB9XG4gICAgfSxcbiAgfSxcbn07XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxuLmJvcmRlci1ibG9jayB7XG4gIGhlaWdodDogMXB4O1xuICBAaW5jbHVkZSBncmFkaWVudEJvcmRlckIoMik7XG59XG4uZG93bmVkLWljb24ge1xuICBpbWcge1xuICAgIHBhZGRpbmc6IDEwcHggMTVweDtcbiAgICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcbiAgICB3aWR0aDogMjJweDtcbiAgfVxufVxuLmxvY2FsLWNvbnRlbnQge1xuICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gIC9kZWVwLyAudGVtcGxhdGUtaXRlbS13cmFwcGVyIC5pdGVtIHtcbiAgICBwYWRkaW5nOiAxMHB4IDEzcHg7XG4gIH1cbn1cbi5ib3R0b20ge1xuICBoZWlnaHQ6IDQ2cHg7XG4gIGxpbmUtaGVpZ2h0OiA0NnB4O1xuICBmb250LXNpemU6IDE2cHg7XG4gIGNvbG9yOiAjZmYzYjMwO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiAwO1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgQGluY2x1ZGUgZ3JhZGllbnRCb3JkZXJUKDIsICNlY2VjZWMpO1xuXG4gICYuaW9zLWJlemVsLWxlc3Mge1xuICAgIGhlaWdodDogODRweDtcbiAgICBsaW5lLWhlaWdodDogNjRweDtcbiAgfVxufVxuPC9zdHlsZT5cbiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL190aHJlYWQtbG9hZGVyQDIuMS4zQHRocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19iYWJlbC1sb2FkZXJAOC4yLjFAYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NhY2hlLWxvYWRlckAyLjAuMUBjYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS43LjBAdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2xvY2FsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NhY2hlLWxvYWRlckAyLjAuMUBjYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3RocmVhZC1sb2FkZXJAMi4xLjNAdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2JhYmVsLWxvYWRlckA4LjIuMUBiYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbG9jYWwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9sb2NhbC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MDdlNTQ0YzYmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vbG9jYWwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9sb2NhbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vbG9jYWwudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9MDdlNTQ0YzYmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiMDdlNTQ0YzZcIixcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDEuMC4xQGNzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi56amFwcCAuYm9yZGVyLWJsb2NrW2RhdGEtdi0wN2U1NDRjNl17aGVpZ2h0OjFweDtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCgwZGVnLCNkY2RjZGMsI2RjZGNkYyA1MCUsdHJhbnNwYXJlbnQgMCk7YmFja2dyb3VuZC1zaXplOjEwMCUgMXB4O2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOmJvdHRvbX0uemphcHAgLmRvd25lZC1pY29uIGltZ1tkYXRhLXYtMDdlNTQ0YzZde3BhZGRpbmc6MTBweCAxNXB4O2JveC1zaXppbmc6Y29udGVudC1ib3g7d2lkdGg6MjJweH0uemphcHAgLmxvY2FsLWNvbnRlbnRbZGF0YS12LTA3ZTU0NGM2XXtvdmVyZmxvdzpoaWRkZW59LnpqYXBwIC5sb2NhbC1jb250ZW50W2RhdGEtdi0wN2U1NDRjNl0gLnRlbXBsYXRlLWl0ZW0td3JhcHBlciAuaXRlbXtwYWRkaW5nOjEwcHggMTNweH0uemphcHAgLmJvdHRvbVtkYXRhLXYtMDdlNTQ0YzZde2hlaWdodDo0NnB4O2xpbmUtaGVpZ2h0OjQ2cHg7Zm9udC1zaXplOjE2cHg7Y29sb3I6I2ZmM2IzMDt0ZXh0LWFsaWduOmNlbnRlcjtwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MDt3aWR0aDoxMDAlO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCgxODBkZWcsI2VjZWNlYywjZWNlY2VjIDUwJSx0cmFuc3BhcmVudCAwKTtiYWNrZ3JvdW5kLXNpemU6MTAwJSAxcHg7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246dG9wfS56amFwcCAuYm90dG9tLmlvcy1iZXplbC1sZXNzW2RhdGEtdi0wN2U1NDRjNl17aGVpZ2h0Ojg0cHg7bGluZS1oZWlnaHQ6NjRweH1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1zdHlsZS1sb2FkZXJANC4xLjJAdnVlLXN0eWxlLWxvYWRlci9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2Nzcy1sb2FkZXJAMS4wLjFAY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuOS41QHZ1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fcG9zdGNzcy1sb2FkZXJAMy4wLjBAcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTgtb25lT2YtMS0yIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fcG9zdGNzcy1sb2FkZXJAMy4wLjBAcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTgtb25lT2YtMS0zIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fc2Fzcy1sb2FkZXJANy4xLjBAc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcz8/cmVmLS04LW9uZU9mLTEtNCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NhY2hlLWxvYWRlckAyLjAuMUBjYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS43LjBAdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2xvY2FsLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTA3ZTU0NGM2Jmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIiIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2Nzcy1sb2FkZXJAMS4wLjFAY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuOS41QHZ1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fcG9zdGNzcy1sb2FkZXJAMy4wLjBAcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTgtb25lT2YtMS0yIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fcG9zdGNzcy1sb2FkZXJAMy4wLjBAcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTgtb25lT2YtMS0zIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fc2Fzcy1sb2FkZXJANy4xLjBAc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcz8/cmVmLS04LW9uZU9mLTEtNCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NhY2hlLWxvYWRlckAyLjAuMUBjYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS43LjBAdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2xvY2FsLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTA3ZTU0NGM2Jmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtc3R5bGUtbG9hZGVyQDQuMS4yQHZ1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiMzFiZWY3MThcIiwgY29udGVudCwgdHJ1ZSwge1wic291cmNlTWFwXCI6ZmFsc2UsXCJzaGFkb3dNb2RlXCI6ZmFsc2V9KTsiXSwic291cmNlUm9vdCI6IiJ9