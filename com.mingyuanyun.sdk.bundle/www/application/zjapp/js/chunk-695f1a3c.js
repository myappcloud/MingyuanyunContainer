(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-695f1a3c","chunk-739f37c8","chunk-45aa81b4"],{"1c34":function(e,t,n){"use strict";n("de619")},4466:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u}));var i=n("5e8d"),r=n("162a"),o=n("da71");function s(e){return Object(i.a)().then((function(){var t=o.a.getAppMessageClassify.url;return r.a.request(t,e)}))}function a(e){return Object(i.a)().then((function(){var t=o.a.getAppMessageList.url;return r.a.request(t,e)}))}function l(e){return Object(i.a)().then((function(){var t=o.a.getAppMessageListWithAI.url;return r.a.request(t,e)}))}function c(e){return Object(i.a)().then((function(){var t=o.a.getAppMessageSubscribedProjects.url;return r.a.request(t,e)}))}function u(e){return Object(i.a)().then((function(){var t=o.a.setAppMessageSubscribedProject.url;return r.a.post(t,null,e)}))}},6429:function(e,t,n){var i=n("d257");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("85cb").default)("f66ad3be",i,!0,{sourceMap:!1,shadowMode:!1})},"71cd":function(e,t,n){"use strict";n.r(t);n("5ab2"),n("e10e"),n("6d57");var i=n("28f8"),r=(n("cc57"),n("74cb"),n("190e")),o=n("774b"),s=n("329b"),a=(n("9dd9"),n("f548"),n("06a2"),n("88c5"),n("a1d4")),l=(n("6144"),n("915f")),c=n("04f3"),u=n("9eea"),p=n("fc08"),d={name:"DropDownSelectPeojectDialog",components:{Tree:a.default,appSearchBar:u.default},mixins:[l.a],data:function(){return{show:!1,showList:!1,isSearching:!1,listHeight:475,searchKeyword:"",options:[],selected:{},followProjectMapIds:new Map,backButtonEvent:null}},watch:{show:function(e){var t=this;e&&this.$nextTick((function(){t.showList=!0}))}},mounted:function(){},methods:{getFollowProjectIds:function(){var e=this;return p.a.getData().then((function(t){return e.followProjectMapIds=t.list}))},scrollToSelect:function(){var e=this.$refs.slidebox&&this.$refs.slidebox.$el,t=e&&e.querySelector(".is-checked");t&&t.scrollIntoViewIfNeeded(!0)},openPopup:function(e){var t=this;this.getFollowProjectIds(),this.value=!0,this.show=!0,this.options=e.options,this.selected=e.selected,this.listHeight=window.innerHeight-50,this.selected&&this.selected.id&&setTimeout((function(){t.scrollToSelect()}),200),this.backButtonEvent||(this.backButtonEvent=Object(c.a)(this.closePopup))},closePopup:function(){this.show=!1,this.value=!1,this.showList=!1,this.searchKeyword="",this.backButtonEvent&&(Object(c.c)(this.backButtonEvent),this.backButtonEvent=null)},onClose:function(){this.show=!1,this.setSearchMode(!1),this.$refs["app-search-bar-tree-select"]&&this.$refs["app-search-bar-tree-select"].cancelSearch()},select:function(e,t){var n=this;this.$refs["app-search-bar-checkitem-select"]&&this.$refs["app-search-bar-checkitem-select"].saveHistory(),this.selected=e,this.$emit("select",e,t),setTimeout((function(){n.closePopup()}),100)},setSearchMode:function(e){this.isSearching=e},keywordFilter:function(e){var t="";return t="1"===e.is_end?e.name.replace(new RegExp("^".concat(e.parent_name||"","-")),""):e.name,this.searchKeyword?t.replace(new RegExp(this.searchKeyword,"gm"),'<span class="color-blue">'+this.searchKeyword+"</span>"):t}}},h=(n("1c34"),n("17cc")),f=Object(h.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slide-right"},on:{afterLeave:e.onClose}},[e.show?n("page-content",{staticClass:"content",attrs:{title:"选择项目","show-go-back":!0,"on-close":e.closePopup}},[e.showList?n("div",{staticClass:"list",style:{height:e.listHeight+"px"}},[n("app-search-bar",{ref:"app-search-bar-checkitem-select",staticClass:"bg-white",attrs:{"history-key":"home-tree-search-history-key"},on:{changeSearchStatus:e.setSearchMode},model:{value:e.searchKeyword,callback:function(t){e.searchKeyword=t},expression:"searchKeyword"}}),!e.isSearching||e.searchKeyword?n("tree",{ref:"slidebox",staticClass:"scroll-view",attrs:{"is-right":!1,accordion:!0,list:e.options,select:e.selected,keyword:e.searchKeyword,type:"check","empty-loading-status-text":"查无可订阅项目"},on:{onSelect:e.select},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.item;return n("div",{staticClass:"tree-node"},[n("span",{staticClass:"main-name",domProps:{innerHTML:e._s(e.keywordFilter(i))}}),i.is_expired&&0!==i.is_expired?n("span",{staticClass:"is-expired"},[e._v("租期已过")]):e._e()])}}])}):e._e()],1):e._e()]):e._e()],1)}),[],!1,null,"b25650fe",null).exports,g=!1;g||(g=new(s.default.extend(f))({el:document.createElement("div")}),document.body.appendChild(g.$el));var b=g,m=n("e2a7"),v=n("4466"),y=n("c77f");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j={components:Object(i.a)({Scroller:o.default},r.a.name,r.a),data:function(){return{isLoading:!1,errorTips:null,items:[],selectProjectDialog:b,classifyId:"",projectList:[]}},computed:{projectListExpiredFilter:function(){var e=this;return function t(n){var i=[];return n.forEach((function(n){if(!(n.is_expired&&0!==n.is_expired))if(n.is_end&&"1"===n.is_end){e.items.filter((function(e){return e.proj_id===n.id})).length>0||i.push(n)}else{var r=n.children||[];(r=t(r)).length>0&&i.push(x(x({},n),{},{children:r}))}})),i}(this.projectList)}},activated:function(){this.init()},methods:{subscribeChange:function(e){var t=this;e.subscribe_changing||(this.$set(e,"subscribe_changing",!0),Object(v.e)({cate_id:this.classifyId,proj_id:e.proj_id,is_subscribe:e.subscribed?0:1}).then((function(){e.subscribed=!e.subscribed,t.$set(e,"subscribe_changing",!1)})))},selectAProject:function(e){this.selectProjectDialog.openPopup({options:this.projectListExpiredFilter})},selectedProjectHandler:function(e){if(0===this.items.filter((function(t){return t.proj_id===e.id})).length){var t={proj_id:e.id,proj_name:e.name,subscribed:!1};this.subscribeChange(t),this.items.push(t)}},init:function(){var e=this;return this.selectProjectDialog.$on("select",this.selectedProjectHandler),this.classifyId=this.$route.query.classifyId,this.items=[],this.isLoading=!0,Object(y.k)().then((function(t){e.projectList=t})).then((function(){return Object(v.d)({cate_id:e.classifyId})})).then((function(t){e.items=t.map((function(e){return x(x({},e),{},{subscribed:!0})})),e.isLoading=!1})).catch((function(t){m.a.alert(t.errmsg||t),e.isLoading=!1}))}}},O=(n("817a"),Object(h.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("page-content",{attrs:{title:"消息","show-go-back":!0}},[e.isLoading?e._e():n("div",{staticClass:"apply-daily-sub-setting"},[n("div",{staticClass:"setting-title"},[e._v("\n      订阅项目\n      "),n("div",{staticClass:"btn-inline",on:{click:e.selectAProject}},[e._v("\n        添加\n      ")])]),n("div",{staticClass:"setting-main"},[n("scroller",{attrs:{"is-empty":0===e.items.length}},[n("ul",{staticClass:"projects-list"},e._l(e.items,(function(t,i){return n("li",{key:i},[n("span",{staticClass:"name"},[e._v(e._s(t.proj_name))]),n("span",{staticClass:"sub-btn",class:{active:!t.subscribed},on:{click:function(n){e.subscribeChange(t)}}},[e._v("\n              "+e._s(t.subscribed?"取消订阅":"订阅")+"\n              "),t.subscribe_changing?n("van-loading",{staticClass:"loading-icon",attrs:{size:"14px"}}):e._e()],1)])})))])],1)]),n("loading-status",{attrs:{"is-loading":e.isLoading,"is-empty":!e.items.length,type:e.errorTips?"error":"empty","empty-text":e.errorTips||"暂无订阅项目"}})],1)}),[],!1,null,"133ac53a",null));t.default=O.exports},"774b":function(e,t,n){"use strict";n.r(t);var i=n("d18d").a,r=(n("b225"),n("17cc")),o=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"scroll-warp",staticClass:"scroll-warp",class:{"scroll-warp-pulling":e.pulling,"scroll-warp-complete":!e.hasNext&&!e.isEmpty,"scroll-warp-empty":e.isEmpty},style:{"padding-bottom":e.numberKeyboardCoverHeight+"px"},on:{scroll:e.onScroll,touchstart:e.onTouchstart,touchmove:e.onTouchmove,touchend:e.onTouchend}},[e.allowPullDown?n("div",{staticClass:"pull-refresh-warp",style:{height:e.pullDist+"px"}},[n("div",{staticClass:"pull-refresh"},[n("div",{staticClass:"animation-refresher",class:{refreshing:e.refreshing}}),e.updateTime?n("p",{staticClass:"pull-refresh-date"},[e._v("最后成功同步："+e._s(e.updateTime))]):e._e()])]):e._e(),e._t("default"),e.loading?n("div",{staticClass:"page-loading"},[n("svg",{staticClass:"svg-loading",attrs:{viewBox:"0 0 80 80"}},[n("circle",{attrs:{cx:"40",cy:"40",r:"36"}})])]):e._e(),e.hasNext||e.isEmpty?e._e():[e.$slots.end?e._t("end"):e._e(),!e.$slots.end&&e.endText?n("div",{staticClass:"end-text"},[e._v("\n      "+e._s(e.endText)+"\n    ")]):e._e()]],2)}),[],!1,null,"2b1a346c",null);t.default=o.exports},"817a":function(e,t,n){"use strict";n("bf4e")},"8dd8":function(e,t,n){"use strict";n("6429")},"990d":function(e,t,n){"use strict";(function(e){n("6d57"),n("cc57"),n("9dd9"),n("163d");var i=n("ceda");t.a={name:"Tree",components:{TreeNode:i.a},props:{list:{type:Array,default:function(){return[]}},select:{type:Object,default:function(){return{}}},keyword:{type:String,default:""},isAllOpen:{type:Boolean,default:!1},type:{type:String,default:"tree"},openLevel:{type:Number,default:0},accordion:{type:Boolean,default:!1},expandOnClickNode:{type:Boolean,default:!0},emptyLoadingStatusText:{type:String,default:"没有检查项"}},data:function(){return{isTree:!0,treeList:[]}},watch:{keyword:function(e){var t=this;this.$nextTick((function(){t.treeList=e?t.fitlerByKeyword(t.deepClone(t.list),e):t.deepClone(t.list)}))},list:function(e){e&&this.initData()}},created:function(){this.isTree=!0,this.initData()},methods:{initData:function(){if(e.isEmpty(this.list))return this.treeList=[];this.keyword?this.treeList=this.fitlerByKeyword(this.deepClone(this.list),this.keyword):this.treeList=this.deepClone(this.list)},deepClone:function(e){return JSON.parse(JSON.stringify(e))},onSelect:function(e,t){this.$emit("onSelect",e,t)},fitlerByKeyword:function(t,n){var i=this,r=[];return e.each(t,(function(t){if(new RegExp(n,"gm").test(t.name))t.isOpen=!0,r.push(t);else if(!e.isEmpty(t.children)){var o=i.fitlerByKeyword(t.children,n);e.isEmpty(o)||(t.isOpen=!0,t.children=o,r.push(t))}})),r},setVisibleLevel:function(e){!function t(n){n.forEach((function(n){n.level&&(n.isOpen=n.level<e),n.$children&&t(n.$children)}))}(this.$refs.treeNode)}}}}).call(this,n("391c"))},"9d55":function(e,t,n){(e.exports=n("690e")(!1)).push([e.i,'.zjapp .scroll-warp[data-v-2b1a346c]{flex:1;overflow:auto;-webkit-overflow-scrolling:touch}.zjapp .scroll-warp-pulling[data-v-2b1a346c]{overflow:hidden}.zjapp .scroll-warp-complete[data-v-2b1a346c]:after{content:"";display:block;height:100px}.zjapp .scroll-warp-empty[data-v-2b1a346c]{display:flex;flex-direction:column}.zjapp .pull-refresh-warp[data-v-2b1a346c]{position:relative;height:0;overflow:hidden}.zjapp .pull-refresh[data-v-2b1a346c]{position:absolute;left:0;bottom:0;height:70px;width:100%;padding:6px;text-align:center}.zjapp .pull-refresh-date[data-v-2b1a346c]{margin-top:4px;height:16px;line-height:16px;font-size:12px;color:#bcbcbc}.zjapp .page-loading[data-v-2b1a346c]{padding:10px;text-align:center}.zjapp .end-text[data-v-2b1a346c]{color:#c8c8c8;background:#f4f4f4;position:relative;line-height:76px;height:76px;text-align:center}.zjapp .end-text[data-v-2b1a346c]:after,.zjapp .end-text[data-v-2b1a346c]:before{content:"";position:absolute;width:48px;height:1px;background:#e4e4e4;top:50%;margin-top:-1px}.zjapp .end-text[data-v-2b1a346c]:after{left:50%;transform:translateX(-92px)}.zjapp .end-text[data-v-2b1a346c]:before{right:50%;transform:translateX(90px)}.zjapp .end-slot[data-v-2b1a346c]{padding:30px;line-height:18px;text-align:center;color:#c8c8c8}',""])},a1d4:function(e,t,n){"use strict";n.r(t);var i=n("990d").a,r=n("17cc"),o=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree-list"},[e._l(e.treeList,(function(t){return n("tree-node",{key:t.id,ref:"treeNode",refInFor:!0,attrs:{item:t,type:e.type,select:e.select,open:e.isAllOpen||!!e.keyword,"default-open-level":e.openLevel},on:{onSelect:e.onSelect}})})),n("loading-status",{attrs:{"is-empty":!e.treeList.length,"empty-text":e.emptyLoadingStatusText}},[e.keyword?n("template",{slot:"empty-text"},[e._v("\n      未搜索到包含\n      "),n("span",{staticClass:"color-blue"},[e._v(e._s(e.keyword))]),e._v("\n      的结果\n    ")]):e._e()],2)],2)}),[],!1,null,null,null);t.default=o.exports},b225:function(e,t,n){"use strict";n("ef48")},bf4e:function(e,t,n){var i=n("ec57");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("85cb").default)("48178450",i,!0,{sourceMap:!1,shadowMode:!1})},c77f:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return d})),n.d(t,"n",(function(){return h})),n.d(t,"o",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"i",(function(){return b})),n.d(t,"k",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"l",(function(){return y})),n.d(t,"p",(function(){return w})),n.d(t,"m",(function(){return x})),n.d(t,"j",(function(){return j}));var i=n("5e8d"),r=n("162a"),o=n("bcc78"),s=n("da71");function a(e){return Object(i.a)().then((function(){var t=o.a.commonGetProblemClassTree.url;return r.a.request(t,e)}))}function l(e){return Object(i.a)().then((function(){var t=o.a.pileAcceptGetPileBuildingSummary.url;return r.a.request(t,e)}))}function c(e){return Object(i.a)().then((function(){var t=o.a.pileAcceptGetBidsectionBuildingTree.url;return r.a.request(t,e)}))}function u(){return Object(i.a)().then((function(){var e=o.a.pileAcceptGetPileAcceptItems.url;return r.a.request(e)}))}function p(e){return Object(i.a)().then((function(){var t=o.a.pileAcceptGetPileAcceptList.url;return r.a.request(t,e)}))}function d(e){return Object(i.a)().then((function(){var t=o.a.pileAcceptGetPileAcceptInfo.url;return r.a.request(t,e)}))}function h(e){return Object(i.a)().then((function(){var t=o.a.processAcceptBuilding.url;return r.a.request(t,e)}))}function f(e){return Object(i.a)().then((function(){var t=o.a.processAcceptCollect.url;return r.a.request(t,e)}))}function g(e){return Object(i.a)().then((function(){var t=o.a.processAcceptv3GetBuildingList.url;return r.a.request(t,e)}))}function b(e){return Object(i.a)().then((function(){var t=o.a.processAcceptv3GetProcessAcceptv3List.url;return r.a.request(t,e)}))}function m(e){return Object(i.a)().then((function(){var t=s.a.getReportOrgTree.url;return r.a.request(t,e)}))}function v(e){return Object(i.a)().then((function(){var t=s.a.getHomeReports.url;return r.a.request(t,e)}))}function y(e){return Object(i.a)().then((function(){var t=s.a.getReportPools.url;return r.a.request(t,e)}))}function w(e){return Object(i.a)().then((function(){var t=s.a.saveMyReportsSetting.url;return r.a.post(t,null,e)}))}function x(e){return Object(i.a)().then((function(){var t=o.a.getUrlReportAuth.url;return r.a.request(t,e)}))}function j(e){return Object(i.a)().then((function(){var t=o.a.getProgressV3Summary.url;return r.a.request(t,e)}))}},cb87:function(e,t,n){"use strict";(function(e){n("163d"),n("cc57");var i=n("07d2");t.a={name:"TreeNode",components:{Item:i.default,NodeContent:{props:{item:{required:!0}},render:function(e){var t=this.$parent.$parent.tree,n=this.item;return t.$scopedSlots.default?t.$scopedSlots.default({item:n}):e("span",{class:"main-name"},[n.name])}}},props:{level:{type:Number,default:0},item:{type:Object,default:function(){return{}}},pitem:{type:Object,default:function(){return{}}},select:{type:Object,default:function(){return{}}},open:{type:Boolean,default:!1},isRight:{type:Boolean,default:!0},type:{type:String,default:"tree"},defaultOpenLevel:{type:Number,default:0}},data:function(){return{isOpen:!1,tree:null}},computed:{},watch:{isOpen:function(e){e&&this.$parent&&!1===this.$parent.isOpen&&(this.$parent.isOpen=!0)}},created:function(){var t=this,n=this.$parent;n.isTree?this.tree=n:this.tree=n.tree,this.isOpen=this.item.id===this.select.id||(this.open||this.level<this.defaultOpenLevel),this.tree.accordion&&this.$on("tree-node-expand",(function(n){if(e.isArray(t.$children))for(var i=1;i<t.$children.length;i++)t.$children[i].item!==n&&(t.$children[i].isOpen=!1)}))},methods:{toggleFold:function(e,t){e&&e.stopPropagation(),this.isOpen=!this.isOpen,this.$parent.$emit("tree-node-expand",this.item,this.isOpen)},onSelect:function(e,t){this.tree.expandOnClickNode&&e.children&&e.children.length?this.toggleFold():this.$emit("onSelect",e,t)},getShowIconName:function(e){if(e.icon){var t=e.icon,n=t.show,i=t.name;return n?i:""}return"tree"===this.type?"arrow-right":"check"===this.type&&this.item.id===this.select.id?"qualified":""}}}}).call(this,n("391c"))},ceda:function(e,t,n){"use strict";var i=n("cb87").a,r=(n("8dd8"),n("17cc")),o=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"follow-tree"},[n("item",{class:{"bg-item-gray":e.level>1,"is-checked":e.item.id===e.select.id},attrs:{border:"bottom","icon-right":e.getShowIconName(e.item)},on:{click:function(t){e.onSelect(e.item,e.pitem)}}},[n("div",{staticClass:"item-text",style:"margin-left:"+5*e.level+"px"},[e.item.children&&e.item.children.length?n("div",{staticClass:"click-block",on:{click:function(t){e.toggleFold(t,e.item)}}}):e._e(),n("icon",{staticClass:"triangle",class:{"triangle-down":e.isOpen,translate:!e.item.children||!e.item.children.length},attrs:{name:"triangle-right"},on:{click:function(t){e.toggleFold(t,e.item)}}}),n("node-content",{attrs:{item:e.item}})],1)]),e._l(e.item.children,(function(t){return n("tree-node",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],key:t.id,attrs:{item:t,pitem:e.item,level:e.level+1,select:e.select,open:e.open,type:e.type,"default-open-level":e.defaultOpenLevel},on:{onSelect:e.onSelect}})}))],2)}),[],!1,null,"dcfca63a",null);t.a=o.exports},d18d:function(e,t,n){"use strict";(function(e){n("2b45");var i,r=n("4360"),o=n("48f4"),s=n("162a"),a=n("e2a7"),l=n("a500"),c=n("6f9e"),u={};t.a={name:"Scroller",props:{buildingId:{type:String,default:""},hasNext:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},isSync:{type:Boolean,default:!0},endText:{type:String,default:""},memoryScrollTop:{type:Boolean,default:!0},keepScrollTop:{type:Boolean},hasPullDown:{type:Boolean,default:!0},onPullDown:{type:Function}},data:function(){return{pullDist:0,refreshing:!1,pulling:!1,loading:!1,scrollTop:0,isCurrKeyboard:!1,gapBottom:0}},computed:{allowPullDown:function(){return this.hasPullDown&&(!!this.$listeners.pullDown||!!this.onPullDown)},updateTime:function(){return r.a.state.global.businessDownloadTime},numberKeyboardCoverHeight:function(){return r.a.state.global.isNumberInputOpen?r.a.state.global.numberKeyboardHeight-this.gapBottom:0}},mounted:function(){var e=this;c.a.$on("numberKeyboardOpen",this.onNumberKeyboardOpen),this.$nextTick((function(){var t=e.$refs["scroll-warp"]&&e.$refs["scroll-warp"].getBoundingClientRect&&e.$refs["scroll-warp"].getBoundingClientRect();t&&(e.gapBottom=document.documentElement.clientHeight-t.bottom),e.$el&&e.$el.addEventListener("focus",(function(t){var n=t&&t.target,i=n&&n.tagName&&n.tagName.toLowerCase();if("input"===i||"textarea"===i){window.addEventListener("resize",(function t(){var i=n.getBoundingClientRect(),r=e.$el.getBoundingClientRect(),o=i.bottom-r.bottom;o>0&&e.scrollBy(o),window.removeEventListener("resize",t,!1)}),!1)}}),!0)}))},destroyed:function(){c.a.$off("numberKeyboardOpen",this.onNumberKeyboardOpen)},activated:function(){var e=this.keepScrollTop||this.$router.isBack&&this.memoryScrollTop;this.scrollTop&&e&&(this.$refs["scroll-warp"].scrollTop=this.scrollTop)},deactivated:function(){this.memoryScrollTop&&(this.scrollTop=this.$refs["scroll-warp"].scrollTop)},methods:{onScroll:function(e){var t=this,n=this.$refs["scroll-warp"].scrollTop,i=this.$refs["scroll-warp"].scrollHeight;if(n+this.$refs["scroll-warp"].clientHeight>=i-5&&!this.loading&&this.hasNext){this.loading=!0;var r=this.$listeners.loadNext();r&&r.then&&"function"==typeof r.then?r.then((function(){t.loading=!1})):this.loading=!1}this.$emit("scroll",e)},getTouchDiretion:function(e){if(!(u&&e&&e.touches&&e.touches[0]))return"";var t=e.touches[0].clientX,n=e.touches[0].clientY;return Math.abs(n-u.y)>Math.abs(t-u.x)&&Math.abs(n-u.y)>=3?n>u.y?"down":"up":""},onTouchstart:function(e){this.allowPullDown&&e.touches&&1===e.touches.length&&(u={x:e.touches[0].clientX,y:e.touches[0].clientY,scrollTop:this.$refs["scroll-warp"].scrollTop,pullDist:this.pullDist})},onTouchmove:function(e){if(this.allowPullDown&&e.touches&&1===e.touches.length){var t=this.$refs["scroll-warp"].scrollTop,n=e.touches[0].clientY,i=n-u.y,r=this.getTouchDiretion(e);"down"===r?!this.refreshing&&t<=0?(this.pulling=!0,this.pullDist=(i-u.scrollTop)/2,e.preventDefault()):this.pulling=!1:"up"===r?this.pullDist>0&&(this.pullDist=u.pullDist-(u.y-n),e.preventDefault()):this.pullDist=u.pullDist}},onTouchend:function(){var e=this;this.allowPullDown&&(u={},this.pulling=!1,this.pullDist>=70&&this.isSync?this.refreshing?this.makePullTo(70):this.makePullTo(70).then((function(){if(e.refreshing=!0,e.onPullDown){var t=e.onPullDown();t&&t.then&&"function"==typeof t?t.finally((function(){e.refreshing=!1,e.makePullTo(0)})):(e.refreshing=!1,e.makePullTo(0))}else e.dataSync().then((function(){e.refreshing=!1,e.makePullTo(0),e.$emit("pullDown")})).catch((function(){e.refreshing=!1,e.makePullTo(0),e.$emit("pullDown")}))})):(this.refreshing=!1,this.makePullTo(0)))},makePullTo:function(e){var t=this,n=this.pullDist,i=e,r=i-n,o=n;return n===i?Promise.resolve():new Promise((function(e){!function s(){window.requestAnimationFrame((function(){o+=r/6,t.pullDist=o,n<i&&o<i||n>i&&o>i?s():(t.pullDist=i,t.refreshing=!1,e())}))}()}))},dataSync:function(){var e,t=o.default.getCurrentModuleCode(),n=o.default.getCurrentRoute(),i=n.meta&&n.meta.isTodo;if(o.default.isModuleNeedBuilding(t)&&!i){if(!this.buildingId)return new Promise((function(e){setTimeout((function(){e()}),500)}));e=this.buildingId}return l.a.addTrack("公共-手动下拉刷新","",""),s.a.beginManualUpdate(),o.default.checkSync(e).then((function(e){return s.a.endManualUpdate(),e})).catch((function(e){$log.error("下拉刷新错误",e),e&&"Error: Network Error"===e.toString()?a.a.alert("当前网络无法同步数据"):a.a.alert(e),s.a.endManualUpdate()}))},getScrollHeight:function(){return this.$refs["scroll-warp"].offsetHeight},getScrollTop:function(){return this.$refs["scroll-warp"].scrollTop},setScrollTop:function(e){this.$refs["scroll-warp"].scrollTop=e},scrollBy:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=this.getScrollTop(),o=r+e,s=Math.round(n/16.7),a=e/s,l=r,c=i=+new Date;return r===o?Promise.resolve():new Promise((function(e){!function n(){window.requestAnimationFrame((function(){c===i&&(l+=a,t.$refs["scroll-warp"].scrollTop=l,r<o&&l<o||r>o&&l>o?n():(t.$refs["scroll-warp"].scrollTop=o,e()))}))}()}))},scrollTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=this.getScrollTop(),i=e-n;return this.scrollBy(i,t)},scrollToEle:function(e){var t=e.keyboardHeight||232,n=(e=e.$el?e.$el:e).getBoundingClientRect(),i=this.$refs["scroll-warp"].getBoundingClientRect();if(n&&i){var o=document.documentElement.clientHeight-(r.a.state.global.isNumberInputOpen?t:0),s=i.bottom<o?i.bottom:o,a=i.top-n.top,l=n.bottom-s;a>0?this.scrollBy(-a-10):l>0&&this.scrollBy(l+10)}},isCurrent:function(t,n){var i=this;t.length&&e.each(t,(function(e){e._uid===n?i.isCurrKeyboard=!0:i.isCurrent(e.$children,n)}))},onNumberKeyboardOpen:function(e){this.isCurrKeyboard=!1,this.isCurrent(this.$children,e._uid),this.isCurrKeyboard&&this.scrollToEle(e)}}}}).call(this,n("391c"))},d257:function(e,t,n){(e.exports=n("690e")(!1)).push([e.i,".zjapp .bg-item-gray[data-v-dcfca63a]{background-color:#fafafa}.zjapp .click-block[data-v-dcfca63a]{position:absolute;left:-10%;top:0;height:100%;width:70px}.zjapp .follow-tree .icon[data-v-dcfca63a]{font-size:12px}.zjapp .follow-tree .triangle[data-v-dcfca63a]{margin-right:8px;color:#c8c8c8;transition:all .3s;transform:rotate(0deg)}.zjapp .follow-tree .triangle.translate[data-v-dcfca63a]{color:transparent}.zjapp .follow-tree .triangle-down[data-v-dcfca63a]{transform:rotate(90deg)}.zjapp .follow-tree .item-text[data-v-dcfca63a]{position:relative;width:100%;display:flex;align-items:center;overflow:hidden}.zjapp .follow-tree .main-name[data-v-dcfca63a]{flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}",""])},de619:function(e,t,n){var i=n("e69b");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("85cb").default)("540275d9",i,!0,{sourceMap:!1,shadowMode:!1})},e69b:function(e,t,n){(e.exports=n("690e")(!1)).push([e.i,".zjapp .tree-node[data-v-b25650fe]{position:relative;flex:1;display:flex;align-items:center;overflow:hidden}.zjapp .tree-node .main-name[data-v-b25650fe]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.zjapp .tree-node .is-expired[data-v-b25650fe]{min-width:60px;margin-left:12px;font-size:12px;text-align:center;border-radius:4px;color:#fff;background-color:#ff3c46}.zjapp .tree-node .check-icon[data-v-b25650fe]{position:absolute;right:0}.zjapp .content[data-v-b25650fe]{position:fixed;left:0;top:0;width:100%;height:100%;overflow:hidden;z-index:9}.zjapp .list[data-v-b25650fe]{position:absolute;top:0;left:0;width:100%;overflow:auto;background-color:#fff;display:flex;flex-direction:column}.zjapp .list .scroll-view[data-v-b25650fe]{flex:1;overflow-y:auto}[data-v-b25650fe] .icon-qualified{width:34px;height:34px;line-height:34px;text-align:center;color:#4275e8}",""])},ec57:function(e,t,n){(e.exports=n("690e")(!1)).push([e.i,'.zjapp .apply-daily-sub-setting .setting-title[data-v-133ac53a]{position:relative;height:46px;padding:0 15px;box-sizing:border-box;line-height:46px;font-size:18px;font-weight:500;color:#333;background:#fff}.zjapp .apply-daily-sub-setting .setting-title[data-v-133ac53a]:after{position:absolute;left:0;top:15px;display:block;width:4px;height:16px;content:"";background:#4275e8}.zjapp .apply-daily-sub-setting .setting-title .btn-inline[data-v-133ac53a]{float:right;font-size:14px;color:#4275e8}.zjapp .apply-daily-sub-setting .setting-main .projects-list li[data-v-133ac53a]{position:relative;height:46px;line-height:46px;padding:0 16px;box-sizing:border-box;border-bottom:1px solid #ececec;font-size:14px;color:#333;background:#fff}.zjapp .apply-daily-sub-setting .setting-main .projects-list li .name[data-v-133ac53a]{position:absolute;left:16px;right:94px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.zjapp .apply-daily-sub-setting .setting-main .projects-list li .sub-btn[data-v-133ac53a]{position:relative;float:right;width:68px;height:24px;margin-top:11px;line-height:24px;text-align:center;color:#999;border:1px solid #999;border-radius:12px;font-size:12px}.zjapp .apply-daily-sub-setting .setting-main .projects-list li .sub-btn .loading-icon[data-v-133ac53a]{position:absolute;left:50%;top:50%;transform:translate3d(-50%,-50%,0)}.zjapp .apply-daily-sub-setting .setting-main .projects-list li .sub-btn.active[data-v-133ac53a]{color:#4275e8;border-color:#4275e8}',""])},ef48:function(e,t,n){var i=n("9d55");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("85cb").default)("a1a65c0c",i,!0,{sourceMap:!1,shadowMode:!1})}}]);