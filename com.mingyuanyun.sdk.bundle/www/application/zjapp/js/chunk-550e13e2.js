(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-550e13e2"],{"403c":function(t,e,o){"use strict";(function(t){o("9dd9"),o("f548");var i=o("07d2"),r=o("6144"),s=(o("bc69"),o("162a"));e.a={name:"TemperatureMeasureReportSearch",components:{Item:i.default},data:function(){return{isLoading:!1,keyword:"",historyKey:encodeURI("temperature-measure-user"),searchHistory:[],searchRecord:[],doSearchFunc:t.debounce(this.doSearch,500)}},activated:function(){this.searchHistory=r.a.getObject(this.historyKey)||[]},methods:{renderItem:function(t){var e=t.fullname.replace(new RegExp(this.keyword,"gi"),'<span style="color: #4275e8">'.concat(this.keyword,"</span>"));return"".concat(e,"(").concat(t.mobile,")")},historySearch:function(t){this.keyword=t,this.doSearchFunc()},saveHistory:function(){this.keyword&&-1===this.searchHistory.indexOf(this.keyword)&&(this.searchHistory.unshift(this.keyword),r.a.saveObject(this.historyKey,this.searchHistory))},deleteHistory:function(t){var e=this.searchHistory.indexOf(t);this.searchHistory.splice(e,1),r.a.saveObject(this.historyKey,this.searchHistory)},deleteHistoryAll:function(){this.searchHistory=[],r.a.saveObject(this.historyKey,[])},doSearch:function(){var t=this;this.keyword||(this.searchRecord=[]),this.isLoading=!0,s.a.request("/online/ncov-user-temperature/search-user",{keyword:this.keyword}).then((function(e){t.isLoading=!1,t.searchRecord=e})).catch((function(e){t.isLoading=!1,console.log("搜索出错了:",e)}))},gotoDetail:function(t){this.saveHistory(),t.user_id&&this.$router.push("/temperature-measure-detail/".concat(t.user_id))}}}}).call(this,o("391c"))},"50c8":function(t,e,o){"use strict";o("f886")},"528d":function(t,e,o){(t.exports=o("690e")(!1)).push([t.i,".zjapp .search-input[data-v-9bcbb452]{padding-bottom:1px;border:none;background-image:linear-gradient(0deg,#eee,#eee 50%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}.zjapp .search-input[data-v-9bcbb452] .van-field__left-icon{color:#c8c8c8}.zjapp .search-input[data-v-9bcbb452] .van-field__body{margin-top:2px}.zjapp .search-input[data-v-9bcbb452] .van-icon-clear{position:absolute;right:0;top:0}.zjapp .history-list[data-v-9bcbb452] .item-text{color:#666}.zjapp .item-history-title[data-v-9bcbb452],.zjapp .item-history-title[data-v-9bcbb452] .item-text{color:#999}.zjapp .item-history-title .icon-delete[data-v-9bcbb452]{position:absolute;right:15px;top:15px}",""])},"8c0a":function(t,e,o){"use strict";o.r(e);var i=o("403c").a,r=(o("50c8"),o("17cc")),s=Object(r.a)(i,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("page-content",{attrs:{title:"搜索"}},[o("div",{staticClass:"search-input"},[o("van-search",{attrs:{shape:"round",placeholder:"请输入人员姓名"},on:{input:t.doSearchFunc},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),o("div",{staticClass:"history-list"},[!t.keyword&&t.searchHistory.length?[o("item",{staticClass:"item-history-title",attrs:{text:"搜索历史",border:"bottom"}},[o("icon",{attrs:{slot:"icon-right",name:"delete"},on:{click:t.deleteHistoryAll},slot:"icon-right"})],1),t._l(t.searchHistory,(function(e,i){return o("item",{key:e+i,attrs:{text:e,border:"bottom"},on:{click:function(o){t.historySearch(e)}}},[o("icon",{attrs:{slot:"icon-right",name:"nav-close"},on:{click:function(o){t.deleteHistory(e)}},slot:"icon-right"})],1)}))]:t._e(),t._l(t.searchRecord,(function(e,i){return o("item",{key:i+e.user_id,attrs:{border:"bottom"}},[o("div",{staticClass:"item-text",domProps:{innerHTML:t._s(t.renderItem(e))},on:{click:function(o){t.gotoDetail(e)}}})])}))],2),o("loading-status",{attrs:{"is-empty":!t.keyword&&!t.searchHistory.length,type:"search","empty-text":"没有搜索历史"}}),o("loading-status",{attrs:{"is-loading":t.isLoading,"is-empty":!!t.keyword&&!t.searchRecord.length,type:"search","empty-text":"没有查询到相关人员"}})],1)}),[],!1,null,"9bcbb452",null);e.default=s.exports},f886:function(t,e,o){var i=o("528d");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o("85cb").default)("6b279dfc",i,!0,{sourceMap:!1,shadowMode:!1})}}]);