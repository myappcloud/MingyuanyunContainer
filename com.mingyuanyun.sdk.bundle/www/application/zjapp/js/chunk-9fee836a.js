(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-9fee836a"],{"0eb70":function(e,t,n){"use strict";n("990c")},"114f":function(e,t,n){"use strict";(function(e){n("5ab2"),n("e10e"),n("6d57"),n("e697"),n("cc57"),n("163d");var i=n("28f8"),r=n("8693"),c=n("5b5e"),o=n("06f6"),a=n("242b"),s=n("6144"),l=n("3bd5"),u=n("3122"),d=n("2a15"),f=(n("3516"),n("6e1b"));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=l.a.getUser();t.a={defaultPlaceKey:"special-inspect-prolbem-pure-default-place",getProblemData:function(t){return c.a.getCheckProblemInfo(t).then((function(t){return p(p({},t),{},{id:t.id,status:t.status,proj_id:t.proj_id,place:{building_id:t.building_id,unit_id:t.unit,floor:t.floor,room_id:t.room_id,full_name:t.place},bidsection_id:t.bidsection_id,batch_id:t.batch_id,batch_type:t.batch_type,created_by:t.created_by,checkItem:{id:t.item_id,name:t.item_name,full_name:t.item_full_name,parentId:t.item_parent_id},description:{id:t.desc_id,name:t.desc},image_file:JSON.parse(t.image_file||"[]"),remark:t.remark,repair_requirements:t.repair_requirements,level:t.emergency_degree||"一般",deadline:void 0===t.deadline||null===t.deadline?7:Number(t.deadline),building_id:t.building_id,unit:t.unit,floor:t.floor,room_id:t.room_id,place_point:JSON.parse(t.problem_values||"[]"),drawing_file:JSON.parse(t.drawing_file||"[]"),repair_set:t.repair_set,process_mode:t.process_mode,repair:t.repair&&t.repair.id?p({},t.repair):t.repair_set&&t.repair_set.id?p({},t.repair_set):{},repair_image_file:JSON.parse(t.repair_image_file||"[]"),contractor:{id:t.contractor_id,name:t.contractor_name},reinspect_set:t.reinspect_set,cc_set:t.cc_set_array||[],sent_back:t.sent_back&&t.sent_back.id?p({},t.sent_back):{},sent_back_image_file:JSON.parse(t.sent_back_image_file||"[]"),regist:{id:t.regist.id,name:t.regist.name,mobile:t.regist.mobile,is_im_user:t.regist.is_im_user},currentReinspectBy:e.find(e.clone(t.reinspectBy),(function(e){return e.id===l.a.getUser().user_id}))||{reinspect_image_file:[],reinspect_remark:""}})})).then((function(e){var t=e&&e.biz_id||"";return t?r.a.getSpecialInspectData(t).then((function(t){return e.checkItem={id:t.checkitem_id,name:t.checkitem_name,full_name:t.checkitem_full_name,parentId:t.checkitem_parent_id},e.specialInspectId=t.id,e})):e})).then((function(e){return f.a.getBatchDetailAndCheckers(e.batch_id).then((function(t){return e.batchDetail=t,e}))})).catch((function(e){console.error(e)}))},createNewData:function(e,t){var n=this;return Promise.resolve().then((function(){return e?t?r.a.getPlaceSpecialInspectData(e,t):r.a.getSpecialInspectCheckItemDetail(e):Promise.reject(new Error("专项巡检，创建问题，缺少 specialInspectId"))})).then((function(e){return Promise.resolve().then((function(){if(t)return r.a.getBatchPlace(t).then((function(e){if(e.building_id)return{building_id:e.building_id,unit_id:e.unit,floor:e.floor,room_id:e.room_id,full_name:e.name}}))})).then((function(t){return e.defaultPlace=t||s.a.getObject(n.defaultPlaceKey,s.a.level.user)||{},e}))})).then((function(t){return{status:"",proj_id:t.proj_id,place:t.defaultPlace||{},batch_id:t.batch_id,batch_type:"专项巡检",checkItem:{id:t.item_id||t.checkitem_id,name:t.item_name||t.checkitem_name,full_name:t.full_name||t.checkitem_full_name},description:{},image_file:[],remark:"",level:"一般",deadline:7,repair_set:{},contractor:{},cc_set:[],reinspect_set:[],bidsection_id:"",building_id:t.defaultPlace&&t.defaultPlace.building_id||"",unit:t.defaultPlace&&t.defaultPlace.unit_id||"",floor:t.defaultPlace&&t.defaultPlace.floor||"",room_id:t.defaultPlace&&t.defaultPlace.room_id||"",place_point:[],deduction:1,redline_deduction:0,biz_id:e,biz_children_id:t.id,created_by:m.user_id,checkitem_extension:JSON.parse(t.checkitem_extension||"{}")}}))},getDiagram:function(e){return Promise.resolve().then((function(){if(e){var t=e.building_id,n=e.unit_id,i=e.floor,r=e.room_id;return r?o.default.getRoomTypeDiagram(r):n&&i?a.a.getDiagram(t,n,i,1):i?a.a.getDiagram(t,"",i,2):void 0}}))},getProblemList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e=Array.isArray(e)?e:[e],Promise.resolve().then((function(){return r.a.getProblemList(e,t)})).then((function(e){return(e||[]).forEach((function(e){e.thumbnail=u.a.getDefaultThumbnailFromList(e.image_file,"专项巡检"),"检查完毕"===e.status&&(e.status="已提交")})),e}))},getBatchProblemList:function(e){var t=this;return Promise.resolve().then((function(){return r.a.getAllProblemIncloudRootSpecialInspectIds(e)})).then((function(e){var n=(e||[]).map((function(e){return e.id}));return t.getProblemList(n)}))},getPlaceProblemList:function(e){var t=this;return r.a.getMode11SpecilInspectByPlaceId(e).then((function(n){var i=(n||[]).map((function(e){return e.special_inspect_id}));return t.getProblemList(i,e)}))},deleteBatchDraftProblem:function(e){return d.a.deleteBatchDraftProblem(e)}}}).call(this,n("391c"))},"26ff":function(e,t,n){"use strict";(function(e){n("5ab2"),n("e10e"),n("cc57");var i=n("28f8"),r=(n("6d57"),n("06a2"),n("07d2")),c=n("4aef"),o=n("c726"),a=n("6e1b"),s=n("37d5"),l=n("3516"),u=n("48f4"),d=n("e2a7"),f=n("3bd5"),h=n("114f");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var m=f.a.getUser();t.a={name:"IndexList",components:{Item:r.a,StatusText:c.a},props:{batchId:{type:String}},data:function(){return{isLoading:!1,batchData:{},listData:[],placeTotal:[],isBatchCreator:!1,isBatchChecker:!1,editable:!1}},watch:{batchId:{handler:function(e){e?this.init():(this.batchData={},this.listData=[])},immediate:!0}},created:function(){this.$on("reload",this.init)},activated:function(){this.init()},methods:{init:function(){var e=this;return Promise.all([this.getBatchData(),this.getListData()]).finally((function(){e.isLoading=!1,e.$emit("loaded",e.listData)})).catch((function(t){$log.error(t),e.batchData={},e.listData=[],e.isLoading=!1}))},getBatchData:function(){var t=this;return this.batchId?a.a.getSpecialInspectBatchById(this.batchId).then((function(e){t.batchData=e,t.isBatchCreator=e.created_by===m.user_id})).then((function(){return Promise.resolve().then((function(){var n=t.batchData.root_id||t.batchData.parent_id||t.batchData.id;return l.a.getBatchUsers(n).then((function(n){var i=f.a.getUser().user_id;t.isBatchChecker=e.some(n,{user_id:i}),t.editable="检查完毕"!==t.batchData.status&&t.isBatchChecker}))}))})):Promise.reject("缺少批次id")},getListData:function(){var e=this;return this.batchId?a.a.getBatchPlaces(this.batchId).then((function(t){return a.a.getMode11PlacesEndItemTotal(e.batchId).then((function(n){e.placeTotal=n;var i={};(n||[]).forEach((function(e){i[e.id]=e})),(t||[]).forEach((function(e){var t=i[e.id];e.done=t&&t.done?t.done:0,e.unqualified=t&&t.unqualified?t.unqualified:0})),e.listData=t})).catch((function(e){d.a.alert(e)}))})):Promise.reject("缺少批次id")},addPlace:function(){var e=this;return a.a.hasBatchCheckitem(this.batchId).then((function(t){t?o.a.open({title:"选择测区",projectId:e.batchData.proj_id,callback:function(t){return o.a.close(),a.a.addBatchPlace(t,e.batchId,e.batchData.proj_id).then((function(){return e.getListData()})).catch((function(e){$log.error(e),d.a.alert("添加测区失败")}))}}):d.a.alert("没有批次检查项，请先下拉同步数据")}))},getPlaceOptions:function(){return s.default.getPlaceList(this.batchData.proj_id)},gotoPlaceCheckitem:function(e){this.$router.push({name:"SpecialInspectCheckitemList",query:{batchId:this.batchId,placeId:e.id}})},submitBatch:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.batchData);return delete t.contracts,Promise.resolve().then((function(){var t=e.placeTotal.filter((function(e){return 0===e.done})),n=e.placeTotal.filter((function(e){return 0!==e.draft}));if(t.length){var i=t.map((function(e){return e.name})).join("、");return Promise.reject("".concat(i,"未检查，请先处理再提交"))}if(n.length){var r=n.map((function(e){return e.name})).join("、");return Promise.reject("".concat(r,"有草稿数据，请先处理再提交"))}})).then((function(){return a.a.getMode11WaitUploadPlaceCheckitem(t.id).then((function(e){if(e&&e.length)return Promise.reject("还有问题正在上传，请等待问题上传完毕")}))})).then((function(){return d.a.confirm("请确保所有检查人已上传数据，提交后不可修改，确认提交？").then((function(n){if(n)return a.a.finishCheckBatch(t).then((function(){return u.default.setLocalChanged(),e.init()})).then((function(){return h.a.deleteBatchDraftProblem(e.batchId)}))}))})).catch((function(e){$log.error(e),e&&500102===e.errcode?d.a.alert("检测到检查结果有冲突，请下拉刷新后再试"):d.a.alert(e)}))}}}}).call(this,n("391c"))},"2a15":function(e,t,n){"use strict";var i=n("fc9f");t.a={deleteBatchDraftProblem:function(e){return i.a.executeSql("delete from checkquality_problem where batch_id = ? and status = '草稿'",[e])}}},"2e80":function(e,t,n){var i=n("9e2b");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("85cb").default)("3ccc3358",i,!0,{sourceMap:!1,shadowMode:!1})},"3e1e":function(e,t,n){"use strict";n("2e80")},"4aef":function(e,t,n){"use strict";var i=n("dd16").a,r=n("17cc"),c=Object(r.a)(i,(function(){var e=this.$createElement;return(this._self._c||e)("span",{class:this.classSet[this.status]},[this._v(this._s(this.text||this.status))])}),[],!1,null,null,null);t.a=c.exports},"4e84":function(e,t,n){"use strict";n("5ab2"),n("6d57"),n("e10e");var i=n("28f8"),r=(n("cc57"),n("fc9f")),c=function(e){var t="select * from section \n      where proj_id = '".concat(e,"' \n      order by name");return r.a.query(t)},o=function(e){var t="select b.*, sb.section_id from building b\n      join section_building sb on b.id = sb.building_id\n      where b.proj_id = '".concat(e,"' \n      order by b.sort, b.code");return r.a.query(t)},a=function(e){var t="select b.* from section_building sb \n      left join building b on sb.building_id = b.id \n      where sb.section_id = '".concat(e,"' \n      order by b.sort, b.code");return r.a.query(t)},s=function(e){var t="select * from build_unit \n      where building_id = '".concat(e,"'\n      order by sort");return r.a.query(t)},l=function(e){var t="select * from building_floor \n      where building_id = '".concat(e,"' \n      order by sort");return r.a.query(t)},u=function(e,t,n){var i=t?" and unit = '".concat(t,"' "):"",c="select * from room where \n      building_id = '".concat(e,"' and floor = '").concat(n,"' ").concat(i," \n      order by sort");return r.a.query(c)},d=n("7cb8");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a={getSections:function(e){return c(e)},getBuildingsByProject:function(e){return o(e)},getBuildingsBySection:function(e){return a(e)},getUnits:function(e){return s(e).then((function(e){return((e=e.filter((function(e){return!!e.name})))||[]).map((function(e){return h(h({},e),{},{id:e.name,name:Object(d.a)(e.name,"单元")})}))}))},getFloors:function(e){return l(e).then((function(e){return(e||[]).map((function(e){return h(h({},e),{},{id:e.floor,name:Object(d.a)(e.floor,"层")})}))}))},getRooms:function(e,t,n){return u(e,t,n).then((function(e){return(e||[]).map((function(e){return h(h({},e),{},{name:e.room_no})}))}))}}},"68c1":function(e,t,n){(e.exports=n("690e")(!1)).push([e.i,".zjapp .list-empty[data-v-052597d6]{display:flex;flex-direction:column;flex:1}.zjapp .app-btn-text[data-v-052597d6]{font-size:16px}",""])},"990c":function(e,t,n){var i=n("68c1");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("85cb").default)("5633251b",i,!0,{sourceMap:!1,shadowMode:!1})},"9e2b":function(e,t,n){(e.exports=n("690e")(!1)).push([e.i,"[data-v-0f3c0354] .layout-content{display:flex;flex-direction:column;overflow:hidden;background:#fff}.zjapp .page-scroll[data-v-0f3c0354]{flex:1;overflow:auto;padding-bottom:100px}.zjapp .bread-crumb[data-v-0f3c0354]{padding:8px 15px;font-size:16px;line-height:30px;color:#999}.zjapp .bread-crumb .level-item i[data-v-0f3c0354]{font-size:12px;margin:0 10px}.zjapp .bread-crumb .level-item:last-child>i[data-v-0f3c0354]{display:none}.zjapp .bread-crumb .active[data-v-0f3c0354]{color:#4275e8}.zjapp .empty-msg[data-v-0f3c0354]{display:flex;align-items:center;justify-content:center;color:#c8c8c8;margin-top:30px}.zjapp .empty-msg .line[data-v-0f3c0354]{width:48px;margin:0 8px;border-top:1px solid #e4e4e4}[data-v-0f3c0354] .icon-qualified{color:#4275e8}.zjapp .place-item[data-v-0f3c0354]{align-items:center}",""])},bb04:function(e,t,n){"use strict";n.r(t);var i=n("26ff").a,r=(n("0eb70"),n("17cc")),c=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"list-empty":e.isLoading||!e.listData||!e.listData.length}},[!e.isLoading&&e.listData.length?[e._l(e.listData,(function(t){return n("item",{key:t.id,staticClass:"border-bottom",attrs:{"icon-left":"part-title","icon-right":"arrow-right"},on:{click:function(n){e.gotoPlaceCheckitem(t)}}},[n("div",{staticClass:"item-text"},[e._v(e._s(t.name))]),n("div",{staticClass:"item-font color-gray"},[e._v("\n        "+e._s(t.done?t.unqualified+"项不合格":"未检查")+"\n      ")])])})),e.editable?n("app-button-group",[n("app-button",{attrs:{type:"text"},on:{click:e.addPlace}},[e._v("\n        添加测区\n      ")])],1):e._e(),"检查完毕"===e.batchData.status?n("div",{staticClass:"p15 color-gray3 align-c"},[e._v("\n      "+e._s(e._f("formatDate")(e.batchData.modified_on))+" "+e._s(e.batchData.created_by_name)+" 提交检查完毕\n    ")]):e._e(),e.isBatchCreator&&"检查完毕"!==e.batchData.status?n("app-button-group",{staticClass:"mt20"},[n("app-button",{on:{click:e.submitBatch}},[e._v("\n        检查完毕并提交\n      ")])],1):e._e()]:e._e(),n("loading-status",{attrs:{"is-loading":e.isLoading,"is-empty":!e.listData.length}},[n("div",{attrs:{slot:"empty-text"},slot:"empty-text"},[e._v("\n      暂无测区"),e.editable?[e._v("，"),n("app-button",{attrs:{type:"text"},on:{click:e.addPlace}},[e._v("\n          请添加\n        ")])]:e._e()],2)])],2)}),[],!1,null,"052597d6",null);t.default=c.exports},c726:function(e,t,n){"use strict";var i=n("329b"),r=(n("5ab2"),n("28f8")),c=(n("ed63"),n("8cf2"),n("e697"),n("6d57"),n("e10e"),n("cc57"),n("e204"),n("e89f")),o=n("07d2"),a=n("4e84");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=["building","unit","floor","room"],d=["unit"],f={name:"PlaceSelectDialog",components:{Item:o.a},mixins:[c.a],data:function(){return{show:!1,isLoading:!0,title:"",items:[],optionalItems:[],curItem:"",options:[],hasUnit:!1,projectId:"",sectionId:"",selected:{},defaultSelected:{},beforeConfirm:function(){},callback:function(){}}},computed:{crumbs:function(){var e=[],t=this.items,n=this.curItem,i=t.findIndex((function(e){return e===n}));if(i>=0)for(var r=0;r<=i;r++){var c=t[r],o=t[r-1],a=o?this.selected[o]&&this.selected[o].name:"全部";("unit"!==o||a)&&e.push({name:a,item:c})}return e},hasSelected:function(){return!!this.selected&&!!Object.keys(this.selected).length},prevItem:function(){var e=this,t=this.items.findIndex((function(t){return t===e.curItem}));return this.items[t-1]},nextItem:function(){var e=this,t=this.items.findIndex((function(t){return t===e.curItem}));return this.items[t+1]}},methods:{open:function(e){if(this.items=e.items||u,this.optionalItems=e.optionalItems||d,!this.items||!this.items.length)return Promise.reject(new Error("palce-select open() 参数错误"));this.curItem=this.items[0],this.projectId=e.projectId,this.sectionId=e.sectionId,this.defaultSelected=e.selected,this.title=e.title,this.beforeConfirm="function"==typeof e.beforeConfirm?e.beforeConfirm:function(){},this.callback="function"==typeof e.callback?e.callback:function(){},this.init(),this.show=!0},close:function(){this.show=!1},getDefaultId:function(e){if(!this.defaultSelected)return"";var t=this.defaultSelected[e];switch(e){case"section":return t&&t.id||"";case"building":return this.defaultSelected.building_id||t&&t.id||"";case"unit":return this.defaultSelected.unit_id||t&&t.id||"";case"floor":return("string"==typeof t?t:t&&t.id)||"";case"room":return this.defaultSelected.room_id||t&&t.id||""}},init:function(){var e=this,t=Promise.resolve(),n=!0;return this.selected={},this.curItem=this.items[0],this.items.forEach((function(i){t=t.then((function(){if(n)return e.getOptions(i).then((function(t){var r=e.getDefaultId(i),c=r&&(t||[]).find((function(e){return e.id===r}));if(!t||!t.length)return e.$set(e.selected,i,null),void(n=!!e.optionalItems.includes(i));c?(e.$set(e.selected,i,l({},c)),e.options=t,e.curItem=i,n=!0):(i===e.items[0]&&(e.options=t),n=!1)}))}))})),t},crumbClick:function(e){var t=this;this.curItem=e.item;var n=this.items.findIndex((function(e){return e===t.curItem}));return this.clearChildrenFromIndex(n),this.getOptions().then((function(e){if(t.options=e,"unit"===t.curItem&&(!t.options||!t.options.length)&&t.nextItem)return t.curItem=t.nextItem,t.getOptions().then((function(e){t.options=e}))}))},clearChildrenFromIndex:function(e){for(var t=this.items,n=e;n<t.length;n++){var i=t[n];this.$delete(this.selected,i)}},getOptions:function(e){var t=this;this.isLoading=!0,e=e||this.curItem;var n=this.items;return Promise.resolve().then((function(){var i=t.projectId,r=t.sectionId||t.selected&&t.selected.section&&t.selected.section.id,c=t.selected&&t.selected.building&&t.selected.building.id,o=t.selected&&t.selected.unit&&t.selected.unit.id,s=t.selected&&t.selected.floor&&t.selected.floor.id;switch(e){case"section":return a.a.getSections(i);case"building":return n.some((function(e){return"section"===e}))?a.a.getBuildingsBySection(r):a.a.getBuildingsByProject(i);case"unit":return a.a.getUnits(c);case"floor":return a.a.getFloors(c);case"room":return a.a.getRooms(c,o,s)}})).then((function(n){return"unit"===e&&(t.hasUnit=n&&n.length),n})).catch((function(e){$log.error(e)})).finally((function(){t.isLoading=!1}))},selectedItem:function(e){var t=this,n=this.items,i=this.curItem;if(i&&e){this.$set(this.selected,i,l({},e));var r=n.findIndex((function(e){return e===i}));this.clearChildrenFromIndex(r+1),this.nextItem?(this.curItem=this.nextItem,this.getOptions().then((function(e){if(t.options=e,"unit"===t.curItem&&(!t.options||!t.options.length)&&t.nextItem)return t.curItem=t.nextItem,t.getOptions().then((function(e){t.options=e}))})).then((function(){t.options&&t.options.length||t.finish()}))):this.finish()}},finish:function(){var e=this,t={fullname:""};this.items.forEach((function(n){var i=e.selected[n];i&&(t[n]=i,"floor"===n&&e.selected.room||(t.fullname+=i.name))}));var n=this.beforeConfirm&&this.beforeConfirm(t);n instanceof Promise||(n=Promise.resolve(n)),n.then((function(n){if(!1===n)return!1;e.callback&&e.callback(t)}))}}},h=(n("3e1e"),n("17cc")),p=Object(h.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slide-right"}},[e.show?n("page-content",{attrs:{mode:"dialog",title:e.title,"on-close":e.close}},[n("div",{staticClass:"bread-crumb"},e._l(e.crumbs,(function(t){return n("span",{key:t.item,staticClass:"level-item",class:{active:t.item===(e.hasUnit||"unit"!==e.prevItem?e.curItem:e.prevItem)},on:{click:function(n){e.crumbClick(t)}}},[e._v("\n        "+e._s(t.name)),n("icon",{attrs:{name:"arrow-right"}})],1)}))),!e.isLoading&&e.options.length?n("div",{ref:"placeSelectScroll",staticClass:"page-scroll"},[e._l(e.options,(function(t,i){return n("item",{key:i,staticClass:"border-bottom place-item",attrs:{text:t.name,"icon-right":e.selected[e.curItem]&&e.selected[e.curItem].id===t.id?"qualified":""},on:{click:function(n){e.selectedItem(t)}}})})),n("div",{staticClass:"empty-msg"},[n("span",{staticClass:"line"}),e._v("\n        就这么多了\n        "),n("span",{staticClass:"line"})])],2):e._e(),!e.isLoading&&e.options.length?n("app-button-group",{attrs:{"fixed-bottom":""}},[n("app-button",{attrs:{disabled:!e.hasSelected},on:{click:e.finish}},[e._v("\n        确定\n      ")])],1):e._e(),n("loading-status",{attrs:{"is-loading":e.isLoading,"is-empty":!e.options||!e.options.length,"empty-text":"没有信息"}})],1):e._e()],1)}),[],!1,null,"0f3c0354",null).exports,m=!1;m||(m=new(i.default.extend(p))({el:document.createElement("div")}),document.body.appendChild(m.$el));t.a=m},dd16:function(e,t,n){"use strict";(function(e){t.a={name:"StatusText",props:{status:{type:String},text:{type:String},extend:{type:Object,default:function(){return{}}}},data:function(){return{classSet:e.extend({"草稿":"color-gray","暂存":"color-gray","检查中":"color-orange","待整改":"color-red","待复验":"color-orange","待验收":"color-red","待报验":"color-red","待申请进场":"color-red","待初验":"color-red","待送检":"color-red","待上传报告":"color-red","待退场":"color-red","待建设单位验收":"color-red","待区域验收":"color-red","供应链退回":"color-red","预创建":"color-status-blue","已提交":"color-green","已整改":"color-green","已验收":"color-green","已通过":"color-green","已退场":"color-gray","已关闭":"color-gray","非正常关闭":"color-gray","已退回":"color-red","已完成":"color-green","已甩项":"color-gray","检查完毕":"color-green","送检合格":"color-green","复验合格":"color-green","验收合格":"color-green","验收不合格":"color-red","未验收":"color-orange","待点评":"color-orange","已点评":"color-green","合格":"color-green","不合格":"color-red","进度正常":"color-green","进度滞后":"color-red","施工单位验收合格":"color-green","监理单位验收合格":"color-green","建设单位验收合格":"color-green","施工单位验收不合格":"color-red","监理单位验收不合格":"color-red","建设单位验收不合格":"color-red"},this.extend)}},mounted:function(){}}}).call(this,n("391c"))},e89f:function(e,t,n){"use strict";var i=n("04f3"),r=n("cf09"),c=n("4360"),o=0;t.a={name:"PopupMixin",data:function(){return{backButtonEvent:null}},watch:{show:function(e){var t=this;if(e){if(this.$nextTick((function(){t.$el&&t.$el.style&&(t.$el.style.zIndex=++r.a.zIndex,o++,c.a.commit("app/SET_HAS_POPUP",!!o))})),!this.backButtonEvent){var n=this.close||this.closePopup;this.backButtonEvent=Object(i.a)(n)}}else--o<0&&(o=0),c.a.commit("app/SET_HAS_POPUP",!!o),this.backButtonEvent&&(Object(i.c)(this.backButtonEvent),this.backButtonEvent=null)}},methods:{}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3ZpZXdzL3NwZWNpYWwtaW5zcGVjdC90ZW1wbGF0ZS0xMS9pbmRleC1saXN0LnZ1ZT9kODBiIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvdmlld3Mvc3BlY2lhbC1pbnNwZWN0L3Byb2JsZW0vc2VydmljZS5qcyIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fL3NyYy92aWV3cy9zcGVjaWFsLWluc3BlY3QvdGVtcGxhdGUtMTEvaW5kZXgtbGlzdC52dWUiLCJ3ZWJwYWNrOi8vX19tb2R1bGVfZW50cnlfemphcHBfXy8uL3NyYy92aWV3cy9zcGVjaWFsLWluc3BlY3QvcHJvYmxlbS9yZXBvc2l0b3J5LmpzIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvd2lkZ2V0L3BsYWNlLXNlbGVjdC9kaWFsb2cudnVlPzA1M2EiLCJ3ZWJwYWNrOi8vX19tb2R1bGVfZW50cnlfemphcHBfXy8uL3NyYy93aWRnZXQvcGxhY2Utc2VsZWN0L2RpYWxvZy52dWU/ZWM2MSIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3dpZGdldC9zdGF0dXMtdGV4dC9pbmRleC52dWU/YzU0MSIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3dpZGdldC9zdGF0dXMtdGV4dC9pbmRleC52dWU/Mzg1ZCIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3dpZGdldC9zdGF0dXMtdGV4dC9pbmRleC52dWUiLCJ3ZWJwYWNrOi8vX19tb2R1bGVfZW50cnlfemphcHBfXy8uL3NyYy93aWRnZXQvcGxhY2Utc2VsZWN0L3JlcG9zaXRvcnkuanMiLCJ3ZWJwYWNrOi8vX19tb2R1bGVfZW50cnlfemphcHBfXy8uL3NyYy93aWRnZXQvcGxhY2Utc2VsZWN0L3NlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vX19tb2R1bGVfZW50cnlfemphcHBfXy8uL3NyYy92aWV3cy9zcGVjaWFsLWluc3BlY3QvdGVtcGxhdGUtMTEvaW5kZXgtbGlzdC52dWU/YTc2OCIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3ZpZXdzL3NwZWNpYWwtaW5zcGVjdC90ZW1wbGF0ZS0xMS9pbmRleC1saXN0LnZ1ZT9iNmVjIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvd2lkZ2V0L3BsYWNlLXNlbGVjdC9kaWFsb2cudnVlP2I1NGUiLCJ3ZWJwYWNrOi8vX19tb2R1bGVfZW50cnlfemphcHBfXy8uL3NyYy92aWV3cy9zcGVjaWFsLWluc3BlY3QvdGVtcGxhdGUtMTEvaW5kZXgtbGlzdC52dWU/YTViMyIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3ZpZXdzL3NwZWNpYWwtaW5zcGVjdC90ZW1wbGF0ZS0xMS9pbmRleC1saXN0LnZ1ZT83MDgwIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvdmlld3Mvc3BlY2lhbC1pbnNwZWN0L3RlbXBsYXRlLTExL2luZGV4LWxpc3QudnVlIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vc3JjL3dpZGdldC9wbGFjZS1zZWxlY3QvZGlhbG9nLnZ1ZSIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3dpZGdldC9wbGFjZS1zZWxlY3QvZGlhbG9nLnZ1ZT9mMDhkIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvd2lkZ2V0L3BsYWNlLXNlbGVjdC9kaWFsb2cudnVlIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvd2lkZ2V0L3BsYWNlLXNlbGVjdC9kaWFsb2cudnVlPzZjYWQiLCJ3ZWJwYWNrOi8vX19tb2R1bGVfZW50cnlfemphcHBfXy8uL3NyYy93aWRnZXQvcGxhY2Utc2VsZWN0L2RpYWxvZy5qcyIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fL3NyYy93aWRnZXQvc3RhdHVzLXRleHQvaW5kZXgudnVlIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvdXRpbHMvcG9wdXAtbWl4aW4uanMiXSwibmFtZXMiOlsiY3VycmVudFVzZXIiLCJjb250ZXh0IiwiZ2V0VXNlciIsImRlZmF1bHRQbGFjZUtleSIsImdldFByb2JsZW1EYXRhIiwiaWQiLCJDaGVja1F1YWxpdHlQcm9ibGVtU2VydmljZSIsImdldENoZWNrUHJvYmxlbUluZm8iLCJ0aGVuIiwicCIsInN0YXR1cyIsInByb2pfaWQiLCJwbGFjZSIsImJ1aWxkaW5nX2lkIiwidW5pdF9pZCIsInVuaXQiLCJmbG9vciIsInJvb21faWQiLCJmdWxsX25hbWUiLCJiaWRzZWN0aW9uX2lkIiwiYmF0Y2hfaWQiLCJiYXRjaF90eXBlIiwiY3JlYXRlZF9ieSIsImNoZWNrSXRlbSIsIml0ZW1faWQiLCJuYW1lIiwiaXRlbV9uYW1lIiwiaXRlbV9mdWxsX25hbWUiLCJwYXJlbnRJZCIsIml0ZW1fcGFyZW50X2lkIiwiZGVzY3JpcHRpb24iLCJkZXNjX2lkIiwiZGVzYyIsImltYWdlX2ZpbGUiLCJKU09OIiwicGFyc2UiLCJyZW1hcmsiLCJyZXBhaXJfcmVxdWlyZW1lbnRzIiwibGV2ZWwiLCJlbWVyZ2VuY3lfZGVncmVlIiwiZGVhZGxpbmUiLCJ1bmRlZmluZWQiLCJOdW1iZXIiLCJwbGFjZV9wb2ludCIsInByb2JsZW1fdmFsdWVzIiwiZHJhd2luZ19maWxlIiwicmVwYWlyX3NldCIsInByb2Nlc3NfbW9kZSIsInJlcGFpciIsInJlcGFpcl9pbWFnZV9maWxlIiwiY29udHJhY3RvciIsImNvbnRyYWN0b3JfaWQiLCJjb250cmFjdG9yX25hbWUiLCJyZWluc3BlY3Rfc2V0IiwiY2Nfc2V0IiwiY2Nfc2V0X2FycmF5Iiwic2VudF9iYWNrIiwic2VudF9iYWNrX2ltYWdlX2ZpbGUiLCJyZWdpc3QiLCJtb2JpbGUiLCJpc19pbV91c2VyIiwiY3VycmVudFJlaW5zcGVjdEJ5IiwiXyIsImZpbmQiLCJjbG9uZSIsInJlaW5zcGVjdEJ5IiwiaXRlbSIsInVzZXJfaWQiLCJyZWluc3BlY3RfaW1hZ2VfZmlsZSIsInJlaW5zcGVjdF9yZW1hcmsiLCJwcm9ibGVtRGF0YSIsImJpeklkIiwiYml6X2lkIiwiU3BlY2lhbEluc3BlY3RSZXBvc2l0b3J5IiwiZ2V0U3BlY2lhbEluc3BlY3REYXRhIiwicmVzIiwiY2hlY2tpdGVtX2lkIiwiY2hlY2tpdGVtX25hbWUiLCJjaGVja2l0ZW1fZnVsbF9uYW1lIiwiY2hlY2tpdGVtX3BhcmVudF9pZCIsInNwZWNpYWxJbnNwZWN0SWQiLCJTcGVjaWFsSW5zcGVjdFNlcnZpY2UiLCJnZXRCYXRjaERldGFpbEFuZENoZWNrZXJzIiwiYmF0Y2hEZXRhaWwiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImNyZWF0ZU5ld0RhdGEiLCJwbGFjZUlkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJnZXRQbGFjZVNwZWNpYWxJbnNwZWN0RGF0YSIsImdldFNwZWNpYWxJbnNwZWN0Q2hlY2tJdGVtRGV0YWlsIiwicmVqZWN0IiwiRXJyb3IiLCJzcGVjaWFsSW5zcGVjdERhdGEiLCJnZXRCYXRjaFBsYWNlIiwiZGVmYXVsdFBsYWNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0T2JqZWN0IiwidXNlciIsImRlZHVjdGlvbiIsInJlZGxpbmVfZGVkdWN0aW9uIiwiYml6X2NoaWxkcmVuX2lkIiwiY2hlY2tpdGVtX2V4dGVuc2lvbiIsImdldERpYWdyYW0iLCJwbGFjZURhdGEiLCJDb21tb25Sb29tU2VydmljZSIsImdldFJvb21UeXBlRGlhZ3JhbSIsIkNvbW1vbkZsb29yU2VydmljZSIsImdldFByb2JsZW1MaXN0IiwiYml6SWRzIiwiQXJyYXkiLCJpc0FycmF5IiwicHJvYmxlbUxpc3QiLCJmb3JFYWNoIiwicHJvYmxlbSIsInRodW1ibmFpbCIsIkltYWdlU2VydmljZSIsImdldERlZmF1bHRUaHVtYm5haWxGcm9tTGlzdCIsImdldEJhdGNoUHJvYmxlbUxpc3QiLCJiYXRjaElkIiwiZ2V0QWxsUHJvYmxlbUluY2xvdWRSb290U3BlY2lhbEluc3BlY3RJZHMiLCJpZHMiLCJtYXAiLCJnZXRQbGFjZVByb2JsZW1MaXN0IiwiZ2V0TW9kZTExU3BlY2lsSW5zcGVjdEJ5UGxhY2VJZCIsInNwZWNpYWxfaW5zcGVjdF9pZCIsImRlbGV0ZUJhdGNoRHJhZnRQcm9ibGVtIiwiUmVwb3NpdG9yeSIsImNvbXBvbmVudHMiLCJJdGVtIiwiU3RhdHVzVGV4dCIsInByb3BzIiwidHlwZSIsIlN0cmluZyIsImRhdGEiLCJpc0xvYWRpbmciLCJiYXRjaERhdGEiLCJsaXN0RGF0YSIsInBsYWNlVG90YWwiLCJpc0JhdGNoQ3JlYXRvciIsImlzQmF0Y2hDaGVja2VyIiwiZWRpdGFibGUiLCJ3YXRjaCIsImhhbmRsZXIiLCJ2IiwidGhpcyIsImluaXQiLCJpbW1lZGlhdGUiLCJjcmVhdGVkIiwiJG9uIiwiYWN0aXZhdGVkIiwibWV0aG9kcyIsImFsbCIsImdldEJhdGNoRGF0YSIsImdldExpc3REYXRhIiwiYWRkUGxhY2UiLCJoYXNDaGVja2l0ZW0iLCJ0aXRsZSIsInByb2plY3RJZCIsImNhbGxiYWNrIiwiZ2V0UGxhY2VPcHRpb25zIiwiZ290b1BsYWNlQ2hlY2tpdGVtIiwiJHJvdXRlciIsInB1c2giLCJxdWVyeSIsInN1Ym1pdEJhdGNoIiwiY29udHJhY3RzIiwibG9jYWxEQiIsImV4ZWN1dGVTcWwiLCJjb250ZW50IiwibW9kdWxlIiwiaSIsImxvY2FscyIsImV4cG9ydHMiLCJhZGQiLCJkZWZhdWx0IiwiY29tcG9uZW50IiwiX2giLCIkY3JlYXRlRWxlbWVudCIsIl9zZWxmIiwiX2MiLCJjbGFzcyIsImNsYXNzU2V0IiwiX3YiLCJfcyIsInRleHQiLCJwcm9qSWQiLCJzcWwiLCJzZWNJZCIsImJ1aWxkaW5nSWQiLCJ1bml0RmlsdGVyIiwiZ2V0U2VjdGlvbnMiLCJnZXRCdWlsZGluZ3NCeVByb2plY3QiLCJnZXRCdWlsZGluZ3NCeVNlY3Rpb24iLCJnZXRVbml0cyIsImZpbHRlciIsImFkZFN1ZmZpeCIsImdldEZsb29ycyIsImdldFJvb21zIiwicm9vbV9ubyIsIl92bSIsImxlbmd0aCIsIl9sIiwia2V5Iiwic3RhdGljQ2xhc3MiLCJhdHRycyIsIm9uIiwiJGV2ZW50IiwiZG9uZSIsIl9lIiwiX2YiLCJtb2RpZmllZF9vbiIsImNyZWF0ZWRfYnlfbmFtZSIsInNsb3QiLCJtaXhpbnMiLCJzaG93IiwiaXRlbXMiLCJvcHRpb25hbEl0ZW1zIiwiY3VySXRlbSIsIm9wdGlvbnMiLCJoYXNVbml0Iiwic2VjdGlvbklkIiwic2VsZWN0ZWQiLCJkZWZhdWx0U2VsZWN0ZWQiLCJiZWZvcmVDb25maXJtIiwiY29tcHV0ZWQiLCJjcnVtYnMiLCJpbmRleCIsInByZUl0ZW0iLCJyZXN1bHQiLCJoYXNTZWxlY3RlZCIsIk9iamVjdCIsImtleXMiLCJwcmV2SXRlbSIsIm5leHRJdGVtIiwib3BlbiIsInBhcmFtcyIsImRlZmF1bHRJdGVtcyIsImRlZmF1bHRPcHRpb25hbEl0ZW1zIiwiY2xvc2UiLCJnZXREZWZhdWx0SWQiLCJpbml0UHJvbWlzZSIsImlzRmxvd2luZyIsInRhcmdldCIsImNydW1iQ2xpY2siLCJjcnVtYiIsImNsZWFyQ2hpbGRyZW5Gcm9tSW5kZXgiLCJnZXRPcHRpb25zIiwiJGRlbGV0ZSIsInNlbGVjdGVkSXRlbSIsIiRzZXQiLCJmaW5pc2giLCJmdWxsbmFtZSIsImFjdGl2ZSIsInJlZiIsImluc3RhbmNlIiwiVnVlIiwiZXh0ZW5kIiwiZGlhbG9nIiwiZWwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCIkZWwiLCJtb3VudGVkIiwicG9wdXBDb3VudCIsImJhY2tCdXR0b25FdmVudCIsIiRuZXh0VGljayIsInN0eWxlIiwiekluZGV4Iiwic3RvcmUiLCJjb21taXQiLCJjbG9zZUZuIiwiY2xvc2VQb3B1cCIsImFkZEJhY2tFdmVudFF1ZXVlIiwiY2xlYXJCYWNrQnV0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QUFHLFdBQ04sR0FBSUEsR0FXRixHQVRBQyxLQUFLMkgsV0FBVSxXQUNULEVBQUtKLEtBQU8sRUFBS0EsSUFBSUssUUFDdkIsRUFBS0wsSUFBSUssTUFBTUMsU0FBVy9RLElBQVErUSxPQUNsQ0osSUFDQUssSUFBTUMsT0FBTyxzQkFBdUJOLFFBS25DekgsS0FBSzBILGdCQUFpQixDQUN6QixJQUFJTSxFQUFVaEksS0FBSzhGLE9BQVM5RixLQUFLaUksV0FDakNqSSxLQUFLMEgsZ0JBQWtCUSxZQUFrQkYsVUFHM0NQLEVBQ2lCLElBQ2ZBLEVBQWEsR0FFZkssSUFBTUMsT0FBTyxzQkFBdUJOLEdBR2hDekgsS0FBSzBILGtCQUNQUyxZQUFxQm5JLEtBQUswSCxpQkFDMUIxSCxLQUFLMEgsZ0JBQWtCLFFBSy9CcEgsUUFBUyIsImZpbGUiOiJqcy9jaHVuay05ZmVlODM2YS5qcz92MTYwODcxNDQ1MTE5NSIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLXN0eWxlLWxvYWRlckA0LjEuMkB2dWUtc3R5bGUtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTgtb25lT2YtMS0wIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY3NzLWxvYWRlckAxLjAuMUBjc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTgtb25lT2YtMS0xIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS45LjVAdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19zYXNzLWxvYWRlckA3LjEuMEBzYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTgtb25lT2YtMS00IS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgtbGlzdC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0wNTI1OTdkNiZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCIiLCIvKlxuICogQEF1dGhvcjogamlhbmdsMDJcbiAqIEBEYXRlOiAyMDIwLTA2LTExIDE2OjU4OjM1XG4gKiBATGFzdEVkaXRvcnM6IGppYW5nbDAyXG4gKiBATGFzdEVkaXRUaW1lOiAyMDIwLTA2LTE2IDAxOjU0OjU0XG4gKiBARGVzY3JpcHRpb246IOS4k+mhueW3oeajgOmXrumimCBzZXJ2aWNlXG4gKi9cblxuaW1wb3J0IFNwZWNpYWxJbnNwZWN0UmVwb3NpdG9yeSBmcm9tICdAc3JjL3JlcG9zaXRvcmllcy9zcGVjaWFsLWluc3BlY3QtcmVwb3NpdG9yeSc7XG5pbXBvcnQgQ2hlY2tRdWFsaXR5UHJvYmxlbVNlcnZpY2UgZnJvbSAnQHNyYy9zZXJ2aWNlL2NoZWNrL2NoZWNrLXByb2JsZW0tc2VydmljZSc7XG5pbXBvcnQgQ29tbW9uUm9vbVNlcnZpY2UgZnJvbSAnQHNyYy9zZXJ2aWNlL2NvbW1vbi9yb29tLXNlcnZpY2UnO1xuaW1wb3J0IENvbW1vbkZsb29yU2VydmljZSBmcm9tICdAc3JjL3NlcnZpY2UvY29tbW9uL2Zsb29yLXNlcnZpY2UnO1xuaW1wb3J0IGxvY2FsU3RvcmFnZSBmcm9tICdAc3JjL2ZyYW1ld29yay9sb2NhbFN0b3JhZ2UnO1xuaW1wb3J0IGNvbnRleHQgZnJvbSAnQHNyYy9mcmFtZXdvcmsvY29udGV4dCc7XG5pbXBvcnQgSW1hZ2VTZXJ2aWNlIGZyb20gJ0BzcmMvc2VydmljZS9jb21tb24vaW1hZ2Utc2VydmljZSc7XG5pbXBvcnQgUmVwb3NpdG9yeSBmcm9tICcuL3JlcG9zaXRvcnkuanMnO1xuaW1wb3J0IEJhdGNoU2VydmljZSBmcm9tICdAc3JjL3NlcnZpY2UvY29tbW9uL2JhdGNoLXNlcnZpY2UnO1xuaW1wb3J0IFNwZWNpYWxJbnNwZWN0U2VydmljZSBmcm9tICdAc3JjL3NlcnZpY2Uvc3BlY2lhbC1pbnNwZWN0L3NwZWNpYWwtaW5zcGVjdC1zZXJ2aWNlJztcblxuY29uc3QgY3VycmVudFVzZXIgPSBjb250ZXh0LmdldFVzZXIoKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBkZWZhdWx0UGxhY2VLZXk6ICdzcGVjaWFsLWluc3BlY3QtcHJvbGJlbS1wdXJlLWRlZmF1bHQtcGxhY2UnLFxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uOiDojrflj5bpl67popjmlbDmja5cbiAgICogQHBhcmFtIHt0eXBlfSBpZCDpl67pophpZO+8jGNoZWNrcXVhbGl0eV9wcm9ibGVtIOihqOS4u+mUrlxuICAgKiBAcmV0dXJuOiBwcm9taXNlIC0+IE9iamVjdFxuICAgKi9cbiAgZ2V0UHJvYmxlbURhdGEoaWQpIHtcbiAgICByZXR1cm4gQ2hlY2tRdWFsaXR5UHJvYmxlbVNlcnZpY2UuZ2V0Q2hlY2tQcm9ibGVtSW5mbyhpZClcbiAgICAgIC50aGVuKHAgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnAsXG4gICAgICAgICAgaWQ6IHAuaWQsXG4gICAgICAgICAgc3RhdHVzOiBwLnN0YXR1cyxcbiAgICAgICAgICBwcm9qX2lkOiBwLnByb2pfaWQsXG4gICAgICAgICAgcGxhY2U6IHtcbiAgICAgICAgICAgIGJ1aWxkaW5nX2lkOiBwLmJ1aWxkaW5nX2lkLFxuICAgICAgICAgICAgdW5pdF9pZDogcC51bml0LFxuICAgICAgICAgICAgZmxvb3I6IHAuZmxvb3IsXG4gICAgICAgICAgICByb29tX2lkOiBwLnJvb21faWQsXG4gICAgICAgICAgICBmdWxsX25hbWU6IHAucGxhY2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBiaWRzZWN0aW9uX2lkOiBwLmJpZHNlY3Rpb25faWQsXG4gICAgICAgICAgYmF0Y2hfaWQ6IHAuYmF0Y2hfaWQsXG4gICAgICAgICAgYmF0Y2hfdHlwZTogcC5iYXRjaF90eXBlLFxuICAgICAgICAgIGNyZWF0ZWRfYnk6IHAuY3JlYXRlZF9ieSxcbiAgICAgICAgICBjaGVja0l0ZW06IHtcbiAgICAgICAgICAgIGlkOiBwLml0ZW1faWQsXG4gICAgICAgICAgICBuYW1lOiBwLml0ZW1fbmFtZSxcbiAgICAgICAgICAgIGZ1bGxfbmFtZTogcC5pdGVtX2Z1bGxfbmFtZSxcbiAgICAgICAgICAgIHBhcmVudElkOiBwLml0ZW1fcGFyZW50X2lkLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZGVzY3JpcHRpb246IHtcbiAgICAgICAgICAgIGlkOiBwLmRlc2NfaWQsXG4gICAgICAgICAgICBuYW1lOiBwLmRlc2MsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBpbWFnZV9maWxlOiBKU09OLnBhcnNlKHAuaW1hZ2VfZmlsZSB8fCAnW10nKSxcbiAgICAgICAgICByZW1hcms6IHAucmVtYXJrLFxuICAgICAgICAgIHJlcGFpcl9yZXF1aXJlbWVudHM6IHAucmVwYWlyX3JlcXVpcmVtZW50cywgLy8g5pW05pS56KaB5rGCXG4gICAgICAgICAgbGV2ZWw6IHAuZW1lcmdlbmN5X2RlZ3JlZSB8fCAn5LiA6IisJyxcbiAgICAgICAgICBkZWFkbGluZTogcC5kZWFkbGluZSA9PT0gdW5kZWZpbmVkIHx8IHAuZGVhZGxpbmUgPT09IG51bGwgPyA3IDogTnVtYmVyKHAuZGVhZGxpbmUpLFxuICAgICAgICAgIGJ1aWxkaW5nX2lkOiBwLmJ1aWxkaW5nX2lkLFxuICAgICAgICAgIHVuaXQ6IHAudW5pdCxcbiAgICAgICAgICBmbG9vcjogcC5mbG9vcixcbiAgICAgICAgICByb29tX2lkOiBwLnJvb21faWQsXG4gICAgICAgICAgcGxhY2VfcG9pbnQ6IEpTT04ucGFyc2UocC5wcm9ibGVtX3ZhbHVlcyB8fCAnW10nKSxcbiAgICAgICAgICBkcmF3aW5nX2ZpbGU6IEpTT04ucGFyc2UocC5kcmF3aW5nX2ZpbGUgfHwgJ1tdJyksXG4gICAgICAgICAgcmVwYWlyX3NldDogcC5yZXBhaXJfc2V0LFxuICAgICAgICAgIHByb2Nlc3NfbW9kZTogcC5wcm9jZXNzX21vZGUsXG4gICAgICAgICAgLy8g5pW05pS55Lq6XG4gICAgICAgICAgcmVwYWlyOlxuICAgICAgICAgICAgcC5yZXBhaXIgJiYgcC5yZXBhaXIuaWRcbiAgICAgICAgICAgICAgPyB7IC4uLnAucmVwYWlyIH1cbiAgICAgICAgICAgICAgOiBwLnJlcGFpcl9zZXQgJiYgcC5yZXBhaXJfc2V0LmlkXG4gICAgICAgICAgICAgID8geyAuLi5wLnJlcGFpcl9zZXQgfVxuICAgICAgICAgICAgICA6IHt9LFxuICAgICAgICAgIHJlcGFpcl9pbWFnZV9maWxlOiBKU09OLnBhcnNlKHAucmVwYWlyX2ltYWdlX2ZpbGUgfHwgJ1tdJyksXG4gICAgICAgICAgLy8g6LSj5Lu75Y2V5L2NXG4gICAgICAgICAgY29udHJhY3RvcjogeyBpZDogcC5jb250cmFjdG9yX2lkLCBuYW1lOiBwLmNvbnRyYWN0b3JfbmFtZSB9LFxuICAgICAgICAgIC8vIOWkjemqjOS6ulxuICAgICAgICAgIHJlaW5zcGVjdF9zZXQ6IHAucmVpbnNwZWN0X3NldCxcbiAgICAgICAgICAvLyDmioTpgIHkurpcbiAgICAgICAgICBjY19zZXQ6IHAuY2Nfc2V0X2FycmF5IHx8IFtdLFxuXG4gICAgICAgICAgLy8g6YCA5Zue5Lq6XG4gICAgICAgICAgc2VudF9iYWNrOiBwLnNlbnRfYmFjayAmJiBwLnNlbnRfYmFjay5pZCA/IHsgLi4ucC5zZW50X2JhY2sgfSA6IHt9LFxuICAgICAgICAgIHNlbnRfYmFja19pbWFnZV9maWxlOiBKU09OLnBhcnNlKHAuc2VudF9iYWNrX2ltYWdlX2ZpbGUgfHwgJ1tdJyksXG5cbiAgICAgICAgICByZWdpc3Q6IHtcbiAgICAgICAgICAgIGlkOiBwLnJlZ2lzdC5pZCxcbiAgICAgICAgICAgIG5hbWU6IHAucmVnaXN0Lm5hbWUsXG4gICAgICAgICAgICBtb2JpbGU6IHAucmVnaXN0Lm1vYmlsZSxcbiAgICAgICAgICAgIGlzX2ltX3VzZXI6IHAucmVnaXN0LmlzX2ltX3VzZXIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjdXJyZW50UmVpbnNwZWN0Qnk6IF8uZmluZChfLmNsb25lKHAucmVpbnNwZWN0QnkpLCBpdGVtID0+IHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmlkID09PSBjb250ZXh0LmdldFVzZXIoKS51c2VyX2lkO1xuICAgICAgICAgIH0pIHx8IHsgcmVpbnNwZWN0X2ltYWdlX2ZpbGU6IFtdLCByZWluc3BlY3RfcmVtYXJrOiAnJyB9LFxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICAgIC50aGVuKHByb2JsZW1EYXRhID0+IHtcbiAgICAgICAgbGV0IGJpeklkID0gKHByb2JsZW1EYXRhICYmIHByb2JsZW1EYXRhLmJpel9pZCkgfHwgJyc7XG4gICAgICAgIGlmICghYml6SWQpIHtcbiAgICAgICAgICByZXR1cm4gcHJvYmxlbURhdGE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDojrflj5bpl67popjmo4Dmn6XpobnvvIzmo4Dmn6XpobnlrZjlnKggc3BlY2lhbF9pbnNwZWN0IOihqFxuICAgICAgICAvLyBiaXpfaWQg5Y+v6IO95pivIHNwZWNpYWxfaW5zcGVjdCDkuLvplK7vvIzkuZ/lj6/og73mmK8gc3BlY2lhbF9pbnNwZWN0X3BsYWNlX2NoZWNraXRlbSDkuLvplK5cbiAgICAgICAgcmV0dXJuIFNwZWNpYWxJbnNwZWN0UmVwb3NpdG9yeS5nZXRTcGVjaWFsSW5zcGVjdERhdGEoYml6SWQpLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAvLyBpZiAocmVzKSB7XG4gICAgICAgICAgcHJvYmxlbURhdGEuY2hlY2tJdGVtID0ge1xuICAgICAgICAgICAgaWQ6IHJlcy5jaGVja2l0ZW1faWQsXG4gICAgICAgICAgICBuYW1lOiByZXMuY2hlY2tpdGVtX25hbWUsXG4gICAgICAgICAgICBmdWxsX25hbWU6IHJlcy5jaGVja2l0ZW1fZnVsbF9uYW1lLFxuICAgICAgICAgICAgcGFyZW50SWQ6IHJlcy5jaGVja2l0ZW1fcGFyZW50X2lkLFxuICAgICAgICAgIH07XG4gICAgICAgICAgcHJvYmxlbURhdGEuc3BlY2lhbEluc3BlY3RJZCA9IHJlcy5pZDtcbiAgICAgICAgICByZXR1cm4gcHJvYmxlbURhdGE7XG4gICAgICAgICAgLyogfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBTcGVjaWFsSW5zcGVjdFJlcG9zaXRvcnkuZ2V0TW9kZTExU3BlY2lhbEluc3BlY3REYXRhQnlCaXpJZChiaXpJZCkudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgICAgcHJvYmxlbURhdGEuY2hlY2tJdGVtID0ge1xuICAgICAgICAgICAgICAgIGlkOiBkYXRhLmNoZWNraXRlbV9pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLmNoZWNraXRlbV9uYW1lLFxuICAgICAgICAgICAgICAgIGZ1bGxfbmFtZTogZGF0YS5jaGVja2l0ZW1fZnVsbF9uYW1lLFxuICAgICAgICAgICAgICAgIHBhcmVudElkOiBkYXRhLmNoZWNraXRlbV9wYXJlbnRfaWQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHByb2JsZW1EYXRhLnNwZWNpYWxJbnNwZWN0SWQgPSBkYXRhLmlkO1xuXG4gICAgICAgICAgICAgIHJldHVybiBwcm9ibGVtRGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gKi9cbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4ocHJvYmxlbURhdGEgPT4ge1xuICAgICAgICAvLyDojrflj5bpl67popjnmoTmibnmrKHkv6Hmga/lkozmo4Dmn6XkurpcbiAgICAgICAgcmV0dXJuIFNwZWNpYWxJbnNwZWN0U2VydmljZS5nZXRCYXRjaERldGFpbEFuZENoZWNrZXJzKHByb2JsZW1EYXRhLmJhdGNoX2lkKS50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgcHJvYmxlbURhdGEuYmF0Y2hEZXRhaWwgPSByZXM7XG4gICAgICAgICAgcmV0dXJuIHByb2JsZW1EYXRhO1xuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb246IOWIm+W7uuaWsOmXrumimFxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3BlY2lhbEluc3BlY3RJZCDkuJPpobnlt6Hmo4BpZO+8jHNwZWNpYWxfaW5zcGVjdCDooajkuLvplK7vvIzlv4XloatcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBsYWNlSWQg5rWL5Yy6aWTvvIxzcGVjaWFsX2luc3BlY3RfcGxhY2Ug6KGo5Li76ZSu77yM6YCJ5aGrXG4gICAqIEByZXR1cm46IFByb21pc2UgLT4gT2JqZWN0XG4gICAqL1xuICBjcmVhdGVOZXdEYXRhKHNwZWNpYWxJbnNwZWN0SWQsIHBsYWNlSWQpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKCFzcGVjaWFsSW5zcGVjdElkKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcign5LiT6aG55beh5qOA77yM5Yib5bu66Zeu6aKY77yM57y65bCRIHNwZWNpYWxJbnNwZWN0SWQnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGxhY2VJZCkge1xuICAgICAgICAgIC8vIOaciea1i+WMuu+8jOiOt+WPlua1i+WMuuajgOafpemhueS4iueahOaVsOaNrlxuICAgICAgICAgIHJldHVybiBTcGVjaWFsSW5zcGVjdFJlcG9zaXRvcnkuZ2V0UGxhY2VTcGVjaWFsSW5zcGVjdERhdGEoc3BlY2lhbEluc3BlY3RJZCwgcGxhY2VJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8g5peg5rWL5Yy65pe277yM6I635Y+W5LiT6aG55beh5qOA5qOA5p+l6aG55pWw5o2uXG4gICAgICAgICAgcmV0dXJuIFNwZWNpYWxJbnNwZWN0UmVwb3NpdG9yeS5nZXRTcGVjaWFsSW5zcGVjdENoZWNrSXRlbURldGFpbChzcGVjaWFsSW5zcGVjdElkKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC50aGVuKHNwZWNpYWxJbnNwZWN0RGF0YSA9PiB7XG4gICAgICAgIC8vIOm7mOiupOmDqOS9jVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGxhY2VJZCkge1xuICAgICAgICAgICAgICByZXR1cm4gU3BlY2lhbEluc3BlY3RSZXBvc2l0b3J5LmdldEJhdGNoUGxhY2UocGxhY2VJZCkudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXMuYnVpbGRpbmdfaWQpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nX2lkOiByZXMuYnVpbGRpbmdfaWQsXG4gICAgICAgICAgICAgICAgICAgIHVuaXRfaWQ6IHJlcy51bml0LFxuICAgICAgICAgICAgICAgICAgICBmbG9vcjogcmVzLmZsb29yLFxuICAgICAgICAgICAgICAgICAgICByb29tX2lkOiByZXMucm9vbV9pZCxcbiAgICAgICAgICAgICAgICAgICAgZnVsbF9uYW1lOiByZXMubmFtZSxcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKGRlZmF1bHRQbGFjZSA9PiB7XG4gICAgICAgICAgICBzcGVjaWFsSW5zcGVjdERhdGEuZGVmYXVsdFBsYWNlID1cbiAgICAgICAgICAgICAgZGVmYXVsdFBsYWNlIHx8XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5nZXRPYmplY3QodGhpcy5kZWZhdWx0UGxhY2VLZXksIGxvY2FsU3RvcmFnZS5sZXZlbC51c2VyKSB8fFxuICAgICAgICAgICAgICB7fTtcbiAgICAgICAgICAgIHJldHVybiBzcGVjaWFsSW5zcGVjdERhdGE7XG4gICAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oc3BlY2lhbEluc3BlY3REYXRhID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdGF0dXM6ICcnLFxuICAgICAgICAgIHByb2pfaWQ6IHNwZWNpYWxJbnNwZWN0RGF0YS5wcm9qX2lkLFxuICAgICAgICAgIHBsYWNlOiBzcGVjaWFsSW5zcGVjdERhdGEuZGVmYXVsdFBsYWNlIHx8IHt9LFxuICAgICAgICAgIGJhdGNoX2lkOiBzcGVjaWFsSW5zcGVjdERhdGEuYmF0Y2hfaWQsXG4gICAgICAgICAgYmF0Y2hfdHlwZTogJ+S4k+mhueW3oeajgCcsXG4gICAgICAgICAgY2hlY2tJdGVtOiB7XG4gICAgICAgICAgICBpZDogc3BlY2lhbEluc3BlY3REYXRhLml0ZW1faWQgfHwgc3BlY2lhbEluc3BlY3REYXRhLmNoZWNraXRlbV9pZCxcbiAgICAgICAgICAgIG5hbWU6IHNwZWNpYWxJbnNwZWN0RGF0YS5pdGVtX25hbWUgfHwgc3BlY2lhbEluc3BlY3REYXRhLmNoZWNraXRlbV9uYW1lLFxuICAgICAgICAgICAgZnVsbF9uYW1lOiBzcGVjaWFsSW5zcGVjdERhdGEuZnVsbF9uYW1lIHx8IHNwZWNpYWxJbnNwZWN0RGF0YS5jaGVja2l0ZW1fZnVsbF9uYW1lLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZGVzY3JpcHRpb246IHt9LFxuICAgICAgICAgIGltYWdlX2ZpbGU6IFtdLFxuICAgICAgICAgIHJlbWFyazogJycsXG4gICAgICAgICAgbGV2ZWw6ICfkuIDoiKwnLFxuICAgICAgICAgIGRlYWRsaW5lOiA3LFxuICAgICAgICAgIHJlcGFpcl9zZXQ6IHt9LFxuICAgICAgICAgIGNvbnRyYWN0b3I6IHt9LFxuICAgICAgICAgIGNjX3NldDogW10sXG4gICAgICAgICAgcmVpbnNwZWN0X3NldDogW10sXG4gICAgICAgICAgYmlkc2VjdGlvbl9pZDogJycsXG4gICAgICAgICAgYnVpbGRpbmdfaWQ6XG4gICAgICAgICAgICAoc3BlY2lhbEluc3BlY3REYXRhLmRlZmF1bHRQbGFjZSAmJiBzcGVjaWFsSW5zcGVjdERhdGEuZGVmYXVsdFBsYWNlLmJ1aWxkaW5nX2lkKSB8fCAnJyxcbiAgICAgICAgICB1bml0OiAoc3BlY2lhbEluc3BlY3REYXRhLmRlZmF1bHRQbGFjZSAmJiBzcGVjaWFsSW5zcGVjdERhdGEuZGVmYXVsdFBsYWNlLnVuaXRfaWQpIHx8ICcnLFxuICAgICAgICAgIGZsb29yOiAoc3BlY2lhbEluc3BlY3REYXRhLmRlZmF1bHRQbGFjZSAmJiBzcGVjaWFsSW5zcGVjdERhdGEuZGVmYXVsdFBsYWNlLmZsb29yKSB8fCAnJyxcbiAgICAgICAgICByb29tX2lkOlxuICAgICAgICAgICAgKHNwZWNpYWxJbnNwZWN0RGF0YS5kZWZhdWx0UGxhY2UgJiYgc3BlY2lhbEluc3BlY3REYXRhLmRlZmF1bHRQbGFjZS5yb29tX2lkKSB8fCAnJyxcbiAgICAgICAgICBwbGFjZV9wb2ludDogW10sXG4gICAgICAgICAgZGVkdWN0aW9uOiAxLFxuICAgICAgICAgIHJlZGxpbmVfZGVkdWN0aW9uOiAwLFxuICAgICAgICAgIGJpel9pZDogc3BlY2lhbEluc3BlY3RJZCxcbiAgICAgICAgICBiaXpfY2hpbGRyZW5faWQ6IHNwZWNpYWxJbnNwZWN0RGF0YS5pZCxcbiAgICAgICAgICBjcmVhdGVkX2J5OiBjdXJyZW50VXNlci51c2VyX2lkLFxuICAgICAgICAgIGNoZWNraXRlbV9leHRlbnNpb246IEpTT04ucGFyc2Uoc3BlY2lhbEluc3BlY3REYXRhLmNoZWNraXRlbV9leHRlbnNpb24gfHwgJ3t9JyksXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uOiDojrflj5bmiLflnovlm77vvIzlj6/ojrflj5Yg4oCc5oi34oCdIOWSjCDigJzlsYLigJ3nmoTmiLflnovlm75cbiAgICogQHBhcmFtIHt0eXBlfVxuICAgKiBAcmV0dXJuOlxuICAgKi9cbiAgZ2V0RGlhZ3JhbShwbGFjZURhdGEpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICBpZiAoIXBsYWNlRGF0YSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCB7IGJ1aWxkaW5nX2lkLCB1bml0X2lkLCBmbG9vciwgcm9vbV9pZCB9ID0gcGxhY2VEYXRhO1xuICAgICAgaWYgKHJvb21faWQpIHtcbiAgICAgICAgLy8g5oyJ5oi36I635Y+W5oi35Z6L5Zu+XG4gICAgICAgIHJldHVybiBDb21tb25Sb29tU2VydmljZS5nZXRSb29tVHlwZURpYWdyYW0ocm9vbV9pZCk7XG4gICAgICB9IGVsc2UgaWYgKHVuaXRfaWQgJiYgZmxvb3IpIHtcbiAgICAgICAgLy8g5oyJ5bGC6I635Y+W5oi35Z6L5Zu+77yM5YiG5Y2V5YWDXG4gICAgICAgIHJldHVybiBDb21tb25GbG9vclNlcnZpY2UuZ2V0RGlhZ3JhbShidWlsZGluZ19pZCwgdW5pdF9pZCwgZmxvb3IsIDEpO1xuICAgICAgfSBlbHNlIGlmIChmbG9vcikge1xuICAgICAgICAvLyDmjInlsYLojrflj5bmiLflnovlm77vvIzkuI3liIbljZXlhYNcbiAgICAgICAgcmV0dXJuIENvbW1vbkZsb29yU2VydmljZS5nZXREaWFncmFtKGJ1aWxkaW5nX2lkLCAnJywgZmxvb3IsIDIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb246IOiOt+WPlumXrumimOWIl+ihqFxuICAgKiBAcGFyYW0ge1N0cmluZyB8IEFycmF5fSBiaXpJZHMgc3BlY2lhbF9pbnNwZWN0IOihqOS4u+mUrlxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGxhY2VJZCDmtYvljLppZFxuICAgKiBAcmV0dXJuOlxuICAgKi9cbiAgZ2V0UHJvYmxlbUxpc3QoYml6SWRzID0gW10sIHBsYWNlSWQpIHtcbiAgICBiaXpJZHMgPSBBcnJheS5pc0FycmF5KGJpeklkcykgPyBiaXpJZHMgOiBbYml6SWRzXTtcblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXR1cm4gU3BlY2lhbEluc3BlY3RSZXBvc2l0b3J5LmdldFByb2JsZW1MaXN0KGJpeklkcywgcGxhY2VJZCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4ocHJvYmxlbUxpc3QgPT4ge1xuICAgICAgICAocHJvYmxlbUxpc3QgfHwgW10pLmZvckVhY2gocHJvYmxlbSA9PiB7XG4gICAgICAgICAgcHJvYmxlbS50aHVtYm5haWwgPSBJbWFnZVNlcnZpY2UuZ2V0RGVmYXVsdFRodW1ibmFpbEZyb21MaXN0KFxuICAgICAgICAgICAgcHJvYmxlbS5pbWFnZV9maWxlLFxuICAgICAgICAgICAgJ+S4k+mhueW3oeajgCdcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChwcm9ibGVtLnN0YXR1cyA9PT0gJ+ajgOafpeWujOavlScpIHtcbiAgICAgICAgICAgIHByb2JsZW0uc3RhdHVzID0gJ+W3suaPkOS6pCc7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcHJvYmxlbUxpc3Q7XG4gICAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uOiDojrflj5bmibnmrKHnmoTmiYDmnInpl67pophcbiAgICogQHBhcmFtIHtTdHJpbmd9IGJhdGNoSWRcbiAgICogQHJldHVybjogUHJvbWlzZVxuICAgKi9cbiAgZ2V0QmF0Y2hQcm9ibGVtTGlzdChiYXRjaElkKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiBTcGVjaWFsSW5zcGVjdFJlcG9zaXRvcnkuZ2V0QWxsUHJvYmxlbUluY2xvdWRSb290U3BlY2lhbEluc3BlY3RJZHMoYmF0Y2hJZCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgbGV0IGlkcyA9IChyZXMgfHwgW10pLm1hcChpdGVtID0+IGl0ZW0uaWQpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9ibGVtTGlzdChpZHMpO1xuICAgICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvbjog6I635Y+W5rWL5Yy655qE5omA5pyJ6Zeu6aKYXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwbGFjZUlkXG4gICAqIEByZXR1cm46XG4gICAqL1xuICBnZXRQbGFjZVByb2JsZW1MaXN0KHBsYWNlSWQpIHtcbiAgICByZXR1cm4gU3BlY2lhbEluc3BlY3RSZXBvc2l0b3J5LmdldE1vZGUxMVNwZWNpbEluc3BlY3RCeVBsYWNlSWQocGxhY2VJZCkudGhlbihyZXMgPT4ge1xuICAgICAgbGV0IGlkcyA9IChyZXMgfHwgW10pLm1hcChpdGVtID0+IGl0ZW0uc3BlY2lhbF9pbnNwZWN0X2lkKTtcbiAgICAgIHJldHVybiB0aGlzLmdldFByb2JsZW1MaXN0KGlkcywgcGxhY2VJZCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvbjog5Yig6Zmk5om55qyh55qE5omA5pyJ6I2J56i/6Zeu6aKYXG4gICAqIEBwYXJhbSB7dHlwZX1cbiAgICogQHJldHVybjpcbiAgICovXG4gIGRlbGV0ZUJhdGNoRHJhZnRQcm9ibGVtKGJhdGNoSWQpIHtcbiAgICByZXR1cm4gUmVwb3NpdG9yeS5kZWxldGVCYXRjaERyYWZ0UHJvYmxlbShiYXRjaElkKTtcbiAgfSxcbn07XG4iLCI8dGVtcGxhdGU+XG4gIDxkaXYgOmNsYXNzPVwieyAnbGlzdC1lbXB0eSc6IGlzTG9hZGluZyB8fCAhbGlzdERhdGEgfHwgIWxpc3REYXRhLmxlbmd0aCB9XCI+XG4gICAgPHRlbXBsYXRlIHYtaWY9XCIhaXNMb2FkaW5nICYmIGxpc3REYXRhLmxlbmd0aFwiPlxuICAgICAgPGl0ZW1cbiAgICAgICAgdi1mb3I9XCJwbGFjZSBpbiBsaXN0RGF0YVwiXG4gICAgICAgIDprZXk9XCJwbGFjZS5pZFwiXG4gICAgICAgIGljb24tbGVmdD1cInBhcnQtdGl0bGVcIlxuICAgICAgICBpY29uLXJpZ2h0PVwiYXJyb3ctcmlnaHRcIlxuICAgICAgICBjbGFzcz1cImJvcmRlci1ib3R0b21cIlxuICAgICAgICBAY2xpY2s9XCJnb3RvUGxhY2VDaGVja2l0ZW0ocGxhY2UpXCJcbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzcz1cIml0ZW0tdGV4dFwiPnt7IHBsYWNlLm5hbWUgfX08L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIml0ZW0tZm9udCBjb2xvci1ncmF5XCI+XG4gICAgICAgICAge3sgcGxhY2UuZG9uZSA/IGAke3BsYWNlLnVucXVhbGlmaWVkfemhueS4jeWQiOagvGAgOiAn5pyq5qOA5p+lJyB9fVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvaXRlbT5cblxuICAgICAgPGFwcC1idXR0b24tZ3JvdXAgdi1pZj1cImVkaXRhYmxlXCI+XG4gICAgICAgIDxhcHAtYnV0dG9uIHR5cGU9XCJ0ZXh0XCIgQGNsaWNrPVwiYWRkUGxhY2VcIj5cbiAgICAgICAgICDmt7vliqDmtYvljLpcbiAgICAgICAgPC9hcHAtYnV0dG9uPlxuICAgICAgPC9hcHAtYnV0dG9uLWdyb3VwPlxuXG4gICAgICA8ZGl2IGNsYXNzPVwicDE1IGNvbG9yLWdyYXkzIGFsaWduLWNcIiB2LWlmPVwiYmF0Y2hEYXRhLnN0YXR1cyA9PT0gJ+ajgOafpeWujOavlSdcIj5cbiAgICAgICAge3sgYmF0Y2hEYXRhLm1vZGlmaWVkX29uIHwgZm9ybWF0RGF0ZSB9fSZuYnNwO3t7XG4gICAgICAgICAgYmF0Y2hEYXRhLmNyZWF0ZWRfYnlfbmFtZVxuICAgICAgICB9fSZuYnNwO+aPkOS6pOajgOafpeWujOavlVxuICAgICAgPC9kaXY+XG4gICAgICA8YXBwLWJ1dHRvbi1ncm91cCBjbGFzcz1cIm10MjBcIiB2LWlmPVwiaXNCYXRjaENyZWF0b3IgJiYgYmF0Y2hEYXRhLnN0YXR1cyAhPT0gJ+ajgOafpeWujOavlSdcIj5cbiAgICAgICAgPGFwcC1idXR0b24gQGNsaWNrPVwic3VibWl0QmF0Y2hcIj5cbiAgICAgICAgICDmo4Dmn6Xlrozmr5Xlubbmj5DkuqRcbiAgICAgICAgPC9hcHAtYnV0dG9uPlxuICAgICAgPC9hcHAtYnV0dG9uLWdyb3VwPlxuICAgIDwvdGVtcGxhdGU+XG5cbiAgICA8bG9hZGluZy1zdGF0dXMgOmlzLWxvYWRpbmc9XCJpc0xvYWRpbmdcIiA6aXMtZW1wdHk9XCIhbGlzdERhdGEubGVuZ3RoXCI+XG4gICAgICA8ZGl2IHNsb3Q9XCJlbXB0eS10ZXh0XCI+XG4gICAgICAgIOaaguaXoOa1i+WMujx0ZW1wbGF0ZSB2LWlmPVwiZWRpdGFibGVcIlxuICAgICAgICAgID7vvIw8YXBwLWJ1dHRvbiB0eXBlPVwidGV4dFwiIEBjbGljaz1cImFkZFBsYWNlXCI+XG4gICAgICAgICAgICDor7fmt7vliqBcbiAgICAgICAgICA8L2FwcC1idXR0b24+XG4gICAgICAgIDwvdGVtcGxhdGU+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xvYWRpbmctc3RhdHVzPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5pbXBvcnQgSXRlbSBmcm9tICdAc3JjL2NvbXBvbmVudHMvaXRlbS8nO1xuaW1wb3J0IFN0YXR1c1RleHQgZnJvbSAnQHNyYy93aWRnZXQvc3RhdHVzLXRleHQvJztcblxuaW1wb3J0IFBsYWNlU2VsZWN0RGlhbG9nIGZyb20gJ0BzcmMvd2lkZ2V0L3BsYWNlLXNlbGVjdC9kaWFsb2cuanMnO1xuaW1wb3J0IFNwZWNpYWxJbnNwZWN0U2VydmljZSBmcm9tICdAc3JjL3NlcnZpY2Uvc3BlY2lhbC1pbnNwZWN0L3NwZWNpYWwtaW5zcGVjdC1zZXJ2aWNlJztcbmltcG9ydCBQcm9qZWN0U2VydmljZSBmcm9tICdAc3JjL3NlcnZpY2UvY29tbW9uL3Byb2plY3Qtc2VydmljZSc7XG5pbXBvcnQgQmF0Y2hTZXJ2aWNlIGZyb20gJ0BzcmMvc2VydmljZS9jb21tb24vYmF0Y2gtc2VydmljZSc7XG5pbXBvcnQgRGF0YVN5bmNocm9uaXplciBmcm9tICdAc3JjL3NlcnZpY2UvY29tbW9uL2RhdGEtc3luY2hyb25pemVyJztcbmltcG9ydCBQb3B1cCBmcm9tICdAc3JjL3V0aWxzL3BvcHVwJztcbmltcG9ydCBjb250ZXh0IGZyb20gJ0BzcmMvZnJhbWV3b3JrL2NvbnRleHQnO1xuaW1wb3J0IFByb2JsZW1TZXJ2aWNlIGZyb20gJy4uL3Byb2JsZW0vc2VydmljZS5qcyc7XG5cbmNvbnN0IGN1cnJlbnRVc2VyID0gY29udGV4dC5nZXRVc2VyKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ0luZGV4TGlzdCcsXG4gIGNvbXBvbmVudHM6IHtcbiAgICBJdGVtLFxuICAgIFN0YXR1c1RleHQsXG4gIH0sXG5cbiAgcHJvcHM6IHtcbiAgICBiYXRjaElkOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgfSxcbiAgfSxcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGJhdGNoRGF0YToge30sXG4gICAgICBsaXN0RGF0YTogW10sXG4gICAgICBwbGFjZVRvdGFsOiBbXSxcblxuICAgICAgaXNCYXRjaENyZWF0b3I6IGZhbHNlLFxuICAgICAgaXNCYXRjaENoZWNrZXI6IGZhbHNlLFxuICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgIH07XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgYmF0Y2hJZDoge1xuICAgICAgaGFuZGxlcih2KSB7XG4gICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5iYXRjaERhdGEgPSB7fTtcbiAgICAgICAgICB0aGlzLmxpc3REYXRhID0gW107XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbW1lZGlhdGU6IHRydWUsXG4gICAgfSxcbiAgfSxcbiAgY3JlYXRlZCgpIHtcbiAgICB0aGlzLiRvbigncmVsb2FkJywgdGhpcy5pbml0KTtcbiAgfSxcbiAgYWN0aXZhdGVkKCkge1xuICAgIHRoaXMuaW5pdCgpO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgaW5pdCgpIHtcbiAgICAgIC8vIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgIC8vIHRoaXMubGlzdERhdGEgPSBbXTtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRCYXRjaERhdGEoKSwgdGhpcy5nZXRMaXN0RGF0YSgpXSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy4kZW1pdCgnbG9hZGVkJywgdGhpcy5saXN0RGF0YSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgJGxvZy5lcnJvcihlcnJvcik7XG5cbiAgICAgICAgICB0aGlzLmJhdGNoRGF0YSA9IHt9O1xuICAgICAgICAgIHRoaXMubGlzdERhdGEgPSBbXTtcbiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGdldEJhdGNoRGF0YSgpIHtcbiAgICAgIGlmICghdGhpcy5iYXRjaElkKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgn57y65bCR5om55qyhaWQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBTcGVjaWFsSW5zcGVjdFNlcnZpY2UuZ2V0U3BlY2lhbEluc3BlY3RCYXRjaEJ5SWQodGhpcy5iYXRjaElkKVxuICAgICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICAgIHRoaXMuYmF0Y2hEYXRhID0gcmVzO1xuICAgICAgICAgIHRoaXMuaXNCYXRjaENyZWF0b3IgPSByZXMuY3JlYXRlZF9ieSA9PT0gY3VycmVudFVzZXIudXNlcl9pZDtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGxldCB0YXJnZXRCYXRjaElkID1cbiAgICAgICAgICAgICAgdGhpcy5iYXRjaERhdGEucm9vdF9pZCB8fCB0aGlzLmJhdGNoRGF0YS5wYXJlbnRfaWQgfHwgdGhpcy5iYXRjaERhdGEuaWQ7XG5cbiAgICAgICAgICAgIHJldHVybiBCYXRjaFNlcnZpY2UuZ2V0QmF0Y2hVc2Vycyh0YXJnZXRCYXRjaElkKS50aGVuKGJhdGNoVXNlcnMgPT4ge1xuICAgICAgICAgICAgICBsZXQgY3VycmVudFVzZXJJZCA9IGNvbnRleHQuZ2V0VXNlcigpLnVzZXJfaWQ7XG4gICAgICAgICAgICAgIHRoaXMuaXNCYXRjaENoZWNrZXIgPSBfLnNvbWUoYmF0Y2hVc2VycywgeyB1c2VyX2lkOiBjdXJyZW50VXNlcklkIH0pO1xuICAgICAgICAgICAgICB0aGlzLmVkaXRhYmxlID0gdGhpcy5iYXRjaERhdGEuc3RhdHVzICE9PSAn5qOA5p+l5a6M5q+VJyAmJiB0aGlzLmlzQmF0Y2hDaGVja2VyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0TGlzdERhdGEoKSB7XG4gICAgICAvLyDojrflj5bmtYvljLrnmoTliJfooahcbiAgICAgIGlmICghdGhpcy5iYXRjaElkKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgn57y65bCR5om55qyhaWQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBTcGVjaWFsSW5zcGVjdFNlcnZpY2UuZ2V0QmF0Y2hQbGFjZXModGhpcy5iYXRjaElkKS50aGVuKGxpc3REYXRhID0+IHtcbiAgICAgICAgcmV0dXJuIFNwZWNpYWxJbnNwZWN0U2VydmljZS5nZXRNb2RlMTFQbGFjZXNFbmRJdGVtVG90YWwodGhpcy5iYXRjaElkKVxuICAgICAgICAgIC50aGVuKHBsYWNlVG90YWwgPT4ge1xuICAgICAgICAgICAgLy8g5rWL5Yy655qE57uf6K6hXG4gICAgICAgICAgICB0aGlzLnBsYWNlVG90YWwgPSBwbGFjZVRvdGFsO1xuXG4gICAgICAgICAgICBsZXQgc2V0ID0ge307XG4gICAgICAgICAgICAocGxhY2VUb3RhbCB8fCBbXSkuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgICAgc2V0W2l0ZW0uaWRdID0gaXRlbTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyDmtYvljLrnmoTmo4Dmn6Xov5vluqZcbiAgICAgICAgICAgIChsaXN0RGF0YSB8fCBbXSkuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgICAgbGV0IHRvdGFsID0gc2V0W2l0ZW0uaWRdO1xuICAgICAgICAgICAgICBpdGVtLmRvbmUgPSB0b3RhbCAmJiB0b3RhbC5kb25lID8gdG90YWwuZG9uZSA6IDA7XG4gICAgICAgICAgICAgIGl0ZW0udW5xdWFsaWZpZWQgPSB0b3RhbCAmJiB0b3RhbC51bnF1YWxpZmllZCA/IHRvdGFsLnVucXVhbGlmaWVkIDogMDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5saXN0RGF0YSA9IGxpc3REYXRhO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgIFBvcHVwLmFsZXJ0KGVycm9yKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBhZGRQbGFjZSgpIHtcbiAgICAgIHJldHVybiBTcGVjaWFsSW5zcGVjdFNlcnZpY2UuaGFzQmF0Y2hDaGVja2l0ZW0odGhpcy5iYXRjaElkKS50aGVuKGhhc0NoZWNraXRlbSA9PiB7XG4gICAgICAgIGlmIChoYXNDaGVja2l0ZW0pIHtcbiAgICAgICAgICBQbGFjZVNlbGVjdERpYWxvZy5vcGVuKHtcbiAgICAgICAgICAgIHRpdGxlOiAn6YCJ5oup5rWL5Yy6JyxcbiAgICAgICAgICAgIHByb2plY3RJZDogdGhpcy5iYXRjaERhdGEucHJval9pZCxcbiAgICAgICAgICAgIGNhbGxiYWNrOiByZXMgPT4ge1xuICAgICAgICAgICAgICBQbGFjZVNlbGVjdERpYWxvZy5jbG9zZSgpO1xuXG4gICAgICAgICAgICAgIHJldHVybiBTcGVjaWFsSW5zcGVjdFNlcnZpY2UuYWRkQmF0Y2hQbGFjZShyZXMsIHRoaXMuYmF0Y2hJZCwgdGhpcy5iYXRjaERhdGEucHJval9pZClcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRMaXN0RGF0YSgpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICRsb2cuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgUG9wdXAuYWxlcnQoJ+a3u+WKoOa1i+WMuuWksei0pScpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBQb3B1cC5hbGVydCgn5rKh5pyJ5om55qyh5qOA5p+l6aG577yM6K+35YWI5LiL5ouJ5ZCM5q2l5pWw5o2uJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0UGxhY2VPcHRpb25zKCkge1xuICAgICAgcmV0dXJuIFByb2plY3RTZXJ2aWNlLmdldFBsYWNlTGlzdCh0aGlzLmJhdGNoRGF0YS5wcm9qX2lkKTtcbiAgICB9LFxuXG4gICAgLy8g5YmN5b6A5rWL5Yy65qOA5p+l6aG56aG16Z2iXG4gICAgZ290b1BsYWNlQ2hlY2tpdGVtKHBsYWNlKSB7XG4gICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7XG4gICAgICAgIG5hbWU6ICdTcGVjaWFsSW5zcGVjdENoZWNraXRlbUxpc3QnLFxuICAgICAgICBxdWVyeToge1xuICAgICAgICAgIGJhdGNoSWQ6IHRoaXMuYmF0Y2hJZCxcbiAgICAgICAgICBwbGFjZUlkOiBwbGFjZS5pZCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyDmj5DkuqTmibnmrKFcbiAgICBzdWJtaXRCYXRjaCgpIHtcbiAgICAgIGxldCBiYXRjaERhdGEgPSB7IC4uLnRoaXMuYmF0Y2hEYXRhIH07XG4gICAgICBkZWxldGUgYmF0Y2hEYXRhLmNvbnRyYWN0cztcblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAvLyDmnKrmtYvnmoTmtYvljLpcbiAgICAgICAgICBsZXQgbm90RG9uZVBsYWNlcyA9IHRoaXMucGxhY2VUb3RhbC5maWx0ZXIoaXRlbSA9PiBpdGVtLmRvbmUgPT09IDApO1xuICAgICAgICAgIC8vIOacieiNieeov+eahOa1i+WMulxuICAgICAgICAgIGxldCBoYXNEcmFmdFBsYWNlcyA9IHRoaXMucGxhY2VUb3RhbC5maWx0ZXIoaXRlbSA9PiBpdGVtLmRyYWZ0ICE9PSAwKTtcblxuICAgICAgICAgIGlmIChub3REb25lUGxhY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IHBsYWNlTmFtZVNldCA9IG5vdERvbmVQbGFjZXMubWFwKHBsYWNlID0+IHBsYWNlLm5hbWUpLmpvaW4oJ+OAgScpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGAke3BsYWNlTmFtZVNldH3mnKrmo4Dmn6XvvIzor7flhYjlpITnkIblho3mj5DkuqRgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGhhc0RyYWZ0UGxhY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IHBsYWNlTmFtZVNldCA9IGhhc0RyYWZ0UGxhY2VzLm1hcChwbGFjZSA9PiBwbGFjZS5uYW1lKS5qb2luKCfjgIEnKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgJHtwbGFjZU5hbWVTZXR95pyJ6I2J56i/5pWw5o2u77yM6K+35YWI5aSE55CG5YaN5o+Q5LqkYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIFNwZWNpYWxJbnNwZWN0U2VydmljZS5nZXRNb2RlMTFXYWl0VXBsb2FkUGxhY2VDaGVja2l0ZW0oYmF0Y2hEYXRhLmlkKS50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAvLyDojrflj5bmnKrkuIrkvKDnmoTmo4Dmn6XpoblcbiAgICAgICAgICAgIGlmIChyZXMgJiYgcmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ+i/mOaciemXrumimOato+WcqOS4iuS8oO+8jOivt+etieW+hemXrumimOS4iuS8oOWujOavlScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIFBvcHVwLmNvbmZpcm0oJ+ivt+ehruS/neaJgOacieajgOafpeS6uuW3suS4iuS8oOaVsOaNru+8jOaPkOS6pOWQjuS4jeWPr+S/ruaUue+8jOehruiupOaPkOS6pO+8nycpLnRoZW4oXG4gICAgICAgICAgICBpc09rID0+IHtcbiAgICAgICAgICAgICAgaWYgKGlzT2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU3BlY2lhbEluc3BlY3RTZXJ2aWNlLmZpbmlzaENoZWNrQmF0Y2goYmF0Y2hEYXRhKVxuICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBEYXRhU3luY2hyb25pemVyLnNldExvY2FsQ2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbml0KCk7XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyDliKDpmaTojYnnqL9cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb2JsZW1TZXJ2aWNlLmRlbGV0ZUJhdGNoRHJhZnRQcm9ibGVtKHRoaXMuYmF0Y2hJZCk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgJGxvZy5lcnJvcihlcnJvcik7XG4gICAgICAgICAgaWYgKGVycm9yICYmIGVycm9yLmVycmNvZGUgPT09IDUwMDEwMikge1xuICAgICAgICAgICAgUG9wdXAuYWxlcnQoJ+ajgOa1i+WIsOajgOafpee7k+aenOacieWGsueqge+8jOivt+S4i+aLieWIt+aWsOWQjuWGjeivlScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBQb3B1cC5hbGVydChlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICB9LFxufTtcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XG4ubGlzdC1lbXB0eSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGZsZXg6IDE7XG59XG4uYXBwLWJ0bi10ZXh0IHtcbiAgZm9udC1zaXplOiAxNnB4O1xufVxuPC9zdHlsZT5cbiIsIi8qXG4gKiBAQXV0aG9yOiBqaWFuZ2wwMlxuICogQERhdGU6IDIwMjAtMDYtMTYgMDE6MzU6MzFcbiAqIEBMYXN0RWRpdG9yczogamlhbmdsMDJcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjAtMDYtMTYgMDE6Mzc6MTJcbiAqIEBEZXNjcmlwdGlvbjog6Zeu6aKY5LuT5YKo5paH5Lu2XG4gKi9cbmltcG9ydCBsb2NhbERCIGZyb20gJ0BzcmMvZnJhbWV3b3JrL2xvY2FsREInO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb246IOWIoOmZpOaJueasoeeahOaJgOacieiNieeov++8jOaPkOS6pOaJueasoeaXtlxuICAgKiBAcGFyYW0ge1N0cmluZ30gYmF0Y2hJZFxuICAgKiBAcmV0dXJuOiBQcm9taXNlXG4gICAqL1xuICBkZWxldGVCYXRjaERyYWZ0UHJvYmxlbShiYXRjaElkKSB7XG4gICAgbGV0IHNxbCA9IGBkZWxldGUgZnJvbSBjaGVja3F1YWxpdHlfcHJvYmxlbSB3aGVyZSBiYXRjaF9pZCA9ID8gYW5kIHN0YXR1cyA9ICfojYnnqL8nYDtcbiAgICByZXR1cm4gbG9jYWxEQi5leGVjdXRlU3FsKHNxbCwgW2JhdGNoSWRdKTtcbiAgfSxcbn07XG4iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDEuMC4xQGNzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjkuNUB2dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Nhc3MtbG9hZGVyQDcuMS4wQHNhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tOC1vbmVPZi0xLTQhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9kaWFsb2cudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9MGYzYzAzNTQmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1zdHlsZS1sb2FkZXJANC4xLjJAdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCIzY2NjMzM1OFwiLCBjb250ZW50LCB0cnVlLCB7XCJzb3VyY2VNYXBcIjpmYWxzZSxcInNoYWRvd01vZGVcIjpmYWxzZX0pOyIsImV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLXN0eWxlLWxvYWRlckA0LjEuMkB2dWUtc3R5bGUtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTgtb25lT2YtMS0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY3NzLWxvYWRlckAxLjAuMUBjc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTgtb25lT2YtMS0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS45LjVAdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19zYXNzLWxvYWRlckA3LjEuMEBzYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTgtb25lT2YtMS00IS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZGlhbG9nLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTBmM2MwMzU0Jmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIiIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuIF9jKCdzcGFuJyx7Y2xhc3M6X3ZtLmNsYXNzU2V0W192bS5zdGF0dXNdfSxbX3ZtLl92KF92bS5fcyhfdm0udGV4dCB8fCBfdm0uc3RhdHVzKSldKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NhY2hlLWxvYWRlckAyLjAuMUBjYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3RocmVhZC1sb2FkZXJAMi4xLjNAdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2JhYmVsLWxvYWRlckA4LjIuMUBiYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdGhyZWFkLWxvYWRlckAyLjEuM0B0aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fYmFiZWwtbG9hZGVyQDguMi4xQGJhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1hMzZiMjUzNCZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9pbmRleC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsIi8qXG4gKiBAQXV0aG9yOiBqaWFuZ2wwMlxuICogQERhdGU6IDIwMjAtMDctMDMgMTA6MzQ6MTdcbiAqIEBMYXN0RWRpdG9yczogamlhbmdsMDJcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjAtMDctMDYgMDk6NDk6MzlcbiAqIEBEZXNjcmlwdGlvbjog6YCJ5oup6YOo5L2N57uE5Lu277yM5LuT5YKo5paH5Lu2XG4gKi9cblxuaW1wb3J0IGxvY2FsREIgZnJvbSAnQHNyYy9mcmFtZXdvcmsvbG9jYWxEQic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvbjog6I635Y+W6aG555uu55qE5omA5pyJ5qCH5q61XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9qSWQg6aG555uuSURcbiAgICogQHJldHVybjogUHJvbWlzZSAtPiBBcnJheVxuICAgKi9cbiAgZ2V0U2VjdGlvbnMocHJvaklkKSB7XG4gICAgbGV0IHNxbCA9IGBzZWxlY3QgKiBmcm9tIHNlY3Rpb24gXG4gICAgICB3aGVyZSBwcm9qX2lkID0gJyR7cHJvaklkfScgXG4gICAgICBvcmRlciBieSBuYW1lYDtcblxuICAgIHJldHVybiBsb2NhbERCLnF1ZXJ5KHNxbCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvbjog6I635Y+W6aG555uu55qE5omA5pyJ5qW85qCLXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9qSWRcbiAgICogQHJldHVybjogUHJvbWlzZSAtPiBBcnJheVxuICAgKi9cbiAgZ2V0QnVpbGRpbmdzQnlQcm9qZWN0KHByb2pJZCkge1xuICAgIC8vIGxldCBzcWwgPSBgc2VsZWN0ICogZnJvbSBidWlsZGluZyB3aGVyZSBwcm9qX2lkID0gPyBvcmRlciBieSBzb3J0LCBjb2RlYDtcbiAgICBsZXQgc3FsID0gYHNlbGVjdCBiLiosIHNiLnNlY3Rpb25faWQgZnJvbSBidWlsZGluZyBiXG4gICAgICBqb2luIHNlY3Rpb25fYnVpbGRpbmcgc2Igb24gYi5pZCA9IHNiLmJ1aWxkaW5nX2lkXG4gICAgICB3aGVyZSBiLnByb2pfaWQgPSAnJHtwcm9qSWR9JyBcbiAgICAgIG9yZGVyIGJ5IGIuc29ydCwgYi5jb2RlYDtcblxuICAgIHJldHVybiBsb2NhbERCLnF1ZXJ5KHNxbCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvbjog6I635Y+W5qCH5q6155qE5omA5pyJ5qW85qCLXG4gICAqIEBwYXJhbSB7dHlwZX0gc2VjSWRcbiAgICogQHJldHVybjogUHJvbWlzZSAtPiBBcnJheVxuICAgKi9cbiAgZ2V0QnVpbGRpbmdzQnlTZWN0aW9uKHNlY0lkKSB7XG4gICAgbGV0IHNxbCA9IGBzZWxlY3QgYi4qIGZyb20gc2VjdGlvbl9idWlsZGluZyBzYiBcbiAgICAgIGxlZnQgam9pbiBidWlsZGluZyBiIG9uIHNiLmJ1aWxkaW5nX2lkID0gYi5pZCBcbiAgICAgIHdoZXJlIHNiLnNlY3Rpb25faWQgPSAnJHtzZWNJZH0nIFxuICAgICAgb3JkZXIgYnkgYi5zb3J0LCBiLmNvZGVgO1xuXG4gICAgcmV0dXJuIGxvY2FsREIucXVlcnkoc3FsKTtcbiAgfSxcblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uOiDojrflj5bmpbzmoIvnmoTmiYDmnInljZXlhYNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGJ1aWxkaW5nSWRcbiAgICogQHJldHVybjogUHJvbWlzZSAtPiBBcnJheVxuICAgKi9cbiAgZ2V0VW5pdHMoYnVpbGRpbmdJZCkge1xuICAgIGxldCBzcWwgPSBgc2VsZWN0ICogZnJvbSBidWlsZF91bml0IFxuICAgICAgd2hlcmUgYnVpbGRpbmdfaWQgPSAnJHtidWlsZGluZ0lkfSdcbiAgICAgIG9yZGVyIGJ5IHNvcnRgO1xuXG4gICAgcmV0dXJuIGxvY2FsREIucXVlcnkoc3FsKTtcbiAgfSxcblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uOiDojrflj5bmpbzmoIvnmoTmiYDmnInmpbzlsYJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGJ1aWxkaW5nSWRcbiAgICogQHJldHVybjogUHJvbWlzZSAtPiBBcnJheVxuICAgKi9cbiAgZ2V0Rmxvb3JzKGJ1aWxkaW5nSWQpIHtcbiAgICBsZXQgc3FsID0gYHNlbGVjdCAqIGZyb20gYnVpbGRpbmdfZmxvb3IgXG4gICAgICB3aGVyZSBidWlsZGluZ19pZCA9ICcke2J1aWxkaW5nSWR9JyBcbiAgICAgIG9yZGVyIGJ5IHNvcnRgO1xuXG4gICAgcmV0dXJuIGxvY2FsREIucXVlcnkoc3FsKTtcbiAgfSxcblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uOiDojrflj5bmpbzmoIvljZXlhYPmpbzlsYLnmoTmiYDmnInmiL/pl7RcbiAgICogQHBhcmFtIHtTdHJpbmd9IGJ1aWxkaW5nSWRcbiAgICogQHBhcmFtIHtTdHJpbmd9IHVuaXRcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZsb29yXG4gICAqIEByZXR1cm46IFByb21pc2UgLT4gQXJyYXlcbiAgICovXG4gIGdldFJvb21zKGJ1aWxkaW5nSWQsIHVuaXQsIGZsb29yKSB7XG4gICAgbGV0IHVuaXRGaWx0ZXIgPSB1bml0ID8gYCBhbmQgdW5pdCA9ICcke3VuaXR9JyBgIDogJyc7XG4gICAgbGV0IHNxbCA9IGBzZWxlY3QgKiBmcm9tIHJvb20gd2hlcmUgXG4gICAgICBidWlsZGluZ19pZCA9ICcke2J1aWxkaW5nSWR9JyBhbmQgZmxvb3IgPSAnJHtmbG9vcn0nICR7dW5pdEZpbHRlcn0gXG4gICAgICBvcmRlciBieSBzb3J0YDtcblxuICAgIHJldHVybiBsb2NhbERCLnF1ZXJ5KHNxbCk7XG4gIH0sXG59O1xuIiwiaW1wb3J0IFJlcG9zaXRvcnkgZnJvbSAnLi9yZXBvc2l0b3J5JztcbmltcG9ydCB7IGFkZFN1ZmZpeCB9IGZyb20gJ0BzcmMvY29tbW9uL2RhdGEtaGFuZGxlJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICogQGRlc2NyaXB0aW9uOiDojrflj5bpobnnm67nmoTmiYDmnInmoIfmrrVcbiAgICogQHBhcmFtIHtTdHJpbmd9IHByb2pJZFxuICAgKiBAcmV0dXJuOlxuICAgKi9cbiAgZ2V0U2VjdGlvbnMocHJvaklkKSB7XG4gICAgcmV0dXJuIFJlcG9zaXRvcnkuZ2V0U2VjdGlvbnMocHJvaklkKTtcbiAgfSxcblxuICBnZXRCdWlsZGluZ3NCeVByb2plY3QocHJvaklkKSB7XG4gICAgcmV0dXJuIFJlcG9zaXRvcnkuZ2V0QnVpbGRpbmdzQnlQcm9qZWN0KHByb2pJZCk7XG4gIH0sXG4gIGdldEJ1aWxkaW5nc0J5U2VjdGlvbihzZWNJZCkge1xuICAgIHJldHVybiBSZXBvc2l0b3J5LmdldEJ1aWxkaW5nc0J5U2VjdGlvbihzZWNJZCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvbjog6I635Y+W5qW85qCL55qE5omA5pyJ5Y2V5YWD77yM5bm25re75Yqg4oCc5Y2V5YWD4oCd5ZCO57yAXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBidWlsZGluZ0lkXG4gICAqIEByZXR1cm46XG4gICAqL1xuICBnZXRVbml0cyhidWlsZGluZ0lkKSB7XG4gICAgcmV0dXJuIFJlcG9zaXRvcnkuZ2V0VW5pdHMoYnVpbGRpbmdJZCkudGhlbihyZXMgPT4ge1xuICAgICAgLy8g6L+H5ruk56m65Y2V5YWDXG4gICAgICByZXMgPSByZXMuZmlsdGVyKGl0ZW0gPT4gISFpdGVtLm5hbWUpO1xuICAgICAgcmV0dXJuIChyZXMgfHwgW10pLm1hcChpdGVtID0+ICh7XG4gICAgICAgIC4uLml0ZW0sXG4gICAgICAgIGlkOiBpdGVtLm5hbWUsXG4gICAgICAgIG5hbWU6IGFkZFN1ZmZpeChpdGVtLm5hbWUsICfljZXlhYMnKSxcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfSxcblxuICBnZXRGbG9vcnMoYnVpbGRpbmdJZCkge1xuICAgIHJldHVybiBSZXBvc2l0b3J5LmdldEZsb29ycyhidWlsZGluZ0lkKS50aGVuKHJlcyA9PiB7XG4gICAgICByZXR1cm4gKHJlcyB8fCBbXSkubWFwKGl0ZW0gPT4gKHtcbiAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgaWQ6IGl0ZW0uZmxvb3IsXG4gICAgICAgIG5hbWU6IGFkZFN1ZmZpeChpdGVtLmZsb29yLCAn5bGCJyksXG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgZ2V0Um9vbXMoYnVpbGRpbmdJZCwgdW5pdCwgZmxvb3IpIHtcbiAgICByZXR1cm4gUmVwb3NpdG9yeS5nZXRSb29tcyhidWlsZGluZ0lkLCB1bml0LCBmbG9vcikudGhlbihyZXMgPT4ge1xuICAgICAgcmV0dXJuIChyZXMgfHwgW10pLm1hcChpdGVtID0+ICh7XG4gICAgICAgIC4uLml0ZW0sXG4gICAgICAgIG5hbWU6IGl0ZW0ucm9vbV9ubyxcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfSxcbn07XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDEuMC4xQGNzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi56amFwcCAubGlzdC1lbXB0eVtkYXRhLXYtMDUyNTk3ZDZde2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleDoxfS56amFwcCAuYXBwLWJ0bi10ZXh0W2RhdGEtdi0wNTI1OTdkNl17Zm9udC1zaXplOjE2cHh9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY3NzLWxvYWRlckAxLjAuMUBjc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTgtb25lT2YtMS0xIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS45LjVAdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19zYXNzLWxvYWRlckA3LjEuMEBzYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTgtb25lT2YtMS00IS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgtbGlzdC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0wNTI1OTdkNiZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLXN0eWxlLWxvYWRlckA0LjEuMkB2dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjU2MzMyNTFiXCIsIGNvbnRlbnQsIHRydWUsIHtcInNvdXJjZU1hcFwiOmZhbHNlLFwic2hhZG93TW9kZVwiOmZhbHNlfSk7IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY3NzLWxvYWRlckAxLjAuMUBjc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJbZGF0YS12LTBmM2MwMzU0XSAubGF5b3V0LWNvbnRlbnR7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtvdmVyZmxvdzpoaWRkZW47YmFja2dyb3VuZDojZmZmfS56amFwcCAucGFnZS1zY3JvbGxbZGF0YS12LTBmM2MwMzU0XXtmbGV4OjE7b3ZlcmZsb3c6YXV0bztwYWRkaW5nLWJvdHRvbToxMDBweH0uemphcHAgLmJyZWFkLWNydW1iW2RhdGEtdi0wZjNjMDM1NF17cGFkZGluZzo4cHggMTVweDtmb250LXNpemU6MTZweDtsaW5lLWhlaWdodDozMHB4O2NvbG9yOiM5OTl9LnpqYXBwIC5icmVhZC1jcnVtYiAubGV2ZWwtaXRlbSBpW2RhdGEtdi0wZjNjMDM1NF17Zm9udC1zaXplOjEycHg7bWFyZ2luOjAgMTBweH0uemphcHAgLmJyZWFkLWNydW1iIC5sZXZlbC1pdGVtOmxhc3QtY2hpbGQ+aVtkYXRhLXYtMGYzYzAzNTRde2Rpc3BsYXk6bm9uZX0uemphcHAgLmJyZWFkLWNydW1iIC5hY3RpdmVbZGF0YS12LTBmM2MwMzU0XXtjb2xvcjojNDI3NWU4fS56amFwcCAuZW1wdHktbXNnW2RhdGEtdi0wZjNjMDM1NF17ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2NvbG9yOiNjOGM4Yzg7bWFyZ2luLXRvcDozMHB4fS56amFwcCAuZW1wdHktbXNnIC5saW5lW2RhdGEtdi0wZjNjMDM1NF17d2lkdGg6NDhweDttYXJnaW46MCA4cHg7Ym9yZGVyLXRvcDoxcHggc29saWQgI2U0ZTRlNH1bZGF0YS12LTBmM2MwMzU0XSAuaWNvbi1xdWFsaWZpZWR7Y29sb3I6IzQyNzVlOH0uemphcHAgLnBsYWNlLWl0ZW1bZGF0YS12LTBmM2MwMzU0XXthbGlnbi1pdGVtczpjZW50ZXJ9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ2Rpdicse2NsYXNzOnsgJ2xpc3QtZW1wdHknOiBfdm0uaXNMb2FkaW5nIHx8ICFfdm0ubGlzdERhdGEgfHwgIV92bS5saXN0RGF0YS5sZW5ndGggfX0sWyghX3ZtLmlzTG9hZGluZyAmJiBfdm0ubGlzdERhdGEubGVuZ3RoKT9bX3ZtLl9sKChfdm0ubGlzdERhdGEpLGZ1bmN0aW9uKHBsYWNlKXtyZXR1cm4gX2MoJ2l0ZW0nLHtrZXk6cGxhY2UuaWQsc3RhdGljQ2xhc3M6XCJib3JkZXItYm90dG9tXCIsYXR0cnM6e1wiaWNvbi1sZWZ0XCI6XCJwYXJ0LXRpdGxlXCIsXCJpY29uLXJpZ2h0XCI6XCJhcnJvdy1yaWdodFwifSxvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7X3ZtLmdvdG9QbGFjZUNoZWNraXRlbShwbGFjZSl9fX0sW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcIml0ZW0tdGV4dFwifSxbX3ZtLl92KF92bS5fcyhwbGFjZS5uYW1lKSldKSxfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJpdGVtLWZvbnQgY29sb3ItZ3JheVwifSxbX3ZtLl92KFwiXFxuICAgICAgICBcIitfdm0uX3MocGxhY2UuZG9uZSA/ICgocGxhY2UudW5xdWFsaWZpZWQpICsgXCLpobnkuI3lkIjmoLxcIikgOiAn5pyq5qOA5p+lJykrXCJcXG4gICAgICBcIildKV0pfSksKF92bS5lZGl0YWJsZSk/X2MoJ2FwcC1idXR0b24tZ3JvdXAnLFtfYygnYXBwLWJ1dHRvbicse2F0dHJzOntcInR5cGVcIjpcInRleHRcIn0sb246e1wiY2xpY2tcIjpfdm0uYWRkUGxhY2V9fSxbX3ZtLl92KFwiXFxuICAgICAgICDmt7vliqDmtYvljLpcXG4gICAgICBcIildKV0sMSk6X3ZtLl9lKCksKF92bS5iYXRjaERhdGEuc3RhdHVzID09PSAn5qOA5p+l5a6M5q+VJyk/X2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwicDE1IGNvbG9yLWdyYXkzIGFsaWduLWNcIn0sW192bS5fdihcIlxcbiAgICAgIFwiK192bS5fcyhfdm0uX2YoXCJmb3JtYXREYXRlXCIpKF92bS5iYXRjaERhdGEubW9kaWZpZWRfb24pKStcIsKgXCIrX3ZtLl9zKF92bS5iYXRjaERhdGEuY3JlYXRlZF9ieV9uYW1lKStcIsKg5o+Q5Lqk5qOA5p+l5a6M5q+VXFxuICAgIFwiKV0pOl92bS5fZSgpLChfdm0uaXNCYXRjaENyZWF0b3IgJiYgX3ZtLmJhdGNoRGF0YS5zdGF0dXMgIT09ICfmo4Dmn6Xlrozmr5UnKT9fYygnYXBwLWJ1dHRvbi1ncm91cCcse3N0YXRpY0NsYXNzOlwibXQyMFwifSxbX2MoJ2FwcC1idXR0b24nLHtvbjp7XCJjbGlja1wiOl92bS5zdWJtaXRCYXRjaH19LFtfdm0uX3YoXCJcXG4gICAgICAgIOajgOafpeWujOavleW5tuaPkOS6pFxcbiAgICAgIFwiKV0pXSwxKTpfdm0uX2UoKV06X3ZtLl9lKCksX2MoJ2xvYWRpbmctc3RhdHVzJyx7YXR0cnM6e1wiaXMtbG9hZGluZ1wiOl92bS5pc0xvYWRpbmcsXCJpcy1lbXB0eVwiOiFfdm0ubGlzdERhdGEubGVuZ3RofX0sW19jKCdkaXYnLHthdHRyczp7XCJzbG90XCI6XCJlbXB0eS10ZXh0XCJ9LHNsb3Q6XCJlbXB0eS10ZXh0XCJ9LFtfdm0uX3YoXCJcXG4gICAgICDmmoLml6DmtYvljLpcIiksKF92bS5lZGl0YWJsZSk/W192bS5fdihcIu+8jFwiKSxfYygnYXBwLWJ1dHRvbicse2F0dHJzOntcInR5cGVcIjpcInRleHRcIn0sb246e1wiY2xpY2tcIjpfdm0uYWRkUGxhY2V9fSxbX3ZtLl92KFwiXFxuICAgICAgICAgIOivt+a3u+WKoFxcbiAgICAgICAgXCIpXSldOl92bS5fZSgpXSwyKV0pXSwyKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NhY2hlLWxvYWRlckAyLjAuMUBjYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvX3RocmVhZC1sb2FkZXJAMi4xLjNAdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvX2JhYmVsLWxvYWRlckA4LjIuMUBiYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgtbGlzdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL190aHJlYWQtbG9hZGVyQDIuMS4zQHRocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19iYWJlbC1sb2FkZXJAOC4yLjFAYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NhY2hlLWxvYWRlckAyLjAuMUBjYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS43LjBAdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2luZGV4LWxpc3QudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9pbmRleC1saXN0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0wNTI1OTdkNiZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9pbmRleC1saXN0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vaW5kZXgtbGlzdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vaW5kZXgtbGlzdC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0wNTI1OTdkNiZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS43LjBAdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCIwNTI1OTdkNlwiLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsIjx0ZW1wbGF0ZT5cbiAgPHRyYW5zaXRpb24gbmFtZT1cInNsaWRlLXJpZ2h0XCI+XG4gICAgPHBhZ2UtY29udGVudCB2LWlmPVwic2hvd1wiIG1vZGU9XCJkaWFsb2dcIiA6dGl0bGU9XCJ0aXRsZVwiIDpvbi1jbG9zZT1cImNsb3NlXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiYnJlYWQtY3J1bWJcIj5cbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBjbGFzcz1cImxldmVsLWl0ZW1cIlxuICAgICAgICAgIHYtZm9yPVwiY3J1bWIgaW4gY3J1bWJzXCJcbiAgICAgICAgICA6a2V5PVwiY3J1bWIuaXRlbVwiXG4gICAgICAgICAgOmNsYXNzPVwie1xuICAgICAgICAgICAgYWN0aXZlOiBjcnVtYi5pdGVtID09PSAoIWhhc1VuaXQgJiYgcHJldkl0ZW0gPT09ICd1bml0JyA/IHByZXZJdGVtIDogY3VySXRlbSksXG4gICAgICAgICAgfVwiXG4gICAgICAgICAgQGNsaWNrPVwiY3J1bWJDbGljayhjcnVtYilcIlxuICAgICAgICA+XG4gICAgICAgICAge3sgY3J1bWIubmFtZSB9fTxpY29uIG5hbWU9XCJhcnJvdy1yaWdodFwiIC8+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IHYtaWY9XCIhaXNMb2FkaW5nICYmIG9wdGlvbnMubGVuZ3RoXCIgcmVmPVwicGxhY2VTZWxlY3RTY3JvbGxcIiBjbGFzcz1cInBhZ2Utc2Nyb2xsXCI+XG4gICAgICAgIDxpdGVtXG4gICAgICAgICAgdi1mb3I9XCIoaXRlbSwgaW5kZXgpIGluIG9wdGlvbnNcIlxuICAgICAgICAgIDprZXk9XCJpbmRleFwiXG4gICAgICAgICAgOnRleHQ9XCJpdGVtLm5hbWVcIlxuICAgICAgICAgIDppY29uLXJpZ2h0PVwic2VsZWN0ZWRbY3VySXRlbV0gJiYgc2VsZWN0ZWRbY3VySXRlbV0uaWQgPT09IGl0ZW0uaWQgPyAncXVhbGlmaWVkJyA6ICcnXCJcbiAgICAgICAgICBAY2xpY2s9XCJzZWxlY3RlZEl0ZW0oaXRlbSlcIlxuICAgICAgICAgIGNsYXNzPVwiYm9yZGVyLWJvdHRvbSBwbGFjZS1pdGVtXCJcbiAgICAgICAgLz5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZW1wdHktbXNnXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJsaW5lXCI+PC9zcGFuPlxuICAgICAgICAgIOWwsei/meS5iOWkmuS6hlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGluZVwiPjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGFwcC1idXR0b24tZ3JvdXAgdi1pZj1cIiFpc0xvYWRpbmcgJiYgb3B0aW9ucy5sZW5ndGhcIiBmaXhlZC1ib3R0b20+XG4gICAgICAgIDxhcHAtYnV0dG9uIDpkaXNhYmxlZD1cIiFoYXNTZWxlY3RlZFwiIEBjbGljaz1cImZpbmlzaFwiPlxuICAgICAgICAgIOehruWumlxuICAgICAgICA8L2FwcC1idXR0b24+XG4gICAgICA8L2FwcC1idXR0b24tZ3JvdXA+XG5cbiAgICAgIDxsb2FkaW5nLXN0YXR1c1xuICAgICAgICA6aXMtbG9hZGluZz1cImlzTG9hZGluZ1wiXG4gICAgICAgIDppcy1lbXB0eT1cIiFvcHRpb25zIHx8ICFvcHRpb25zLmxlbmd0aFwiXG4gICAgICAgIGVtcHR5LXRleHQ9XCLmsqHmnInkv6Hmga9cIlxuICAgICAgLz5cbiAgICA8L3BhZ2UtY29udGVudD5cbiAgPC90cmFuc2l0aW9uPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCBQb3B1cE1peGluIGZyb20gJ0BzcmMvdXRpbHMvcG9wdXAtbWl4aW4nO1xuaW1wb3J0IEl0ZW0gZnJvbSAnQHNyYy9jb21wb25lbnRzL2l0ZW0vJztcbmltcG9ydCBTZXJ2aWNlIGZyb20gJy4vc2VydmljZSc7XG5cbi8vIOmAieaLqeeahOWGheWuue+8jFsnc2VjdGlvbicsICdidWlsZGluZycsICd1bml0JywgJ2Zsb29yJywgJ3Jvb20nXVxuY29uc3QgZGVmYXVsdEl0ZW1zID0gWydidWlsZGluZycsICd1bml0JywgJ2Zsb29yJywgJ3Jvb20nXTtcbi8vIOmAieWhq+eahOmhue+8jOayoeacieWNleWFg+WPr+S7pei3s+i/h++8jOebtOaOpemAiealvOWxglxuY29uc3QgZGVmYXVsdE9wdGlvbmFsSXRlbXMgPSBbJ3VuaXQnXTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnUGxhY2VTZWxlY3REaWFsb2cnLFxuICBjb21wb25lbnRzOiB7IEl0ZW0gfSxcbiAgbWl4aW5zOiBbUG9wdXBNaXhpbl0sXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3c6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiB0cnVlLFxuXG4gICAgICB0aXRsZTogJycsXG4gICAgICBpdGVtczogW10sXG4gICAgICBvcHRpb25hbEl0ZW1zOiBbXSxcbiAgICAgIGN1ckl0ZW06ICcnLFxuICAgICAgb3B0aW9uczogW10sXG4gICAgICBoYXNVbml0OiBmYWxzZSxcblxuICAgICAgcHJvamVjdElkOiAnJyxcbiAgICAgIHNlY3Rpb25JZDogJycsXG5cbiAgICAgIHNlbGVjdGVkOiB7fSxcbiAgICAgIGRlZmF1bHRTZWxlY3RlZDoge30sXG5cbiAgICAgIGJlZm9yZUNvbmZpcm06ICgpID0+IHt9LFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHt9LFxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgLy8g6Z2i5YyF5bGRXG4gICAgY3J1bWJzKCkge1xuICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgbGV0IHsgaXRlbXMsIGN1ckl0ZW0gfSA9IHRoaXM7XG4gICAgICBsZXQgaW5kZXggPSBpdGVtcy5maW5kSW5kZXgodiA9PiB2ID09PSBjdXJJdGVtKTtcblxuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gaW5kZXg7IGkrKykge1xuICAgICAgICAgIGxldCBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgICAgbGV0IHByZUl0ZW0gPSBpdGVtc1tpIC0gMV07XG4gICAgICAgICAgbGV0IG5hbWUgPSBwcmVJdGVtID8gdGhpcy5zZWxlY3RlZFtwcmVJdGVtXSAmJiB0aGlzLnNlbGVjdGVkW3ByZUl0ZW1dLm5hbWUgOiAn5YWo6YOoJztcbiAgICAgICAgICAvLyDlj6/ku6XmsqHmnInljZXlhYNcbiAgICAgICAgICBpZiAocHJlSXRlbSA9PT0gJ3VuaXQnICYmICFuYW1lKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2goeyBuYW1lLCBpdGVtIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcblxuICAgIC8vIOaYr+WQpuaciemAieaLqeeahOWGheWuuVxuICAgIGhhc1NlbGVjdGVkKCkge1xuICAgICAgcmV0dXJuICEhdGhpcy5zZWxlY3RlZCAmJiAhIU9iamVjdC5rZXlzKHRoaXMuc2VsZWN0ZWQpLmxlbmd0aDtcbiAgICB9LFxuXG4gICAgcHJldkl0ZW0oKSB7XG4gICAgICBsZXQgaW5kZXggPSB0aGlzLml0ZW1zLmZpbmRJbmRleCh2ID0+IHYgPT09IHRoaXMuY3VySXRlbSk7XG4gICAgICByZXR1cm4gdGhpcy5pdGVtc1tpbmRleCAtIDFdO1xuICAgIH0sXG4gICAgbmV4dEl0ZW0oKSB7XG4gICAgICBsZXQgaW5kZXggPSB0aGlzLml0ZW1zLmZpbmRJbmRleCh2ID0+IHYgPT09IHRoaXMuY3VySXRlbSk7XG4gICAgICByZXR1cm4gdGhpcy5pdGVtc1tpbmRleCArIDFdO1xuICAgIH0sXG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBvcGVuKHBhcmFtcykge1xuICAgICAgdGhpcy5pdGVtcyA9IHBhcmFtcy5pdGVtcyB8fCBkZWZhdWx0SXRlbXM7XG4gICAgICB0aGlzLm9wdGlvbmFsSXRlbXMgPSBwYXJhbXMub3B0aW9uYWxJdGVtcyB8fCBkZWZhdWx0T3B0aW9uYWxJdGVtcztcbiAgICAgIGlmICghdGhpcy5pdGVtcyB8fCAhdGhpcy5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcigncGFsY2Utc2VsZWN0IG9wZW4oKSDlj4LmlbDplJnor68nKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY3VySXRlbSA9IHRoaXMuaXRlbXNbMF07XG5cbiAgICAgIHRoaXMucHJvamVjdElkID0gcGFyYW1zLnByb2plY3RJZDtcbiAgICAgIHRoaXMuc2VjdGlvbklkID0gcGFyYW1zLnNlY3Rpb25JZDtcbiAgICAgIHRoaXMuZGVmYXVsdFNlbGVjdGVkID0gcGFyYW1zLnNlbGVjdGVkO1xuICAgICAgdGhpcy50aXRsZSA9IHBhcmFtcy50aXRsZTtcbiAgICAgIHRoaXMuYmVmb3JlQ29uZmlybSA9XG4gICAgICAgIHR5cGVvZiBwYXJhbXMuYmVmb3JlQ29uZmlybSA9PT0gJ2Z1bmN0aW9uJyA/IHBhcmFtcy5iZWZvcmVDb25maXJtIDogKCkgPT4ge307XG4gICAgICB0aGlzLmNhbGxiYWNrID0gdHlwZW9mIHBhcmFtcy5jYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyA/IHBhcmFtcy5jYWxsYmFjayA6ICgpID0+IHt9O1xuXG4gICAgICB0aGlzLmluaXQoKTtcblxuICAgICAgdGhpcy5zaG93ID0gdHJ1ZTtcbiAgICB9LFxuICAgIGNsb3NlKCkge1xuICAgICAgdGhpcy5zaG93ID0gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbjog6I635Y+W6buY6K6k5YC877yM5YW85a656ICB57uE5Lu2XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGl0ZW0g6I635Y+W55qE57G75Z6LIHNlY3Rpb24sIGJ1aWxkaW5nLCB1bml0LCBmbG9vciwgcm9vbVxuICAgICAqIEByZXR1cm46XG4gICAgICovXG4gICAgZ2V0RGVmYXVsdElkKGl0ZW0pIHtcbiAgICAgIGlmICghdGhpcy5kZWZhdWx0U2VsZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgbGV0IGRlZmF1bHREYXRhID0gdGhpcy5kZWZhdWx0U2VsZWN0ZWRbaXRlbV07XG4gICAgICBzd2l0Y2ggKGl0ZW0pIHtcbiAgICAgICAgY2FzZSAnc2VjdGlvbic6XG4gICAgICAgICAgcmV0dXJuIChkZWZhdWx0RGF0YSAmJiBkZWZhdWx0RGF0YS5pZCkgfHwgJyc7XG4gICAgICAgIGNhc2UgJ2J1aWxkaW5nJzpcbiAgICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0U2VsZWN0ZWQuYnVpbGRpbmdfaWQgfHwgKGRlZmF1bHREYXRhICYmIGRlZmF1bHREYXRhLmlkKSB8fCAnJztcbiAgICAgICAgY2FzZSAndW5pdCc6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFNlbGVjdGVkLnVuaXRfaWQgfHwgKGRlZmF1bHREYXRhICYmIGRlZmF1bHREYXRhLmlkKSB8fCAnJztcbiAgICAgICAgY2FzZSAnZmxvb3InOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAodHlwZW9mIGRlZmF1bHREYXRhID09PSAnc3RyaW5nJyA/IGRlZmF1bHREYXRhIDogZGVmYXVsdERhdGEgJiYgZGVmYXVsdERhdGEuaWQpIHx8ICcnXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAncm9vbSc6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFNlbGVjdGVkLnJvb21faWQgfHwgKGRlZmF1bHREYXRhICYmIGRlZmF1bHREYXRhLmlkKSB8fCAnJztcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uOiDnu4Tku7bliJ3lp4vljJZcbiAgICAgKiBAcmV0dXJuOlxuICAgICAqL1xuICAgIGluaXQoKSB7XG4gICAgICBsZXQgaW5pdFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIGxldCBpc0Zsb3dpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5zZWxlY3RlZCA9IHt9O1xuXG4gICAgICB0aGlzLmN1ckl0ZW0gPSB0aGlzLml0ZW1zWzBdO1xuXG4gICAgICAvLyDorr7nva7pu5jorqTpgInkuK1cbiAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBpbml0UHJvbWlzZSA9IGluaXRQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGlmICghaXNGbG93aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9ucyhrZXkpLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgIGxldCBpZCA9IHRoaXMuZ2V0RGVmYXVsdElkKGtleSk7XG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gaWQgJiYgKHJlcyB8fCBbXSkuZmluZCh2ID0+IHYuaWQgPT09IGlkKTtcblxuICAgICAgICAgICAgLy8g5aaC5p6c5rKh5pyJ5Y2V5YWD77yM5Y+v5Lul57un57utXG4gICAgICAgICAgICBpZiAoIXJlcyB8fCAhcmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5zZWxlY3RlZCwga2V5LCBudWxsKTtcbiAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9uYWxJdGVtcy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5jdXJJdGVtID0ga2V5O1xuICAgICAgICAgICAgICAgIGlzRmxvd2luZyA9IHRydWU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXNGbG93aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5zZWxlY3RlZCwga2V5LCB7IC4uLnRhcmdldCB9KTtcbiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gcmVzO1xuICAgICAgICAgICAgICB0aGlzLmN1ckl0ZW0gPSBrZXk7XG4gICAgICAgICAgICAgIGlzRmxvd2luZyA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoa2V5ID09PSB0aGlzLml0ZW1zWzBdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gcmVzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlzRmxvd2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gaW5pdFByb21pc2U7XG4gICAgfSxcblxuICAgIGNydW1iQ2xpY2soY3J1bWIpIHtcbiAgICAgIHRoaXMuY3VySXRlbSA9IGNydW1iLml0ZW07XG5cbiAgICAgIGxldCBpbmRleCA9IHRoaXMuaXRlbXMuZmluZEluZGV4KHYgPT4gdiA9PT0gdGhpcy5jdXJJdGVtKTtcbiAgICAgIHRoaXMuY2xlYXJDaGlsZHJlbkZyb21JbmRleChpbmRleCk7XG4gICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb25zKCkudGhlbihyZXMgPT4ge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSByZXM7XG4gICAgICAgIGlmICh0aGlzLmN1ckl0ZW0gPT09ICd1bml0JyAmJiAoIXRoaXMub3B0aW9ucyB8fCAhdGhpcy5vcHRpb25zLmxlbmd0aCkgJiYgdGhpcy5uZXh0SXRlbSkge1xuICAgICAgICAgIHRoaXMuY3VySXRlbSA9IHRoaXMubmV4dEl0ZW07XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9ucygpLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IHJlcztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIOa4hemZpOWQjumdoueahOmAieaLqVxuICAgIGNsZWFyQ2hpbGRyZW5Gcm9tSW5kZXgoaW5kZXgpIHtcbiAgICAgIGxldCB7IGl0ZW1zIH0gPSB0aGlzO1xuICAgICAgZm9yIChsZXQgaSA9IGluZGV4OyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGtleSA9IGl0ZW1zW2ldO1xuICAgICAgICB0aGlzLiRkZWxldGUodGhpcy5zZWxlY3RlZCwga2V5KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uOiDojrflj5blpIfpgInpoblcbiAgICAgKiBAcmV0dXJuOiBQcm9taXNlIC0+IEFycmF5XG4gICAgICovXG4gICAgZ2V0T3B0aW9ucyhjdXJJdGVtKSB7XG4gICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7XG5cbiAgICAgIGN1ckl0ZW0gPSBjdXJJdGVtIHx8IHRoaXMuY3VySXRlbTtcbiAgICAgIGxldCBpdGVtcyA9IHRoaXMuaXRlbXM7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgbGV0IHByb2pJZCA9IHRoaXMucHJvamVjdElkO1xuICAgICAgICAgIGxldCBzZWNJZCA9XG4gICAgICAgICAgICB0aGlzLnNlY3Rpb25JZCB8fCAodGhpcy5zZWxlY3RlZCAmJiB0aGlzLnNlbGVjdGVkLnNlY3Rpb24gJiYgdGhpcy5zZWxlY3RlZC5zZWN0aW9uLmlkKTtcbiAgICAgICAgICBsZXQgYnVpbGRpbmdJZCA9IHRoaXMuc2VsZWN0ZWQgJiYgdGhpcy5zZWxlY3RlZC5idWlsZGluZyAmJiB0aGlzLnNlbGVjdGVkLmJ1aWxkaW5nLmlkO1xuICAgICAgICAgIGxldCB1bml0ID0gdGhpcy5zZWxlY3RlZCAmJiB0aGlzLnNlbGVjdGVkLnVuaXQgJiYgdGhpcy5zZWxlY3RlZC51bml0LmlkO1xuICAgICAgICAgIGxldCBmbG9vciA9IHRoaXMuc2VsZWN0ZWQgJiYgdGhpcy5zZWxlY3RlZC5mbG9vciAmJiB0aGlzLnNlbGVjdGVkLmZsb29yLmlkO1xuICAgICAgICAgIHN3aXRjaCAoY3VySXRlbSkge1xuICAgICAgICAgICAgY2FzZSAnc2VjdGlvbic6XG4gICAgICAgICAgICAgIC8vIOiOt+WPluaJgOacieagh+autVxuICAgICAgICAgICAgICByZXR1cm4gU2VydmljZS5nZXRTZWN0aW9ucyhwcm9qSWQpO1xuICAgICAgICAgICAgY2FzZSAnYnVpbGRpbmcnOlxuICAgICAgICAgICAgICAvLyDojrflj5bmiYDmnInmpbzmoItcbiAgICAgICAgICAgICAgbGV0IGhhc1NlY3Rpb24gPSBpdGVtcy5zb21lKGl0ZW0gPT4gaXRlbSA9PT0gJ3NlY3Rpb24nKTtcbiAgICAgICAgICAgICAgaWYgKGhhc1NlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU2VydmljZS5nZXRCdWlsZGluZ3NCeVNlY3Rpb24oc2VjSWQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBTZXJ2aWNlLmdldEJ1aWxkaW5nc0J5UHJvamVjdChwcm9qSWQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICd1bml0JzpcbiAgICAgICAgICAgICAgLy8g6I635Y+W5omA5pyJ5Y2V5YWDXG4gICAgICAgICAgICAgIHJldHVybiBTZXJ2aWNlLmdldFVuaXRzKGJ1aWxkaW5nSWQpO1xuICAgICAgICAgICAgY2FzZSAnZmxvb3InOlxuICAgICAgICAgICAgICAvLyDojrflj5bmiYDmnInmpbzlsYJcbiAgICAgICAgICAgICAgcmV0dXJuIFNlcnZpY2UuZ2V0Rmxvb3JzKGJ1aWxkaW5nSWQpO1xuICAgICAgICAgICAgY2FzZSAncm9vbSc6XG4gICAgICAgICAgICAgIHJldHVybiBTZXJ2aWNlLmdldFJvb21zKGJ1aWxkaW5nSWQsIHVuaXQsIGZsb29yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgaWYgKGN1ckl0ZW0gPT09ICd1bml0Jykge1xuICAgICAgICAgICAgdGhpcy5oYXNVbml0ID0gcmVzICYmIHJlcy5sZW5ndGg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgJGxvZy5lcnJvcihlcnJvcik7XG4gICAgICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uOiDpgInmi6lcbiAgICAgKiBAcGFyYW0ge3R5cGV9XG4gICAgICogQHJldHVybjpcbiAgICAgKi9cbiAgICBzZWxlY3RlZEl0ZW0oaXRlbSkge1xuICAgICAgbGV0IHsgaXRlbXMsIGN1ckl0ZW0gfSA9IHRoaXM7XG4gICAgICBpZiAoIWN1ckl0ZW0gfHwgIWl0ZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLiRzZXQodGhpcy5zZWxlY3RlZCwgY3VySXRlbSwgeyAuLi5pdGVtIH0pO1xuXG4gICAgICBsZXQgaW5kZXggPSBpdGVtcy5maW5kSW5kZXgodiA9PiB2ID09PSBjdXJJdGVtKTtcbiAgICAgIC8vIOa4hemZpOWQjumdoueahOmAieaLqVxuICAgICAgdGhpcy5jbGVhckNoaWxkcmVuRnJvbUluZGV4KGluZGV4ICsgMSk7XG5cbiAgICAgIGlmICh0aGlzLm5leHRJdGVtKSB7XG4gICAgICAgIC8vIOacieS4i+S4gOe6p++8jOaTjeS9nOmhueenu+WIsOS4i+S4gOmhuVxuICAgICAgICB0aGlzLmN1ckl0ZW0gPSB0aGlzLm5leHRJdGVtO1xuICAgICAgICB0aGlzLmdldE9wdGlvbnMoKVxuICAgICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSByZXM7XG4gICAgICAgICAgICAvLyDlj6/ku6XmsqHmnInljZXlhYPvvIznu6fnu63liqDovb3kuIvkuIDpoblcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgdGhpcy5jdXJJdGVtID09PSAndW5pdCcgJiZcbiAgICAgICAgICAgICAgKCF0aGlzLm9wdGlvbnMgfHwgIXRoaXMub3B0aW9ucy5sZW5ndGgpICYmXG4gICAgICAgICAgICAgIHRoaXMubmV4dEl0ZW1cbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB0aGlzLmN1ckl0ZW0gPSB0aGlzLm5leHRJdGVtO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb25zKCkudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IHJlcztcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucyB8fCAhdGhpcy5vcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAvLyDlpoLmnpzkuIvkuIDnuqfmsqHmnInpgInpobnvvIzkuZ/lrozmiJDpgInmi6lcbiAgICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOayoeacieS4i+S4gOe6p++8jOWujOaIkOmAieaLqVxuICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb246IOWujOaIkOmAieaLqVxuICAgICAqIEBwYXJhbSB7dHlwZX1cbiAgICAgKiBAcmV0dXJuOlxuICAgICAqL1xuICAgIGZpbmlzaCgpIHtcbiAgICAgIGxldCByZXN1bHQgPSB7IGZ1bGxuYW1lOiAnJyB9O1xuXG4gICAgICB0aGlzLml0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5zZWxlY3RlZFtpdGVtXTtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICByZXN1bHRbaXRlbV0gPSBkYXRhO1xuXG4gICAgICAgICAgaWYgKGl0ZW0gPT09ICdmbG9vcicpIHtcbiAgICAgICAgICAgIC8vIOWmguaenOacieaIv+mXtO+8jOWImeS4jemcgOimgeaLvOalvOWxguWQjeensFxuICAgICAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkWydyb29tJ10pIHtcbiAgICAgICAgICAgICAgcmVzdWx0LmZ1bGxuYW1lICs9IGRhdGEubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LmZ1bGxuYW1lICs9IGRhdGEubmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsZXQgYmVmb3JlQ29uZmlybSA9IHRoaXMuYmVmb3JlQ29uZmlybSAmJiB0aGlzLmJlZm9yZUNvbmZpcm0ocmVzdWx0KTtcblxuICAgICAgaWYgKCEoYmVmb3JlQ29uZmlybSBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG4gICAgICAgIGJlZm9yZUNvbmZpcm0gPSBQcm9taXNlLnJlc29sdmUoYmVmb3JlQ29uZmlybSk7XG4gICAgICB9XG5cbiAgICAgIGJlZm9yZUNvbmZpcm0udGhlbihyZXMgPT4ge1xuICAgICAgICBpZiAocmVzID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbGxiYWNrICYmIHRoaXMuY2FsbGJhY2socmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0sXG59O1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cbi9kZWVwLyAubGF5b3V0LWNvbnRlbnQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xufVxuLnBhZ2Utc2Nyb2xsIHtcbiAgZmxleDogMTtcbiAgb3ZlcmZsb3c6IGF1dG87XG4gIHBhZGRpbmctYm90dG9tOiAxMDBweDtcbn1cbi5icmVhZC1jcnVtYiB7XG4gIHBhZGRpbmc6IDhweCAxNXB4O1xuICBmb250LXNpemU6IDE2cHg7XG4gIGxpbmUtaGVpZ2h0OiAzMHB4O1xuICBjb2xvcjogIzk5OTtcbiAgLmxldmVsLWl0ZW0ge1xuICAgIGkge1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgbWFyZ2luOiAwIDEwcHg7XG4gICAgfVxuICAgICY6bGFzdC1jaGlsZCA+IGkge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gIH1cbiAgLmFjdGl2ZSB7XG4gICAgY29sb3I6ICRjb2xvckJsdWU7XG4gIH1cbn1cbi5lbXB0eS1tc2cge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgY29sb3I6ICNjOGM4Yzg7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIC5saW5lIHtcbiAgICB3aWR0aDogNDhweDtcbiAgICBtYXJnaW46IDAgOHB4O1xuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTRlNGU0O1xuICB9XG59XG5cbi9kZWVwLyAuaWNvbi1xdWFsaWZpZWQge1xuICBjb2xvcjogJHRoZW1lQ29sb3I7XG59XG5cbi5wbGFjZS1pdGVtIHtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbjwvc3R5bGU+XG4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdGhyZWFkLWxvYWRlckAyLjEuM0B0aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fYmFiZWwtbG9hZGVyQDguMi4xQGJhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9kaWFsb2cudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdGhyZWFkLWxvYWRlckAyLjEuM0B0aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fYmFiZWwtbG9hZGVyQDguMi4xQGJhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9kaWFsb2cudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9kaWFsb2cudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTBmM2MwMzU0JnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2RpYWxvZy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2RpYWxvZy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vZGlhbG9nLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTBmM2MwMzU0Jmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjBmM2MwMzU0XCIsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ3RyYW5zaXRpb24nLHthdHRyczp7XCJuYW1lXCI6XCJzbGlkZS1yaWdodFwifX0sWyhfdm0uc2hvdyk/X2MoJ3BhZ2UtY29udGVudCcse2F0dHJzOntcIm1vZGVcIjpcImRpYWxvZ1wiLFwidGl0bGVcIjpfdm0udGl0bGUsXCJvbi1jbG9zZVwiOl92bS5jbG9zZX19LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJicmVhZC1jcnVtYlwifSxfdm0uX2woKF92bS5jcnVtYnMpLGZ1bmN0aW9uKGNydW1iKXtyZXR1cm4gX2MoJ3NwYW4nLHtrZXk6Y3J1bWIuaXRlbSxzdGF0aWNDbGFzczpcImxldmVsLWl0ZW1cIixjbGFzczp7XG4gICAgICAgICAgYWN0aXZlOiBjcnVtYi5pdGVtID09PSAoIV92bS5oYXNVbml0ICYmIF92bS5wcmV2SXRlbSA9PT0gJ3VuaXQnID8gX3ZtLnByZXZJdGVtIDogX3ZtLmN1ckl0ZW0pLFxuICAgICAgICB9LG9uOntcImNsaWNrXCI6ZnVuY3Rpb24oJGV2ZW50KXtfdm0uY3J1bWJDbGljayhjcnVtYil9fX0sW192bS5fdihcIlxcbiAgICAgICAgXCIrX3ZtLl9zKGNydW1iLm5hbWUpKSxfYygnaWNvbicse2F0dHJzOntcIm5hbWVcIjpcImFycm93LXJpZ2h0XCJ9fSldLDEpfSkpLCghX3ZtLmlzTG9hZGluZyAmJiBfdm0ub3B0aW9ucy5sZW5ndGgpP19jKCdkaXYnLHtyZWY6XCJwbGFjZVNlbGVjdFNjcm9sbFwiLHN0YXRpY0NsYXNzOlwicGFnZS1zY3JvbGxcIn0sW192bS5fbCgoX3ZtLm9wdGlvbnMpLGZ1bmN0aW9uKGl0ZW0saW5kZXgpe3JldHVybiBfYygnaXRlbScse2tleTppbmRleCxzdGF0aWNDbGFzczpcImJvcmRlci1ib3R0b20gcGxhY2UtaXRlbVwiLGF0dHJzOntcInRleHRcIjppdGVtLm5hbWUsXCJpY29uLXJpZ2h0XCI6X3ZtLnNlbGVjdGVkW192bS5jdXJJdGVtXSAmJiBfdm0uc2VsZWN0ZWRbX3ZtLmN1ckl0ZW1dLmlkID09PSBpdGVtLmlkID8gJ3F1YWxpZmllZCcgOiAnJ30sb246e1wiY2xpY2tcIjpmdW5jdGlvbigkZXZlbnQpe192bS5zZWxlY3RlZEl0ZW0oaXRlbSl9fX0pfSksX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiZW1wdHktbXNnXCJ9LFtfYygnc3Bhbicse3N0YXRpY0NsYXNzOlwibGluZVwifSksX3ZtLl92KFwiXFxuICAgICAgICDlsLHov5nkuYjlpJrkuoZcXG4gICAgICAgIFwiKSxfYygnc3Bhbicse3N0YXRpY0NsYXNzOlwibGluZVwifSldKV0sMik6X3ZtLl9lKCksKCFfdm0uaXNMb2FkaW5nICYmIF92bS5vcHRpb25zLmxlbmd0aCk/X2MoJ2FwcC1idXR0b24tZ3JvdXAnLHthdHRyczp7XCJmaXhlZC1ib3R0b21cIjpcIlwifX0sW19jKCdhcHAtYnV0dG9uJyx7YXR0cnM6e1wiZGlzYWJsZWRcIjohX3ZtLmhhc1NlbGVjdGVkfSxvbjp7XCJjbGlja1wiOl92bS5maW5pc2h9fSxbX3ZtLl92KFwiXFxuICAgICAgICDnoa7lrppcXG4gICAgICBcIildKV0sMSk6X3ZtLl9lKCksX2MoJ2xvYWRpbmctc3RhdHVzJyx7YXR0cnM6e1wiaXMtbG9hZGluZ1wiOl92bS5pc0xvYWRpbmcsXCJpcy1lbXB0eVwiOiFfdm0ub3B0aW9ucyB8fCAhX3ZtLm9wdGlvbnMubGVuZ3RoLFwiZW1wdHktdGV4dFwiOlwi5rKh5pyJ5L+h5oGvXCJ9fSldLDEpOl92bS5fZSgpXSwxKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiaW1wb3J0IFZ1ZSBmcm9tICd2dWUnO1xuaW1wb3J0IGRpYWxvZyBmcm9tICcuL2RpYWxvZy52dWUnO1xuXG5sZXQgaW5zdGFuY2UgPSBmYWxzZTtcblxuaWYgKCFpbnN0YW5jZSkge1xuICBsZXQgRGlhbG9nQ29tcG9uZW50ID0gVnVlLmV4dGVuZChkaWFsb2cpO1xuICBpbnN0YW5jZSA9IG5ldyBEaWFsb2dDb21wb25lbnQoe1xuICAgIGVsOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgfSk7XG5cbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbnN0YW5jZS4kZWwpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpbnN0YW5jZTtcbiIsIjx0ZW1wbGF0ZT5cbiAgPHNwYW4gOmNsYXNzPVwiY2xhc3NTZXRbc3RhdHVzXVwiPnt7IHRleHQgfHwgc3RhdHVzIH19PC9zcGFuPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ1N0YXR1c1RleHQnLFxuICBwcm9wczoge1xuICAgIC8vIOeUqOS6juiuoeeul+eKtuaAgeminOiJsu+8jOWSjOWcqOayoeaciSB0ZXh0IOaXtuWxleekuuaWh+acrFxuICAgIHN0YXR1czoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgIH0sXG4gICAgLy8g5LuF55So5LqO5bGV56S655qE5YaF5a65XG4gICAgdGV4dDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgIH0sXG4gICAgLy8g6Ieq5a6a5LmJ6aKc6Imy5ouT5bGVXG4gICAgZXh0ZW5kOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICBkZWZhdWx0OiAoKSA9PiB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2xhc3NTZXQ6IF8uZXh0ZW5kKFxuICAgICAgICB7XG4gICAgICAgICAg6I2J56i/OiAnY29sb3ItZ3JheScsXG4gICAgICAgICAg5pqC5a2YOiAnY29sb3ItZ3JheScsXG4gICAgICAgICAg5qOA5p+l5LitOiAnY29sb3Itb3JhbmdlJyxcblxuICAgICAgICAgIOW+heaVtOaUuTogJ2NvbG9yLXJlZCcsXG4gICAgICAgICAg5b6F5aSN6aqMOiAnY29sb3Itb3JhbmdlJyxcbiAgICAgICAgICDlvoXpqozmlLY6ICdjb2xvci1yZWQnLFxuICAgICAgICAgIOW+heaKpemqjDogJ2NvbG9yLXJlZCcsXG4gICAgICAgICAg5b6F55Sz6K+36L+b5Zy6OiAnY29sb3ItcmVkJyxcbiAgICAgICAgICDlvoXliJ3pqow6ICdjb2xvci1yZWQnLFxuICAgICAgICAgIOW+hemAgeajgDogJ2NvbG9yLXJlZCcsXG4gICAgICAgICAg5b6F5LiK5Lyg5oql5ZGKOiAnY29sb3ItcmVkJyxcbiAgICAgICAgICDlvoXpgIDlnLo6ICdjb2xvci1yZWQnLFxuICAgICAgICAgIOW+heW7uuiuvuWNleS9jemqjOaUtjogJ2NvbG9yLXJlZCcsXG4gICAgICAgICAg5b6F5Yy65Z+f6aqM5pS2OiAnY29sb3ItcmVkJyxcblxuICAgICAgICAgIC8vIOadkOaWmemqjOaUtiAtIOeUsuS+m+adkOmqjOaUtlxuICAgICAgICAgIOS+m+W6lOmTvumAgOWbnjogJ2NvbG9yLXJlZCcsXG4gICAgICAgICAg6aKE5Yib5bu6OiAnY29sb3Itc3RhdHVzLWJsdWUnLFxuXG4gICAgICAgICAg5bey5o+Q5LqkOiAnY29sb3ItZ3JlZW4nLFxuICAgICAgICAgIOW3suaVtOaUuTogJ2NvbG9yLWdyZWVuJyxcbiAgICAgICAgICDlt7LpqozmlLY6ICdjb2xvci1ncmVlbicsXG4gICAgICAgICAg5bey6YCa6L+HOiAnY29sb3ItZ3JlZW4nLFxuICAgICAgICAgIOW3sumAgOWcujogJ2NvbG9yLWdyYXknLFxuICAgICAgICAgIOW3suWFs+mXrTogJ2NvbG9yLWdyYXknLFxuICAgICAgICAgIOmdnuato+W4uOWFs+mXrTogJ2NvbG9yLWdyYXknLFxuICAgICAgICAgIOW3sumAgOWbnjogJ2NvbG9yLXJlZCcsXG4gICAgICAgICAg5bey5a6M5oiQOiAnY29sb3ItZ3JlZW4nLFxuICAgICAgICAgIOW3sueUqemhuTogJ2NvbG9yLWdyYXknLFxuXG4gICAgICAgICAg5qOA5p+l5a6M5q+VOiAnY29sb3ItZ3JlZW4nLFxuICAgICAgICAgIOmAgeajgOWQiOagvDogJ2NvbG9yLWdyZWVuJyxcbiAgICAgICAgICDlpI3pqozlkIjmoLw6ICdjb2xvci1ncmVlbicsXG4gICAgICAgICAg6aqM5pS25ZCI5qC8OiAnY29sb3ItZ3JlZW4nLFxuICAgICAgICAgIOmqjOaUtuS4jeWQiOagvDogJ2NvbG9yLXJlZCcsXG5cbiAgICAgICAgICDmnKrpqozmlLY6ICdjb2xvci1vcmFuZ2UnLFxuXG4gICAgICAgICAg5b6F54K56K+EOiAnY29sb3Itb3JhbmdlJyxcbiAgICAgICAgICDlt7Lngrnor4Q6ICdjb2xvci1ncmVlbicsXG5cbiAgICAgICAgICDlkIjmoLw6ICdjb2xvci1ncmVlbicsXG4gICAgICAgICAg5LiN5ZCI5qC8OiAnY29sb3ItcmVkJyxcblxuICAgICAgICAgIC8vIOW9ouixoei/m+W6plxuICAgICAgICAgIOi/m+W6puato+W4uDogJ2NvbG9yLWdyZWVuJyxcbiAgICAgICAgICDov5vluqbmu57lkI46ICdjb2xvci1yZWQnLFxuICAgICAgICAgIOaWveW3peWNleS9jemqjOaUtuWQiOagvDogJ2NvbG9yLWdyZWVuJyxcbiAgICAgICAgICDnm5HnkIbljZXkvY3pqozmlLblkIjmoLw6ICdjb2xvci1ncmVlbicsXG4gICAgICAgICAg5bu66K6+5Y2V5L2N6aqM5pS25ZCI5qC8OiAnY29sb3ItZ3JlZW4nLFxuICAgICAgICAgIOaWveW3peWNleS9jemqjOaUtuS4jeWQiOagvDogJ2NvbG9yLXJlZCcsXG4gICAgICAgICAg55uR55CG5Y2V5L2N6aqM5pS25LiN5ZCI5qC8OiAnY29sb3ItcmVkJyxcbiAgICAgICAgICDlu7rorr7ljZXkvY3pqozmlLbkuI3lkIjmoLw6ICdjb2xvci1yZWQnLFxuICAgICAgICB9LFxuICAgICAgICB0aGlzLmV4dGVuZFxuICAgICAgKSxcbiAgICB9O1xuICB9LFxuICBtb3VudGVkKCkge30sXG59O1xuPC9zY3JpcHQ+XG4iLCIvKiDlvLnnqpfnmoTmt7flhaVcbiAqIOWkhOeQhuS4gOS4i+S6i+aDhe+8mlxuICogMS56LWluZGV4IOimhueblumXrumimFxuICogMi7niannkIbov5Tlm57plK5cbiAqIDMu6K6+572uIHN0b3JlIOeahCBoYXNQb3B1cCDnmoTlgLxcbiAqL1xuXG5pbXBvcnQgeyBhZGRCYWNrRXZlbnRRdWV1ZSwgY2xlYXJCYWNrQnV0dG9uRXZlbnQgfSBmcm9tICdAc3JjL2NvbW1vbi9iYWNrYnV0dG9uJztcbmltcG9ydCB7IGNvbnRleHQgfSBmcm9tICd2YW50L2VzL21peGlucy9wb3B1cC9jb250ZXh0JztcbmltcG9ydCBzdG9yZSBmcm9tICdAc3RvcmUnO1xuXG5sZXQgcG9wdXBDb3VudCA9IDA7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ1BvcHVwTWl4aW4nLFxuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBiYWNrQnV0dG9uRXZlbnQ6IG51bGwsXG4gICAgfTtcbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICBzaG93KHYpIHtcbiAgICAgIGlmICh2KSB7XG4gICAgICAgIC8vIOiuvue9riB6LWluZGV4XG4gICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy4kZWwgJiYgdGhpcy4kZWwuc3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLnN0eWxlLnpJbmRleCA9ICsrY29udGV4dC56SW5kZXg7XG4gICAgICAgICAgICBwb3B1cENvdW50Kys7XG4gICAgICAgICAgICBzdG9yZS5jb21taXQoJ2FwcC9TRVRfSEFTX1BPUFVQJywgISFwb3B1cENvdW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIOW8ueeql+aJk+W8gO+8jOazqOWGjOeJqeeQhui/lOWbnumUrlxuICAgICAgICBpZiAoIXRoaXMuYmFja0J1dHRvbkV2ZW50KSB7XG4gICAgICAgICAgbGV0IGNsb3NlRm4gPSB0aGlzLmNsb3NlIHx8IHRoaXMuY2xvc2VQb3B1cDtcbiAgICAgICAgICB0aGlzLmJhY2tCdXR0b25FdmVudCA9IGFkZEJhY2tFdmVudFF1ZXVlKGNsb3NlRm4pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwb3B1cENvdW50LS07XG4gICAgICAgIGlmIChwb3B1cENvdW50IDwgMCkge1xuICAgICAgICAgIHBvcHVwQ291bnQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHN0b3JlLmNvbW1pdCgnYXBwL1NFVF9IQVNfUE9QVVAnLCAhIXBvcHVwQ291bnQpO1xuXG4gICAgICAgIC8vIOW8ueeql+WFs+mXre+8jOazqOmUgOeJqeeQhui/lOWbnumUrlxuICAgICAgICBpZiAodGhpcy5iYWNrQnV0dG9uRXZlbnQpIHtcbiAgICAgICAgICBjbGVhckJhY2tCdXR0b25FdmVudCh0aGlzLmJhY2tCdXR0b25FdmVudCk7XG4gICAgICAgICAgdGhpcy5iYWNrQnV0dG9uRXZlbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgfSxcbiAgbWV0aG9kczoge30sXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==