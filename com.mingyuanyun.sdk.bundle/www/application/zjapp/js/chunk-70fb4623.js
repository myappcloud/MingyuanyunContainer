(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-70fb4623"],{1993:function(e,t,n){var r=n("bf49");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("85cb").default)("140dcfa8",r,!0,{sourceMap:!1,shadowMode:!1})},"5b46":function(e,t,n){"use strict";n("1993")},bf49:function(e,t,n){(e.exports=n("690e")(!1)).push([e.i,".zjapp .show-dmp[data-v-c4ddb060]{width:100%;height:100%;border:none}",""])},c3d6:function(e,t,n){"use strict";n.r(t);n("c04d");var r,o,i=n("f585"),s=(n("6a61"),n("2e91")),a=(n("7f43"),n("3094")),c=n("162a"),d=n("3bd5"),u={name:"NcovReportDMPIndex",data:function(){return{src:"",isLoading:!1,token:""}},created:function(){this.errorHandel()},activated:function(){this.init()},methods:{init:(o=Object(s.a)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.src="",this.isLoading=!0,e.next=4,this.load().catch((function(e){t.src="",Object(i.a)(e&&e.errmsg)}));case 4:e.sent,this.isLoading=!1;case 6:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)}),load:(r=Object(s.a)(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="","dist"===APP_ENV){e.next=7;break}return e.next=4,this.login();case 4:t=e.sent,e.next=8;break;case 7:t=d.a.getUser().access_token;case 8:return n=window.__YL_SUPER_APP__?{super_app_token:d.a.getToken()}:{token:t},e.next=11,this.getUrl(n);case 11:return r=e.sent,this.src=r,e.abrupt("return",this.loadIDmpResource());case 14:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)}),login:function(){var e={tenant_code:"mysoft",account:"建设单位XY",pwd:"Test1234",pwd_enc:a.a.encrypt("Test1234","O57DLSOV0MJY81Q8","CBC","XFJMJJ924Y4L2PG9"),device_id:window.device&&window.device.uuid||"",application_code:"MobileCheckQuality"};return c.a.post("/common/proxy",null,{url:"https://appzj.myyscm.com/common/login?o=mysoft&is_wifi=1&app_version=3.1.5393&platform=Android&applicationId=undefined&deviceToken=undefined&manufacturer=undefined&pushChannel=undefined&access_token=",data:JSON.stringify(e)}).then((function(e){return e&&!e.errcode?e.access_token:Promise.reject(e.errmsg)}))},getUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};APP_ENV;return c.a.post("/common/proxy",{},{url:"https://bigdata.myyscm.com/dmp/yfw/access-auth?biz_code=9a1a92d3ad0d4130b7b6ef79472c0e7d",data:JSON.stringify(JSON.stringify(e)),header:["Content-Type: application/json"]}).then((function(e){return e&&!e.errcode?e.url:Promise.reject(e.errmsg)}))},loadIDmpResource:function(){var e=this;return new Promise((function(t,n){setTimeout((function(r){e.$refs.dmp.onload=function(){console.log("资源加载成功"),t()},e.$refs.dmp.onerror=function(){console.log("资源加载失败"),n()}}),0)}))},errorHandel:function(){var e=this;window.addEventListener("message",(function(t){if(console.log("接收到消息"),t&&"message"===t.type&&"token-timeout"===t.data)return e.init().catch((function(t){e.src="",Object(i.a)(t)}))}),!1)}}},p=(n("5b46"),n("17cc")),f=Object(p.a)(u,(function(){var e=this.$createElement,t=this._self._c||e;return t("page-content",{ref:"parent",attrs:{title:"防疫专项看板","show-go-root":"Report"}},[this.src?t("iframe",{ref:"dmp",staticClass:"show-dmp",attrs:{src:this.src,width:"100%",height:"100%",frameborder:"0"}}):this._e(),t("loading-status",{attrs:{"is-loading":this.isLoading,"is-empty":!this.isLoading&&!this.src,"empty-text":"当前无网络",type:"error"}})],1)}),[],!1,null,"c4ddb060",null);t.default=f.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL25jb3YvcmVwb3J0L2RtcC9pbmRleC52dWU/ZmU3YSIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL25jb3YvcmVwb3J0L2RtcC9pbmRleC52dWU/Zjc1MCIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL25jb3YvcmVwb3J0L2RtcC9pbmRleC52dWU/MmM3ZiIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL25jb3YvcmVwb3J0L2RtcC9pbmRleC52dWU/NDdmMiIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fL3NyYy9uY292L3JlcG9ydC9kbXAvaW5kZXgudnVlIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvbmNvdi9yZXBvcnQvZG1wL2luZGV4LnZ1ZT84MmUxIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvbmNvdi9yZXBvcnQvZG1wL2luZGV4LnZ1ZSJdLCJuYW1lcyI6WyJjb250ZW50IiwibW9kdWxlIiwiaSIsImxvY2FscyIsImV4cG9ydHMiLCJhZGQiLCJkZWZhdWx0IiwicHVzaCIsIm5hbWUiLCJkYXRhIiwic3JjIiwiaXNMb2FkaW5nIiwidG9rZW4iLCJjcmVhdGVkIiwidGhpcyIsImVycm9ySGFuZGVsIiwiYWN0aXZhdGVkIiwiaW5pdCIsIm1ldGhvZHMiLCJsb2dpbiIsInRlbmFudF9jb2RlIiwiYWNjb3VudCIsInB3ZCIsInB3ZF9lbmMiLCJkZXZpY2VfaWQiLCJhcHBsaWNhdGlvbl9jb2RlIiwidXJsIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhcmFtcyIsInJlcyIsImVycmNvZGUiLCJhY2Nlc3NfdG9rZW4iLCJQcm9taXNlIiwicmVqZWN0IiwiZXJybXNnIiwiZ2V0VXJsIiwibG9hZElEbXBSZXNvdXJjZSIsInNldFRpbWVvdXQiLCJjb25zb2xlIiwibG9nIiwicmVzb2x2ZSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb21wb25lbnQiLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsInJlZiIsImF0dHJzIiwic3RhdGljQ2xhc3MiLCJfZSJdLCJtYXBwaW5ncyI6InFJQUdBLElBQUlBLEVBQVUsRUFBUSxRQUNBLGlCQUFaQSxJQUFzQkEsRUFBVSxDQUFDLENBQUNDLEVBQU9DLEVBQUlGLEVBQVMsTUFDN0RBLEVBQVFHLFNBQVFGLEVBQU9HLFFBQVVKLEVBQVFHLFNBRy9CRSxFQURILEVBQVEsUUFBNkZDLFNBQzlGLFdBQVlOLEdBQVMsRUFBTSxDQUFDLFdBQVksRUFBTSxZQUFhLEssb0NDUjVFLFcsc0JDQVVDLEVBQU9HLFFBQVUsRUFBUSxPQUFSLEVBQWlGLElBS3BHRyxLQUFLLENBQUNOLEVBQU9DLEVBQUksd0VBQXlFLE0sbURDTGxHLElDOENBLEksb0ZDOUNpZCxFRDhCamQsQ0FDRU0sS0FBTSxxQkFDTkMsS0FGRixXQUdJLE1BQU8sQ0FDTEMsSUFBSyxHQUNMQyxXQUFXLEVBQ1hDLE1BQU8sS0FHWEMsUUFURixXQVdJQyxLQUFLQyxlQUVQQyxVQWJGLFdBY0lGLEtBQUtHLFFBRVBDLFFBQVMsQ0FDUCxNQURKLHNKQUVBLFlBQ0Esa0JBSEEsU0FJQSwrQkFDQSxTQUNBLDRCQU5BLGNBUUEsa0JBUkEsNEZBVUksTUFWSixpSkFXQSxLQUNBLGlCQVpBLGdDQWNBLGFBZEEsT0FjQSxFQWRBLDZCQWdCQSw2QkFoQkEsY0FrQkEsMEJBQ0EsaUNBQ0EsVUFwQkEsVUFxQkEsZUFyQkEsZUFxQkEsRUFyQkEsT0FzQkEsV0F0QkEsa0JBdUJBLHlCQXZCQSw2RkF5QklDLE1BekJKLFdBMEJNLElBQU4sR0FDUUMsWUFBYSxTQUNiQyxRQUFTLFNBQ1RDLElBQUssV0FDTEMsUUFBUyxFQUFqQixrRUFDUUMsVUFBVyxPQUFuQiwrQkFDUUMsaUJBQWtCLHNCQUVwQixPQUFPLEVBQWIsNkJBQ1FDLElBQ1IsME1BQ1FqQixLQUFNa0IsS0FBS0MsVUFBVUMsS0FDN0Isa0JBQ1EsT0FBSUMsSUFBUUEsRUFBSUMsUUFDUEQsRUFBSUUsYUFFTkMsUUFBUUMsT0FBT0osRUFBSUssWUFHOUJDLE9BN0NKLFdBNkNBLGdFQUVBLFFBR00sT0FBTyxFQUFiLE9BQ0EsZ0JBQ0EsR0FDQSxDQUNRLElBQ1IsMkZBQ1EsS0FBUixrQ0FDUSxPQUFSLHFDQUVBLGtCQUNRLE9BQUlOLElBQVFBLEVBQUlDLFFBQ1BELEVBQUlKLElBRU5PLFFBQVFDLE9BQU9KLEVBQUlLLFlBRzlCRSxpQkFsRUosV0FrRUEsV0FDTSxPQUFPLElBQUlKLFNBQVEsU0FBekIsS0FFUUssWUFBVyxTQUFuQixHQUNVLEVBQVYsNEJBQ1lDLFFBQVFDLElBQUksVUFDWkMsS0FFRixFQUFWLDZCQUNZRixRQUFRQyxJQUFJLFVBQ1pOLE9BRVosT0FHSW5CLFlBakZKLFdBaUZBLFdBQ00yQixPQUFPQyxpQkFDYixXQUNBLFlBRVEsR0FEQSxRQUFSLGFBQ0EsZ0RBQ1UsT0FBViw0QkFDWSxFQUFaLE9BQ1ksWUFBWixTQUlBLE0sd0JFbklJQyxFQUFZLFlBQ2QsR0hUVyxXQUFhLElBQWlCQyxFQUFUL0IsS0FBZ0JnQyxlQUFtQkMsRUFBbkNqQyxLQUEwQ2tDLE1BQU1ELElBQUlGLEVBQUcsT0FBT0UsRUFBRyxlQUFlLENBQUNFLElBQUksU0FBU0MsTUFBTSxDQUFDLE1BQVEsU0FBUyxlQUFlLFdBQVcsQ0FBaEpwQyxLQUF5SixJQUFFaUMsRUFBRyxTQUFTLENBQUNFLElBQUksTUFBTUUsWUFBWSxXQUFXRCxNQUFNLENBQUMsSUFBaE5wQyxLQUEwTkosSUFBSSxNQUFRLE9BQU8sT0FBUyxPQUFPLFlBQWMsT0FBM1FJLEtBQXNSc0MsS0FBS0wsRUFBRyxpQkFBaUIsQ0FBQ0csTUFBTSxDQUFDLGFBQXZUcEMsS0FBd1VILFVBQVUsWUFBbFZHLEtBQWtXSCxZQUFsV0csS0FBb1hKLElBQUksYUFBYSxRQUFRLEtBQU8sWUFBWSxLQUM1YSxJR1dwQixFQUNBLEtBQ0EsV0FDQSxNQUlhLFVBQUFrQyxFIiwiZmlsZSI6ImpzL2NodW5rLTcwZmI0NjIzLmpzP3YxNjA4NzE0NDUxMTk1Iiwic291cmNlc0NvbnRlbnQiOlsiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY3NzLWxvYWRlckAxLjAuMUBjc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTgtb25lT2YtMS0xIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS45LjVAdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19zYXNzLWxvYWRlckA3LjEuMEBzYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTgtb25lT2YtMS00IS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9YzRkZGIwNjAmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1zdHlsZS1sb2FkZXJANC4xLjJAdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCIxNDBkY2ZhOFwiLCBjb250ZW50LCB0cnVlLCB7XCJzb3VyY2VNYXBcIjpmYWxzZSxcInNoYWRvd01vZGVcIjpmYWxzZX0pOyIsImV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLXN0eWxlLWxvYWRlckA0LjEuMkB2dWUtc3R5bGUtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTgtb25lT2YtMS0wIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY3NzLWxvYWRlckAxLjAuMUBjc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTgtb25lT2YtMS0xIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS45LjVAdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19zYXNzLWxvYWRlckA3LjEuMEBzYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTgtb25lT2YtMS00IS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9YzRkZGIwNjAmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY3NzLWxvYWRlckAxLjAuMUBjc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuemphcHAgLnNob3ctZG1wW2RhdGEtdi1jNGRkYjA2MF17d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtib3JkZXI6bm9uZX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygncGFnZS1jb250ZW50Jyx7cmVmOlwicGFyZW50XCIsYXR0cnM6e1widGl0bGVcIjpcIumYsueWq+S4k+mhueeci+adv1wiLFwic2hvdy1nby1yb290XCI6XCJSZXBvcnRcIn19LFsoX3ZtLnNyYyk/X2MoJ2lmcmFtZScse3JlZjpcImRtcFwiLHN0YXRpY0NsYXNzOlwic2hvdy1kbXBcIixhdHRyczp7XCJzcmNcIjpfdm0uc3JjLFwid2lkdGhcIjpcIjEwMCVcIixcImhlaWdodFwiOlwiMTAwJVwiLFwiZnJhbWVib3JkZXJcIjpcIjBcIn19KTpfdm0uX2UoKSxfYygnbG9hZGluZy1zdGF0dXMnLHthdHRyczp7XCJpcy1sb2FkaW5nXCI6X3ZtLmlzTG9hZGluZyxcImlzLWVtcHR5XCI6IV92bS5pc0xvYWRpbmcgJiYgIV92bS5zcmMsXCJlbXB0eS10ZXh0XCI6J+W9k+WJjeaXoOe9kee7nCcsXCJ0eXBlXCI6J2Vycm9yJ319KV0sMSl9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIjx0ZW1wbGF0ZT5cbiAgPHBhZ2UtY29udGVudFxuICAgIHRpdGxlPVwi6Ziy55ar5LiT6aG555yL5p2/XCJcbiAgICBzaG93LWdvLXJvb3Q9XCJSZXBvcnRcIlxuICAgIHJlZj1cInBhcmVudFwiXG4gID5cbiAgICA8aWZyYW1lXG4gICAgICBjbGFzcz1cInNob3ctZG1wXCJcbiAgICAgIHJlZj1cImRtcFwiXG4gICAgICB2LWlmPVwic3JjXCJcbiAgICAgIDpzcmM9XCJzcmNcIlxuICAgICAgd2lkdGg9XCIxMDAlXCJcbiAgICAgIGhlaWdodD1cIjEwMCVcIlxuICAgICAgZnJhbWVib3JkZXI9XCIwXCJcbiAgICA+PC9pZnJhbWU+XG4gICAgPGxvYWRpbmctc3RhdHVzXG4gICAgICA6aXMtbG9hZGluZz1cImlzTG9hZGluZ1wiXG4gICAgICA6aXMtZW1wdHk9XCIhaXNMb2FkaW5nICYmICFzcmNcIlxuICAgICAgOmVtcHR5LXRleHQ9XCIn5b2T5YmN5peg572R57ucJ1wiXG4gICAgICA6dHlwZT1cIidlcnJvcidcIlxuICAgIC8+XG4gIDwvcGFnZS1jb250ZW50PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgQUVTIGZyb20gJ0BzcmMvdXRpbHMvY3J5cHRvL2Flcyc7XG5pbXBvcnQgV2ViU2VydmljZSBmcm9tICdAc3JjL3NlcnZpY2UvY29tbW9uL3dlYi1zZXJ2aWNlJztcbmltcG9ydCBjb250ZXh0IGZyb20gJ0BzcmMvZnJhbWV3b3JrL2NvbnRleHQnO1xuaW1wb3J0IHsgVG9hc3QgfSBmcm9tICd2YW50JztcbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ05jb3ZSZXBvcnRETVBJbmRleCcsXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNyYzogJycsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgdG9rZW46ICcnLFxuICAgIH07XG4gIH0sXG4gIGNyZWF0ZWQoKSB7XG4gICAgLy8g5aSE55CG56ys5LiJ5pa56aG16Z2i77yMdG9rZW7ov4fml7ZcbiAgICB0aGlzLmVycm9ySGFuZGVsKCk7XG4gIH0sXG4gIGFjdGl2YXRlZCgpIHtcbiAgICB0aGlzLmluaXQoKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGFzeW5jIGluaXQoKSB7XG4gICAgICB0aGlzLnNyYyA9ICcnO1xuICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgY29uc3Qgc3JjID0gYXdhaXQgdGhpcy5sb2FkKCkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgdGhpcy5zcmMgPSAnJztcbiAgICAgICAgVG9hc3QoZXJyICYmIGVyci5lcnJtc2cpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIH0sXG4gICAgYXN5bmMgbG9hZCgpIHtcbiAgICAgIGxldCB0b2tlbiA9ICcnO1xuICAgICAgaWYgKEFQUF9FTlYgIT09ICdkaXN0Jykge1xuICAgICAgICAvLyDlj6rmnInmraPlvI/njq/looPlj6/ku6Xkvb/nlKhkbXDlsI/lsY/vvIzkuLrkuobmtYvor5Xnjq/looPlj6/ku6Xkvb/nlKjvvIzmqKHmi5/nmbvpmYZcbiAgICAgICAgdG9rZW4gPSBhd2FpdCB0aGlzLmxvZ2luKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2tlbiA9IGNvbnRleHQuZ2V0VXNlcigpLmFjY2Vzc190b2tlbjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld1Rva2VuID0gd2luZG93Ll9fWUxfU1VQRVJfQVBQX19cbiAgICAgICAgPyB7IHN1cGVyX2FwcF90b2tlbjogY29udGV4dC5nZXRUb2tlbigpIH1cbiAgICAgICAgOiB7IHRva2VuIH07XG4gICAgICBjb25zdCB1cmwgPSBhd2FpdCB0aGlzLmdldFVybChuZXdUb2tlbik7XG4gICAgICB0aGlzLnNyYyA9IHVybDtcbiAgICAgIHJldHVybiB0aGlzLmxvYWRJRG1wUmVzb3VyY2UoKTtcbiAgICB9LFxuICAgIGxvZ2luKCkge1xuICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICB0ZW5hbnRfY29kZTogJ215c29mdCcsXG4gICAgICAgIGFjY291bnQ6ICflu7rorr7ljZXkvY1YWScsXG4gICAgICAgIHB3ZDogJ1Rlc3QxMjM0JyxcbiAgICAgICAgcHdkX2VuYzogQUVTLmVuY3J5cHQoJ1Rlc3QxMjM0JywgJ081N0RMU09WME1KWTgxUTgnLCAnQ0JDJywgJ1hGSk1KSjkyNFk0TDJQRzknKSxcbiAgICAgICAgZGV2aWNlX2lkOiAod2luZG93LmRldmljZSAmJiB3aW5kb3cuZGV2aWNlLnV1aWQpIHx8ICcnLFxuICAgICAgICBhcHBsaWNhdGlvbl9jb2RlOiAnTW9iaWxlQ2hlY2tRdWFsaXR5JyxcbiAgICAgIH07XG4gICAgICByZXR1cm4gV2ViU2VydmljZS5wb3N0KCcvY29tbW9uL3Byb3h5JywgbnVsbCwge1xuICAgICAgICB1cmw6XG4gICAgICAgICAgJ2h0dHBzOi8vYXBwemoubXl5c2NtLmNvbS9jb21tb24vbG9naW4/bz1teXNvZnQmaXNfd2lmaT0xJmFwcF92ZXJzaW9uPTMuMS41MzkzJnBsYXRmb3JtPUFuZHJvaWQmYXBwbGljYXRpb25JZD11bmRlZmluZWQmZGV2aWNlVG9rZW49dW5kZWZpbmVkJm1hbnVmYWN0dXJlcj11bmRlZmluZWQmcHVzaENoYW5uZWw9dW5kZWZpbmVkJmFjY2Vzc190b2tlbj0nLFxuICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShwYXJhbXMpLFxuICAgICAgfSkudGhlbihyZXMgPT4ge1xuICAgICAgICBpZiAocmVzICYmICFyZXMuZXJyY29kZSkge1xuICAgICAgICAgIHJldHVybiByZXMuYWNjZXNzX3Rva2VuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMuZXJybXNnKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0VXJsKHRva2VuID0ge30pIHtcbiAgICAgIGNvbnN0IHVybCA9XG4gICAgICAgIEFQUF9FTlYgPT09ICdkaXN0J1xuICAgICAgICAgID8gJ2h0dHBzOi8vYmlnZGF0YS5teXlzY20uY29tL2RtcC95ZncvYWNjZXNzLWF1dGg/Yml6X2NvZGU9OWExYTkyZDNhZDBkNDEzMGI3YjZlZjc5NDcyYzBlN2QnXG4gICAgICAgICAgOiAnaHR0cHM6Ly9iaWdkYXRhLXRlc3QubXl5c2NtLmNvbS9kbXAveWZ3L2FjY2Vzcy1hdXRoP2Jpel9jb2RlPTc2OWRkMmIyN2JlZDQzNWQ5OGU0MmI0MDkyODFkODIxJztcbiAgICAgIHJldHVybiBXZWJTZXJ2aWNlLnBvc3QoXG4gICAgICAgICcvY29tbW9uL3Byb3h5JyxcbiAgICAgICAge30sXG4gICAgICAgIHtcbiAgICAgICAgICB1cmw6XG4gICAgICAgICAgICAnaHR0cHM6Ly9iaWdkYXRhLm15eXNjbS5jb20vZG1wL3lmdy9hY2Nlc3MtYXV0aD9iaXpfY29kZT05YTFhOTJkM2FkMGQ0MTMwYjdiNmVmNzk0NzJjMGU3ZCcsXG4gICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoSlNPTi5zdHJpbmdpZnkodG9rZW4pKSxcbiAgICAgICAgICBoZWFkZXI6IFsnQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uJ10sXG4gICAgICAgIH1cbiAgICAgICkudGhlbihyZXMgPT4ge1xuICAgICAgICBpZiAocmVzICYmICFyZXMuZXJyY29kZSkge1xuICAgICAgICAgIHJldHVybiByZXMudXJsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMuZXJybXNnKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgbG9hZElEbXBSZXNvdXJjZSgpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIC8vIOeiuuWumui1hOa6kOaYr+WQpui/h+acn1xuICAgICAgICBzZXRUaW1lb3V0KF8gPT4ge1xuICAgICAgICAgIHRoaXMuJHJlZnMuZG1wLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+i1hOa6kOWKoOi9veaIkOWKnycpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy4kcmVmcy5kbXAub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+i1hOa6kOWKoOi9veWksei0pScpO1xuICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGVycm9ySGFuZGVsKCkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdtZXNzYWdlJyxcbiAgICAgICAgZSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+aOpeaUtuWIsOa2iOaBrycpO1xuICAgICAgICAgIGlmIChlICYmIGUudHlwZSA9PT0gJ21lc3NhZ2UnICYmIGUuZGF0YSA9PT0gJ3Rva2VuLXRpbWVvdXQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbml0KCkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5zcmMgPSAnJztcbiAgICAgICAgICAgICAgVG9hc3QoZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgfSxcbiAgfSxcbn07XG48L3NjcmlwdD5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cbi5zaG93LWRtcCB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJvcmRlcjogbm9uZTtcbn1cbjwvc3R5bGU+XG4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdGhyZWFkLWxvYWRlckAyLjEuM0B0aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fYmFiZWwtbG9hZGVyQDguMi4xQGJhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL190aHJlYWQtbG9hZGVyQDIuMS4zQHRocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19iYWJlbC1sb2FkZXJAOC4yLjFAYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NhY2hlLWxvYWRlckAyLjAuMUBjYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS43LjBAdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWM0ZGRiMDYwJnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPWM0ZGRiMDYwJmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcImM0ZGRiMDYwXCIsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==