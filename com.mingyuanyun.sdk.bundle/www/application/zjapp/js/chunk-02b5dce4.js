(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-02b5dce4","chunk-739f37c8"],{"0118":function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,".zjapp .check-guide-detail-box[data-v-399de7d9]{display:flex;flex-direction:column;width:100%;flex:1;overflow:auto;background-color:#f2f2f2}.zjapp .check-guide-detail-hd[data-v-399de7d9]{margin-left:30px;padding:25px 30px 5px 0}.zjapp .check-guide-detail-title[data-v-399de7d9]{margin:0;line-height:20px;font-size:18px;color:#111;font-weight:700;word-break:break-all}.zjapp .check-guide-detail-info[data-v-399de7d9]{line-height:20px;font-size:14px;color:#8c8c8c}.zjapp .check-guide-detail-content[data-v-399de7d9]{padding:30px;line-height:30px;color:#333;font-size:16px}.zjapp .check-guide-detail-content p[data-v-399de7d9]{margin-bottom:30px;min-height:1em}.zjapp .check-guide-detail-content img[data-v-399de7d9]{max-width:100%}.zjapp .check-guide-detail-content .img-not-ready[data-v-399de7d9]{width:80px;height:auto}.zjapp .error[data-v-399de7d9]{max-width:50%}",""])},"09d66":function(t,e,n){"use strict";n("2cdb")},"0bfc":function(t,e,n){"use strict";n("3d1d")},"0fef":function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,".zjapp .virtual-list-wrapper[data-v-6215c9e4]{width:100%;overflow:auto;position:relative}.zjapp .virtual-list-wrapper .list-phantom[data-v-6215c9e4]{position:absolute;top:0;left:0;right:0;z-index:-1}.zjapp .virtual-list-wrapper .list-content[data-v-6215c9e4]{position:absolute;top:0;left:0;right:0}.zjapp .virtual-list-wrapper .list-content .list-item[data-v-6215c9e4]{display:flex;align-items:center;box-sizing:border-box}",""])},1304:function(t,e,n){"use strict";var a=n("c5a7");e.__esModule=!0,e.SlotsMixin=void 0;var i=a(n("329b")).default.extend({methods:{slots:function(t,e){void 0===t&&(t="default");var n=this.$slots,a=this.$scopedSlots[t];return a?a(e):n[t]}}});e.SlotsMixin=i},"19a9":function(t,e,n){"use strict";n("7d4e")},"1d8e":function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,".zjapp .checkitem-box[data-v-422b1b31]{width:100%;flex:1;display:flex;flex-direction:column}.zjapp .flex-box[data-v-422b1b31]{flex:1;display:flex;align-self:center;justify-content:center}.zjapp .tab-box[data-v-422b1b31]{overflow:auto;padding-bottom:50px}.zjapp .van-tabs[data-v-422b1b31] {width:100%;flex:1}.zjapp .van-tabs[data-v-422b1b31] .van-tabs__nav{padding-left:15px;padding-right:0}.zjapp .van-tabs[data-v-422b1b31] .van-tabs__nav .van-tab{flex:0 0 90px!important}.zjapp .van-tabs[data-v-422b1b31] .van-tabs__nav .van-tab:first-child{flex:0 0 auto!important;max-width:85px;margin:0 10px 0 0;padding-left:0}.zjapp .van-tabs[data-v-422b1b31] .van-tabs__wrap{height:46px;padding-top:4px;padding-right:16px}.zjapp .van-tabs[data-v-422b1b31] .van-hairline--top-bottom:after{border-top-width:0}.zjapp .van-tabs[data-v-422b1b31] .van-cell{flex-shrink:0;font-size:14px;padding:8px 16px}.zjapp .van-tabs[data-v-422b1b31] .van-cell .icon-qualified{color:#4275e8}.zjapp .van-tabs[data-v-422b1b31] .van-cell__title{white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important}",""])},2064:function(t,e,n){"use strict";e.__esModule=!0,e.addUnit=function(t){if(!(0,a.isDef)(t))return;return t=String(t),(0,i.isNumber)(t)?t+"px":t};var a=n("b7b4"),i=n("f24f")},2567:function(t,e,n){"use strict";(function(t){n("f548"),n("cc57");var a=n("fd50"),i=n("774b"),r=n("fa4f"),o=n("3bd5"),s=n("3516"),c=n("6144"),l=n("bc69"),u=n("5b5e"),d=n("3122"),p=n("48f4"),h=n("07d2"),f=n("6bf2"),g=n.n(f),b=n("a500"),m=n("f7ab"),v=n("6f9e"),x=n("e2a7"),y=n("6718"),_=n("a18c"),w=n("8d95"),k=n("9416"),j=n("a589");e.a={name:"CheckIndex",components:{CheckGuide:j.a,Scroller:i.default,ItemList:r.a,Item:h.default,SynchronizeTipBar:m.a,SwipeTabs:y.b,SwipeTab:y.a},data:function(){return{title:Object(k.a)(w.a.CHECK)||"现场检查",isLoadingBatch:!0,defaultBatch:{},hasNewBatchRights:!1,tabIndex:0,draftLimit:10,draftData:[],isDraftLoading:!1,submittedLimit:10,submittedData:[],isSubmitLoading:!1}},computed:{tabsWidth:function(){return window.innerWidth/2},draftDataShow:function(){return this.draftData&&this.draftData.length?this.draftData.slice(0,this.draftLimit):[]},submittedDataShow:function(){return this.submittedData&&this.submittedData.length?this.submittedData.slice(0,this.submittedLimit):[]},batchText:function(){return this.isLoadingBatch?"正在加载检批次...":this.defaultBatch&&this.defaultBatch.id?this.defaultBatch.is_closed?"上次使用的批次已关闭":this.defaultBatch.name:this.hasNewBatchRights?"请新建一个检查批次":"暂无与你相关的检查批次"},batchTips:function(){return this.isLoadingBatch?"":this.defaultBatch&&this.defaultBatch.id&&!this.defaultBatch.is_closed?"切换批次":""},batchArrow:function(){return!this.isLoadingBatch&&(!(!this.defaultBatch||!this.defaultBatch.id)||this.hasNewBatchRights)}},created:function(){Object(v.e)(this.init)},activated:function(){var t=c.a.getString("check-index-tab-index");t&&(this.tabIndex=parseInt(t),c.a.remove("check-index-tab-index")),this.init()},methods:{backEvent:function(){window.__YL_SUPER_APP__?_.a.back():this.$router.replace("/layout/workbench",!0)},onRefresh:function(t){this.init().then((function(){"function"==typeof t&&t(!1)}))},openCheckGuide:function(){if(!this.defaultBatch||!this.defaultBatch.id)return x.a.alert("请先选择批次"),!1;this.$refs["popup-check-guide"].openPopup()},batchClick:function(){this.isLoadingBatch||(this.defaultBatch&&this.defaultBatch.id?(b.a.addTrack("现场检查-首页-进入批次列表"),this.$router.push("/checkBatchList")):this.hasNewBatchRights&&this.$router.push("/checkBatchAdd"))},problemAdd:function(t){this.defaultBatch.id&&!this.defaultBatch.is_closed?this.$router.push({name:"CheckEdit"}):x.a.alert("请先选择检查批次")},problemEdit:function(t){this.$router.push({name:"CheckEdit",params:{id:t.id}})},problemDetail:function(t){this.$router.push({name:"CheckDetail",params:{id:t.id}})},init:function(){var t=this;return this.getDetaulBatch().then((function(){return t.getDraftData()})).then((function(){return t.getSubmittedData()}))},getDetaulBatch:function(){var t=this,e=o.a.getUser(),n=c.a.getObject(l.a.HOME_PAGE_DEFAULT_PROJECT,c.a.level.user)||{};return this.isLoadingBatch=!0,s.a.checkUserBatchRights(e.user_id).then((function(e){t.hasNewBatchRights=!!e})).then((function(){return s.a.getDefaultBatch("安全文明",n.id).then((function(e){e?t.defaultBatch=e:(t.defaultBatch={},t.draftData=[],t.submittedData=[])}))})).finally((function(){t.isLoadingBatch=!1}))},getDraftData:function(){var e=this;return this.isDraftLoading=!0,this.defaultBatch.is_closed?(this.draftData=[],this.isDraftLoading=!1,a.a.when()):u.a.getCheckProblemDraftList(this.defaultBatch.id).then((function(n){t.each(n,(function(t){t.thumbnail=d.a.getDefaultThumbnailFromList(t.image_file,"安全文明"),t.regist_date=g()(t.created_on).format("MM-DD HH:mm")})),e.draftData=n,e.isDraftLoading=!1}))},getSubmittedData:function(){var e=this;return this.isSubmitLoading=!0,this.defaultBatch.is_closed?(this.submittedData=[],this.isSubmitLoading=!1,a.a.when()):u.a.getCheckProblemList(this.defaultBatch.id).then((function(n){var a=t.filter(n.data,(function(t){var e=JSON.parse(t.image_file||"[]");return t.thumbnail=d.a.getDefaultThumbnailFromList(e,"安全文明"),t.regist_date=g()(t.regist_date).format("MM-DD HH:mm"),d.a.isNeedThumbnail(e)}));p.default.autoLoadThumbnail(a,"安全文明","image_file","thumbnail","checkquality_problem"),e.submittedData=n.data,e.isSubmitLoading=!1}))},pageDraft:function(){this.draftLimit=this.draftLimit+10},pageSubmit:function(){this.submittedLimit=this.submittedLimit+10}}}}).call(this,n("391c"))},"25e0":function(t,e,n){var a=n("5570");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n("85cb").default)("5ddc5216",a,!0,{sourceMap:!1,shadowMode:!1})},"27c4":function(t,e,n){var a=n("db6b2");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n("85cb").default)("42e360af",a,!0,{sourceMap:!1,shadowMode:!1})},"286a":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return h}));n("5ab2"),n("e10e");var a=n("4c09"),i=(n("cc57"),n("6d57"),n("28f8")),r=(n("6a61"),n("2e91")),o=n("0e4d"),s=n("94ef"),c=n("4184"),l=n("a7c3"),u=n("eb9d");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h=function(){function e(t){Object(o.a)(this,e),this.sectionId=t.sectionId,this.moduleType=t.moduleType,this.moduleName=u.b[t.moduleType],this.moduleCode=u.c[t.moduleType]}var n,i,d,h,f;return Object(s.a)(e,[{key:"getModule",value:function(){return{moduleType:this.moduleType,moduleCode:this.moduleCode,moudleName:this.moudleName}}},{key:"getSectionId",value:function(){return this.sectionId}},{key:"getVisibleConfig",value:(f=Object(r.a)(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.time("获取可见性配置"),e=u.d[this.moduleType]||{},n=l.a[e.mmkv_item]+"_"+this.sectionId,t.next=6,mmkv.getUserKey(n);case 6:return a=t.sent,console.timeEnd("获取可见性配置"),t.abrupt("return",a);case 11:return t.prev=11,t.t0=t.catch(0),console.log("获取可见性，报错",t.t0),mmkv.setUserKey(key,null),t.abrupt("return",null);case 16:case"end":return t.stop()}}),t,this,[[0,11]])}))),function(){return f.apply(this,arguments)})},{key:"filterVisibleData",value:function(e,n){return n?t.isEmpty(n)?[]:e=e.filter((function(t){return!!n[t.id]})):e}},{key:"getRootItemId",value:(h=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.a.getRootItemId(this.moduleCode).then((function(e){var n=null;return t.isEmpty(e)||(n=e.id),n})));case 1:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"getItemById",value:function(t){return c.a.getItemById(t)}},{key:"getItemByIds",value:function(t){return t=Array.isArray(t)?t:[t],c.a.getItemByIds(t)}},{key:"getSectionIsExistItemById",value:(d=Object(r.a)(regeneratorRuntime.mark((function e(n){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.getSectionItemById(n,this.sectionId,this.moduleName);case 2:return a=e.sent,i=!0,t.isEmpty(a)&&(i=!1),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)}))),function(t){return d.apply(this,arguments)})},{key:"getSectionItemsByParentId",value:(i=Object(r.a)(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.time("根据pid获取数据"),e.next=3,c.a.getSectionItemsByParentId(n,this.sectionId,this.moduleName,this.moduleCode);case 3:return a=e.sent,console.log("查询检查项数据",{desc:"getSectionItemsByParentId",data:a.length}),t.isEmpty(a)||(a=a.map((function(t){return p(p({},t),{},{type:u.a,checked:!1})}))),console.timeEnd("根据pid获取数据"),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)}))),function(t){return i.apply(this,arguments)})},{key:"setItemsIsEnd",value:(n=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.getSectionItemsParentId(this.sectionId,this.moduleName);case 2:return n=t.sent,console.log("获取所有pid",{desc:"getSectionItemsParentId",data:n.length}),a={},n.forEach((function(t){a[t.parent_id]=!0})),t.abrupt("return",e.map((function(t){var e=!0;return a[t.id]&&(e=!1),p(p({},t),{},{isEnd:e})})));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"searchSectionItemsByName",value:function(t){return c.a.getSectionItemByName({name:t.name,pageSize:t.pageSize,page:t.page,sectionId:this.sectionId,type:this.moduleName,code:this.moduleCode})}},{key:"listToTree",value:function(e){if(t.isEmpty(e))return[];console.time("转为树形结构");var n=t.filter(e,(function(n){return""===n.parent_id||null===n.parent_id||void 0===n.parent_id||!t.some(e,{id:n.parent_id})})),i=t.map(n,(function(n){return n.isOpen=!0,n.children=[].concat(Object(a.a)(n.children||[]),Object(a.a)(function e(n,i){var r=[],o=t.filter(i,{parent_id:n.id});return t.each(o,(function(n){t.some(i,{parent_id:n.id})&&(n.isOpen=!0,n.children=[].concat(Object(a.a)(n.children||[]),Object(a.a)(e(n,i)))),r.push(n)})),r}(n,e))),n}));return console.timeEnd("转为树形结构"),i}}]),e}()}).call(this,n("391c"))},"28f6":function(t,e,n){var a=n("1d8e");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n("85cb").default)("18bc4400",a,!0,{sourceMap:!1,shadowMode:!1})},"2a32":function(t,e,n){"use strict";(function(t){n("5ab2"),n("e10e"),n("6d57"),n("cc57");var a,i,r,o,s,c,l=n("28f8"),u=(n("e697"),n("6a61"),n("2e91")),d=n("eb9d"),p=n("6f2b");n("a7c3");function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(l.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a={components:{VirtualList:p.a},props:{data:{type:Object},selected:{type:Object},selectedDesc:{type:Object}},data:function(){return{loading:!1,isNeedInit:!0,activeTab:"",tabList:[],isFlag:!1}},computed:{isIOS:function(){return this.$store.state.app.isIOS},length:function(){return this.tabList.length},maxScrollHeight:function(){return.7*$rootScope.viewSize.height-144}},methods:{init:(c=Object(u.a)(regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.loading=!0,this.isNeedInit=!0,this.activeTab="",this.isFlag=!1,!t.isEmpty(this.selected)&&this.selected.id){e.next=9;break}return e.next=7,this.setInitData();case 7:e.next=11;break;case 9:return e.next=11,this.setDefaultData();case 11:this.loading=!1,this.$nextTick((function(){n.activeTab=n.length-1,n.$nextTick((function(){n.domIntoView(n.tabList.length-1)}))}));case 13:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)}),setInitData:(s=Object(u.a)(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("初始化数据"),e.next=3,this.data.getRootItemId();case 3:if(n=e.sent,console.log("获取检查项id",n),t.isEmpty(n)){e.next=14;break}return e.next=8,this.getTabData(n);case 8:a=e.sent,console.log("获取一级检查项数据"),this.tabList=[],t.isEmpty(a)||this.addTab("请选择",a),e.next=15;break;case 14:this.tabList=[];case 15:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)}),setDefaultData:(o=Object(u.a)(regeneratorRuntime.mark((function e(){var n,a,i,r,o,s,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=null,e.next=4,this.data.getSectionIsExistItemById(this.selected.id);case 4:if(e.sent){e.next=8;break}return console.log("检查项移除（可能标段不勾选），重置"),e.abrupt("return",this.setInitData());case 8:return e.next=10,this.data.getItemVisible(this.selected.id);case 10:if(e.sent){e.next=14;break}return console.log("检查项不可见，重置"),e.abrupt("return",this.setInitData());case 14:if(t.isEmpty(this.selectedDesc)||!this.selectedDesc.id){e.next=27;break}return n=this.selected.id,e.next=18,this.data.getDescItems(this.selected.id);case 18:if(a=e.sent,!t.isEmpty(a)){e.next=21;break}return e.abrupt("return",this.setInitData());case 21:(i=a.find((function(t){return t.id===c.selectedDesc.id}))).checked=!0,this.tabList=[],this.setTab(i,a),e.next=35;break;case 27:return n=this.selected.parent_id,e.next=30,this.getTabData(this.selected.parent_id);case 30:r=e.sent,(o=r.find((function(t){return t.id===c.selected.id}))).checked=!0,this.tabList=[],this.setTab(o,r);case 35:if(!n){e.next=46;break}return e.next=38,this.data.getItemById(n);case 38:if((s=e.sent)&&s.parent_id){e.next=42;break}return n=null,e.abrupt("continue",35);case 42:n=s.parent_id,this.setTab(s,[],"prev"),e.next=35;break;case 46:e.next=52;break;case 48:return e.prev=48,e.t0=e.catch(0),console.error("初始化失败",e.t0),e.abrupt("return",this.setInitData());case 52:case"end":return e.stop()}}),e,this,[[0,48]])}))),function(){return o.apply(this,arguments)}),domIntoView:function(t){var e=this.$refs.tabs||[];if(console.log("加载的dom元素",e),e[t]){var n=e[t].$el.querySelector(".actived");console.log("选中的dom",n),n&&(n.scrollIntoViewIfNeeded?n.scrollIntoViewIfNeeded():n.scrollIntoView())}},addTab:function(t,e,n){"prev"===n?this.tabList.unshift({name:t,children:e}):this.tabList.push({name:t,children:e})},clearTab:function(t){this.tabList.splice(t+1)},updateTab:function(t,e){this.$set(this.tabList,e,f(f({},this.tabList[e]),t))},setTab:function(t,e,n){this.addTab(t.name,e,n),"prev"===n?this.updateTab(t,0):this.updateTab(t,this.length-1)},changeTab:(r=Object(u.a)(regeneratorRuntime.mark((function e(n){var a,i,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.activeTab=n,a=this.tabList[n],!t.isEmpty(a.children)){e.next=10;break}return e.next=5,this.getTabData(a.parent_id);case 5:(i=e.sent).find((function(t){return t.id===a.id})).checked=!0,this.updateTab({children:i},n),this.$nextTick((function(){r.domIntoView(n)}));case 10:case"end":return e.stop()}}),e,this)}))),function(t){return r.apply(this,arguments)}),getTabData:(i=Object(u.a)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.data.getItemsData(e);case 2:return n=t.sent,console.log("获取到检查项数据"),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),onSelectPositionItem:(a=Object(u.a)(regeneratorRuntime.mark((function e(n,a,i){var r,o,s,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isEmpty(n)&&!this.isFlag){e.next=2;break}return e.abrupt("return");case 2:if(this.isFlag=!0,a.forEach((function(t){return t.checked=!1})),n.checked=!0,this.updateTab(n,i),this.clearTab(i),n.type!==d.e){e.next=12;break}return this.isFlag=!1,r=this.tabList[i-1],o={id:r.id,full_name:r.full_name,name:r.name,code:r.code,parentId:r.parent_id,parent_id:r.parent_id},e.abrupt("return",this.$emit("change",{checkItem:o,questionItem:n,questionItems:a}));case 12:return e.next=14,this.getTabData(n.id);case 14:if(s=e.sent,this.isFlag=!1,!t.isEmpty(s)){e.next=18;break}return e.abrupt("return",this.$emit("change",{checkItem:n}));case 18:this.addTab("请选择",s),this.$nextTick((function(){c.changeTab(i+1)}));case 20:case"end":return e.stop()}}),e,this)}))),function(t,e,n){return a.apply(this,arguments)}),clearData:function(){console.log("清空检查项数据"),this.tabList=[]}}}}).call(this,n("391c"))},"2cdb":function(t,e,n){var a=n("9990");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n("85cb").default)("693aef86",a,!0,{sourceMap:!1,shadowMode:!1})},"2d6e":function(t,e,n){var a=n("7eb2");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n("85cb").default)("53a2fbaa",a,!0,{sourceMap:!1,shadowMode:!1})},3050:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;e.default={name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",complete:"完成",loading:"加载中...",telEmpty:"请填写电话",nameEmpty:"请填写姓名",confirmDelete:"确定要删除么",telInvalid:"请填写正确的电话",vanContactCard:{addText:"添加联系人"},vanContactList:{addText:"新建联系人"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计："},vanCoupon:{valid:"有效期",unlimited:"无使用门槛",discount:function(t){return t+"折"},condition:function(t){return"满"+t+"元可用"}},vanCouponCell:{title:"优惠券",tips:"使用优惠",count:function(t){return t+"张可用"}},vanCouponList:{empty:"暂无优惠券",exchange:"兑换",close:"不使用优惠",enable:"可使用优惠券",disabled:"不可使用优惠券",placeholder:"请输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码格式不正确",defaultAddress:"设为默认收货地址",telPlaceholder:"收货人手机号",namePlaceholder:"收货人姓名",areaPlaceholder:"选择省 / 市 / 区"},vanAddressEditDetail:{label:"详细地址",placeholder:"街道门牌、楼层房间号等信息"},vanAddressList:{add:"新增地址"}}},3600:function(t,e,n){var a=n("e304");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n("85cb").default)("0232c338",a,!0,{sourceMap:!1,shadowMode:!1})},"3d1d":function(t,e,n){var a=n("0fef");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n("85cb").default)("04625f49",a,!0,{sourceMap:!1,shadowMode:!1})},4184:function(t,e,n){"use strict";n("cc57");e.a={getRootItemId:function(t){return localDB.queryOne("SELECT pc.id \n                 FROM problem_class pc  where  type = ? and IFNULL(parent_id,'')=''",[t])},getSectionItems:function(t,e){return localDB.query("SELECT a.item_id, a.bidsection_id as sec_id, a.item_id, a.parent_id, a.repair, a.reinspect, a.cc, a.contractor_id\n                 FROM section_checkitem a where a.bidsection_id = ? and a.item_type = ?",[t,e])},getItems:function(t){return localDB.query("select a.id, a.code, a.name, a.full_name,a.process_mode, a.parent_id, length(ifnull(a.content,'')) as content_length,             '' as repair, '' as reinspect, '' as cc, '' as contractor_id, a.measurement_points            from problem_class a where a.type = ?  order by a.code, a.name",[t])},getItemById:function(t){return localDB.queryOne("select * from problem_class where id = ?",[t])},getItemByIds:function(t){t='"'.concat(t.join('", "'),'"');var e="select * from problem_class where id in (".concat(t,")");return localDB.query(e)},getSectionItemsByParentId:function(t,e,n,a){return localDB.query("\n        SELECT \n          pc.id,pc.parent_id,pc.name,pc.full_name\n        FROM problem_class pc\n        WHERE pc.type = ?\n        AND pc.id in (select item_id from section_checkitem bc where bc.parent_id = ? AND bc.item_type = ? AND bc.bidsection_id = ?)\n        AND length(pc.name)<>0\n        ORDER BY pc.code",[a,t,n,e])},getSectionItemsParentId:function(t,e){return localDB.query("SELECT DISTINCT parent_id FROM section_checkitem c WHERE c.bidsection_id = ? and c.item_type = ?",[t,e])},getSectionItemById:function(t,e,n){return localDB.queryOne("SELECT item_id as id\n                 FROM section_checkitem  where bidsection_id = ? and item_type = ? and item_id = ?",[e,n,t])},getSectionItemByName:function(t){t.page=t.page||1,t.pageSize=t.pageSize||1e3;var e="\n      SELECT pc.id,pc.parent_id,pc.name,pc.full_name FROM problem_class pc\n        INNER JOIN section_checkitem bc ON pc.id = bc.item_id \n        AND bc.bidsection_id = ?\n        AND bc.item_type = ?\n        WHERE pc.type = ?\n        AND pc.full_name LIKE '%".concat(t.name,"%'\n        ORDER BY pc.code\n        LIMIT ").concat((t.page-1)*t.pageSize,", ").concat(t.pageSize,"\n    ");return localDB.query(e,[t.sectionId,t.type,t.code])}}},4412:function(t,e,n){"use strict";e.__esModule=!0,e.createBEM=function(t){return function(e,n){return e&&"string"!=typeof e&&(n=e,e=""),e=a(t,e,"__"),n?[e,i(e,n)]:e}};function a(t,e,n){return e?t+n+e:t}function i(t,e){if("string"==typeof e)return a(t,e,"--");if(Array.isArray(e))return e.map((function(e){return i(t,e)}));var n={};return e&&Object.keys(e).forEach((function(a){n[t+"--"+a]=e[a]})),n}},4717:function(t,e,n){"use strict";n("f2fd")},"4aef":function(t,e,n){"use strict";var a=n("dd16").a,i=n("17cc"),r=Object(i.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("span",{class:this.classSet[this.status]},[this._v(this._s(this.text||this.status))])}),[],!1,null,null,null);e.a=r.exports},"4d0e":function(t,e,n){"use strict";n.d(e,"b",(function(){return a.a})),n.d(e,"a",(function(){return d}));var a=n("6d34"),i=(n("2b45"),n("fc58"),n("6a61"),n("2e91")),r=n("0e4d"),o=n("94ef"),s=n("76ff"),c=n("4b67"),l=n("d703");function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(l.a)(t);if(e){var i=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var d=function(t){Object(s.a)(a,t);var e,n=u(a);function a(){return Object(r.a)(this,a),n.apply(this,arguments)}return Object(o.a)(a,[{key:"getItemsData",value:(e=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSectionItemsByParentId(e);case 2:return n=t.sent,t.next=5,this.getVisibleConfig();case 5:return a=t.sent,n=this.filterVisibleData(n,a),t.abrupt("return",n);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"getCheckGuideDetail",value:function(t){return this.getItemById(t)}}]),a}(n("286a").a)},"4d1b":function(t,e,n){"use strict";var a=n("c5a7");e.__esModule=!0,e.default=void 0;var i=a(n("329b")),r=n("53a5"),o=a(n("3050")),s=i.default.prototype,c=i.default.util.defineReactive;c(s,"$vantLang","zh-CN"),c(s,"$vantMessages",{"zh-CN":o.default});var l={messages:function(){return s.$vantMessages[s.$vantLang]},use:function(t,e){var n;s.$vantLang=t,this.add(((n={})[t]=e,n))},add:function(t){void 0===t&&(t={}),(0,r.deepAssign)(s.$vantMessages,t)}};e.default=l},"53a5":function(t,e,n){"use strict";e.__esModule=!0,e.deepAssign=r;var a=n("b7b4"),i=Object.prototype.hasOwnProperty;function r(t,e){return Object.keys(e).forEach((function(n){!function(t,e,n){var o=e[n];(0,a.isDef)(o)&&(i.call(t,n)&&(0,a.isObj)(o)&&"function"!=typeof o?t[n]=r(Object(t[n]),e[n]):t[n]=o)}(t,e,n)})),t}},5570:function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,".zjapp .popup-customize-use-header[data-v-16a26812]{display:flex;flex-direction:column}[data-v-16a26812] .popup-customize-use-header.van-popup--bottom.van-popup--round{border-radius:10px 10px 0 0}.zjapp .popup-customize-use-header .popup-header[data-v-16a26812]{display:flex;align-items:center;justify-content:space-between;padding:0 15px;height:46px;border:none;background-image:linear-gradient(0deg,#ececec,#ececec 50%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}.zjapp .popup-customize-use-header .popup-header .popup-header__left[data-v-16a26812]{width:80px;flex-shrink:0}.zjapp .popup-customize-use-header .popup-header .popup-header__title[data-v-16a26812]{flex:1;text-align:center;font-size:18px}.zjapp .popup-customize-use-header .popup-header .popup-header__right[data-v-16a26812]{width:80px;flex-shrink:0;font-weight:800;text-align:right}.zjapp .popup-customize-use-header .popup-body[data-v-16a26812]{display:flex;position:relative;height:calc(100% - 46px);overflow:hidden}.zjapp .f-blue[data-v-16a26812]{color:#4275e8}.zjapp .f-gray[data-v-16a26812]{color:#666}",""])},6147:function(t,e,n){"use strict";e.__esModule=!0,e.createNamespace=function(t){return t="van-"+t,[(0,i.createComponent)(t),(0,a.createBEM)(t),(0,r.createI18N)(t)]};var a=n("4412"),i=n("7e06"),r=n("65af")},"65af":function(t,e,n){"use strict";var a=n("c5a7");e.__esModule=!0,e.createI18N=function(t){var e=(0,r.camelize)(t)+".";return function(t){for(var n=(0,i.get)(o.default.messages(),e+t)||(0,i.get)(o.default.messages(),t),a=arguments.length,r=new Array(a>1?a-1:0),s=1;s<a;s++)r[s-1]=arguments[s];return"function"==typeof n?n.apply(void 0,r):n}};var i=n("b7b4"),r=n("a1aa"),o=a(n("4d1b"))},"65e9":function(t,e,n){"use strict";(function(t){n("5ab2"),n("6d57"),n("e10e");var a=n("28f8"),i=n("4360"),r=n("48f4"),o=n("162a"),s=n("f2d3"),c=n("6906"),l=n("a18c"),u=n("c745");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(a.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a={name:"SynchronizeTipBar",props:{isTodo:{type:Boolean},useDownload:{type:Boolean,default:!0},enterDoCheck:{type:Boolean,default:!0},buildingId:{type:String,default:""},automaticUpdateCallback:{type:Function,default:null}},data:function(){return{currentModuleCode:"",oneUpdateData:!0}},computed:{projId:function(){return i.a.state.global.currentProject.id},waitUploadNum:function(){return i.a.state.global.waitUploadNum},hasTopProgress:function(){return i.a.state.global.hasTopProgress},hasChanged:function(){if(!this.useDownload)return!1;if(this.currentModuleCode){var t,e=r.default.isModuleNeedBuilding(this.currentModuleCode)&&!this.isTodo;return!(e&&!this.buildingId)&&(t=this.isTodo?i.a.state.global.todoChangedStatus||{}:i.a.state.global.businessChangedStatus||{},e?!!t[this.currentModuleCode]&&t[this.currentModuleCode][this.buildingId]:t[this.currentModuleCode])}return!1},show:function(){return(this.hasChanged||this.waitUploadNum)&&!this.hasTopProgress},oneDataSync:function(){return this.$store.state.app.oneDataSync}},watch:{hasChanged:function(t){var e=this;t&&this.$nextTick((function(){setTimeout((function(){var t=e.$refs["synchronize-tip-bar"];if(t&&t.style){t.style.display="none";t.offsetHeight;t.style.display="block"}}),100)}))},buildingId:function(t){this.currentModuleCode&&r.default.isModuleNeedBuilding(this.currentModuleCode)&&t&&(console.log("楼栋重新加载，是否再次自动加载数据：",this.oneUpdateData),this.oneUpdateData&&this.automaticLogic(),this.checkSync())},show:function(t){t?this.$emit("show"):this.$emit("hide")}},activated:function(){this.init()},methods:{init:function(){this.getCurrentModuleCode(),this.enterDoCheck&&!l.a.isBack&&this.checkSync(),this.automaticLogic()},automaticLogic:function(){var t=this;this.$router.isBack||(this.oneUpdateData=!0,u.a.getAutomaticLoadData().then((function(e){$log.log("是否要自动加载 ===> ",e&&t.oneDataSync&&"function"==typeof t.automaticUpdateCallback),e&&t.oneDataSync&&"function"==typeof t.automaticUpdateCallback&&t.dataSync().then((function(e){console.log("是否需要初始化页面 ====> ",Boolean(e)),e&&t.automaticUpdateCallback()}))})))},getCurrentModuleCode:function(){var t=r.default.getCurrentModuleCode(),e=this.isTodo?"todo":"";this.currentModuleCode=t||e},checkSync:function(){var e=this,n="checkDataUpdate",a=this.currentModuleCode,o=this.buildingId,l=i.a.state.global.isLeader?this.projId:"";return!r.default.isModuleNeedBuilding(a)||o||this.isTodo?(this.isTodo&&(n+="_todo"),a&&(n+="_".concat(a)),o&&(n+="_".concat(o)),c.a.execAfterInterval(120,n).then((function(){return e.isTodo?"todo"===a?s.a.getModuleList().then((function(e){var n=t.map(e,"code");return r.default.hasTodoChangedData("",n)})):r.default.hasTodoChangedData("",[a]):r.default.hasBusinessChangedData(l,[a],o)})).then((function(t){if(e.isTodo){var n=p({},i.a.state.global.todoChangedStatus);n[a]=t,i.a.commit("global/SET_TODO_CHANGED_STATUS",n)}else{var r=p({},i.a.state.global.businessChangedStatus);if(o){var s=r[a]?r[a]:{};s[o]=t,r[a]=s}else r[a]=t;i.a.commit("global/SET_BUSINESS_CHANGED_STATUS",r)}})).catch((function(t){return t&&!0===t.timeNotTo?($log.debug(t.msg),!1):$q.reject(t)}))):Promise.resolve()},dataSync:function(){var t=this.currentModuleCode,e=this.buildingId,n=r.default.isModuleNeedBuilding(t),a=n&&!e;return $log.log(["模块名：",t," 楼栋id：",e," 当前模块是否需要楼栋id：",n," 判断是否终止自动更新：",a]),a?Promise.resolve():(this.oneUpdateData=!1,o.a.beginManualUpdate(),r.default.checkSync(e).then((function(t){return o.a.endManualUpdate(),t})).catch((function(t){$log.error("自动更新错误",t),o.a.endManualUpdate()})))}}}}).call(this,n("391c"))},6718:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("163d"),n("cc57");var a=n("b7b4"),i={name:"SwipeTab",props:{title:{type:String}},data:function(){return{offset:0,style:{},bem:Object(a.createNamespace)("swipe-item")[1](),parent:{}}},computed:{index:function(){return this.parent.tabs.indexOf(this)}},beforeCreate:function(){this.$parent.swipes.push(this)},created:function(){this.findParent("SwipeTabs")},destroyed:function(){this.$parent.swipes.splice(this.$parent.swipes.indexOf(this),1)},mounted:function(){var t=this,e=this.parent.tabs,n=this.parent.$slots.default.indexOf(this.$vnode);e.splice(-1===n?e.length:n,0,this),this.$nextTick((function(){var e=t.$parent,n=e.vertical,a=e.computedWidth,i=e.computedHeight;t.style={width:a+"px",height:n?a+"px":i+"px",transform:"translate".concat(n?"Y":"X","(").concat(t.offset,"px)")}}))},methods:{findParent:function(t){for(var e=this.$parent;e;){if(e.$options.name===t){this.parent=e;break}e=e.$parent}}}},r=n("17cc"),o=Object(r.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("div",this._g({class:this.bem,style:this.style},this.$listeners),[this._t("default")],2)}),[],!1,null,null,null).exports,s={name:"SwipeTabs",model:{prop:"tabIndex",event:"change"},props:{tabIndex:{type:Number,default:0},markType:{type:String,default:"line"},showTabs:{type:Boolean,default:!0},touchable:{type:Boolean,default:!0}},data:function(){return{curIndex:0,initIndex:0,tabs:[],tabScrollVersion:null}},computed:{tabsPadding:function(){return Math.max(24-4*this.tabs.length,0)},markLeft:function(){var t=(100-2*this.tabsPadding)/this.tabs.length;return this.tabsPadding+(this.curIndex+.5)*t}},watch:{tabIndex:function(t){t!==this.curIndex&&(this.curIndex=t,this.$refs.swipe.swipeTo(t,{immediate:!0}))},curIndex:function(){this.scrollTabsTocurrent()}},created:function(){this.initIndex=this.tabIndex,this.curIndex=this.tabIndex},activated:function(){this.initIndex=this.tabIndex,this.curIndex=this.tabIndex},mounted:function(){this.$nextTick(this.scrollTabsTocurrent)},methods:{changeIndex:function(t){this.$refs.swipe.swipeTo(t)},onChange:function(t){this.curIndex=t,this.$emit("change",t)},scrollTabsTocurrent:function(){var t=this.$refs["tabs-scroll"],e=this.$refs["tab-point"]?this.$refs["tab-point"][this.curIndex]:null;if(t&&e){var n=t.getBoundingClientRect(),a=e.getBoundingClientRect(),i=a.left-n.left,r=n.right-a.right;i<0&&this.tabScrollBy(i),r<0&&this.tabScrollBy(-r)}},tabScrollBy:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a=this.$refs["tabs-scroll"];if(a){var i=a.scrollLeft,r=i+t,o=Math.round(n/16.7),s=t/o,c=i,l=this.tabScrollVersion=+new Date;return i===r?Promise.resolve():new Promise((function(t){!function n(){window.requestAnimationFrame((function(){l===e.tabScrollVersion&&(c+=s,a.scrollLeft=c,i<r&&c<r||i>r&&c>r?n():(a.scrollTop=r,t()))}))}()}))}}}},c=(n("bcf4"),Object(r.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swipe-tabs"},[t.showTabs?["line"===t.markType?n("div",{staticClass:"tabs border-bottom",style:{padding:"0 "+Math.max(24-4*t.tabs.length,0)+"%"}},[t._l(t.tabs,(function(e){return n("div",{key:e.index,staticClass:"tab",class:{"tab-current":e.index===t.curIndex},on:{click:function(n){t.changeIndex(e.index)}}},[t._v("\n        "+t._s(e.title)+"\n      ")])})),n("div",{staticClass:"mark-line",style:{left:t.markLeft+"%"}})],2):t._e(),"point"===t.markType?n("div",{staticClass:"tabs-point border-bottom"},[n("div",{ref:"tabs-scroll",staticClass:"tabs-scroll"},t._l(t.tabs,(function(e){return n("div",{key:e.index,ref:"tab-point",refInFor:!0,staticClass:"tab-point",class:{"tab-current":e.index===t.curIndex},on:{click:function(n){t.changeIndex(e.index)}}},[t._v("\n          "+t._s(e.title)+"\n        ")])})))]):t._e()]:t._e(),t._t("fixed"),n("van-swipe",{ref:"swipe",attrs:{"initial-swipe":t.initIndex,"show-indicators":!1,duration:250,loop:!1,touchable:t.touchable},on:{change:t.onChange}},[t._t("default")],2)],2)}),[],!1,null,"025feb99",null));e.b=c.exports},"6b55":function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,".zjapp .f-gray[data-v-1027cd2f]{color:#666}.zjapp .checkpoint-back[data-v-1027cd2f]{display:flex;align-items:center}.zjapp .checkpoint-back .icon-nav-back[data-v-1027cd2f]{font-size:22px}",""])},"6d34":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return m}));n("5ab2"),n("e10e"),n("2b45"),n("fc58"),n("cc57"),n("6d57");var a=n("4c09"),i=n("28f8"),r=(n("6a61"),n("2e91")),o=n("0e4d"),s=n("94ef"),c=n("76ff"),l=n("4b67"),u=n("d703"),d=n("286a"),p=n("a8a6"),h=n("eb9d");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(u.a)(t);if(e){var i=Object(u.a)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return Object(l.a)(this,n)}}var m=function(e){Object(c.a)(v,e);var n,i,l,u,d,f,m=b(v);function v(){return Object(o.a)(this,v),m.apply(this,arguments)}return Object(s.a)(v,[{key:"getItemsData",value:(f=Object(r.a)(regeneratorRuntime.mark((function e(n){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return $log.log("检查项",{desc:"获取检查项错误：未定义检查项parentId"}),e.abrupt("return",Promise.resolve([]));case 3:return console.time("检查项获取数据"),e.next=6,this.getSectionItemsByParentId(n);case 6:return a=e.sent,e.next=9,this.getVisibleConfig();case 9:if(i=e.sent,a=this.filterVisibleData(a,i),i=null,!t.isEmpty(a)){e.next=16;break}return e.next=15,this.getDescItems(n);case 15:a=e.sent;case 16:return console.timeEnd("检查项获取数据"),e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)}))),function(t){return f.apply(this,arguments)})},{key:"getDescItems",value:(d=Object(r.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.time("获取问题描述"),e=Array.isArray(e)?e:[e],t.abrupt("return",p.a.getAllDescByCheckIds(e).then((function(t){return t=t.map((function(t){return g(g({},t),{},{type:h.e,parent_id:t.class_id,checked:!1})})),console.timeEnd("获取问题描述"),t})));case 3:case"end":return t.stop()}}),t)}))),function(t){return d.apply(this,arguments)})},{key:"getSearchItemsData",value:(u=Object(r.a)(regeneratorRuntime.mark((function e(n){var i,r,o,s,c,l,u,d,p,h,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getVisibleConfig();case 2:i=e.sent,r=!1,o=0,s=[];case 6:return o++,console.time("根据名称搜索"),e.next=10,this.searchSectionItemsByName({name:n,page:o});case 10:c=e.sent,console.timeEnd("根据名称搜索"),s.push.apply(s,Object(a.a)(this.filterVisibleData(c,i))),$log.log("检查项搜索",{desc:"搜索结果",count:c.length}),$log.log("检查项搜索",{desc:"搜索结果可见性过滤",count:s.length}),r=c.length>999&&s.length<1e3;case 16:if(r){e.next=6;break}case 17:return i=null,l=s.map((function(t){return t.id})),e.next=21,this.getDescItems(l);case 21:return u=e.sent,console.log("descDataResult",u),console.time("根据名称搜索问题描述"),e.next=26,this.getSearchItemsDataByDesc(n);case 26:return d=e.sent,console.timeEnd("根据名称搜索问题描述"),p=t.uniqBy([].concat(s,Object(a.a)(d)),"id"),console.log("合并后的数据",p),h=this.listToTree([].concat(Object(a.a)(p),Object(a.a)(u))),console.log("获取树形数据",h),e.next=34,this.getParentData(h.map((function(t){return t.parent_id})));case 34:return f=e.sent,t.isEmpty(f)||(h=this.listToTree([].concat(Object(a.a)(f),Object(a.a)(h)))),e.abrupt("return",h);case 37:case"end":return e.stop()}}),e,this)}))),function(t){return u.apply(this,arguments)})},{key:"getSearchItemsDataByDesc",value:(l=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,a,i,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.getDescByName(e,this.sectionId,this.moduleName,this.moduleCode);case 2:return n=t.sent,$log.log("检查项搜索",{desc:"搜索问题描述结果",count:n.length}),t.next=6,this.getVisibleConfig();case 6:return a=t.sent,i=this.filterVisibleData(n,a),a=null,$log.log("检查项搜索",{desc:"搜索问题描述结果与可见性过滤",count:i.length}),r={},o=[],i.forEach((function(t){var e={id:t.desc_id,name:t.desc_name,parent_id:t.id,type:h.e};if(r[t.id])r[t.id].push(e);else{var n=[e],a={name:t.name,id:t.id,parent_id:t.parent_id,full_name:t.full_name,children:n};o.push(a),r[t.id]=n}})),r=null,t.abrupt("return",o);case 15:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"getItemVisible",value:(i=Object(r.a)(regeneratorRuntime.mark((function e(n){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getVisibleConfig();case 2:return a=e.sent,i=this.filterVisibleData([{id:n}],a),a=null,e.abrupt("return",!t.isEmpty(i));case 6:case"end":return e.stop()}}),e,this)}))),function(t){return i.apply(this,arguments)})},{key:"getParentData",value:(n=Object(r.a)(regeneratorRuntime.mark((function e(n){var i,r,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isEmpty(n)){e.next=2;break}return e.abrupt("return",[]);case 2:return console.time("获取所有父级元素"),e.next=5,this.getRootItemId();case 5:i=e.sent,r=[],n=n.filter((function(t){return t!==i}));case 8:if(t.isEmpty(n)){e.next=16;break}return e.next=11,this.getItemByIds(n);case 11:s=e.sent,(o=r).push.apply(o,Object(a.a)(s)),n=s.map((function(t){return t.parent_id})).filter((function(t){return t!==i})),e.next=8;break;case 16:return console.timeEnd("获取所有父级元素"),c={},r=r.reduce((function(t,e){return c[e.id]||(c[e.id]=!0,t.push(e)),t}),[]),e.abrupt("return",r);case 20:case"end":return e.stop()}}),e,this)}))),function(t){return n.apply(this,arguments)})}]),v}(d.a)}).call(this,n("391c"))},"6f2b":function(t,e,n){"use strict";n("163d");var a={name:"VirtualList",props:{maxWrapperHeight:{type:Number,default:400},itemHeight:{type:Number,default:40},itemHeightCalc:{type:Function},listData:{type:Array,default:function(){return[]}},nodeKey:{type:String,default:"id"}},data:function(){return{currentStartIndex:0,visibleListData:[]}},computed:{wrapperStyle:function(){return{height:this.wrapperHeight+"px"}},phantomStyle:function(){return{height:this.listHeight+"px"}},wrapperHeight:function(){var t=this.listData.length*this.itemHeight;return this.maxWrapperHeight>t?t:this.maxWrapperHeight},listHeight:function(){return this.listData.length*this.itemHeight},listItemStyle:function(){return{height:this.itemHeight+"px"}}},watch:{listData:{handler:function(){var t=this;console.log("updateListData",this.$el),this.$nextTick((function(){t.handleScroll()}))},immediate:!0}},methods:{updateVisibleListData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=Math.ceil(this.wrapperHeight/this.itemHeight),a=Math.floor(e/this.itemHeight),i=a+n+2;this.visibleListData=this.listData.slice(a,i),this.$nextTick((function(){t.$refs["list-content"].style.webkitTransform="translateY(".concat(a*t.itemHeight,"px)"),t.$refs["list-content"].style.msTransform="translateY(".concat(a*t.itemHeight,"px)")}))},handleScroll:function(){var t=this.$el.scrollTop;this.updateVisibleListData(t)}}},i=(n("0bfc"),n("17cc")),r=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"virtual-list-wrapper",style:t.wrapperStyle,on:{scroll:t.handleScroll}},[n("div",{staticClass:"list-phantom",style:t.phantomStyle}),n("div",{ref:"list-content",staticClass:"list-content"},t._l(t.visibleListData,(function(e,a){return n("div",{key:e[t.nodeKey]||a,staticClass:"list-item",style:t.listItemStyle},[t._t("content",null,{record:e})],2)})))])}),[],!1,null,"6215c9e4",null);e.a=r.exports},"774b":function(t,e,n){"use strict";n.r(e);var a=n("d18d").a,i=(n("b225"),n("17cc")),r=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"scroll-warp",staticClass:"scroll-warp",class:{"scroll-warp-pulling":t.pulling,"scroll-warp-complete":!t.hasNext&&!t.isEmpty,"scroll-warp-empty":t.isEmpty},style:{"padding-bottom":t.numberKeyboardCoverHeight+"px"},on:{scroll:t.onScroll,touchstart:t.onTouchstart,touchmove:t.onTouchmove,touchend:t.onTouchend}},[t.allowPullDown?n("div",{staticClass:"pull-refresh-warp",style:{height:t.pullDist+"px"}},[n("div",{staticClass:"pull-refresh"},[n("div",{staticClass:"animation-refresher",class:{refreshing:t.refreshing}}),t.updateTime?n("p",{staticClass:"pull-refresh-date"},[t._v("最后成功同步："+t._s(t.updateTime))]):t._e()])]):t._e(),t._t("default"),t.loading?n("div",{staticClass:"page-loading"},[n("svg",{staticClass:"svg-loading",attrs:{viewBox:"0 0 80 80"}},[n("circle",{attrs:{cx:"40",cy:"40",r:"36"}})])]):t._e(),t.hasNext||t.isEmpty?t._e():[t.$slots.end?t._t("end"):t._e(),!t.$slots.end&&t.endText?n("div",{staticClass:"end-text"},[t._v("\n      "+t._s(t.endText)+"\n    ")]):t._e()]],2)}),[],!1,null,"2b1a346c",null);e.default=r.exports},"7ac8":function(t,e,n){"use strict";n("afdd")},"7d4e":function(t,e,n){var a=n("c59b");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n("85cb").default)("62c5f5a2",a,!0,{sourceMap:!1,shadowMode:!1})},"7e06":function(t,e,n){"use strict";var a=n("c5a7");e.__esModule=!0,e.unifySlots=s,e.createComponent=function(t){return function(e){var n;return"function"==typeof e&&(e={functional:!0,props:(n=e).props,model:n.model,render:function(t,e){return n(t,e.props,s(e),e)}}),e.functional||(e.mixins=e.mixins||[],e.mixins.push(r.SlotsMixin)),e.name=t,e.install=o,e}},n("4d1b");var i=n("a1aa"),r=n("1304");a(n("329b"));function o(t){var e=this.name;t.component(e,this),t.component((0,i.camelize)("-"+e),this)}function s(t){var e=t.scopedSlots||t.data.scopedSlots||{},n=t.slots();return Object.keys(n).forEach((function(t){e[t]||(e[t]=function(){return n[t]})})),e}},"7e4d":function(t,e,n){"use strict";n("25e0")},"7eb2":function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,".zjapp .synchronize-tip-bar[data-v-66826030]{height:30px;padding:5px 15px;line-height:20px;text-align:center;background-color:#ffe6e6;color:#ff6060;font-size:14px}.zjapp .synchronize-tip-bar .icon-caution[data-v-66826030]{line-height:20px;margin-right:5px}@media screen and (-webkit-min-device-pixel-ratio:1){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 100%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:1.5){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 66.6667%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:2){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 50%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:2.625){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 38.0952%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:3){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 33.3333%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:4){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 25%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}",""])},"8d3e":function(t,e,n){"use strict";(function(t){n("5ab2"),n("e10e");var a,i=n("28f8"),r=(n("9e76"),n("6d57"),n("9a33"),n("f548"),n("cc57"),n("6a61"),n("2e91")),o=n("3122"),s=n("4ad6");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a={props:{data:{type:Object,required:!0}},data:function(){return{isLoading:!0,isImageDownloading:!1,title:"",content:[]}},methods:{init:(a=Object(r.a)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.data.getCheckGuideDetail(e);case 3:n=t.sent,this.title=n.name||n.full_name,this.content=this.dealContent(n.content),this.downloadImage(),this.isLoading=!1;case 8:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)}),dealContent:function(e){if(e=e?e.trim():"",t.isEmpty(e))return[];if(e=(e=(e=(e=(e=e.replace(/<\/p><p>/gm,"\n")).replace(/<p>/gm,"")).replace(/<\/p>/gm,"")).replace(/<br>/gm,"")).replace(/<br \/>/gm,""),/(<img[^\>]*>)/gm.test(e)){var n=e.split(/(<img[^\>]*>)/gm);(n=n.filter((function(t){return!!t}))).forEach((function(t,e){t&&!/^\s*\n/.test(t)&&e&&!/\n\s*$/.test(n[e-1])&&(n[e]="\n"+t)})),e=n.join("")}var a=e?e.split("\n"):[];return t.map(a,(function(t,e){var n;if(/<img([\s\S]*)>/gm.test(t)){var a=t.split(/\ssrc="([^"]*)"/gm)[1],i=a?a.match(/[\w|-]{36}/gm)[0]:(new Date).getTime()+"-"+e;n={isImg:!0,src:"",url:a,status:"pending",id:i,ready:!0}}else n={isImg:!1,val:t};return n}))},getThumbnail:function(t){return"pending"===t.status?o.a.IMAGE_LOADING:"rejected"===t.status?o.a.IMAGE_RELOAD:"dev"===APP_ENV?t.url:"fulfilled"===t.status?t.src:($log.log("检查指引-显示图片：",t),o.a.IMAGE_PLACEHOLD)},imgError:function(t,e){$log.error("检查指引-加载图片出现错误：",t);var n=l({},t);n.status="rejected",this.$set(this.content,e,n)},downloadImage:function(e){var n=this;e=e?[e]:this.imageList(),t.each(e,(function(e){var a=l({},e),i=t.map(n.content,(function(t){return t.id})).indexOf(e.id);o.a.isNeedDownload(e.url).then((function(t){t?o.a.download(e.url).then((function(t){a.status="fulfilled",a.src=o.a.fixUrl(t),n.$set(n.content,i,a)})).catch((function(t){$log.error("检查指引-下载图片：",t)})):(a.status="fulfilled",a.src=o.a.fixUrl(o.a.getPathFromUrl(e.url)),n.$set(n.content,i,a))}))}))},imageList:function(){return t.filter(this.content,(function(t){return t.isImg}))},imgClick:function(e){var n=this;if("pending"===e.status)return!1;if("rejected"===e.status)return this.downloadImage(e),$log.log("检查指引-点击重新加载-重新下载图片：",e),!1;var a=this.imageList(),i=t.map(a,(function(t){return t.id})).indexOf(e.id);a=t.map(a,(function(t){return n.getThumbnail(t)})),s.a.openImageBrowser(a,i)}}}}).call(this,n("391c"))},"967a":function(t,e,n){"use strict";var a=n("8d95");e.a={REPAIR_DEADLINE_STATUS:{name:"repair_deadline_status",status:["待整改"],module:[a.a.CHECK]}}},9990:function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,".zjapp .f-gray[data-v-1fb4f59e]{color:#666}",""])},"9d55":function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,'.zjapp .scroll-warp[data-v-2b1a346c]{flex:1;overflow:auto;-webkit-overflow-scrolling:touch}.zjapp .scroll-warp-pulling[data-v-2b1a346c]{overflow:hidden}.zjapp .scroll-warp-complete[data-v-2b1a346c]:after{content:"";display:block;height:100px}.zjapp .scroll-warp-empty[data-v-2b1a346c]{display:flex;flex-direction:column}.zjapp .pull-refresh-warp[data-v-2b1a346c]{position:relative;height:0;overflow:hidden}.zjapp .pull-refresh[data-v-2b1a346c]{position:absolute;left:0;bottom:0;height:70px;width:100%;padding:6px;text-align:center}.zjapp .pull-refresh-date[data-v-2b1a346c]{margin-top:4px;height:16px;line-height:16px;font-size:12px;color:#bcbcbc}.zjapp .page-loading[data-v-2b1a346c]{padding:10px;text-align:center}.zjapp .end-text[data-v-2b1a346c]{color:#c8c8c8;background:#f4f4f4;position:relative;line-height:76px;height:76px;text-align:center}.zjapp .end-text[data-v-2b1a346c]:after,.zjapp .end-text[data-v-2b1a346c]:before{content:"";position:absolute;width:48px;height:1px;background:#e4e4e4;top:50%;margin-top:-1px}.zjapp .end-text[data-v-2b1a346c]:after{left:50%;transform:translateX(-92px)}.zjapp .end-text[data-v-2b1a346c]:before{right:50%;transform:translateX(90px)}.zjapp .end-slot[data-v-2b1a346c]{padding:30px;line-height:18px;text-align:center;color:#c8c8c8}',""])},a1aa:function(t,e,n){"use strict";e.__esModule=!0,e.camelize=function(t){return t.replace(a,(function(t,e){return e.toUpperCase()}))},e.padZero=function(t,e){void 0===e&&(e=2);var n=t+"";for(;n.length<e;)n="0"+n;return n};var a=/-(\w)/g},a589:function(t,e,n){"use strict";n("6a61");var a,i=n("2e91"),r=n("bf9f"),o=n("f203"),s=n("b9a9"),c=n("4d0e"),l={components:{PopupHasHeader:r.a,CheckItemSelect:o.a,PopupGuideDetail:s.a},props:{sectionId:{type:String,default:""},module:{type:String,default:""},itemId:{type:String,default:""}},data:function(){return{show:!1,showDetail:!0,checkGuideData:{},select:{}}},methods:{openPopup:function(){var t=this;this.show=!0,this.checkGuideData=new c.a({moduleType:this.module,sectionId:this.sectionId}),this.$nextTick((function(){t.$refs["guide-list"].init()}))},closePopup:function(){this.show=!1},onSelect:(a=Object(i.a)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.checkItem,this.select=n,this.$refs["guide-detail"].openPopup();case 3:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})}},u=(n("7ac8"),n("17cc")),d=Object(u.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("popup-has-header",{attrs:{title:"选择检查指引"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("span",{staticClass:"f-gray",attrs:{slot:"header_left"},on:{click:t.closePopup},slot:"header_left"},[t._t("header-left")],2),t.$slots["header-right"]?n("span",{attrs:{slot:"header_right"},slot:"header_right"},[t._t("header-right")],2):t._e(),n("template",{slot:"body_main"},[n("check-item-select",{ref:"guide-list",attrs:{data:t.checkGuideData},on:{change:t.onSelect}})],1)],2),n("popup-guide-detail",{ref:"guide-detail",attrs:{id:t.select.id,module:t.module}},[n("div",{staticClass:"checkpoint-back",attrs:{slot:"header-left"},slot:"header-left"},[n("icon",{attrs:{name:"nav-back"}}),t._v("检查指引")],1),n("div",{attrs:{slot:"header-right"},slot:"header-right"})])],1)}),[],!1,null,"1027cd2f",null);e.a=d.exports},afdd:function(t,e,n){var a=n("6b55");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n("85cb").default)("dc7bf252",a,!0,{sourceMap:!1,shadowMode:!1})},b225:function(t,e,n){"use strict";n("ef48")},b7b4:function(t,e,n){"use strict";var a=n("c5a7");e.__esModule=!0,e.noop=function(){},e.isDef=c,e.isObj=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)},e.get=function(t,e){var n=e.split("."),a=t;return n.forEach((function(t){a=c(a[t])?a[t]:""})),a},e.isServer=e.addUnit=e.createNamespace=void 0;var i=a(n("329b")),r=n("6147");e.createNamespace=r.createNamespace;var o=n("2064");e.addUnit=o.addUnit;var s=i.default.prototype.$isServer;function c(t){return null!=t}e.isServer=s},b9a9:function(t,e,n){"use strict";n("6a61");var a,i=n("2e91"),r=n("bf9f"),o=n("8d3e").a,s=(n("4717"),n("17cc")),c=Object(s.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"check-guide-detail-box"},[t.isLoading?t._e():n("div",{staticClass:"check-guide-detail-hd border-bottom"},[n("h2",{staticClass:"check-guide-detail-title pb10"},[t._v(t._s(t.title))])]),!t.isLoading&&t.content.length?n("div",{staticClass:"check-guide-detail-content"},t._l(t.content,(function(e,a){return n("p",{key:a},[e.isImg&&e.src?n("img",{class:{"img-not-ready":!e.ready,error:"rejected"===e.status},attrs:{src:t.getThumbnail(e)},on:{error:function(n){t.imgError(e,a)},click:function(n){t.imgClick(e)}}}):t._e(),e.isImg?t._e():n("span",[t._v("\n        "+t._s(e.val)+"\n      ")])])}))):t._e(),n("loading-status",{attrs:{"is-empty":!t.content.length,"empty-text":"PC端未设置检查指引"}})],1)}),[],!1,null,"399de7d9",null).exports,l=n("4d0e"),u={components:{PopupHasHeader:r.a,GuideDetail:c},props:{id:{type:String,default:""},module:{type:String,default:""}},data:function(){return{show:!1,checkGuideData:{}}},methods:{openPopup:(a=Object(i.a)(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.show=!0,this.checkGuideData=new l.a({moduleType:this.module}),this.$nextTick((function(){e.$refs["guide-detail"].init(e.id)}));case 3:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)}),closePopup:function(){this.show=!1}}},d=(n("09d66"),Object(s.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("popup-has-header",{attrs:{title:"检查指引详情"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("span",{staticClass:"f-gray",attrs:{slot:"header_left"},on:{click:t.closePopup},slot:"header_left"},[t._t("header-left")],2),t.$slots["header-right"]?n("span",{attrs:{slot:"header_right"},slot:"header_right"},[t._t("header-right")],2):t._e(),n("template",{slot:"body_main"},[n("guide-detail",{ref:"guide-detail",attrs:{data:t.checkGuideData}})],1)],2)}),[],!1,null,"1fb4f59e",null));e.a=d.exports},bcf4:function(t,e,n){"use strict";n("27c4")},bf9f:function(t,e,n){"use strict";var a={props:{title:{type:String,default:""},value:{type:Boolean,default:!1},height:{type:String,default:"70%"}},data:function(){return{show:this.value}},watch:{value:function(t){t!==this.show&&(this.show=t)},show:function(t){t!==this.value&&this.$emit("input",t)}},methods:{closePopup:function(){this.show=!1}}},i=(n("7e4d"),n("17cc")),r=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-popup",t._g({staticClass:"popup-customize-use-header",style:{height:t.height},attrs:{position:"bottom",round:"","get-container":"#app","safe-area-inset-bottom":"","close-on-popstate":""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},t.$listeners),[n("div",{staticClass:"popup-header"},[n("div",{staticClass:"popup-header__left"},[t._t("header_left")],2),n("div",{staticClass:"popup-header__title"},[t._v(t._s(t.title))]),n("div",{staticClass:"popup-header__right"},[t._t("header_right",[n("icon",{staticClass:"f-gray",attrs:{name:"nav-close"},on:{click:t.closePopup}})])],2)]),n("div",{staticClass:"popup-body"},[t._t("body_main")],2)])],1)}),[],!1,null,"16a26812",null);e.a=r.exports},c03a:function(t,e,n){"use strict";n.r(e);var a=n("2567").a,i=(n("c56c"),n("17cc")),r=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("page-content",{attrs:{title:t.title,"on-close":t.backEvent}},[n("div",{staticClass:"header-btn",attrs:{slot:"header-bar-right"},on:{click:t.openCheckGuide},slot:"header-bar-right"},[n("icon",{attrs:{name:"nav-info"}})],1),n("item",{staticClass:"bg-sub-theme",attrs:{border:"bottom","icon-right":t.batchArrow?"arrow-right":""},on:{click:t.batchClick}},[n("div",{staticClass:"item-text"},[t._v(t._s(t.batchText))]),n("div",{staticClass:"item-font color-gray"},[t._v(t._s(t.batchTips))])]),n("swipe-tabs",{attrs:{color:"#4275e8","title-active-color":"#4275e8","line-width":t.tabsWidth},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[n("swipe-tab",{attrs:{title:"草稿"}},[n("synchronize-tip-bar",{attrs:{"automatic-update-callback":t.init,"use-download":!1}}),n("scroller",{attrs:{"has-next":t.draftLimit<t.draftData.length,"is-empty":!t.draftData.length,"end-text":""},on:{pullDown:t.init,loadNext:t.pageDraft}},[t._l(t.draftDataShow,(function(e,a){return n("item-list",{key:a,attrs:{img:e.thumbnail,title:e.item_full_name||"未选检查项",detail:(e.desc_name?e.desc_name+" ":"")+(e.remark||""),footer:e.regist_date+" "+(e.place||"")},on:{click:function(n){t.problemEdit(e)}}})})),n("loading-status",{attrs:{"is-loading":t.isDraftLoading,"is-empty":!t.draftData.length,"empty-text":"请登记问题"}})],2)],1),n("swipe-tab",{attrs:{title:"已提交"}},[n("synchronize-tip-bar",{attrs:{"use-download":!1}}),n("scroller",{attrs:{"has-next":t.submittedLimit<t.submittedData.length,"is-empty":!t.submittedData.length},on:{pullDown:t.init,loadNext:t.pageSubmit}},[t._l(t.submittedDataShow,(function(e,a){return n("item-list",{key:a,attrs:{"is-unread":e.unread,"is-timeout":e.is_timeout,"is-urgent":"紧急"==e.emergency_degree||"特急"==e.emergency_degree,"is-return":e.sent_back_times>0,img:e.thumbnail,title:e.item_full_name||"未选检查项",detail:(e.desc_name?e.desc_name+" ":"")+(e.remark||""),footer:e.regist_date+" "+(e.place||""),status:e.status,"status-text":e.status_text,"repair-deadline":e.repair_deadline},on:{click:function(n){t.problemDetail(e)}}})})),n("loading-status",{attrs:{"is-loading":t.isSubmitLoading,"is-empty":!t.submittedData||!t.submittedData.length,"empty-text":"这里暂无数据"}})],2)],1)],1),n("app-button-group",{attrs:{"fixed-bottom":""}},[n("app-button",{on:{click:function(e){t.problemAdd()}}},[n("van-icon",{attrs:{name:"plus"}}),t._v("\n      登记问题\n    ")],1)],1),n("check-guide",{ref:"popup-check-guide",attrs:{module:"check","section-id":t.defaultBatch.bidsection_id}})],1)}),[],!1,null,"482f6d42",null);e.default=r.exports},c56c:function(t,e,n){"use strict";n("3600")},c59b:function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,".zjapp .item-list{position:relative;padding:10px;display:flex;align-items:center;background-color:#fff;min-height:100px}.zjapp .item-list .img{display:block;width:80px;height:80px;background:no-repeat 50%;background-size:cover;background-color:#ddd}.zjapp .item-list .item-list-con{flex:1;padding:0 15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.zjapp .item-list .item-list-con .title{height:30px;line-height:24px;color:#111;font-size:16px;padding-top:6px;margin:0;padding-right:10px;margin-right:-10px;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important;font-weight:400}.zjapp .item-list .item-list-con .title .type-tag{display:inline-block;height:16px;line-height:16px;padding:0 4px;border-radius:2px;border:1px solid #4275e8;color:#4275e8;font-size:12px;zoom:.8;margin:3px 0 0 0;vertical-align:text-top}.zjapp .item-list .item-list-con .text{height:30px;line-height:24px;color:#8c8c8c;padding-bottom:6px;padding-right:11px;margin-right:-10px}.zjapp .item-list .item-list-con .text,.zjapp .item-list .item-list-con .time{font-size:14px;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important}.zjapp .item-list .item-list-con .time{height:20px;line-height:20px;color:#b3b3b3;padding-right:11px!important;margin-right:-10px!important}.zjapp .item-list .item-list-con .time .ion{color:#a6a6a6;font-size:20px;font-weight:700;margin-right:5px;vertical-align:top}.zjapp .item-list .item-list-r{width:60px;line-height:18px;text-align:center}.zjapp .item-list .item-list-status{min-width:4em;line-height:18px;text-align:center;white-space:normal;font-size:14px}.zjapp .item-list .icon-unread{display:inline-block;text-align:center;width:12px;height:12px;border-radius:6px;background-color:red}.zjapp .item-list .icon-return,.zjapp .item-list .icon-timeout,.zjapp .item-list .icon-urgent{display:inline-block;width:16px;height:16px;text-align:center;line-height:16px;font-size:12px;font-style:normal;color:#fff;border-radius:2px;-webkit-border-radius:2px;vertical-align:top;margin-top:4px;margin-right:5px}.zjapp .item-list .icon-timeout{background:#964bfe}.zjapp .item-list .icon-return{background:#fe8b00}.zjapp .item-list .icon-urgent{background:#ff3c3d}.zjapp .item-list .icon-return:last-child,.zjapp .item-list .icon-timeout:last-child,.zjapp .item-list .icon-urgent:last-child{margin-right:0}.zjapp .item-list-tip{height:70px;line-height:60px;color:#b4b4b4;text-align:center}.zjapp .status-new-tag{position:absolute;right:0;top:0;width:50px;height:50px;overflow:hidden;z-index:10}.zjapp .status-new-tag>.tag{position:absolute;right:-32px;bottom:22px;height:20px;line-height:20px;width:100px;color:#fff;font-size:12px;transform:rotate(45deg);text-align:center;border-width:1px;border-style:solid}.zjapp .time-status{font-size:10px;color:#999}",""])},c5a7:function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},cc1f:function(t,e,n){"use strict";n("28f6")},d18d:function(t,e,n){"use strict";(function(t){n("2b45");var a,i=n("4360"),r=n("48f4"),o=n("162a"),s=n("e2a7"),c=n("a500"),l=n("6f9e"),u={};e.a={name:"Scroller",props:{buildingId:{type:String,default:""},hasNext:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},isSync:{type:Boolean,default:!0},endText:{type:String,default:""},memoryScrollTop:{type:Boolean,default:!0},keepScrollTop:{type:Boolean},hasPullDown:{type:Boolean,default:!0},onPullDown:{type:Function}},data:function(){return{pullDist:0,refreshing:!1,pulling:!1,loading:!1,scrollTop:0,isCurrKeyboard:!1,gapBottom:0}},computed:{allowPullDown:function(){return this.hasPullDown&&(!!this.$listeners.pullDown||!!this.onPullDown)},updateTime:function(){return i.a.state.global.businessDownloadTime},numberKeyboardCoverHeight:function(){return i.a.state.global.isNumberInputOpen?i.a.state.global.numberKeyboardHeight-this.gapBottom:0}},mounted:function(){var t=this;l.a.$on("numberKeyboardOpen",this.onNumberKeyboardOpen),this.$nextTick((function(){var e=t.$refs["scroll-warp"]&&t.$refs["scroll-warp"].getBoundingClientRect&&t.$refs["scroll-warp"].getBoundingClientRect();e&&(t.gapBottom=document.documentElement.clientHeight-e.bottom),t.$el&&t.$el.addEventListener("focus",(function(e){var n=e&&e.target,a=n&&n.tagName&&n.tagName.toLowerCase();if("input"===a||"textarea"===a){window.addEventListener("resize",(function e(){var a=n.getBoundingClientRect(),i=t.$el.getBoundingClientRect(),r=a.bottom-i.bottom;r>0&&t.scrollBy(r),window.removeEventListener("resize",e,!1)}),!1)}}),!0)}))},destroyed:function(){l.a.$off("numberKeyboardOpen",this.onNumberKeyboardOpen)},activated:function(){var t=this.keepScrollTop||this.$router.isBack&&this.memoryScrollTop;this.scrollTop&&t&&(this.$refs["scroll-warp"].scrollTop=this.scrollTop)},deactivated:function(){this.memoryScrollTop&&(this.scrollTop=this.$refs["scroll-warp"].scrollTop)},methods:{onScroll:function(t){var e=this,n=this.$refs["scroll-warp"].scrollTop,a=this.$refs["scroll-warp"].scrollHeight;if(n+this.$refs["scroll-warp"].clientHeight>=a-5&&!this.loading&&this.hasNext){this.loading=!0;var i=this.$listeners.loadNext();i&&i.then&&"function"==typeof i.then?i.then((function(){e.loading=!1})):this.loading=!1}this.$emit("scroll",t)},getTouchDiretion:function(t){if(!(u&&t&&t.touches&&t.touches[0]))return"";var e=t.touches[0].clientX,n=t.touches[0].clientY;return Math.abs(n-u.y)>Math.abs(e-u.x)&&Math.abs(n-u.y)>=3?n>u.y?"down":"up":""},onTouchstart:function(t){this.allowPullDown&&t.touches&&1===t.touches.length&&(u={x:t.touches[0].clientX,y:t.touches[0].clientY,scrollTop:this.$refs["scroll-warp"].scrollTop,pullDist:this.pullDist})},onTouchmove:function(t){if(this.allowPullDown&&t.touches&&1===t.touches.length){var e=this.$refs["scroll-warp"].scrollTop,n=t.touches[0].clientY,a=n-u.y,i=this.getTouchDiretion(t);"down"===i?!this.refreshing&&e<=0?(this.pulling=!0,this.pullDist=(a-u.scrollTop)/2,t.preventDefault()):this.pulling=!1:"up"===i?this.pullDist>0&&(this.pullDist=u.pullDist-(u.y-n),t.preventDefault()):this.pullDist=u.pullDist}},onTouchend:function(){var t=this;this.allowPullDown&&(u={},this.pulling=!1,this.pullDist>=70&&this.isSync?this.refreshing?this.makePullTo(70):this.makePullTo(70).then((function(){if(t.refreshing=!0,t.onPullDown){var e=t.onPullDown();e&&e.then&&"function"==typeof e?e.finally((function(){t.refreshing=!1,t.makePullTo(0)})):(t.refreshing=!1,t.makePullTo(0))}else t.dataSync().then((function(){t.refreshing=!1,t.makePullTo(0),t.$emit("pullDown")})).catch((function(){t.refreshing=!1,t.makePullTo(0),t.$emit("pullDown")}))})):(this.refreshing=!1,this.makePullTo(0)))},makePullTo:function(t){var e=this,n=this.pullDist,a=t,i=a-n,r=n;return n===a?Promise.resolve():new Promise((function(t){!function o(){window.requestAnimationFrame((function(){r+=i/6,e.pullDist=r,n<a&&r<a||n>a&&r>a?o():(e.pullDist=a,e.refreshing=!1,t())}))}()}))},dataSync:function(){var t,e=r.default.getCurrentModuleCode(),n=r.default.getCurrentRoute(),a=n.meta&&n.meta.isTodo;if(r.default.isModuleNeedBuilding(e)&&!a){if(!this.buildingId)return new Promise((function(t){setTimeout((function(){t()}),500)}));t=this.buildingId}return c.a.addTrack("公共-手动下拉刷新","",""),o.a.beginManualUpdate(),r.default.checkSync(t).then((function(t){return o.a.endManualUpdate(),t})).catch((function(t){$log.error("下拉刷新错误",t),t&&"Error: Network Error"===t.toString()?s.a.alert("当前网络无法同步数据"):s.a.alert(t),o.a.endManualUpdate()}))},getScrollHeight:function(){return this.$refs["scroll-warp"].offsetHeight},getScrollTop:function(){return this.$refs["scroll-warp"].scrollTop},setScrollTop:function(t){this.$refs["scroll-warp"].scrollTop=t},scrollBy:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=this.getScrollTop(),r=i+t,o=Math.round(n/16.7),s=t/o,c=i,l=a=+new Date;return i===r?Promise.resolve():new Promise((function(t){!function n(){window.requestAnimationFrame((function(){l===a&&(c+=s,e.$refs["scroll-warp"].scrollTop=c,i<r&&c<r||i>r&&c>r?n():(e.$refs["scroll-warp"].scrollTop=r,t()))}))}()}))},scrollTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=this.getScrollTop(),a=t-n;return this.scrollBy(a,e)},scrollToEle:function(t){var e=t.keyboardHeight||232,n=(t=t.$el?t.$el:t).getBoundingClientRect(),a=this.$refs["scroll-warp"].getBoundingClientRect();if(n&&a){var r=document.documentElement.clientHeight-(i.a.state.global.isNumberInputOpen?e:0),o=a.bottom<r?a.bottom:r,s=a.top-n.top,c=n.bottom-o;s>0?this.scrollBy(-s-10):c>0&&this.scrollBy(c+10)}},isCurrent:function(e,n){var a=this;e.length&&t.each(e,(function(t){t._uid===n?a.isCurrKeyboard=!0:a.isCurrent(t.$children,n)}))},onNumberKeyboardOpen:function(t){this.isCurrKeyboard=!1,this.isCurrent(this.$children,t._uid),this.isCurrKeyboard&&this.scrollToEle(t)}}}}).call(this,n("391c"))},db6b2:function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,'.zjapp .swipe-tabs[data-v-025feb99]{display:flex;flex-direction:column;flex:1;overflow:hidden}.zjapp .tabs[data-v-025feb99]{position:relative;display:flex;background-color:#fff}.zjapp .tab[data-v-025feb99]{flex:1;height:40px;line-height:20px;padding:10px;font-size:14px;text-align:center;box-sizing:border-box}.zjapp .tab-current[data-v-025feb99]{color:#4275e8}.zjapp .mark-line[data-v-025feb99]{position:absolute;bottom:0;left:0;width:20px;height:2px;margin-left:-10px;background-image:linear-gradient(90deg,#5ea2ff,#4f83eb 50%,#4275e8);transition:left .4s cubic-bezier(.1,.7,.1,1)}.zjapp .tabs-point[data-v-025feb99]{position:relative;z-index:1;height:40px;font-size:0;text-align:center;background-color:#fff;overflow:visible}.zjapp .tabs-scroll[data-v-025feb99]{position:relative;padding-bottom:3px;margin-bottom:-3px;white-space:nowrap;overflow-x:auto}.zjapp .tabs-scroll[data-v-025feb99]::-webkit-scrollbar{display:none}.zjapp .tab-point[data-v-025feb99]{display:inline-block;padding:10px 15px;line-height:20px;font-size:16px;color:#333;white-space:nowrap}.zjapp .tab-point.tab-current[data-v-025feb99]{position:relative;z-index:3;color:#4275e8}.zjapp .tab-point.tab-current[data-v-025feb99]:after{content:"";position:absolute;z-index:3;bottom:-3px;left:50%;margin-left:-3px;width:7px;height:7px;border-radius:50%;background-color:#4275e8}',""])},dd16:function(t,e,n){"use strict";(function(t){e.a={name:"StatusText",props:{status:{type:String},text:{type:String},extend:{type:Object,default:function(){return{}}},statusStyles:{type:Object,default:function(){return{}}}},data:function(){return{classSet:t.extend({"草稿":"color-gray","暂存":"color-gray","检查中":"color-orange","待整改":"color-red","待复验":"color-orange","待验收":"color-red","待报验":"color-red","待申请进场":"color-red","待初验":"color-red","待送检":"color-red","待上传报告":"color-red","待退场":"color-red","待建设单位验收":"color-red","待区域验收":"color-red","供应链退回":"color-red","预创建":"color-status-blue","已提交":"color-green","已整改":"color-green","已验收":"color-green","已通过":"color-green","已退场":"color-gray","已关闭":"color-gray","非正常关闭":"color-gray","已退回":"color-red","已完成":"color-green","已甩项":"color-gray","检查完毕":"color-green","送检合格":"color-green","复验合格":"color-green","验收合格":"color-green","验收不合格":"color-red","未验收":"color-orange","待点评":"color-orange","已点评":"color-green","合格":"color-green","不合格":"color-red","待审核":"color-orange","已发布":"color-green","已拒绝":"color-red","进度正常":"color-green","进度滞后":"color-red","正常":"color-green","滞后":"color-red","施工单位验收合格":"color-green","监理单位验收合格":"color-green","建设单位验收合格":"color-green","施工单位验收不合格":"color-red","监理单位验收不合格":"color-red","建设单位验收不合格":"color-red"},this.extend)}},mounted:function(){}}}).call(this,n("391c"))},e304:function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,".zjapp .swipe-tabs[data-v-482f6d42]{flex:1}",""])},eb9d:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"d",(function(){return p}));var a,i,r,o=n("28f8"),s=n("8d95"),c="checkpoint",l="question_detail",u=(a={},Object(o.a)(a,s.a.CHECK,31),Object(o.a)(a,s.a.CHECK_SAFETY,36),Object(o.a)(a,s.a.CHECK_QUALITY,37),Object(o.a)(a,s.a.FLY_INSPECT,101),a),d=(i={},Object(o.a)(i,s.a.CHECK,"安全文明"),Object(o.a)(i,s.a.CHECK_SAFETY,"安全检查"),Object(o.a)(i,s.a.CHECK_QUALITY,"质量检查"),Object(o.a)(i,s.a.FLY_INSPECT,"飞检"),i),p=(r={},Object(o.a)(r,s.a.CHECK,{mmkv_item:"CHECK_USUAL_ITEMS",mmkv_item_tips:"CHECK_USUAL_ITEMS_TIPS",setUsualItems:!0}),Object(o.a)(r,s.a.CHECK_SAFETY,{mmkv_item:"CHECK_SAFETY_USUAL_ITEMS",mmkv_item_tips:"CHECK_SAFETY_USUAL_ITEMS_TIPS",setUsualItems:!0}),Object(o.a)(r,s.a.CHECK_QUALITY,{mmkv_item:"CHECK_QUALITY_USUAL_ITEMS",mmkv_item_tips:"CHECK_QUALITY_USUAL_ITEMS_TIPS",setUsualItems:!0}),Object(o.a)(r,s.a.FLY_INSPECT,{mmkv_item:"FLY_INSPECT_USUAL_ITEMS",mmkv_item_tips:"FLY_INSPECT_USUAL_ITEMS_TIPS",setUsualItems:!0}),r)},ef48:function(t,e,n){var a=n("9d55");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n("85cb").default)("a1a65c0c",a,!0,{sourceMap:!1,shadowMode:!1})},f203:function(t,e,n){"use strict";var a=n("2a32").a,i=(n("cc1f"),n("17cc")),r=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return!t.loading&&t.tabList.length?n("van-tabs",{on:{change:t.changeTab},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},t._l(t.tabList,(function(e,a){return n("van-tab",{key:a,ref:"tabs",refInFor:!0,attrs:{title:e.name,name:a}},[n("div",{staticClass:"tab-box",style:"height: "+t.maxScrollHeight+"px;"},t._l(e.children,(function(i){return n("van-cell",{key:i.id,class:{actived:i.checked},attrs:{title:i.name},on:{click:function(n){t.onSelectPositionItem(i,e.children,a)}}},[i.checked?n("template",{slot:"right-icon"},[n("icon",{attrs:{name:"qualified"}})],1):t._e()],2)})))])}))):n("loading-status",{attrs:{"is-loading":t.loading,"is-empty":!t.tabList.length,"empty-text":"没有检查项"}})}),[],!1,null,"422b1b31",null);e.a=r.exports},f24f:function(t,e,n){"use strict";e.__esModule=!0,e.isNumber=function(t){return/^\d+(\.\d+)?$/.test(t)},e.isNaN=function(t){if(Number.isNaN)return Number.isNaN(t);return t!=t}},f2fd:function(t,e,n){var a=n("0118");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n("85cb").default)("25679413",a,!0,{sourceMap:!1,shadowMode:!1})},f7ab:function(t,e,n){"use strict";var a=n("65e9").a,i=(n("f7d4"),n("17cc")),r=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{ref:"synchronize-tip-bar",staticClass:"synchronize-tip-bar"},[n("icon",{attrs:{name:"caution"}}),t.waitUploadNum?n("span",[t._v("您有"+t._s(t.waitUploadNum)+"条数据待上传")]):t._e(),!t.waitUploadNum&&t.hasChanged?n("span",[t._v("有新数据")]):t._e(),t._v("\n  ，下拉可"+t._s(t.waitUploadNum?"上传":"刷新")+"\n")],1):t._e()}),[],!1,null,"66826030",null);e.a=r.exports},f7d4:function(t,e,n){"use strict";n("2d6e")},fa4f:function(t,e,n){"use strict";var a=n("4aef"),i=n("967a"),r={name:"ItemList",components:{StatusText:a.a},props:{img:{type:String,default:""},title:{type:String,default:""},detail:{type:String,default:""},footer:{type:String,default:""},status:{type:String,default:""},isShowNewStatus:{type:Boolean,default:!1},statusText:{type:String,default:""},statusClassSet:{type:Object,default:function(){return{}}},typeTag:{type:String,default:""},isUnread:{type:Boolean,default:!1},isTimeout:{type:Boolean,default:!1},isUrgent:{type:Boolean,default:!1},isReturn:{type:Boolean,default:!1},repairDeadline:{type:String,default:null}},data:function(){return{repairDeadlineStatus:i.a.REPAIR_DEADLINE_STATUS.status}},computed:{bgNewClass:function(){return{"草稿":"bg-gray7 b-color","暂存":"bg-gray b-color","检查中":"bg-orange b-color","待整改":"bg-red2 b-color ","待复验":"bg-purple b-color","待验收":"bg-red b-color","待报验":"bg-red b-color","待申请进场":"bg-red b-color","待初验":"bg-red b-color","待送检":"bg-red b-color","待上传报告":"bg-red b-color","待退场":"bg-red b-color","待建设单位验收":"bg-red b-color","待区域验收":"bg-red b-color","已提交":"bg-green b-color","已整改":"bg-green b-color","已验收":"bg-green b-color","已通过":"bg-green2 b-color","已退场":"bg-gray b-color","已关闭":"bg-gray7 b-color","非正常关闭":"bg-gray b-color","已退回":"bg-red b-color","已完成":"bg-green b-color","已甩项":"bg-gray b-color","检查完毕":"bg-green b-color","送检合格":"bg-green b-color","复验合格":"bg-green b-color","验收合格":"bg-green b-color","验收不合格":"bg-red b-color","未验收":"bg-orange b-color","待点评":"bg-orange b-color","已点评":"bg-green b-color","合格":"bg-green b-color","不合格":"bg-red b-color","进度正常":"bg-green2 b-color","进度滞后":"bg-red2 b-color","施工单位验收合格":"bg-green b-color","监理单位验收合格":"bg-green b-color","建设单位验收合格":"bg-green b-color","施工单位验收不合格":"bg-red b-color","监理单位验收不合格":"bg-red b-color","建设单位验收不合格":"bg-red b-color"}}},activated:function(){}},o=(n("19a9"),n("17cc")),s=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._g({staticClass:"item-list border-bottom"},t.$listeners),[t.isShowNewStatus?n("div",{staticClass:"status-new-tag"},[n("div",{staticClass:"tag",class:t.bgNewClass[t.status]},[t._v("\n      "+t._s(t.status)+"\n    ")])]):t._e(),t.img?n("div",{staticClass:"img",style:{"background-image":"url("+t.img+")"}}):t._e(),n("div",{staticClass:"item-list-con"},[n("h2",{staticClass:"title"},[t.isUnread?n("i",{staticClass:"icon-unread"}):t._e(),t.isTimeout?n("i",{staticClass:"icon-timeout"},[t._v("\n        超\n      ")]):t._e(),t.isUrgent?n("i",{staticClass:"icon-urgent"},[t._v("\n        急\n      ")]):t._e(),t.isReturn?n("i",{staticClass:"icon-return"},[t._v("\n        退\n      ")]):t._e(),t.$slots.title?t._t("title"):[t.typeTag?n("span",{staticClass:"type-tag"},[t._v(t._s(t.typeTag))]):t._e(),t._v("\n        "+t._s(t.title||"")+"\n      ")]],2),n("p",{staticClass:"text"},[t._v(t._s(t.detail||""))]),t.$slots.footer?t._t("footer"):n("p",{staticClass:"time",domProps:{innerHTML:t._s(t.footer||"")}})],2),t.status&&!t.isShowNewStatus?n("div",{staticClass:"item-list-status"},[n("status-text",{attrs:{status:t.status,text:t.statusText,extend:t.statusClassSet}}),t.repairDeadline&&t.repairDeadlineStatus.includes(t.status)?n("p",{staticClass:"time-status"},[t._v("\n      "+t._s(t._f("timeStatus")(t.repairDeadline))+"\n    ")]):t._e()],1):t._e()])}),[],!1,null,null,null);e.a=s.exports}}]);