(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-c4c77c50"],{"02ad":function(e,t,a){var n=a("a3e2");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("85cb").default)("74118839",n,!0,{sourceMap:!1,shadowMode:!1})},"0876":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAANqADAAQAAAABAAAANgAAAADzQy6kAAADD0lEQVRoBe2ZT2vUQBjGnyQbt1mxYIVWsKWIRRH0ar3r9uxB7Bfw7snP4MGTRy/itR4E9aa1RQ8KXb20KEUWtZRSVoqu2+0m2c1mnNmyfwYyu1k7SWZLBkrzvjPJPL95JpPsRCO0IKD4v0uwXy/B/7UDQvyAFtGnMrOXYC0sQsudGrozXXSG/WYJzdJ2YlBMF3FqcAurILWqSKYwLwTzSzvCk+KsIF4d7mcKZx8M1a0QLKnpF6Se1F24n1ZaDgbVB+WEYEGNk8y14Arh4UYGjA0qqTv0nlsBXHvgGI8UWBvOKbwFKGS/MnJgLTjXgbPG4Fwh20iCHcLZcNeWgUYwnNJggneHjks+vddc5lyj3sm1D9QG2//T1in877OHOIPzGlybDBcpFrCHsvdzE/rpSWiGIVTXrP6F/e4FrBu3O22UBmMqCRXNhIcpvWBKT8UwMKI2KZhoZFTNp46p6oxIVySr4vi9h6L+WnlCH6jErqJJf53X1z+guV3s2/5/KiMBGyREM09AMyegj0/AnLsKb+sb7OVnraV90Llh65W4xzKzF5G7dRfQxQ/hsEDtdpE75u+XUXv+uN0fkDEPnboyD/P85U7eOHMWJs016NSUUaJ3zPfhl/e6f3u78L5/gf3yCRrFDY6BTUtZJXqwPkrrGx+5Wp26JqskCkYq/Nu7lrVkcSFRMM06yYGwfURZJVEwY/oCx0EOKlx8lCAxMINuX2ev3eS0N3e3uPgoQeTLvTZmITuf72ocy4Et7ZmZuW6OHhG/2XoL4ZJHCKIHowtC9vrCQIkO/QXMPoTIKpGDDRJK6IaM8/4VGl8Lg5oOVR85GPsGQOye1Y7F9OuJTzdqvB+b8IrrQ+3Jh6WLHqxSRvXpg7B6pLVLbFWURiC4UAomGBhl06ljylojEHZsHYtkua88ui8Yx/jSx9axFCy+SSSnp9QxOeMY31VSx+Ibazk9pY7JGcf4rpI6Ft9Yy+lJ6JimCavk9Cz5KprO6+Wjns70qXM9kfqH+uQ0J1IIZuUXYUzNQHXnmD6m08rf4cD+AfdM/kmMIRU7AAAAAElFTkSuQmCC"},"0f1f":function(e,t,a){"use strict";var n={props:{value:{type:String,default:""},placeholder:{type:String,default:"搜索"}},data:function(){return{isSeaching:!1}},watch:{isSeaching:function(e){this.$emit("changeSearchStatus",e)}},methods:{onFocus:function(){this.isSeaching=!0,this.$emit("searchBarFocus")},onInput:function(e,t){this.$emit("keywordChange",e)},onCancel:function(){this.$emit("keywordChange",""),this.isSeaching=!1},setValue:function(e){this.$emit("input",e)},onSearch:function(e){this.$emit("search",e)}}},o=(a("2b3f"),a("17cc")),i=Object(o.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-search-bar"},[a("van-cell",{class:{"search-focus":e.isSeaching}},[a("span",{staticClass:"holder"},[a("icon",{attrs:{name:"sousuo-user"}}),a("label",[e._v(e._s(e.placeholder))])],1),a("van-search",{staticClass:"search-content",attrs:{value:e.value,shape:"round"},on:{input:e.onInput,focus:e.onFocus,search:e.onSearch}})],1),a("span",{staticClass:"cancelBtn",on:{click:e.onCancel}},[e._v("\n    取消\n  ")])],1)}),[],!1,null,"40f69b60",null);t.a=i.exports},"11b6":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABgCAMAAACE0rRpAAAASFBMVEUAAADsypvryJjltHXksG7pwIvmuHznu4HpwIvksG7pwIvovYXpv4nnu4Lmt3nltXbnuX7muHzls3L////ksW/x1rTx1bLuzaKAU+SMAAAAC3RSTlMAf3+t8vHxJ60nJa33IYQAAAHgSURBVFjDrdTbboMwEEXRaWlubUhacvv/Py3SKGzEWLLhzEmel7axwOz7uDs37Cfswwo77OoSv/keJe9Yxbxt0uBKXj2OsgVX8hool/Dg8OCq46CBC179mP4P6x8lr95WruudW3rVNk8LmnPBq7aVNeei19CGh8Zhx33CbW2bcc8n3sa2cWgzb0ubD23mVaBym3NoeGvj+mloeHDRKWsT+ETDa/uMoLEXGl7bGWmDOwPhtabRhveK3to29jvfn882tUUNbmtbHzQ4vQ1Ob4PT29jFMtsucBltcCltcJhCm3M5bXAZbXAZbXAZbXBAahtXIbbBuXPOaOMq1Da4EUrTrhZv4ta8oF0NZj0XtKsRt54LmlYXNDj5FuByNDhdgxPfBTQ4vQ1Ob4PLbIPT2+D0Nji9jQ2W2TbA0SZocEC35i01uF7mhhnXy9wAh7aaQ+OwCXdKXYb2nuW0wTkivQvMEtvg9DY4vQ0upQ0us+0Op7QxS2yjTmtjFttuYU1t1NFW5mptmEZbjau33e8Wn1vkWtuc0+6UNue2aAzTuaw25zLb4PQ2OL0NLq8NTm+D09vgEtvg9DY4vQ0uqw1Ob4NLaYNLaYNLaYPb623syzq9jXV22MttxJ3MDt1eagPrTvYPJyilr9kv5YgAAAAASUVORK5CYII="},1341:function(e,t,a){var n=a("5454");(e.exports=a("690e")(!1)).push([e.i,".zjapp .template-item-wrapper .item[data-v-0747cd0e]{min-height:56px;padding:13px 15px;align-items:center}.zjapp .template-item-wrapper .icon-left[data-v-0747cd0e]{width:24px;height:24px;background-repeat:no-repeat;background-size:auto 24px;background-position:50%;align-self:center;margin-right:15px}.zjapp .template-item-wrapper .icon-left.icon-template-list-unknown[data-v-0747cd0e]{background-image:url("+n(a("7c8e"))+")}.zjapp .template-item-wrapper .icon-left.icon-template-list-ppt[data-v-0747cd0e]{background-image:url("+n(a("0876"))+")}.zjapp .template-item-wrapper .icon-left.icon-template-list-excel[data-v-0747cd0e]{background-image:url("+n(a("9f2f"))+")}.zjapp .template-item-wrapper .icon-left.icon-template-list-word[data-v-0747cd0e]{background-image:url("+n(a("bb65"))+")}.zjapp .template-item-wrapper .icon-left.icon-template-list-pdf[data-v-0747cd0e]{background-image:url("+n(a("11b6"))+")}.zjapp .template-item-wrapper .icon-left.icon-template-list-dwg[data-v-0747cd0e]{background-image:url("+n(a("80ec"))+")}.zjapp .template-item-wrapper .icon-left.icon-template-list-rvt[data-v-0747cd0e]{background-image:url("+n(a("5221"))+")}.zjapp .template-item-wrapper .icon-left.icon-template-list-pic[data-v-0747cd0e]{background-image:url("+n(a("e87de"))+")}.zjapp .template-item-wrapper .icon-left.icon-template-list-folder[data-v-0747cd0e]{background-image:url("+n(a("dacb"))+")}.zjapp .template-item-wrapper .icon-left.icon-template-list-folder-null[data-v-0747cd0e]{background-image:url("+n(a("9455c"))+')}.zjapp .template-item-wrapper .icon-right[data-v-0747cd0e]{font-size:14px;color:#b3b3b3}.zjapp .template-item-wrapper .button[data-v-0747cd0e]{font-size:14px;min-height:28px;height:28px;line-height:26px}.zjapp .template-item-wrapper .button-green[data-v-0747cd0e]{background-color:#0bc666;color:#fff}.zjapp .template-item-wrapper .button-green.button-outline[data-v-0747cd0e]{border-color:#0bc666;color:#0bc666!important;background-color:transparent}.zjapp .template-item-wrapper .button-theme[data-v-0747cd0e]{background-color:#4275e8;color:#fff}.zjapp .template-item-wrapper .template-button[data-v-0747cd0e]{padding:0 12px 0 11px}.zjapp .template-item-wrapper .button-theme.button-outline[data-v-0747cd0e]{border-color:#dcdcdc;color:#666!important;background-color:transparent;width:52px;height:28px;white-space:nowrap;border-radius:100px;font-size:14px}.zjapp .template-item-wrapper .border-white[data-v-0747cd0e]{border-top:1px solid #fff;width:50px;margin-top:-1px;position:relative;z-index:1}.zjapp .template-item-wrapper .item-text[data-v-0747cd0e]{width:0;margin-right:10px}.zjapp .template-item-wrapper .two-line[data-v-0747cd0e]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;padding:0;margin:5px 0}.zjapp .template-item-wrapper .aside[data-v-0747cd0e]{font-size:12px;color:#999;margin-top:2px}.zjapp .template-item-wrapper[data-v-0747cd0e] .light{color:#4275e8}.zjapp .template-item-wrapper .item-del[data-v-0747cd0e]{color:#c8c8c8;font-size:16px;position:relative}.zjapp .template-item-wrapper .item-del[data-v-0747cd0e]:after{content:" ";position:absolute;width:50px;height:50px;left:0;top:0;transform:translate3d(-16px,-16px,0)}',""])},"242a":function(e,t,a){"use strict";var n={name:"Checkbox",props:{semiSelection:{type:Boolean,default:!1},status:{type:String,default:null},value:{type:Boolean,default:!1},text:{type:String,default:""},type:{type:String,default:"circular"}},data:function(){return{}},computed:{iconName:function(){var e="";return"circular"===this.type?e=this.value?"checkbox-checked":"checkbox":"square"===this.type&&(e=this.value?"checkbox-square-checked":"checkbox-square"),e}},methods:{semiClickHandle:function(e){if(e.stopPropagation(),this.semiSelection){var t="partSelected"===this.status||!this.value,a="partSelected"===this.status||t?"fullSelected":null;this.$emit("input",t,a),this.$emit("change",t,a)}else this.$emit("input",!this.value),this.$emit("change",!this.value)}}},o=(a("53e4"),a("17cc")),i=Object(o.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{checkbox:!e.semiSelection,semiCheckbox:e.semiSelection,"semiCheckbox-indeterminate":"partSelected"===e.status,"semiCheckbox-checked":"fullSelected"===e.status},on:{click:function(t){e.semiClickHandle(t)}}},[e.semiSelection?a("span",{staticClass:"semiCheckbox-inner"}):e._e(),e.semiSelection?e._e():a("icon",{attrs:{name:e.iconName}}),e._v(e._s(e.text)+"\n")],1)}),[],!1,null,"afcfdff2",null);t.a=i.exports},"2b14":function(e,t,a){(e.exports=a("690e")(!1)).push([e.i,".zjapp .bg[data-v-1e4390ea]{stroke-width:2;fill:none;stroke:#d7e0f7}.zjapp .bar[data-v-1e4390ea]{stroke-width:2;fill:none;stroke:#4275e8}.zjapp .center[data-v-1e4390ea],.zjapp .waiting[data-v-1e4390ea]{fill:#4275e8}",""])},"2b3f":function(e,t,a){"use strict";a("02ad")},"2d6e":function(e,t,a){var n=a("7eb2");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("85cb").default)("53a2fbaa",n,!0,{sourceMap:!1,shadowMode:!1})},"2f9d":function(e,t,a){"use strict";(function(e){var n=a("fc9f");t.a={getTemplateDirs:function(e){return n.a.query("select * from template_manage_dirs where parent_id = ? order by pinyin, name",[e])},getDirsAndCount:function(e,t){return n.a.query('select tmd.* ,                 (select count(1) from template_manage tm                     join template_manage_projs tmp on tmp.template_manage_id = tm.id                     where tmp.proj_id = ? and tm.code like tmd.code || ".%"                 ) as file_count                 from template_manage_dirs tmd where tmd.parent_id = ? order by pinyin, name',[e,t])},getTemplateList:function(e,t){return n.a.query("select tm.*, tml.download_time from template_manage tm                 join template_manage_projs tmp on tmp.template_manage_id = tm.id                 left join template_manage_local tml on tm.id = tml.id                 where tmp.proj_id = ? and tm.template_manage_dir_id = ? order by tm.pinyin, tm.name ",[e,t])},updateDownloadTime:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r="replace into template_manage_local (id, download_time, name, url, local_download_time) values (?, ?, ?, ?, ?)";return n.a.executeSql(r,[e,t,a,o,i])},getMaterialTemplate:function(e,t){return n.a.queryOne("select tm.*, tml.download_time from template_manage tm                 join template_manage_projs tmp on tmp.template_manage_id = tm.id                 left join template_manage_local tml on tm.id = tml.id                 where tmp.proj_id = ? and material_id = ? ",[e,t])},getProcessTemplate:function(e,t){return n.a.queryOne("select tm.*, tml.download_time from template_manage tm                 join template_manage_projs tmp on tmp.template_manage_id = tm.id                 left join template_manage_local tml on tm.id = tml.id                 where tmp.proj_id = ? and tm.process_check_id = ? ",[e,t])},getRecord:function(e){return n.a.queryOne("select * from template_manage where id = ?",[e])},getLocal:function(e){return n.a.query("select * from template_manage_local")},delLocalByIds:function(t){e.isArray(t)||(t=[t]);var a="DELETE FROM template_manage_local WHERE id in ("+e.map(t,(function(e){return"'"+e+"'"})).join(", ")+")";return n.a.executeSql(a)}}}).call(this,a("391c"))},"3e47":function(e,t,a){"use strict";(function(e){a("e697"),a("9e76"),a("cc57"),a("6d57"),a("ed63"),a("8cf2");var n=a("fd50"),o=a("e2a7"),i=a("ed08"),r=a("4ad6"),c=a("3122"),l=a("162a"),s=a("a078"),d=a("2f9d"),p=a("4360"),u=a("a18c"),f=a("6bf2"),A=a.n(f),m=a("4daa"),g={},h=[],b={},v=[],w={_downloadTemplate:function(e,t,a){if(e in g)return w._checkQueue();var c=a,u=i.a.formatFiletypes(c),f=r.a.appDataPath()+"template",m=f+"/"+e+"."+u,h=n.a.defer(),v=g[e]=b[e]=b[e]||{progress:0},C=p.a.state.templateManage.support_bimface.includes(u);return C&&(m+=".zip"),v.promise=h.promise,$log.log("download url",c),$log.log("download localPath",m),l.a.startBackgroundTask(),l.a.canUpdate(!1).then((function(){return r.a.isFileExists(f)})).then((function(e){return e?r.a.isFileExists(m).then((function(e){if(e)return r.a.deleteFile(m)})):r.a.mkdir(f)})).then((function(){return v.progress=0,r.a.downloadFile(c,m).then((function(t){if($log.log("service ext",u),C){var a=f+"/"+e;return $log.log("localUnzipPath",a),r.a.isFileExists(a).then((function(e){if(e)return r.a.deleteFile(a)})).then((function(){return r.a.unzipFile(m,a).catch((function(){return n.a.reject("使用此功能请升级到最新版本")}))})).then((function(){return r.a.deleteFile(m)})).then((function(){return a}))}return t})).then((function(n){return h.resolve(n),v.download_time=v.upload_time,v.progress=-1,d.a.updateDownloadTime(e,v.upload_time,t,a,A()().format("YYYY-MM-DD HH:mm")).then((function(){return delete g[e],w._checkQueue()}))}),null,(function(e){v.progress=e,h.notify(e)}))})).catch((function(t){return v.progress=-1,t&&r.a.getAppFullVersion().then((function(e){e.fullVersion=e.fullVersion.slice(0,5),1===i.a.versionCompare("3.0.5",e.fullVersion)?o.a.popBoxExt({content:"使用此模块需更新APP到最新版",buttons:["取消","去更新"],cssClass:"popup-app-update",callback:function(e,t){switch(e){case 0:_btnSelected="cancel",$ionicBackdrop.release();break;case 1:$ionicBackdrop.release(),r.a.getDeviceInfo().then((function(e){var t="Android"===e.platform?s.a.appUpdate.Android:s.a.appUpdate.IOS;r.a.openUrlInBrowser(t)})),t.preventDefault(),_btnSelected="update"}}}):($log.error("下载错误: ",t),o.a.alert(t))})),delete g[e],h.reject(t),w._checkQueue()})).finally((function(){l.a.finishBackgroundTask()})),h.promise},downloadSingleTemplate:function(e,t,a){var c,s=a;if(e in g)return c=o.a.topProcess({title:$rootScope.isIPhoneFullScreen?"下载中":"正在下载文件...",successTitle:"下载完成"}),g[e].promise.then(null,null,(function(e){c.loading(e)})).finally((function(){c.close()}));var u=i.a.formatFiletypes(s),f=r.a.appDataPath()+"template",m=f+"/"+e+"."+u,h=g[e]=b[e]=b[e]||{},v=p.a.state.templateManage.support_bimface.includes(u);return v&&(m+=".zip"),h.progress=0,c=o.a.topProcess({title:$rootScope.isIPhoneFullScreen?"下载中":"正在下载文件...",successTitle:"下载完成"}),l.a.beginManualUpdate(),l.a.startBackgroundTask(),h.promise=l.a.canUpdate(!1).then((function(){return r.a.isFileExists(f)})).then((function(e){return e?r.a.isFileExists(m).then((function(e){if(e)return r.a.deleteFile(m)})):r.a.mkdir(f)})).then((function(){return r.a.downloadFile(s,m).then((function(t){if(v){var a=f+"/"+e;return r.a.isFileExists(a).then((function(e){if(e)return r.a.deleteFile(a)})).then((function(){return r.a.unzipFile(m,a)})).then((function(){return r.a.deleteFile(m)})).then((function(){return a}))}return t})).then((function(n){return h.download_time=h.upload_time,h.progress=-1,d.a.updateDownloadTime(e,h.upload_time,t,a,A()().format("YYYY-MM-DD HH:mm")).then((function(){delete g[e]}))}),null,(function(e){h.progress=e,c.loading(e)}))})).catch((function(t){return c.close(),h.progress=-1,delete g[e],t?($log.error("下载错误: ",t),n.a.reject(t)):n.a.reject("下载样板发生错误")})).finally((function(){c.close(),l.a.finishBackgroundTask(),l.a.endManualUpdate()}))},fetchBimfaceSupported:function(){var e="bimface_mime_type";return l.a.post("/setting/get-setting-value",null,{code:[e]}).then((function(t){try{return JSON.parse(t[e])}catch(e){return[]}}))},addDownloadQueue:function(e,t,a){if(!g[e]){h.push({id:e,name:t,url:a}),b[e]=b[e]||{progress:0},b[e].progress=0;var o=n.a.defer();return w._checkQueue().then(null,null,(function(e){return o.notify(e)})),o.promise}},_checkQueue:function(){if(!h.length)return l.a.endManualUpdate(),n.a.when();var t=e.keys(g).length;if(t>=3)return n.a.when();0===t&&l.a.beginManualUpdate();var a=n.a.defer(),o=h.shift(),i=o.id,r=o.name,c=o.url;return w._downloadTemplate(i,r,c).then((function(e){return a.resolve(e)}),null,(function(e){return a.notify(e)})),a.promise},getTemplateListCount:function(e,t){return n.a.all([d.a.getTemplateDirs(t),d.a.getTemplateList(e,t)]).then((function(e){return e[0].concat(e[1]).length}))},getTemplateList:function(t,a){return $log.log(t,"projId"),n.a.all([d.a.getDirsAndCount(t,a),d.a.getTemplateList(t,a)]).then((function(t){var a=t[0],n=t[1];return e.each(a,(function(e){e.file_type="folder",e.child_num=e.file_count})),e.each(n,(function(e){b[e.id]=b[e.id]||{progress:-1},b[e.id].download_time=e.download_time,b[e.id].upload_time=e.upload_time,e.downloadInfo=b[e.id],e.file_size=i.a.formatFilesize(e.file_size),e.file_type=e.url&&e.url.match(/[^\.]+$/)?e.url.match(/[^\.]+$/)[0]:"",e.child_num=1})),a.concat(n)}))},openTemplate:function(e,t,a){return new Promise((function(n,o){var l=i.a.formatFiletypes(a),s=p.a.state.templateManage.support_bimface.includes(l),d=r.a.appDataPath()+"template/"+e+"."+l;"pdf"===l||"docx"===l||"doc"===l||"xls"===l||"xlsx"===l||"ppt"===l||"pptx"===l?r.a.openPDF(d,t).then((function(e){n(e)})).catch((function(e){o(e)})):"jpg"===l||"jpeg"===l||"png"===l?r.a.openImageBrowser([c.a.fixUrl(d)],0).then((function(e){n(e)})).catch((function(e){o(e)})):s?(d=r.a.appDataPath()+"template/"+e,$log.log("localPath",d),$log.log("name",t),u.a.push({path:"/bimface",query:{mode:"view",layout:"fullScreen",url:d,name:t,ext:l}}),n()):o("未知的文件类型")}))},getMaterialTemplate:function(e,t){var a={projId:e,materialId:t};return Object(m.a)(a).then((function(e){var t=e&&e.length?e[0]:null;return t&&(b[t.id]=b[t.id]||{progress:-1},b[t.id].download_time=t.download_time,b[t.id].upload_time=t.upload_time,t.downloadInfo=b[t.id],t.file_size=i.a.formatFilesize(t.file_size)),t}))},getProcessTemplate:function(e,t){var a={projId:e,processId:t};return Object(m.b)(a).then((function(e){var t=e&&e.length?e[0]:null;return t&&(b[t.id]=b[t.id]||{progress:-1},b[t.id].download_time=t.download_time,b[t.id].upload_time=t.upload_time,t.downloadInfo=b[t.id],t.file_size=i.a.formatFilesize(t.file_size)),t}))},openDirs:function(e,t){return w.getTemplateList(e,t.id).then((function(a){var i=$rootScope.$new();i.listConllection=a||[],v.push(i),i.title=t.name,i.close=function(e){if(e)for(;v.length;)v.pop().modal.remove();else v.pop().modal.remove()},$ionicModal.fromTemplateUrl("templates/template-manage/template-list.html?v=20190415",{scope:i,animation:"slide-in-right"}).then((function(e){i.modal=e,i.modal.show()})),i.openDOC=function(){var t=this.item;if("folder"===t.file_type)return w.openDirs(e,t);t.downloadInfo.progress<0&&t.downloadInfo.download_time===t.downloadInfo.upload_time&&w.openTemplate(t.id).catch((function(e){o.a.alert(e)}))},i.uploadCallback=function(){w.getTemplateList(e,t.id).then((function(e){i.listConllection=e||[]}))},i.downloadTemplate=function(e,t,a){a&&a.stopPropagation();var o=this;n.a.when().then((function(){a.target.style.display="none"})).then((function(){o.item.downloadInfo.progress=0})).then((function(){setTimeout((function(){w.addDownloadQueue(e,t)}),10)}))}}))},_getTemplateList:function(t){var a=t.projId,o=t.parent_id,r=t.keywords,c=t.mtime_sort,s=t.name_sort;return n.a.all([l.a.post("/template-manage/list",{proj_id:a,parent_id:o,keywords:r,mtime_sort:c,name_sort:s}),w._getLocalTemplateList()]).then((function(t){var a=t[0].list.filter((function(e){return e.is_dir})),n=t[0].list.filter((function(e){return!e.is_dir})),o=t[1];return e.each(a,(function(e){e.file_type="folder",e.child_num=e.docs_num})),e.each(n,(function(e){b[e.id]=b[e.id]||{progress:-1};var t=o.find((function(t){return t.id===e.id}));b[e.id].download_time=t?t.download_time:"",b[e.id].upload_time=e.upload_time,e.downloadInfo=b[e.id],e.file_size=i.a.formatFilesize(e.file_size),e.file_type=i.a.formatFiletypes(e.url||e.name),e.child_num=1})),a.concat(n)}))},_getLocalTemplateList:function(){return d.a.getLocal().then((function(e){return e.filter((function(e){return e.name&&e.url}))}))},removeTemplate:function(e){return d.a.delLocalByIds(e)},getViewToken:function(e){return l.a.post("/template-manage/get-view-token",null,{id:e})},coverterBimface:function(e){return new Promise((function(t,a){var n=20;!function o(){if(n<=0)return void a("timeout");var i=function(){setTimeout((function(){n--,o()}),2e3)};l.a.request("/template-manage/offline-data-uri",{id:e}).then((function(e){e?t(e):i()})).catch((function(){i()}))}()}))}};t.a=w}).call(this,a("391c"))},"3f00":function(e,t,a){var n=a("a14f");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("85cb").default)("eb0bf718",n,!0,{sourceMap:!1,shadowMode:!1})},"409e":function(e,t,a){"use strict";a("163d");var n={name:"ProgressRound",props:{size:{type:[String,Number],default:24},progress:{type:[String,Number],default:0}},data:function(){return{girth:22*Math.PI}},computed:{barWidth:function(){return this.girth*(Number(this.progress)||0)/100},isWaiting:function(){return 0===(Number(this.progress)||0)}}},o=(a("ef80"),a("17cc")),i=Object(o.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{style:{width:this.size+"px",height:this.size+"px"},attrs:{viewBox:"0 0 24 24"}},[t("circle",{staticClass:"bg",attrs:{cx:"12",cy:"12",r:"11"}}),t("circle",{staticClass:"bar",style:{"stroke-dasharray":this.barWidth+" "+(this.girth-this.barWidth),"stroke-dashoffset":this.girth/4},attrs:{cx:"12",cy:"12",r:"11"}}),this.isWaiting?[t("circle",{staticClass:"waiting",attrs:{cx:"7",cy:"12",r:"1.5"}}),t("circle",{staticClass:"waiting",attrs:{cx:"12",cy:"12",r:"1.5"}}),t("circle",{staticClass:"waiting",attrs:{cx:"17",cy:"12",r:"1.5"}})]:t("rect",{staticClass:"center",attrs:{x:"9",y:"9",width:"6",height:"6"}})],2)}),[],!1,null,"1e4390ea",null);t.a=i.exports},"4daa":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c}));var n=a("5e8d"),o=a("162a"),i=a("da71");function r(e){return Object(n.a)().then((function(){var t=i.a.processTemplate.url;return o.a.request(t,e)}))}function c(e){return Object(n.a)().then((function(){var t=i.a.materialTemplate.url;return o.a.request(t,e)}))}},5221:function(e,t){e.exports="data:image/png;base64,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"},"53e4":function(e,t,a){"use strict";a("75b9")},"61a0":function(e,t,a){"use strict";a("7e73")},"65e9":function(e,t,a){"use strict";(function(e){a("5ab2"),a("6d57"),a("e10e");var n=a("28f8"),o=a("4360"),i=a("48f4"),r=a("162a"),c=a("f2d3"),l=a("6906"),s=a("a18c"),d=a("c745");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.a={name:"SynchronizeTipBar",props:{isTodo:{type:Boolean},useDownload:{type:Boolean,default:!0},enterDoCheck:{type:Boolean,default:!0},buildingId:{type:String,default:""},automaticUpdateCallback:{type:Function,default:null}},data:function(){return{currentModuleCode:"",oneUpdateData:!0}},computed:{projId:function(){return o.a.state.global.currentProject.id},waitUploadNum:function(){return o.a.state.global.waitUploadNum},hasTopProgress:function(){return o.a.state.global.hasTopProgress},hasChanged:function(){if(!this.useDownload)return!1;if(this.currentModuleCode){var e,t=i.default.isModuleNeedBuilding(this.currentModuleCode)&&!this.isTodo;return!(t&&!this.buildingId)&&(e=this.isTodo?o.a.state.global.todoChangedStatus||{}:o.a.state.global.businessChangedStatus||{},t?!!e[this.currentModuleCode]&&e[this.currentModuleCode][this.buildingId]:e[this.currentModuleCode])}return!1},show:function(){return(this.hasChanged||this.waitUploadNum)&&!this.hasTopProgress},oneDataSync:function(){return this.$store.state.app.oneDataSync}},watch:{hasChanged:function(e){var t=this;e&&this.$nextTick((function(){setTimeout((function(){var e=t.$refs["synchronize-tip-bar"];if(e&&e.style){e.style.display="none";e.offsetHeight;e.style.display="block"}}),100)}))},buildingId:function(e){this.currentModuleCode&&i.default.isModuleNeedBuilding(this.currentModuleCode)&&e&&(console.log("楼栋重新加载，是否再次自动加载数据：",this.oneUpdateData),this.oneUpdateData&&this.automaticLogic(),this.checkSync())},show:function(e){e?this.$emit("show"):this.$emit("hide")}},activated:function(){this.init()},methods:{init:function(){this.getCurrentModuleCode(),this.enterDoCheck&&!s.a.isBack&&this.checkSync(),this.automaticLogic()},automaticLogic:function(){var e=this;this.$router.isBack||(this.oneUpdateData=!0,d.a.getAutomaticLoadData().then((function(t){$log.log("是否要自动加载 ===> ",t&&e.oneDataSync&&"function"==typeof e.automaticUpdateCallback),t&&e.oneDataSync&&"function"==typeof e.automaticUpdateCallback&&e.dataSync().then((function(t){console.log("是否需要初始化页面 ====> ",Boolean(t)),t&&e.automaticUpdateCallback()}))})))},getCurrentModuleCode:function(){var e=i.default.getCurrentModuleCode(),t=this.isTodo?"todo":"";this.currentModuleCode=e||t},checkSync:function(){var t=this,a="checkDataUpdate",n=this.currentModuleCode,r=this.buildingId,s=o.a.state.global.isLeader?this.projId:"";return!i.default.isModuleNeedBuilding(n)||r||this.isTodo?(this.isTodo&&(a+="_todo"),n&&(a+="_".concat(n)),r&&(a+="_".concat(r)),l.a.execAfterInterval(120,a).then((function(){return t.isTodo?"todo"===n?c.a.getModuleList().then((function(t){var a=e.map(t,"code");return i.default.hasTodoChangedData("",a)})):i.default.hasTodoChangedData("",[n]):i.default.hasBusinessChangedData(s,[n],r)})).then((function(e){if(t.isTodo){var a=u({},o.a.state.global.todoChangedStatus);a[n]=e,o.a.commit("global/SET_TODO_CHANGED_STATUS",a)}else{var i=u({},o.a.state.global.businessChangedStatus);if(r){var c=i[n]?i[n]:{};c[r]=e,i[n]=c}else i[n]=e;o.a.commit("global/SET_BUSINESS_CHANGED_STATUS",i)}})).catch((function(e){return e&&!0===e.timeNotTo?($log.debug(e.msg),!1):$q.reject(e)}))):Promise.resolve()},dataSync:function(){var e=this.currentModuleCode,t=this.buildingId,a=i.default.isModuleNeedBuilding(e),n=a&&!t;return $log.log(["模块名：",e," 楼栋id：",t," 当前模块是否需要楼栋id：",a," 判断是否终止自动更新：",n]),n?Promise.resolve():(this.oneUpdateData=!1,r.a.beginManualUpdate(),i.default.checkSync(t).then((function(e){return r.a.endManualUpdate(),e})).catch((function(e){$log.error("自动更新错误",e),r.a.endManualUpdate()})))}}}}).call(this,a("391c"))},"75b9":function(e,t,a){var n=a("e5a0");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("85cb").default)("417e698a",n,!0,{sourceMap:!1,shadowMode:!1})},"7c8e":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAA2CAYAAACBWxqaAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMKADAAQAAAABAAAANgAAAABUd5msAAADvklEQVRoBe1ZWVPbMBD+7NhJoOWG8sBZ7h7DAy+0U/rj+9KnliltgTLlSjlCSIBAp4EkPqp1xrU8JMbGErgz2QdsZO3x7a5WK0WxGYHRxpaBvZyBWt35l4YelBQFWFrUMT6qRdLrzC4ULWxt1yMxyph8dmFBUUyMjaRCi1dpZvnSCs0ge2Lp3MTBsRlajQOgkUSheaRPLJ2ZOAwJwgEg3aJ7KCidWTjK3x2JxAKwYaNYYiBOgkEkFgAFzQHBCky+0BpEogG4IAqnFk5agEg8ABdEnkCc3o5EYgA4lTBwD7VZFCzQnsVTYgCQUZWbQATOmsizRX3KgYi2b/PQJbxT1entVpBOs76iJdnY2behqhoGB1QkCgCl0cUlRSE4EoStr1d1ACQqhVo6PeDDfw9ASgqpzC1POhXomoKbqo3K9d0pEeDkwE9CAfT3qZib1vBsUEUq5S1E07RRvrKw8cNA6dxfBgOtC/FRGIAXcxrmZzTWz3uGu/oJzEBfCu/fppA7NLC6Ju7sIWQNzE5pWJjVfcZbFkudigV68jTBTlzTz8MfWHjeZu+xI5DNAOR9lwzDxurXOo7ZhkNlkQIyOZ7C4kud1e5GdF4v6Dg4MlGruVz3f8aOAJ1h+Xwn46mPdw9J9NzLmdjZM/5ZSUB6e2KrduTFljLY74mo1uyWhxBqxnjq6fb4+PGo77GlZLPeoq1U/PnOG0OpxZPHxY9Gf/eSNzqvw/HpS42lUIO5HlBchof8C/dPANgopsQGcPXb79lmymlTo/3BJdoX6OAugjypIqQ1kdH1VMG75Qx03Uua3X0DVQEViNRJBdDdpWDlTQYZrj2mCrXObgFFkTQAnSxtVpjneePJ82vrAQvlHqikAVheSiOT8dLm524d3zfFed7FGruMuoL45xBr5viNqlA0pRhPOqUAoG6Up+1d8Z535fs1uaMxn1kudej2/rzs34VjivexS1kDuUMTRXa3SUS9kCEvAHLKKF3MElEn6jZ1zoCEP1IiMDWZwqt5ap/hNHef2QFGFhDha4DaBur9NXYeprZ5bETDxKi/DxIZCOEAOjoU38mMjKUxWSQcQJlVnGvuFoKqUKubZRGghK8BgzWZHz5WMfNcY2kE/GJHx8Ztmwhzb8sQDoBUXLNL2m+bYnue26Y3RoSnUCtFssbbAGR5NqzcdgTCekrWvHYEZHk2rNx2BMJ6Sta8dgRkeTasXCcCTX5UCcv/aPNcmx0A/BXIo1kUUbFrswNgeEhlv2/pSHP3lxHlPdh0spFsJZuJ/gKxwyi8t4emEwAAAABJRU5ErkJggg=="},"7e73":function(e,t,a){var n=a("1341");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("85cb").default)("236734e2",n,!0,{sourceMap:!1,shadowMode:!1})},"7eb2":function(e,t,a){(e.exports=a("690e")(!1)).push([e.i,".zjapp .synchronize-tip-bar[data-v-66826030]{height:30px;padding:5px 15px;line-height:20px;text-align:center;background-color:#ffe6e6;color:#ff6060;font-size:14px}.zjapp .synchronize-tip-bar .icon-caution[data-v-66826030]{line-height:20px;margin-right:5px}@media screen and (-webkit-min-device-pixel-ratio:1){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 100%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:1.5){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 66.6667%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:2){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 50%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:2.625){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 38.0952%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:3){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 33.3333%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:4){.zjapp .synchronize-tip-bar[data-v-66826030]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 25%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}",""])},"7f06":function(e,t,a){var n=a("2b14");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("85cb").default)("3ac9d914",n,!0,{sourceMap:!1,shadowMode:!1})},"80ec":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABgCAMAAACE0rRpAAAAVFBMVEUAAACU1dFtxcJtxcJmwr51yMWEzsuEzsuEzsuEzstzx8R2ycZ6yseBzcp+zMl8y8hwxsOc4d5pw8BtxcKDzsv///9rxMFnwr+t392v4N6s3tyd2NZyAMJFAAAACnRSTlMAf60n8vHxrSbvVvfj4AAAAstJREFUWMOt19FOGzEYROFtAqVNTDYBCjS8/3vWcfGe9T91PSsxuf90LMtaZZp+PHx/+ece406n0yXvdNs8z98mWdZ+vtga3Jz3G489jDQwuLlweMw76anh5r8cHrNPCjcvnHpuG9wMp96GNuXU29CmnHob2pRTz2xTLmVJPaONzXBp4d7fV96WthkupbRoa29LG1zKQ1t5G9rgUuHQ8Pw2uFSGtvLsNrj0yaHhuW1w6XNXNDy3TbmP93bXm+e2Kfd4bbXrzfPb4Kr3kUG04rltyh3jDofDZLSxtOKO+Re0wvltacWFsIIVzm+DkzY4vw1O2yrnt8FlohHh/DY4MNrgvDa4Y5hwRhtcOWmSNjhLgwt5woENNOqkDc5tg2PCuW3Kadw5cAPtWDiwqMFZWsuJBmdpDacnhbO0wIkGZ2pwqsG5GpxqcK4Gpxqcp6VjghMNzm+DEw3ObYPra8+T3QbX1+CGbXB9Da6vxbq+ljnnpEm4jgbX07Sup8H1NSacaHBWG5xqcOO2X52hwf1XSwMODa6rJa8O7XXqa6zHiZa5fltTF99C4YKWuZ4W64JWONHg+m8BDq1yaw1ONK0LWuFEg5NbEA6tckGDU005tMpFLXMXYw13hrvINnPnL+XOX8qdR9zgFgqycGjPy1W81j3lTVFLQYNrtIVDK1yjyf8FuKBVDk04MNrgGq1yaHDyTmmDC1rhRIOT70LgglY4tMgh0QbXGVrgpM3n0OC0zePQ4LTN59Dg+m3xLVzywlsQTt5CV6tcT3vLHNiorXJdLXNIo7bKdbXM8T0dtVWur1FntFWuq5U6s0041bRuoMGpVuvsNjjV4Nw2ONWUOxjaa+FUg1swRyucaspZWuVUg/O1yqkG52uVE004R4NTDc7W4FSD8zU4NOHuXU051e6m3RbtqeHeZLtpf79BazjV7vbTtN/du1rDKbbbT38AhCyvuRsowpcAAAAASUVORK5CYII="},"9455c":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAFpUlEQVRoQ+2aSWwTVxjH/2/sWezx2E7iJOAlJgkGAnECCS0FRFpKWpYLqLQSlEJVlU0t4cClR5CKeiitutBzpR5QL+21PffUnnrooYeqKmJpMDiOE+/22H7VG6tO7HGIjcYwjvikKAfPvPl+7/vet80QSinFGhTyHKzDrLp2LVYqU/r3rIo//lGhFo05bpLAYTIkoL+LQ7GkNzUhgE0gYP/bJSSWKNGPby3izzsFlMvGPMbCEWzfKODSUQUP4w3IAPS5LAj0WYx5YINVyP1okX54cx7JrEFUyx5y6oCM/eOSBlcfe60WIOTj4XZwbYEj96JF+sHXMaRzxrjhci0FnuDKcSd8PRYspvUb57RzCPmtEKzG+2RbwRikz2PBlTecKJWBQt0ZZmfM77HC32u8S7YdjMGFBwUc22MHb4XOJSWBgP21KuwORebg7baAuXW9PBWwVpVu9nqHjcPMUQXTE9LaAmM0u0dEXH/PvfbAWL789FzXc7DKDlAKSo3Pb82eoWaumwiJ+OxCT/MWK2QTKKQXTA8WCiq4dW1rc2Dlkor0/CwzWTOb9kyvaQmskE0in4o9U4WbfXhLYLnUPNRsotm1n+l1LYFlFiIoqbmqwhxH4HLbIStSW1uNJ9mhHreIY1Me7VbWVWz2WhH0WKGrPFgUzMQfgJ2z/6W724HhLf2w8sbXdE8Cs9I9rPbctVHE8V02PRgDyiw8BC0Xq/dvHQ/A5bYZqUNb1mJg06MSjkw0ACuqOeQSUdBypUEURCt2vDgI5o5mF9aVn9wrYzzI6y2m5tPIJ2PV/NXvdWMo1Gd2Jk2/bgeHmUOK9l93xgqZBPLpuJbDCCEYCfvg6rJ3BNhogMe5Aw5N1zowilwqXg31NruAkTE/RNHaEWCn98nYOSzowVhEzCVjKObT2o+efqfmhhZLe+YSRu4WbyG4fsIFia/EghqLsYCRTUS1HMbcMDjkwXq/viUwUiGj1goPCDj7qlxdrgasXC6CJWdaKoLnLdi8zQvFZf4wz2jOTMmYHKq4oc5iWvEbn9XaFbssYHTHQEe4IZt2XT6koNe5dGRqLFYq5JBZjGjEzAU3DPca5SltXWebn8c7+2TYxaVcWwPGerB8al5TIjwRgEMxvxuyuuH1cRsOjktYXkPUgOWSc1BzKUg2Httf2KAFELOLXSA4tU8Gy2HLpQYsvRBBWc3BF+jCwFBnuGGv04KZQw647LUpqQYsNXcXhFAtKTs7JBpODIl4d0pfGVXBkpki0rF7kGURW8I+rfjtBHl/vwNjwVo3rAn3iUQGmcWH6FvvwuDGXnCc+asNVmVcP+FGozaxarH4/ALU7AKCw71Y59VPVs1ovZ1DAk5PLVUbDYNHLDoHUs5q1YbDqZ+FmxHs7AEHwnXRUFd5RCOzkCRgdPtARzSVXTKHmcMKelZ4cVhxxa+iePRgFl6/gsCGymDE7DIWFPD2Xrv2LruRaGAXv4ggGnmAsUk/7HbR7ExahXFkhw3T4ZWnZhrYhc//RToVx/jkgOmhmIKySHDmZRlbvPowX3PGzt+4A5udwh/sroKxEMqat2aFDcNzBfpUhuL9LgsuH1bgkFbWT7PY+Ru34Q04IDuW3JDN5kZ8K+9IPXA8XcZ3v6SRasNL+vpnvRQScXLv4+cw5O4jlV7+5j7W+WQIQqXaUCSCq2+5WrJYLFnGlz8lkMi2/0XGxdcUjPgeXxmRO5EC/ejbCDz9cjXMhwd4vLK1tSDCgH74LYN0vr1gio3D1TfZpj/+kJB7jwr02vdzkJclZZEnq95Yvyz7QCXDzlh7ubB7k4gTe1YfB5LZmEo/+TEOjn2rYHJh7eGF6dXdUCuCY8kSvflzEvMNvpwxG2ePwuHSwcqkdzUhxRKlv98u4Ne/Csip5n3fLPEcdm8SMDEooJkx59r9XvH5p7OrObXJfv8PYlLGbRuC1/oAAAAASUVORK5CYII="},"9e8c":function(e,t,a){"use strict";a("3f00")},"9f2f":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAANqADAAQAAAABAAAANgAAAADzQy6kAAAET0lEQVRoBe2Z604TQRTHT2+0lNobtNzivYiXcFEgBkRNjPGSGPUBfBrfQJ9CP+k3g37ACEaNSqJE5SJKVCiCBVpbei/OabLT3XUGWnZ2KUlP0uzMmZmd/2/O7uzM1LRJDBi2kvkLj5feQTi9DgV2FUYrsa5QQxBut/SDy+Ko+MZmXovHS+9hIbW2a1CoK5nPwnhkBhL5NE8m188FC6fXuI2MLMhu5mB8dbpiOC7Ybj1+rEHLFHLwcnUGNgoZVjHTxwVj1t5FZ7qAj+U0JMuE2zNgOKYIN0bgUuS6ne0pMAnuRWRqW7g9BybBjZEJJU3ePZ7tSTCESeUzMLY6BRkya7KsqsE4awfKkSRwL/4gXJ76pERVg0VzSUkn94qz5FjkC2RVcFZuiyoowBXHbOI3NNW5wGLixyBGBuDJ8ge42XyGqq5qMFSJovFXjsnB+MNQzp2quE4NrIqDw5RWixhzWKrYKXxWvNN+DkINzRQ5lk3CvfkRyG8WqE+eGPSG4Gqwm7oSuTTcJ/W3Wi7RylskhD+KT1cmFbtut60eTrsPMiXUmaww3NipKBuNfNYMhTcUDracicFE9LtC7LC/k3RkUvgwM+TvgAaLnfqX0zF4r2pLCytMCAfD/kfJEgf3TpJ5bU7ocR+QssWr01wHg76Qwjey8hGYJ0uKWuVldAHDpRBuCOV2nkRNHjN8BO1mG60ym1iCuY1lmtea0AUMRb1e/wrr2Q2qz0/We1379hfzbms9DHiO0DI8X8F3U6TpBpYjs+AzldjzjceLUbvgPw42s4Vy4HuF55giTTcwFPkpvgA/kxGqN1C3Dwa8R6HXU5olU+TsEGdC0aYrGIodUUXtWqAbrLItCO6CN8iGUbTpDvYrtQqTsZ9Ut9lUmkLWsgnyLs7RMpEJ3cFQ7Nv1b0zNE9F57oqE2aACpyFg5/zHmJL6PYfBZipNIsxKO3TqDtbZ0AqdrlYqT/4+eciHe5gDTRvsMKErGEbjerCHSsMF7oOFVzSPiSHfMfBanQqfiIyuYBfJdwuXU5K9XJuBH6kITMfDkqv4PZOv7mmBxoRuYE3kmzXo66Dy4rkUnUSek7Wk3E642uCIMyh3aU7rBnYj2Ks4MsO/gaSzP/yXVB41pLhOvm+sHcBOCXUB6yZrwkPOANVUjFZUOeWroxawu+EsWZWIMuFgDrJivxLoUugbJ9HCtaPcMGpT8UW5Cy42nlDszxSFFWaEg11qOgkua+nP8L/k3XqnipakEaMmP593WGxwuemUVKzpKhSsze6Fftl2BJXh/8fqaEmKl9LR/6LWS44R2h0+qcqOr0IPcxbJ43V39lFFYh6G3wCUZv+K2m5VWWjEturI6LIamNEjrrW/WsS0jqDR7WsRM3rEtfZXi5jWETS6fS1iRo+41v64EZOf/2ntxIj2ar1csFa79hW2EUBSH22qHQEX7HZLX3H7oB4J6UbVckV9uM251dynkPQPcRxrRUJOdDoAAAAASUVORK5CYII="},a14f:function(e,t,a){(e.exports=a("690e")(!1)).push([e.i,".zjapp .convert[data-v-13aac6b6]{-webkit-animation:rotate-data-v-13aac6b6 2s linear infinite;animation:rotate-data-v-13aac6b6 2s linear infinite}.zjapp .icon[data-v-13aac6b6]{fill:#4275e8}@-webkit-keyframes rotate-data-v-13aac6b6{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes rotate-data-v-13aac6b6{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",""])},a3e2:function(e,t,a){(e.exports=a("690e")(!1)).push([e.i,".zjapp .app-search-bar[data-v-40f69b60]{position:relative}.zjapp .app-search-bar[data-v-40f69b60] .van-cell:after{display:none}.zjapp .app-search-bar>div[data-v-40f69b60]{padding:8px}.zjapp .app-search-bar[data-v-40f69b60] .van-search{padding:0}.zjapp .app-search-bar[data-v-40f69b60] .van-search /deep/ .van-cell{padding:2px 10px 2px 0}.zjapp .app-search-bar[data-v-40f69b60] .van-icon-search{visibility:hidden;color:#cacaca;font-size:14px}.zjapp .app-search-bar[data-v-40f69b60] input{color:#999;font-size:14px}.zjapp .app-search-bar[data-v-40f69b60] .van-field__body{height:100%}.zjapp .app-search-bar[data-v-40f69b60] .van-search__content{background-color:#f4f4f4;height:28px}.zjapp .app-search-bar .holder[data-v-40f69b60]{color:#999;font-size:14px;position:absolute;left:50%;top:3px;transform:translateX(-50%);transition:all .3s;display:flex;align-items:center}.zjapp .app-search-bar .holder .icon[data-v-40f69b60]{visibility:visible;margin-top:-1px;margin-right:5px;font-size:14px;line-height:14px;vertical-align:top}.zjapp .cancelBtn[data-v-40f69b60]{position:absolute;top:0;right:0;width:60px;height:44px;line-height:44px;text-align:center;font-size:16px;color:#4275e8;visibility:hidden}.zjapp .search-focus>div[data-v-40f69b60]{padding-right:60px}.zjapp .search-focus .holder[data-v-40f69b60]{left:34px;transform:translateX(0)}.zjapp .search-focus .holder .icon[data-v-40f69b60]{visibility:visible!important;position:absolute;left:-24px}.zjapp .search-focus .holder label[data-v-40f69b60]{visibility:hidden}.zjapp .search-focus+.cancelBtn[data-v-40f69b60]{visibility:visible}",""])},bb65:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAANqADAAQAAAABAAAANgAAAADzQy6kAAAEfUlEQVRoBe1ZS08UQRCu2QECC4K8QSFBBBQRT5JIFBTht5hwMjHxpjdP+gv8ASInvXowAWOMJkbggBB5KYYgL0Fhl33NLlbtTG/3zoPdnR2YXbN12J7p7a6ur+rr6pka6QgFTGR1LwZPJ/2wuB2FmPkQk1nOdvW1FMPDoXKo8UoZK/ZYzXiGoL5tKa6BIrsOwjEYnwnAn4Cp761Mj/dbAlvASOWChJQjeEnggpmBswTmFv3MnBmMHMH4dAD2MwBnCcxsATf7AghubDoI+6H0Ipc3wMipgQjuOQTnC6cGl1fACJwfE8rYVBDb48HlHTAR3GGE7swlL4ERFB9G7sVUAOmZh8Bix7MNfCEVXFAxgsvpiG0dxIwW63oOLMBJVo9UI8/3dCrcua0vl6D1rAxFKUJQVyHDg0FvwsiixFWOXmz7j2Dbb8I1g71KErAUfjDMzpuOArC8CZVmaCFihYjliAf+Wyo6co7dv+VN1CVm1hV4PRsyjVsdHraNFaovd/F1/9e++ZPFcEcJDLYXx3UoOOTJWz+keLoyrOcIsKoyCW5eKIkrb66ULYGRA/rb1HGL2wqMvjowGEQdI10l0NeqAqO6S6agSIcjVJzf5E8GbTUeKDVxV0WJBNc1Y2nhzvoiaD5jXN6DBameRq5gHoHZEaNmG1rmBGAeSYJLDdwwpo6oVSwnl9EGNLqxMdS218rgRScwmdu0V1RyBNjCThSUKCfMFRNgdztVCjKDqR1sN/b1NiU7RXSaODfVtSPAIujUpd/cs92NctK6tVjwvNacbDANuIwOaNCSCZvQK4zbO4zBRhqvLmyu2DoCjBSKnu0W9gj9N4RZjihKsr4fhZl1/trLsl/8T/wRIybqZP+n254IsOoyDzQJiWHoIqfc5HIYJpbCCftEOrZUeaDay036KuzdxIQ0L7iWNCdYDdNv8u4GlY7nKz1JyWRiKQLvVyIQ1d77aRydbyRXDfuL09tqXat+x4Bt+WKw4+cHLqMj0ZDJ6l4Uvu9G40XPL2tqGpeQogPaGSjuLwK+gGedXXEMGBkgnmfdWmYcFrKhSEGiJJPbGlVFYMuYjML2A+bMAc0MFDd7R50MRDOqVzARwXz4EUHD1SOiB7NoV70M5/CphYmoi/Vl0joaMdEYOozv3eDFlcUdBdb+cqpSJffzTzU7Eh1H+/lYAqDfs5mAorGOAtMf1CK1RBoyIycEOopj6X/RSWx8Jq2jwPQHtWjI5DI/u1j/x9UIVnL5Ewvrz+ZgZjocBUZKzTxNfZQ19RLCpPcJwenFTId+TKr7UwFmRkNmmEhH1pfNwcx0nACw5BxNX0bfrfDUzhZmLSUQn+5jXraJg3Qbn0zZijZbotzjNz7QHg2BPrPuHhr3EVOP3/LgEY6vLOWvKvRyma04DowMoqSQicxuZA9Ev57jVNQv4NZ9AZhbnre7biFidj3n1rxCxNzyvN11CxGz6zm35hUi5pbn7a5rGTFW4LSr+LTnyfQ1QxBLYFRcySfpxOKRKJbAHt4pjxc6cz1y7OsO2SvKP8TqlwuopkdIAAAAAElFTkSuQmCC"},dacb:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACTklEQVRoQ+2aP0gbURzHv+8ul2jTM71YLKHVQlCpDhZ0E7p0KFrsUOhU6CAtRCiWGtpFZ+vQ4KAI2sXFUXApIjh2F8XSxT9tKRgHTRpjQv7eKxcdTCP44L3kvPBuuuH3fr/f5/v9vTe8O0IppXDwQySAze6VHEimTfw8LIB3mFoMFQG/WlMkcpIq0uHIMeKnJndhVQGmXhvwuIBcoTydSwUetGpwa4S7zsUEZGsvS8fm48KS+nUFkZCBg6NiRU6fV0FXmwuEiIMgm7tZGl4QB2B13d/twZvBmzg4roRoa1Fx97ZLmGBVAbC6GxnS0duuIZEqP6UVAvQENSjWi4CnagBWe533NDS4xTRaNvcE6Otw4+VjL6oGIEDcK1N8ed/sbIDpkFFnANZZPTl8C70dbigCj7orZ4EhwKQUGzs5TCz+ReH8cKtwoPu+htm3foZ09oWMzsXw43e+1EAFwMOghumR6w0Qno9ha7+eAL7/ytHPyyclS4IBFaGnun3zwVB5YTWJ/ejZJvj4oglkJ5qns2tJhqXXL2R0QJcAttoiHbBVfgDSAekApwJyhDgF5F4uHeCWkDOBdIBTQO7l0gFuCTkTSAc4BeReLh3glpAzQX06YHgJnvQ0MmsTOzWxvp1hjhcZeKkDrc0qPjxrYq7z56iAyFd7bjUuBbjjU/DqkZcZ4DBRxNK3NHO8yMD62AO70TydcejF1jvrYiuVMemnlQSSGWf9caA3EIw/96H0oTudpYjGi3AKgvXVLWCouOEhZwAiN1atc0mAWiv+f71//2CDTxdDRVsAAAAASUVORK5CYII="},e5a0:function(e,t,a){(e.exports=a("690e")(!1)).push([e.i,'.zjapp .checkbox[data-v-afcfdff2]{font-size:14px;line-height:20px}.zjapp .icon[data-v-afcfdff2]{vertical-align:top;margin-top:1px;margin-right:7px}.zjapp .semiCheckbox[data-v-afcfdff2]{font-family:Chinese Quote,-apple-system,BlinkMacSystemFont,Segoe UI,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:14px;font-variant:tabular-nums;line-height:1.5;color:rgba(0,0,0,.65);box-sizing:border-box;margin:0;padding:0;list-style:none;white-space:nowrap;cursor:pointer;outline:none;display:inline-block;line-height:1;position:relative;vertical-align:middle}.zjapp .semiCheckbox-inner[data-v-afcfdff2]{position:relative;top:0;left:0;display:block;width:18px;height:18px;border:1px solid #d9d9d9;border-radius:2px;background-color:#fff;transition:all .3s}.zjapp .semiCheckbox-indeterminate .semiCheckbox-inner[data-v-afcfdff2]:after{content:" ";transform:translate(-50%,-50%) scale(1);border:0;left:50%;top:50%;width:8px;height:8px;background-color:#4275e8;opacity:1}.zjapp .semiCheckbox-inner[data-v-afcfdff2]:after{transform:rotate(45deg) scale(0);position:absolute;left:5.57142857px;top:2.14285714px;display:table;width:5.71428571px;height:9.14285714px;border:2px solid #fff;border-top:0;border-left:0;content:" ";transition:all .1s cubic-bezier(.71,-.46,.88,.6),opacity .1s;opacity:0}.zjapp .semiCheckbox-checked .semiCheckbox-inner[data-v-afcfdff2]{background-color:#4275e8;border-color:#4275e8}.zjapp .semiCheckbox-checked .semiCheckbox-inner[data-v-afcfdff2]:after{transform:rotate(45deg) scale(1);position:absolute;display:table;border:2px solid #fff;border-top:0;border-left:0;content:" ";transition:opacity .2s cubic-bezier(.12,.4,.29,1.46) .1s;opacity:1}',""])},e87de:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABgCAMAAACE0rRpAAAAclBMVEUAAACtw+WRrtuvxeWXs92Rrtuwxuaiu+Giu+Giu+Gctt+Ztd6Xs92QrdufueCSr9yUsd3///+euOChuuGMq9qOrNuiu+HB0uvD0+z6+/6owOP2+fy7zure5vTv9PrZ4/PK2O7e5/S2yujn7ffd5/TJ1+1PqPl5AAAACnRSTlMAf/F/J61/8a3vSwNaswAAAj1JREFUWMOt1dFymzAURVGV4jaF1C1NCgHjOnaa///FqtaQbXM1gDRnP/lpzZyLZuxc+fC1ve3ptv2sX1NVVX1xkcpvbZ5WveDRQ6bmOTzKWxq4l8+Gy9QCZ70MDc56GRqc9TI0OOtlanDdnZenwXVd98lRqkaTduelahS0mZeqEdqNl6zBoeEla3BgeKkadYSXrdUd4WVr9SXmZWv1HggvW/PexXr5Gj1+5CQanESDk2hwUu2nk2qeE2qeU2qeU2qek2mBU2lwCg1OocEpNDip9sNJNTiFBqfQ4BK04dz35yGiwaVoh8Z3GIwGl7L03Fw7Gg0u5W594HqjwSVocDMNLumbMvZGg0t9IdOnuNPgEjXvHfv+ONPgVrSxW3+99N0ta+2hHxI0zy0u/ds0f6rNmucWtbHxnTZrnlvS2kPzv3GjFri4FqZe64ctWuDiGlN9/nzrWshFNaaGTqvaxMW00LGhcV0LXFxjKudb1eCs9sTU6/nqSXsdrQYX1ZjK+Sat6VurwREaU2kMmv/1Ftfg0OxUzhc033tcg0OzUzmf10ID2gJXM5Xo9Ioc137DodmpVo5rcGhMXegS0+DQmLpUv7caHBpTl3szGhwaU9d6NxpcvXkqDTMNrk6Yyjt8vNPg6pSpdEKDQ0v4BwyhwSm1ZyfVnp1Sg1NocAoNTqHBKTQ4hQan0OAUGpxEg5NocBINTqLBSTQ4iQYn0eAkGpxEg5NocBINrlBqhdvla7adKwudVpTOlbtCtHRXun/3zKZ+m80fkgAAAABJRU5ErkJggg=="},e8e4:function(e,t,a){"use strict";a("163d");var n={name:"ProgressRound",props:{size:{type:[String,Number],default:24}},data:function(){return{girth:22*Math.PI}},computed:{barWidth:function(){return this.girth*(Number(this.progress)||0)/100},isWaiting:function(){return 0===(Number(this.progress)||0)}}},o=(a("9e8c"),a("17cc")),i=Object(o.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{staticClass:"convert",style:{width:this.size+"px",height:this.size+"px"},attrs:{t:"1597203904175",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{staticClass:"icon",attrs:{d:"M194.047757 125.823843l2.133331 0.170666a42.922613 42.922613 0 0 1 33.023959 21.119974l85.333226 147.797148a42.666613 42.666613 0 1 1-73.898574 42.666614L183.893103 239.231701A424.959469 424.959469 0 0 0 85.333227 511.99936c0 235.647705 191.018428 426.666133 426.666133 426.666133a426.3248 426.3248 0 0 0 165.589126-33.279958 42.666613 42.666613 0 0 1 33.151959 78.591902A508.586031 508.586031 0 0 1 511.99936 1023.99872C229.247713 1023.99872 0 794.751007 0 511.99936c0-143.786487 59.605259-278.058319 162.559797-374.271532 2.474664-2.346664 5.247993-4.437328 8.362656-6.229326l0.426666-0.255999a42.32528 42.32528 0 0 1 1.663998-0.853333l-2.090664 1.109332c1.706665-0.981332 3.413329-1.834664 5.16266-2.559997l1.194665-0.426666a36.394621 36.394621 0 0 1 3.498663-1.151998l1.365331-0.341333a32.981292 32.981292 0 0 1 3.839996-0.767999l0.511999-0.042667a38.655952 38.655952 0 0 1 7.55199-0.426666zM511.99936 0c282.751647 0 511.99936 229.247713 511.99936 511.99936a510.250029 510.250029 0 0 1-152.917142 364.97021 42.666613 42.666613 0 0 1-49.493272 7.509324 42.83728 42.83728 0 0 1-18.51731-17.194645l-85.333227-147.797148a42.666613 42.666613 0 0 1 73.898575-42.666614l56.575929 97.919878A424.703469 424.703469 0 0 0 938.665493 511.99936c0-235.647705-191.018428-426.666133-426.666133-426.666133-44.842611 0-88.746556 6.911991-130.474504 20.309308A42.666613 42.666613 0 0 1 355.412889 24.405303 511.700694 511.700694 0 0 1 511.99936 0z","p-id":"13796"}})])}),[],!1,null,"13aac6b6",null);t.a=i.exports},ef39:function(e,t,a){"use strict";a("ed63"),a("8cf2"),a("cc57"),a("f548");var n=a("6bf2"),o=a.n(n),i=a("07d2"),r=a("409e"),c=a("e8e4"),l=a("3e47"),s=a("a500"),d=a("e2a7"),p=a("242a"),u=a("ed08"),f={components:{Item:i.default,ProgressRound:r.a,Checkbox:p.a,Converting:c.a},filters:{datetime:function(e){return o()(e).format("YYYY-MM-DD HH:mm")}},props:{dataSource:{type:Object,default:function(){}},keyword:{type:String,default:""},showTrash:{type:Boolean,default:!1},isMass:{type:Boolean,default:!1}},data:function(){return{inConverting:!1}},computed:{nameInkeyword:function(){return this.keyword?this.dataSource.name.replace(this.keyword,'<span class="light">'.concat(this.keyword,"</span>")):this.dataSource.name},isFolder:function(){return"folder"===this.dataSource.file_type},needDown:function(){return this.dataSource.downloadInfo.progress<0&&!this.dataSource.downloadInfo.download_time&&!this.inConverting},needReDown:function(){return this.dataSource.downloadInfo.progress<0&&this.dataSource.downloadInfo.download_time&&this.dataSource.downloadInfo.download_time<this.dataSource.downloadInfo.upload_time},inDowned:function(){return this.dataSource.downloadInfo.progress<0&&this.dataSource.downloadInfo.download_time===this.dataSource.downloadInfo.upload_time},inDowning:function(){return this.dataSource.downloadInfo.progress>=0},checked:function(){return this.$attrs.checked}},methods:{handleClick:function(e){this.isMass?this.toggleCheck(e):this.openDOC(e)},openDOC:function(e){var t=this,a=u.a.formatFiletypes(e.url),n=this.$store.state.templateManage.support_bimface.includes(a);if(n&&s.a.addTrack("常用文档-打开".concat(a),"template-open-".concat(a)),e.isLocal)l.a.openTemplate(e.id,e.name,e.url).catch((function(){d.a.alert("暂不支持打开此文档")}));else if("folder"!==e.file_type){if(e.downloadInfo.progress<0&&e.downloadInfo.download_time===e.downloadInfo.upload_time&&l.a.openTemplate(e.id,e.name,e.url).catch((function(){d.a.alert("暂不支持打开此文档")})),n){var o=e.viewToken;if(o)this.$router.push({path:"/bimface",query:{mode:"view",layout:"fullScreen",viewToken:o,name:name,ext:a}});else{var i=20;!function n(o){i<=0?t.inConverting=!1:(i--,l.a.getViewToken(o).then((function(i){i?(t.inConverting=!1,e.viewToken=i,t.$router.push({path:"/bimface",query:{mode:"view",layout:"fullScreen",viewToken:i,name:name,ext:a}})):(t.inConverting=!0,setTimeout((function(){n(o)}),1e3))})))}(e.id)}}}else this.$router.push({path:"/template-manage-secondary",query:{parentId:e.id,parentName:e.name}})},_downloadTemplate:function(e){var t=e.id,a=e.name,n=e.url;e.downloadInfo.progress=0,setTimeout((function(){l.a.addDownloadQueue(t,a,n).then(null,null,(function(e){}))}),10)},downloadTemplate:function(e){s.a.addTrack("常用文档-点击下载","template-download");e.id,e.name;var t=e.url,a=u.a.formatFiletypes(t);if(this.$store.state.templateManage.support_bimface.includes(a))return s.a.addTrack("常用文档-".concat(a,"下载"),"template-download-".concat(a)),void this.handleCovertingAndDownload(e);this._downloadTemplate(e)},handleCovertingAndDownload:function(e){var t=this,a=e.id;this.inConverting=!0,l.a.coverterBimface(a).then((function(a){e.url=a,t.inConverting=!1,$log.log("converting url",a),$log.log("下载 item",e),t._downloadTemplate(e)})).catch((function(){t.inConverting=!1}))},handleRemoveFile:function(e){var t=this;return d.a.confirm("是否确定删除文件？").then((function(t){return t?l.a.removeTemplate(e.id):Promise.reject()})).then((function(){t.$emit("refresh")}))},toggleCheck:function(e){this.dataSource.checked=!e.checked,this.$emit("calcIsSelectAll")}}},A=(a("61a0"),a("17cc")),m=Object(A.a)(f,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"template-item-wrapper"},[a("div",[a("item",{directives:[{name:"track",rawName:"v-track",value:"常用文档-列表页-打开文档",expression:"'常用文档-列表页-打开文档'"}],key:e.dataSource.id,class:e.isFolder?"isFolder":"isTemplate",attrs:{border:"bottom"},on:{click:function(t){e.handleClick(e.dataSource)}}},[a("span",{staticClass:"icon-left icon-template-list-unknown",class:{"icon-template-list-word":"doc"===e.dataSource.file_type||"docx"===e.dataSource.file_type,"icon-template-list-ppt":"ppt"===e.dataSource.file_type||"pptx"===e.dataSource.file_type,"icon-template-list-excel":"xls"===e.dataSource.file_type||"xlsx"===e.dataSource.file_type,"icon-template-list-pdf":"pdf"===e.dataSource.file_type,"icon-template-list-dwg":"dwg"===e.dataSource.file_type,"icon-template-list-rvt":"rvt"===e.dataSource.file_type,"icon-template-list-folder":e.isFolder&&e.dataSource.child_num>0,"icon-template-list-folder-null":e.isFolder&&0===e.dataSource.child_num,"icon-template-list-pic":"jpg"===e.dataSource.file_type||"png"===e.dataSource.file_type||"jpeg"===e.dataSource.file_type}}),a("div",{staticClass:"item-text"},[a("div",{class:e.isFolder?"one-line":"two-line",domProps:{innerHTML:e._s(e.nameInkeyword)}}),e.dataSource.isLocal&&e.dataSource.local_download_time?a("div",{staticClass:"aside"},[e._v("\n          "+e._s(e._f("datetime")(e.dataSource.local_download_time))+"\n        ")]):e.dataSource.modified_on?a("div",{staticClass:"aside"},[e._v("\n          "+e._s(e._f("datetime")(e.dataSource.modified_on))+"\n        ")]):e._e()]),e.isFolder?a("span",{staticClass:"item-font color-light f14"},[e._v("\n        "+e._s(e.dataSource.child_num)+"\n      ")]):e._e(),e.showTrash&&!e.isMass?a("span",{staticClass:"item-del",on:{click:function(t){return t.stopPropagation(),e.handleRemoveFile(e.dataSource)}}},[a("i",{staticClass:"iconfont icon-delete"})]):e._e(),e.showTrash&&e.isMass?a("span",{staticClass:"item-del f14"},[a("checkbox",{attrs:{value:e.checked}})],1):e._e(),e.dataSource.downloadInfo?[e.needDown||e.needReDown?a("span",{staticClass:"item-font color-light f14 ml10 mr10"},[e._v("\n          "+e._s(e.dataSource.file_size)+"\n        ")]):e._e(),e.needReDown?a("button",{staticClass:"button button-green template-button button-outline",on:{click:function(t){t.stopPropagation(),e.downloadTemplate(e.dataSource)}}},[e._v("\n          更新\n        ")]):e._e(),e.needDown?a("button",{staticClass:"button button-theme template-button button-outline",on:{click:function(t){t.stopPropagation(),e.downloadTemplate(e.dataSource)}}},[e._v("\n          下载\n        ")]):e._e(),e.inDowned?a("icon",{attrs:{name:"arrow-right"}}):e._e(),e.inDowning?a("progress-round",{attrs:{progress:e.dataSource.downloadInfo.progress}}):e._e(),e.inConverting?a("converting"):e._e()]:e._e()],2)],1),e.isFolder?e._e():a("div",{staticClass:"border-white"})])}),[],!1,null,"0747cd0e",null);t.a=m.exports},ef80:function(e,t,a){"use strict";a("7f06")},f7ab:function(e,t,a){"use strict";var n=a("65e9").a,o=(a("f7d4"),a("17cc")),i=Object(o.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",{ref:"synchronize-tip-bar",staticClass:"synchronize-tip-bar"},[a("icon",{attrs:{name:"caution"}}),e.waitUploadNum?a("span",[e._v("您有"+e._s(e.waitUploadNum)+"条数据待上传")]):e._e(),!e.waitUploadNum&&e.hasChanged?a("span",[e._v("有新数据")]):e._e(),e._v("\n  ，下拉可"+e._s(e.waitUploadNum?"上传":"刷新")+"\n")],1):e._e()}),[],!1,null,"66826030",null);t.a=i.exports},f7d4:function(e,t,a){"use strict";a("2d6e")}}]);