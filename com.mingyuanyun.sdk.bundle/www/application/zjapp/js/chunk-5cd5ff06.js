(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-5cd5ff06"],{"031c":function(t,e,n){"use strict";var a=n("bef5").a,i=n("17cc"),r=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroller",{ref:"scroller",attrs:{"has-next":t.hasNextPage,"is-empty":!t.renderData.length},on:{pullDown:t.dropDown,loadNext:t.expandList}},[!t.isLoading&&t.renderData.length?n("div",t._l(t.renderData,(function(e){return n("item",{key:e.supply_id,attrs:{editabled:!0,border:"bottom"},on:{click:function(n){t.jump(e)}}},[n("div",{staticClass:"item-con"},[n("p",{staticClass:"color-black ws-normal"},[t._v(t._s(e.name))]),n("p",{staticClass:"color-light f14"},[t._v("创建时间："+t._s(e.date))])]),n("div",{staticClass:"f14 pl10"},[n("status-text",{attrs:{status:e.status,text:e.status}})],1)])}))):t._e(),n("loading-status",{attrs:{"is-loading":t.isLoading,"is-empty":!t.isLoading&&!t.list.length,"empty-text":"暂无与您相关的任务"}})],1)}),[],!1,null,"7e4c0c92",null);e.a=r.exports},1304:function(t,e,n){"use strict";var a=n("c5a7");e.__esModule=!0,e.SlotsMixin=void 0;var i=a(n("329b")).default.extend({methods:{slots:function(t,e){void 0===t&&(t="default");var n=this.$slots,a=this.$scopedSlots[t];return a?a(e):n[t]}}});e.SlotsMixin=i},2064:function(t,e,n){"use strict";e.__esModule=!0,e.addUnit=function(t){if(!(0,a.isDef)(t))return;return t=String(t),(0,i.isNumber)(t)?t+"px":t};var a=n("b7b4"),i=n("f24f")},"27c4":function(t,e,n){var a=n("db6b2");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n("85cb").default)("42e360af",a,!0,{sourceMap:!1,shadowMode:!1})},3050:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;e.default={name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",complete:"完成",loading:"加载中...",telEmpty:"请填写电话",nameEmpty:"请填写姓名",confirmDelete:"确定要删除么",telInvalid:"请填写正确的电话",vanContactCard:{addText:"添加联系人"},vanContactList:{addText:"新建联系人"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计："},vanCoupon:{valid:"有效期",unlimited:"无使用门槛",discount:function(t){return t+"折"},condition:function(t){return"满"+t+"元可用"}},vanCouponCell:{title:"优惠券",tips:"使用优惠",count:function(t){return t+"张可用"}},vanCouponList:{empty:"暂无优惠券",exchange:"兑换",close:"不使用优惠",enable:"可使用优惠券",disabled:"不可使用优惠券",placeholder:"请输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码格式不正确",defaultAddress:"设为默认收货地址",telPlaceholder:"收货人手机号",namePlaceholder:"收货人姓名",areaPlaceholder:"选择省 / 市 / 区"},vanAddressEditDetail:{label:"详细地址",placeholder:"街道门牌、楼层房间号等信息"},vanAddressList:{add:"新增地址"}}},"394b":function(t,e,n){var a=n("8d4c");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n("85cb").default)("a723c790",a,!0,{sourceMap:!1,shadowMode:!1})},"3c18":function(t,e,n){var a=n("9e7f");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n("85cb").default)("4a9cd394",a,!0,{sourceMap:!1,shadowMode:!1})},4412:function(t,e,n){"use strict";e.__esModule=!0,e.createBEM=function(t){return function(e,n){return e&&"string"!=typeof e&&(n=e,e=""),e=a(t,e,"__"),n?[e,i(e,n)]:e}};function a(t,e,n){return e?t+n+e:t}function i(t,e){if("string"==typeof e)return a(t,e,"--");if(Array.isArray(e))return e.map((function(e){return i(t,e)}));var n={};return e&&Object.keys(e).forEach((function(a){n[t+"--"+a]=e[a]})),n}},"4aef":function(t,e,n){"use strict";var a=n("dd16").a,i=n("17cc"),r=Object(i.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("span",{class:this.classSet[this.status]},[this._v(this._s(this.text||this.status))])}),[],!1,null,null,null);e.a=r.exports},"4d1b":function(t,e,n){"use strict";var a=n("c5a7");e.__esModule=!0,e.default=void 0;var i=a(n("329b")),r=n("53a5"),o=a(n("3050")),s=i.default.prototype,l=i.default.util.defineReactive;l(s,"$vantLang","zh-CN"),l(s,"$vantMessages",{"zh-CN":o.default});var c={messages:function(){return s.$vantMessages[s.$vantLang]},use:function(t,e){var n;s.$vantLang=t,this.add(((n={})[t]=e,n))},add:function(t){void 0===t&&(t={}),(0,r.deepAssign)(s.$vantMessages,t)}};e.default=c},"53a5":function(t,e,n){"use strict";e.__esModule=!0,e.deepAssign=r;var a=n("b7b4"),i=Object.prototype.hasOwnProperty;function r(t,e){return Object.keys(e).forEach((function(n){!function(t,e,n){var o=e[n];(0,a.isDef)(o)&&(i.call(t,n)&&(0,a.isObj)(o)&&"function"!=typeof o?t[n]=r(Object(t[n]),e[n]):t[n]=o)}(t,e,n)})),t}},6147:function(t,e,n){"use strict";e.__esModule=!0,e.createNamespace=function(t){return t="van-"+t,[(0,i.createComponent)(t),(0,a.createBEM)(t),(0,r.createI18N)(t)]};var a=n("4412"),i=n("7e06"),r=n("65af")},"65af":function(t,e,n){"use strict";var a=n("c5a7");e.__esModule=!0,e.createI18N=function(t){var e=(0,r.camelize)(t)+".";return function(t){for(var n=(0,i.get)(o.default.messages(),e+t)||(0,i.get)(o.default.messages(),t),a=arguments.length,r=new Array(a>1?a-1:0),s=1;s<a;s++)r[s-1]=arguments[s];return"function"==typeof n?n.apply(void 0,r):n}};var i=n("b7b4"),r=n("a1aa"),o=a(n("4d1b"))},"65e9":function(t,e,n){"use strict";(function(t){n("5ab2"),n("6d57"),n("e10e");var a=n("28f8"),i=n("4360"),r=n("48f4"),o=n("162a"),s=n("f2d3"),l=n("6906"),c=n("a18c"),u=n("c745");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(a.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a={name:"SynchronizeTipBar",props:{isTodo:{type:Boolean},useDownload:{type:Boolean,default:!0},enterDoCheck:{type:Boolean,default:!0},buildingId:{type:String,default:""},automaticUpdateCallback:{type:Function,default:null}},data:function(){return{currentModuleCode:"",oneUpdateData:!0}},computed:{projId:function(){return i.a.state.global.currentProject.id},waitUploadNum:function(){return i.a.state.global.waitUploadNum},hasTopProgress:function(){return i.a.state.global.hasTopProgress},hasChanged:function(){if(!this.useDownload)return!1;if(this.currentModuleCode){var t,e=r.default.isModuleNeedBuilding(this.currentModuleCode)&&!this.isTodo;return!(e&&!this.buildingId)&&(t=this.isTodo?i.a.state.global.todoChangedStatus||{}:i.a.state.global.businessChangedStatus||{},e?!!t[this.currentModuleCode]&&t[this.currentModuleCode][this.buildingId]:t[this.currentModuleCode])}return!1},show:function(){return(this.hasChanged||this.waitUploadNum)&&!this.hasTopProgress},oneDataSync:function(){return this.$store.state.app.oneDataSync}},watch:{hasChanged:function(t){var e=this;t&&this.$nextTick((function(){setTimeout((function(){var t=e.$refs["synchronize-tip-bar"];if(t&&t.style){t.style.display="none";var n=t.offsetHeight;t.style.display="block",$log.log(n)}}),100)}))},buildingId:function(t){this.currentModuleCode&&r.default.isModuleNeedBuilding(this.currentModuleCode)&&t&&(console.log("楼栋重新加载，是否再次自动加载数据：",this.oneUpdateData),this.oneUpdateData&&this.automaticLogic(),this.checkSync())},show:function(t){t?this.$emit("show"):this.$emit("hide")}},activated:function(){this.init()},methods:{init:function(){this.getCurrentModuleCode(),this.enterDoCheck&&!c.a.isBack&&this.checkSync(),this.automaticLogic()},automaticLogic:function(){var t=this;this.$router.isBack||(this.oneUpdateData=!0,u.a.getAutomaticLoadData().then((function(e){$log.log("是否要自动加载 ===> ",e&&t.oneDataSync&&"function"==typeof t.automaticUpdateCallback),e&&t.oneDataSync&&"function"==typeof t.automaticUpdateCallback&&t.dataSync().then((function(e){console.log("是否需要初始化页面 ====> ",Boolean(e)),e&&t.automaticUpdateCallback()}))})))},getCurrentModuleCode:function(){var t=r.default.getCurrentModuleCode(),e=this.isTodo?"todo":"";this.currentModuleCode=t||e},checkSync:function(){var e=this,n="checkDataUpdate",a=this.currentModuleCode,o=this.buildingId,c=i.a.state.global.isLeader?this.projId:"";return!r.default.isModuleNeedBuilding(a)||o||this.isTodo?(this.isTodo&&(n+="_todo"),a&&(n+="_".concat(a)),o&&(n+="_".concat(o)),l.a.execAfterInterval(120,n).then((function(){return e.isTodo?"todo"===a?s.a.getModuleList().then((function(e){var n=t.map(e,"code");return r.default.hasTodoChangedData("",n)})):r.default.hasTodoChangedData("",[a]):r.default.hasBusinessChangedData(c,[a],o)})).then((function(t){if(e.isTodo){var n=p({},i.a.state.global.todoChangedStatus);n[a]=t,i.a.commit("global/SET_TODO_CHANGED_STATUS",n)}else{var r=p({},i.a.state.global.businessChangedStatus);if(o){var s=r[a]?r[a]:{};s[o]=t,r[a]=s}else r[a]=t;i.a.commit("global/SET_BUSINESS_CHANGED_STATUS",r)}})).catch((function(t){return t&&!0===t.timeNotTo?($log.debug(t.msg),!1):$q.reject(t)}))):Promise.resolve()},dataSync:function(){var t=this.currentModuleCode,e=this.buildingId,n=r.default.isModuleNeedBuilding(t),a=n&&!e;return $log.log("模块名：",t," 楼栋id：",e," 当前模块是否需要楼栋id：",n," 判断是否终止自动更新：",a),a?Promise.resolve():(this.oneUpdateData=!1,o.a.beginManualUpdate(),r.default.checkSync(e).then((function(t){return o.a.endManualUpdate(),t})).catch((function(t){$log.error("自动更新错误",t),o.a.endManualUpdate()})))}}}}).call(this,n("391c"))},6718:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("163d"),n("cc57");var a=n("b7b4"),i={name:"SwipeTab",props:{title:{type:String}},data:function(){return{offset:0,style:{},bem:Object(a.createNamespace)("swipe-item")[1](),parent:{}}},computed:{index:function(){return this.parent.tabs.indexOf(this)}},beforeCreate:function(){this.$parent.swipes.push(this)},created:function(){this.findParent("SwipeTabs")},destroyed:function(){this.$parent.swipes.splice(this.$parent.swipes.indexOf(this),1)},mounted:function(){var t=this,e=this.parent.tabs,n=this.parent.$slots.default.indexOf(this.$vnode);e.splice(-1===n?e.length:n,0,this),this.$nextTick((function(){var e=t.$parent,n=e.vertical,a=e.computedWidth,i=e.computedHeight;t.style={width:a+"px",height:n?a+"px":i+"px",transform:"translate".concat(n?"Y":"X","(").concat(t.offset,"px)")}}))},methods:{findParent:function(t){for(var e=this.$parent;e;){if(e.$options.name===t){this.parent=e;break}e=e.$parent}}}},r=n("17cc"),o=Object(r.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("div",this._g({class:this.bem,style:this.style},this.$listeners),[this._t("default")],2)}),[],!1,null,null,null).exports,s={name:"SwipeTabs",model:{prop:"tabIndex",event:"change"},props:{tabIndex:{type:Number,default:0},markType:{type:String,default:"line"},showTabs:{type:Boolean,default:!0},touchable:{type:Boolean,default:!0}},data:function(){return{curIndex:0,initIndex:0,tabs:[],tabScrollVersion:null}},computed:{tabsPadding:function(){return Math.max(24-4*this.tabs.length,0)},markLeft:function(){var t=(100-2*this.tabsPadding)/this.tabs.length;return this.tabsPadding+(this.curIndex+.5)*t}},watch:{tabIndex:function(t){t!==this.curIndex&&(this.curIndex=t,this.$refs.swipe.swipeTo(t,{immediate:!0}))},curIndex:function(){this.scrollTabsTocurrent()}},created:function(){this.initIndex=this.tabIndex,this.curIndex=this.tabIndex},activated:function(){this.initIndex=this.tabIndex,this.curIndex=this.tabIndex},mounted:function(){this.$nextTick(this.scrollTabsTocurrent)},methods:{changeIndex:function(t){this.$refs.swipe.swipeTo(t)},onChange:function(t){this.curIndex=t,this.$emit("change",t)},scrollTabsTocurrent:function(){var t=this.$refs["tabs-scroll"],e=this.$refs["tab-point"]?this.$refs["tab-point"][this.curIndex]:null;if(t&&e){var n=t.getBoundingClientRect(),a=e.getBoundingClientRect(),i=a.left-n.left,r=n.right-a.right;i<0&&this.tabScrollBy(i),r<0&&this.tabScrollBy(-r)}},tabScrollBy:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a=this.$refs["tabs-scroll"];if(a){var i=a.scrollLeft,r=i+t,o=Math.round(n/16.7),s=t/o,l=i,c=this.tabScrollVersion=+new Date;return i===r?Promise.resolve():new Promise((function(t){!function n(){window.requestAnimationFrame((function(){c===e.tabScrollVersion&&(l+=s,a.scrollLeft=l,i<r&&l<r||i>r&&l>r?n():(a.scrollTop=r,t()))}))}()}))}}}},l=(n("bcf4"),Object(r.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swipe-tabs"},[t.showTabs?["line"===t.markType?n("div",{staticClass:"tabs border-bottom",style:{padding:"0 "+Math.max(24-4*t.tabs.length,0)+"%"}},[t._l(t.tabs,(function(e){return n("div",{key:e.index,staticClass:"tab",class:{"tab-current":e.index===t.curIndex},on:{click:function(n){t.changeIndex(e.index)}}},[t._v("\n        "+t._s(e.title)+"\n      ")])})),n("div",{staticClass:"mark-line",style:{left:t.markLeft+"%"}})],2):t._e(),"point"===t.markType?n("div",{staticClass:"tabs-point border-bottom"},[n("div",{ref:"tabs-scroll",staticClass:"tabs-scroll"},t._l(t.tabs,(function(e){return n("div",{key:e.index,ref:"tab-point",refInFor:!0,staticClass:"tab-point",class:{"tab-current":e.index===t.curIndex},on:{click:function(n){t.changeIndex(e.index)}}},[t._v("\n          "+t._s(e.title)+"\n        ")])})))]):t._e()]:t._e(),t._t("fixed"),n("van-swipe",{ref:"swipe",attrs:{"initial-swipe":t.initIndex,"show-indicators":!1,duration:250,loop:!1,touchable:t.touchable},on:{change:t.onChange}},[t._t("default")],2)],2)}),[],!1,null,"025feb99",null));e.b=l.exports},"774b":function(t,e,n){"use strict";var a=n("d18d").a,i=(n("b225"),n("17cc")),r=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"scroll-warp",staticClass:"scroll-warp",class:{"scroll-warp-pulling":t.pulling,"scroll-warp-complete":!t.hasNext&&!t.isEmpty,"scroll-warp-empty":t.isEmpty},style:{"padding-bottom":t.numberKeyboardCoverHeight+"px"},on:{scroll:t.onScroll,touchstart:t.onTouchstart,touchmove:t.onTouchmove,touchend:t.onTouchend}},[t.allowPullDown?n("div",{staticClass:"pull-refresh-warp",style:{height:t.pullDist+"px"}},[n("div",{staticClass:"pull-refresh"},[n("div",{staticClass:"animation-refresher",class:{refreshing:t.refreshing}}),t.updateTime?n("p",{staticClass:"pull-refresh-date"},[t._v("最后成功同步："+t._s(t.updateTime))]):t._e()])]):t._e(),t._t("default"),t.loading?n("div",{staticClass:"page-loading"},[n("svg",{staticClass:"svg-loading",attrs:{viewBox:"0 0 80 80"}},[n("circle",{attrs:{cx:"40",cy:"40",r:"36"}})])]):t._e(),t.hasNext||t.isEmpty?t._e():[t.$slots.end?t._t("end"):t._e(),!t.$slots.end&&t.endText?n("div",{staticClass:"end-text"},[t._v("\n      "+t._s(t.endText)+"\n    ")]):t._e()]],2)}),[],!1,null,"2b1a346c",null);e.a=r.exports},"7e06":function(t,e,n){"use strict";var a=n("c5a7");e.__esModule=!0,e.unifySlots=s,e.createComponent=function(t){return function(e){var n;return"function"==typeof e&&(e={functional:!0,props:(n=e).props,model:n.model,render:function(t,e){return n(t,e.props,s(e),e)}}),e.functional||(e.mixins=e.mixins||[],e.mixins.push(r.SlotsMixin)),e.name=t,e.install=o,e}},n("4d1b");var i=n("a1aa"),r=n("1304");a(n("329b"));function o(t){var e=this.name;t.component(e,this),t.component((0,i.camelize)("-"+e),this)}function s(t){var e=t.scopedSlots||t.data.scopedSlots||{},n=t.slots();return Object.keys(n).forEach((function(t){e[t]||(e[t]=function(){return n[t]})})),e}},"8d4c":function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,".zjapp .synchronize-tip-bar[data-v-aaf184a8]{height:30px;padding:5px 15px;line-height:20px;text-align:center;background-color:#ffe6e6;color:#ff6060;font-size:14px}.zjapp .synchronize-tip-bar .icon-caution[data-v-aaf184a8]{line-height:20px;margin-right:5px}@media screen and (-webkit-min-device-pixel-ratio:1){.zjapp .synchronize-tip-bar[data-v-aaf184a8]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 100%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:1.5){.zjapp .synchronize-tip-bar[data-v-aaf184a8]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 66.6667%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:2){.zjapp .synchronize-tip-bar[data-v-aaf184a8]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 50%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:2.625){.zjapp .synchronize-tip-bar[data-v-aaf184a8]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 38.0952%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:3){.zjapp .synchronize-tip-bar[data-v-aaf184a8]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 33.3333%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}@media screen and (-webkit-min-device-pixel-ratio:4){.zjapp .synchronize-tip-bar[data-v-aaf184a8]{border:none;background-image:linear-gradient(0deg,#ffd3d3,#ffd3d3 25%,transparent 0);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}}",""])},"9d55":function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,'.zjapp .scroll-warp[data-v-2b1a346c]{flex:1;overflow:auto;-webkit-overflow-scrolling:touch}.zjapp .scroll-warp-pulling[data-v-2b1a346c]{overflow:hidden}.zjapp .scroll-warp-complete[data-v-2b1a346c]:after{content:"";display:block;height:100px}.zjapp .scroll-warp-empty[data-v-2b1a346c]{display:flex;flex-direction:column}.zjapp .pull-refresh-warp[data-v-2b1a346c]{position:relative;height:0;overflow:hidden}.zjapp .pull-refresh[data-v-2b1a346c]{position:absolute;left:0;bottom:0;height:70px;width:100%;padding:6px;text-align:center}.zjapp .pull-refresh-date[data-v-2b1a346c]{margin-top:4px;height:16px;line-height:16px;font-size:12px;color:#bcbcbc}.zjapp .page-loading[data-v-2b1a346c]{padding:10px;text-align:center}.zjapp .end-text[data-v-2b1a346c]{color:#c8c8c8;background:#f4f4f4;position:relative;line-height:76px;height:76px;text-align:center}.zjapp .end-text[data-v-2b1a346c]:after,.zjapp .end-text[data-v-2b1a346c]:before{content:"";position:absolute;width:48px;height:1px;background:#e4e4e4;top:50%;margin-top:-1px}.zjapp .end-text[data-v-2b1a346c]:after{left:50%;transform:translateX(-92px)}.zjapp .end-text[data-v-2b1a346c]:before{right:50%;transform:translateX(90px)}.zjapp .end-slot[data-v-2b1a346c]{padding:30px;line-height:18px;text-align:center;color:#c8c8c8}',""])},"9e7f":function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,".zjapp .material-index[data-v-7116fd5e] .item{padding:15px 15px;align-items:center;justify-content:center}.zjapp .material-index[data-v-7116fd5e] .ws-normal{margin-bottom:8px}",""])},a1aa:function(t,e,n){"use strict";e.__esModule=!0,e.camelize=function(t){return t.replace(a,(function(t,e){return e.toUpperCase()}))},e.padZero=function(t,e){void 0===e&&(e=2);var n=t+"";for(;n.length<e;)n="0"+n;return n};var a=/-(\w)/g},a7b6:function(t,e,n){"use strict";n("394b")},b225:function(t,e,n){"use strict";n("ef48")},b7b4:function(t,e,n){"use strict";var a=n("c5a7");e.__esModule=!0,e.noop=function(){},e.isDef=l,e.isObj=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)},e.get=function(t,e){var n=e.split("."),a=t;return n.forEach((function(t){a=l(a[t])?a[t]:""})),a},e.isServer=e.addUnit=e.createNamespace=void 0;var i=a(n("329b")),r=n("6147");e.createNamespace=r.createNamespace;var o=n("2064");e.addUnit=o.addUnit;var s=i.default.prototype.$isServer;function l(t){return null!=t}e.isServer=s},bcf4:function(t,e,n){"use strict";n("27c4")},bef5:function(t,e,n){"use strict";(function(t){n("cc57"),n("6a61");var a,i,r=n("2e91"),o=(n("163d"),n("6bf2")),s=n.n(o),l=n("24de"),c=n("f479"),u=n("0636"),d=n("3bd5"),p=n("07d2"),f=n("774b"),h=n("4aef"),g=n("e2a7");e.a={name:"MaterialIndex",components:{Item:p.a,Scroller:f.a,StatusText:h.a},props:{projId:{type:String,default:null},userId:{type:String,default:null},userIdentity:{type:Number,default:null}},data:function(){return{list:[],isLoading:!1,listLimit:20}},computed:{renderData:function(){var t=this.list;return t&&t.length>this.listLimit?t.slice(0,this.listLimit):t||[]},hasNextPage:function(){return this.list&&this.list.length>this.listLimit}},methods:{init:(i=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.$refs.scroller,a=n&&n.scrollTop,this.isLoading=!0,this.list=[],t.next=6,this.getList();case 6:if(e){t.next=8;break}return t.abrupt("return");case 8:this.$nextTick((function(){a&&n&&n.setScrollTop(a)}));case 9:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),dropDown:function(){this.$emit("dropDown")},expandList:function(){this.listLimit+=10,this.listLimit>this.list.length&&(this.listLimit=this.list.length)},jump:function(t){t.status===c.a[0]?this.add(t):this.detail(t.id)},add:function(e){var n=this,a=d.a.getUser().user_id;e.construct_user_id&&e.construct_user_id!==a?g.a.alert("无权限"):e.construct_user_id||3===this.userIdentity?l.a.checkHasNetwork(!0).then((function(){n.$router.push({name:"MaterialTastAdd",query:{projId:n.projId,supply_id:e.supply_id,status:"preCreated"}})})).catch((function(e){$log.error(e),t.isObject(e)&&!0===e.noNetwork&&g.a.alert("请在有网络的环境下新建任务")})):g.a.alert("无权限")},detail:function(t){this.$router.push("/material-detail/".concat(t))},getList:(a=Object(r.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getTaskSupplyList(this.projId,this.userId,this.userIdentity);case 2:e=t.sent,this.list=(e||[]).map((function(t){return{id:t.task_id,construct_user_id:t.construct_user_id,supply_id:t.supply_id,name:t.name,date:s()(t.created_on).format("YYYY-MM-DD"),status:t.status}})),this.successCallback(),this.isLoading=!1;case 6:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)}),successCallback:function(){this.$emit("successCallback",0,{total:this.list.length})}}}}).call(this,n("391c"))},c5a7:function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},d18d:function(t,e,n){"use strict";(function(t){n("2b45");var a,i=n("4360"),r=n("48f4"),o=n("162a"),s=n("e2a7"),l=n("a500"),c=n("6f9e"),u={};e.a={name:"Scroller",props:{buildingId:{type:String,default:""},hasNext:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},isSync:{type:Boolean,default:!0},endText:{type:String,default:""},memoryScrollTop:{type:Boolean,default:!0},keepScrollTop:{type:Boolean},hasPullDown:{type:Boolean,default:!0},onPullDown:{type:Function}},data:function(){return{pullDist:0,refreshing:!1,pulling:!1,loading:!1,scrollTop:0,isCurrKeyboard:!1,gapBottom:0}},computed:{allowPullDown:function(){return this.hasPullDown&&(!!this.$listeners.pullDown||!!this.onPullDown)},updateTime:function(){return i.a.state.global.businessDownloadTime},numberKeyboardCoverHeight:function(){return i.a.state.global.isNumberInputOpen?i.a.state.global.numberKeyboardHeight-this.gapBottom:0}},mounted:function(){var t=this;c.a.$on("numberKeyboardOpen",this.onNumberKeyboardOpen),this.$nextTick((function(){var e=t.$refs["scroll-warp"]&&t.$refs["scroll-warp"].getBoundingClientRect&&t.$refs["scroll-warp"].getBoundingClientRect();e&&(t.gapBottom=document.documentElement.clientHeight-e.bottom),t.$el&&t.$el.addEventListener("focus",(function(e){var n=e&&e.target,a=n&&n.tagName&&n.tagName.toLowerCase();if("input"===a||"textarea"===a){window.addEventListener("resize",(function e(){var a=n.getBoundingClientRect(),i=t.$el.getBoundingClientRect(),r=a.bottom-i.bottom;r>0&&t.scrollBy(r),window.removeEventListener("resize",e,!1)}),!1)}}),!0)}))},destroyed:function(){c.a.$off("numberKeyboardOpen",this.onNumberKeyboardOpen)},activated:function(){var t=this.keepScrollTop||this.$router.isBack&&this.memoryScrollTop;this.scrollTop&&t&&(this.$refs["scroll-warp"].scrollTop=this.scrollTop)},deactivated:function(){this.memoryScrollTop&&(this.scrollTop=this.$refs["scroll-warp"].scrollTop)},methods:{onScroll:function(t){var e=this,n=this.$refs["scroll-warp"].scrollTop,a=this.$refs["scroll-warp"].scrollHeight;if(n+this.$refs["scroll-warp"].clientHeight>=a-5&&!this.loading&&this.hasNext){this.loading=!0;var i=this.$listeners.loadNext();i&&i.then&&"function"==typeof i.then?i.then((function(){e.loading=!1})):this.loading=!1}this.$emit("scroll",t)},getTouchDiretion:function(t){if(!(u&&t&&t.touches&&t.touches[0]))return"";var e=t.touches[0].clientX,n=t.touches[0].clientY;return Math.abs(n-u.y)>Math.abs(e-u.x)&&Math.abs(n-u.y)>=3?n>u.y?"down":"up":""},onTouchstart:function(t){this.allowPullDown&&t.touches&&1===t.touches.length&&(u={x:t.touches[0].clientX,y:t.touches[0].clientY,scrollTop:this.$refs["scroll-warp"].scrollTop,pullDist:this.pullDist})},onTouchmove:function(t){if(this.allowPullDown&&t.touches&&1===t.touches.length){var e=this.$refs["scroll-warp"].scrollTop,n=t.touches[0].clientY,a=n-u.y,i=this.getTouchDiretion(t);"down"===i?!this.refreshing&&e<=0?(this.pulling=!0,this.pullDist=(a-u.scrollTop)/2,t.preventDefault()):this.pulling=!1:"up"===i?this.pullDist>0&&(this.pullDist=u.pullDist-(u.y-n),t.preventDefault()):this.pullDist=u.pullDist}},onTouchend:function(){var t=this;this.allowPullDown&&(u={},this.pulling=!1,this.pullDist>=70&&this.isSync?this.refreshing?this.makePullTo(70):this.makePullTo(70).then((function(){if(t.refreshing=!0,t.onPullDown){var e=t.onPullDown();e&&e.then&&"function"==typeof e?e.finally((function(){t.refreshing=!1,t.makePullTo(0)})):(t.refreshing=!1,t.makePullTo(0))}else t.dataSync().then((function(){t.refreshing=!1,t.makePullTo(0),t.$emit("pullDown")})).catch((function(){t.refreshing=!1,t.makePullTo(0),t.$emit("pullDown")}))})):(this.refreshing=!1,this.makePullTo(0)))},makePullTo:function(t){var e=this,n=this.pullDist,a=t,i=a-n,r=n;return n===a?Promise.resolve():new Promise((function(t){!function o(){window.requestAnimationFrame((function(){r+=i/6,e.pullDist=r,n<a&&r<a||n>a&&r>a?o():(e.pullDist=a,e.refreshing=!1,t())}))}()}))},dataSync:function(){var t,e=r.default.getCurrentModuleCode(),n=r.default.getCurrentRoute(),a=n.meta&&n.meta.isTodo;if(r.default.isModuleNeedBuilding(e)&&!a){if(!this.buildingId)return new Promise((function(t){setTimeout((function(){t()}),500)}));t=this.buildingId}return l.a.addTrack("公共-手动下拉刷新","",""),o.a.beginManualUpdate(),r.default.checkSync(t).then((function(t){return o.a.endManualUpdate(),t})).catch((function(t){$log.error("下拉刷新错误",t),t&&"Error: Network Error"===t.toString()?s.a.alert("当前网络无法同步数据"):s.a.alert(t),o.a.endManualUpdate()}))},getScrollHeight:function(){return this.$refs["scroll-warp"].offsetHeight},getScrollTop:function(){return this.$refs["scroll-warp"].scrollTop},setScrollTop:function(t){this.$refs["scroll-warp"].scrollTop=t},scrollBy:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=this.getScrollTop(),r=i+t,o=Math.round(n/16.7),s=t/o,l=i,c=a=+new Date;return i===r?Promise.resolve():new Promise((function(t){!function n(){window.requestAnimationFrame((function(){c===a&&(l+=s,e.$refs["scroll-warp"].scrollTop=l,i<r&&l<r||i>r&&l>r?n():(e.$refs["scroll-warp"].scrollTop=r,t()))}))}()}))},scrollTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=this.getScrollTop(),a=t-n;return this.scrollBy(a,e)},scrollToEle:function(t){var e=t.keyboardHeight||232,n=(t=t.$el?t.$el:t).getBoundingClientRect(),a=this.$refs["scroll-warp"].getBoundingClientRect();if(n&&a){var r=document.documentElement.clientHeight-(i.a.state.global.isNumberInputOpen?e:0),o=a.bottom<r?a.bottom:r,s=a.top-n.top,l=n.bottom-o;s>0?this.scrollBy(-s-10):l>0&&this.scrollBy(l+10)}},isCurrent:function(e,n){var a=this;e.length&&t.each(e,(function(t){t._uid===n?a.isCurrKeyboard=!0:a.isCurrent(t.$children,n)}))},onNumberKeyboardOpen:function(t){this.isCurrKeyboard=!1,this.isCurrent(this.$children,t._uid),this.isCurrKeyboard&&this.scrollToEle(t)}}}}).call(this,n("391c"))},da93:function(t,e,n){"use strict";n("3c18")},db6b2:function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,'.zjapp .swipe-tabs[data-v-025feb99]{display:flex;flex-direction:column;flex:1;overflow:hidden}.zjapp .tabs[data-v-025feb99]{position:relative;display:flex;background-color:#fff}.zjapp .tab[data-v-025feb99]{flex:1;height:40px;line-height:20px;padding:10px;font-size:14px;text-align:center;box-sizing:border-box}.zjapp .tab-current[data-v-025feb99]{color:#4275e8}.zjapp .mark-line[data-v-025feb99]{position:absolute;bottom:0;left:0;width:20px;height:2px;margin-left:-10px;background-image:linear-gradient(90deg,#5ea2ff,#4f83eb 50%,#4275e8);transition:left .4s cubic-bezier(.1,.7,.1,1)}.zjapp .tabs-point[data-v-025feb99]{position:relative;z-index:1;height:40px;font-size:0;text-align:center;background-color:#fff;overflow:visible}.zjapp .tabs-scroll[data-v-025feb99]{position:relative;padding-bottom:3px;margin-bottom:-3px;white-space:nowrap;overflow-x:auto}.zjapp .tabs-scroll[data-v-025feb99]::-webkit-scrollbar{display:none}.zjapp .tab-point[data-v-025feb99]{display:inline-block;padding:10px 15px;line-height:20px;font-size:16px;color:#333;white-space:nowrap}.zjapp .tab-point.tab-current[data-v-025feb99]{position:relative;z-index:3;color:#4275e8}.zjapp .tab-point.tab-current[data-v-025feb99]:after{content:"";position:absolute;z-index:3;bottom:-3px;left:50%;margin-left:-3px;width:7px;height:7px;border-radius:50%;background-color:#4275e8}',""])},dd16:function(t,e,n){"use strict";(function(t){e.a={name:"StatusText",props:{status:{type:String},text:{type:String},extend:{type:Object,default:function(){return{}}}},data:function(){return{classSet:t.extend({"草稿":"color-gray","暂存":"color-gray","检查中":"color-orange","待整改":"color-red","待复验":"color-orange","待验收":"color-red","待报验":"color-red","待申请进场":"color-red","待初验":"color-red","待送检":"color-red","待上传报告":"color-red","待退场":"color-red","待建设单位验收":"color-red","待区域验收":"color-red","供应链退回":"color-red","预创建":"color-status-blue","已提交":"color-green","已整改":"color-green","已验收":"color-green","已通过":"color-green","已退场":"color-gray","已关闭":"color-gray","非正常关闭":"color-gray","已退回":"color-red","已完成":"color-green","已甩项":"color-gray","检查完毕":"color-green","送检合格":"color-green","复验合格":"color-green","验收合格":"color-green","验收不合格":"color-red","未验收":"color-orange","待点评":"color-orange","已点评":"color-green","合格":"color-green","不合格":"color-red","进度正常":"color-green","进度滞后":"color-red","施工单位验收合格":"color-green","监理单位验收合格":"color-green","建设单位验收合格":"color-green","施工单位验收不合格":"color-red","监理单位验收不合格":"color-red","建设单位验收不合格":"color-red"},this.extend)}},mounted:function(){}}}).call(this,n("391c"))},de0b:function(t,e,n){"use strict";n("cc57"),n("6a61");var a,i=n("2e91"),r=(n("163d"),n("6bf2")),o=n.n(r),s=n("0636"),l=n("07d2"),c=n("774b"),u=n("4aef"),d={name:"MaterialIndex",components:{Item:l.a,Scroller:c.a,StatusText:u.a},props:{projId:{type:String,default:null},userId:{type:String,default:null},userIdentity:{type:Number,default:null}},data:function(){return{list:[],isLoading:!1,listLimit:20}},computed:{renderData:function(){var t=this.list;return t&&t.length>this.listLimit?t.slice(0,this.listLimit):t||[]},hasNextPage:function(){return this.list&&this.list.length>this.listLimit}},methods:{init:(a=Object(i.a)(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.$refs.scroller,a=n&&n.scrollTop,this.isLoading=!0,this.list=[],t.next=6,this.getList();case 6:if(e){t.next=8;break}return t.abrupt("return");case 8:this.$nextTick((function(){a&&n&&n.setScrollTop(a)}));case 9:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)}),dropDown:function(){this.$emit("dropDown")},expandList:function(){this.listLimit+=10,this.listLimit>this.list.length&&(this.listLimit=this.list.length)},detail:function(t){this.$router.push("/material-detail/".concat(t.id))},getList:function(){var t=this;return s.a.getTaskList(this.projId,this.userId,this.userIdentity).then((function(e){t.list=(e||[]).map((function(t){return{id:t.id,name:t.name,date:o()(t.created_on).format("YYYY-MM-DD"),status:t.status}})),t.successCallback()})).finally((function(){t.isLoading=!1}))},successCallback:function(){this.$emit("successCallback",1,{total:this.list.length})}}},p=n("17cc"),f=Object(p.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroller",{ref:"scroller",attrs:{"has-next":t.hasNextPage,"is-empty":!t.renderData.length},on:{pullDown:t.dropDown,loadNext:t.expandList}},[!t.isLoading&&t.renderData.length?n("div",t._l(t.renderData,(function(e){return n("item",{key:e.id,attrs:{editabled:!0,border:"bottom"},on:{click:function(n){t.detail(e)}}},[n("div",{staticClass:"item-con"},[n("p",{staticClass:"color-black ws-normal"},[t._v(t._s(e.name))]),n("p",{staticClass:"color-light f14"},[t._v("创建时间："+t._s(e.date))])]),n("div",{staticClass:"f14 pl10"},[n("status-text",{attrs:{status:e.status,text:e.status}})],1)])}))):t._e(),n("loading-status",{attrs:{"is-loading":t.isLoading,"is-empty":!t.isLoading&&!t.list.length,"empty-text":"暂无与您相关的任务"}})],1)}),[],!1,null,"eb8aa66a",null);e.a=f.exports},e9f7:function(t,e,n){"use strict";n.r(e);var a=n("eaca").a,i=(n("da93"),n("17cc")),r=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("page-content",{staticClass:"material-index",attrs:{title:"材料验收"}},[t.addButtonHide?n("div",{staticClass:"header-btn",attrs:{slot:"header-bar-right"},on:{click:t.add},slot:"header-bar-right"},[t._v("新建")]):t._e(),n("synchronize-tip-bar",{attrs:{"automatic-update-callback":t.init}}),t.UsingMaterialSupplier?t._e():n("material-check-index",{ref:"materialCheckIndex",attrs:{"proj-id":t.projId,"user-id":t.userId,"user-identity":t.userIdentity},on:{dropDown:t.dropDown}}),t.UsingMaterialSupplier?n("swipe-tabs",{attrs:{color:"#4275e8","title-active-color":"#4275e8","line-width":t.tabsWidth},on:{change:t.swipeTabChange},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[n("swipe-tab",{attrs:{title:"甲供材验收("+t.supplierListTotal+")"}},[n("material-supplier-index",{ref:"materialSupplierIndex",attrs:{"proj-id":t.projId,"user-id":t.userId,"user-identity":t.userIdentity},on:{successCallback:t.successCallback,dropDown:t.dropDown}})],1),n("swipe-tab",{attrs:{title:"现场验收("+t.checkListTotal+")"}},[n("material-check-index",{ref:"materialCheckIndex",attrs:{"proj-id":t.projId,"user-id":t.userId,"user-identity":t.userIdentity},on:{successCallback:t.successCallback,dropDown:t.dropDown}})],1)],1):t._e()],1)}),[],!1,null,"7116fd5e",null);e.default=r.exports},eaca:function(t,e,n){"use strict";(function(t){var a=n("e2a7"),i=n("24de"),r=n("0636"),o=n("f97c"),s=n("3bd5"),l=n("f7ab"),c=n("6718"),u=n("031c"),d=n("de0b");e.a={name:"MaterialIndex",components:{MaterialSupplierIndex:u.a,MaterialCheckIndex:d.a,SynchronizeTipBar:l.a,SwipeTabs:c.b,SwipeTab:c.a},data:function(){return{UsingMaterialSupplier:!1,userIdentity:null,tabIndex:0,supplierListTotal:0,checkListTotal:0}},computed:{addButtonHide:function(){return!this.UsingMaterialSupplier||1===this.tabIndex},tabsWidth:function(){return window.innerWidth/2},projId:function(){return o.a.getDefaultProject().id},userId:function(){return s.a.getUser().user_id}},watch:{UsingMaterialSupplier:function(t){var e=this;this.$nextTick((function(){e.init()}))}},activated:function(){this.init(this.$router.isBack),this.UsingMaterialSupplier=Boolean(this.$store.state.global.allGrayRelease.UsingContractorSupplyMaterial)},methods:{init:function(t){var e=this;this.getUserIdentity().then((function(){e.$nextTick((function(){e.dropDown(t)}))}))},dropDown:function(t){this.$refs.materialSupplierIndex&&this.$refs.materialSupplierIndex.init(t),this.$refs.materialCheckIndex&&this.$refs.materialCheckIndex.init(t)},swipeTabChange:function(){},successCallback:function(t,e){var n=e.total,a=void 0===n?0:n;1===t?this.checkListTotal=a:this.supplierListTotal=a},getUserIdentity:function(){var t=this;return r.a.getUserIdentity(this.projId,this.userId).then((function(e){t.userIdentity=e}))},add:function(){var e=this;i.a.checkHasNetwork(!0).then((function(){e.$router.push({name:"MaterialTastAdd",query:{projId:e.projId}})})).catch((function(e){$log.error(e),t.isObject(e)&&!0===e.noNetwork&&a.a.alert("请在有网络的环境下新建任务")}))}}}}).call(this,n("391c"))},ef48:function(t,e,n){var a=n("9d55");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n("85cb").default)("a1a65c0c",a,!0,{sourceMap:!1,shadowMode:!1})},f24f:function(t,e,n){"use strict";e.__esModule=!0,e.isNumber=function(t){return/^\d+(\.\d+)?$/.test(t)},e.isNaN=function(t){if(Number.isNaN)return Number.isNaN(t);return t!=t}},f7ab:function(t,e,n){"use strict";var a=n("65e9").a,i=(n("a7b6"),n("17cc")),r=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{ref:"synchronize-tip-bar",staticClass:"synchronize-tip-bar"},[n("icon",{attrs:{name:"caution"}}),t.waitUploadNum?n("span",[t._v("您有"+t._s(t.waitUploadNum)+"条数据待上传")]):t._e(),!t.waitUploadNum&&t.hasChanged?n("span",[t._v("有新数据")]):t._e(),t._v("\n  ，下拉可"+t._s(t.waitUploadNum?"上传":"刷新")+"\n")],1):t._e()}),[],!1,null,"aaf184a8",null);e.a=r.exports}}]);