(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-02611c36"],{"1da5":function(e,t,a){"use strict";a("55e5")},2753:function(e,t,a){"use strict";a.r(t);var s=a("a1eb").a,i=(a("1da5"),a("17cc")),n=Object(i.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("page-content",{attrs:{title:"退回记录"}},[!e.isLoading&&e.sendBacks.length>1?a("div",{staticClass:"tabs border-bottom"},[a("div",{staticClass:"tabs-scroll"},e._l(e.sendBacks,(function(t,s){return a("div",{key:s,staticClass:"tab",class:{cur:s===e.pageIndex},on:{click:function(t){e.clickTab(s)}}},[e._v("\n        第"+e._s(s+1)+"次\n      ")])})))]):e._e(),e.isLoading?e._e():a("van-swipe",{ref:"content-swipe",attrs:{"initial-swipe":e.initPageIndex,loop:!1,"show-indicators":!1},on:{change:e.changeDetail}},e._l(e.sendBacks,(function(t,s){return a("van-swipe-item",{key:s},[a("scroller",[8!==e.passrateMode?a("item",{attrs:{label:"整改值"}},[a("div",{staticClass:"item-text",attrs:{slot:"right"},slot:"right"},[t.hasRepairValue?a("point-detail-value-template",{attrs:{"point-items":t.pointItems,"passrate-mode":e.passrateMode,"value-type":"repairValue"}}):a("span",{staticClass:"color-gray"},[e._v("\n              未填\n            ")])],1)]):e._e(),t.repairRemark||t.repairPicture.length?a("item",{attrs:{label:t.repairRemark?"备注":"相关照片"}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[t.repairRemark?a("div",{staticClass:"item-font"},[e._v(e._s(t.repairRemark))]):e._e(),a("item-img-list",{attrs:{editabled:!1},model:{value:t.repairPicture,callback:function(a){e.$set(t,"repairPicture",a)},expression:"detail.repairPicture"}})],1)]):e._e(),a("user-select",{attrs:{title:"整改人",mode:"view",date:e.formatDate(t.repairDate),editabled:!1},model:{value:t.repair,callback:function(a){e.$set(t,"repair",a)},expression:"detail.repair"}}),a("item",{attrs:{label:"退回原因",text:t.sendbackReason}}),t.sendbackRemark||t.sendbackPicture.length?a("item",{attrs:{label:t.sendbackRemark?"备注":"相关照片"}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[t.sendbackRemark?a("div",{staticClass:"item-font"},[e._v("\n              "+e._s(t.sendbackRemark)+"\n            ")]):e._e(),a("item-img-list",{attrs:{editabled:!1},model:{value:t.sendbackPicture,callback:function(a){e.$set(t,"sendbackPicture",a)},expression:"detail.sendbackPicture"}})],1)]):e._e(),a("user-select",{attrs:{title:"复验人",mode:"view",date:e.formatDate(t.reinspectDate),editabled:!1},model:{value:t.reinspect,callback:function(a){e.$set(t,"reinspect",a)},expression:"detail.reinspect"}})],1)],1)}))),a("loading-status",{attrs:{"is-loading":e.isLoading,"is-empty":!e.sendBacks.length,"empty-text":"暂无退回记录"}})],1)}),[],!1,null,"142443c4",null);t.default=n.exports},"28b4":function(e,t,a){"use strict";(function(e){a("163d");var s=a("07d2");t.a={name:"MeasurePointDetailValueTemplate",components:{item:s.default},props:{pointItems:{type:Array},valueType:{type:String},passrateMode:{type:Number}},data:function(){return{}},methods:{hasVal:function(e){return""!==e&&null!=e},pointFilter:function(t,a){return e.filter(t,a)},filterPointLabel:function(t){return e.uniqBy(e.map(t,"label"))}}}}).call(this,a("391c"))},"55e5":function(e,t,a){var s=a("f583");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,a("85cb").default)("29faf577",s,!0,{sourceMap:!1,shadowMode:!1})},a1eb:function(e,t,a){"use strict";(function(e){var s=a("774b"),i=a("07d2"),n=a("cd05"),l=a("d2cb"),r=a("7798"),o=a("6bf2"),c=a.n(o),p=a("e68e");t.a={name:"MeasureDetail",components:{Scroller:s.default,item:i.default,UserSelect:n.a,PointDetailValueTemplate:l.a,ItemImgList:p.a},data:function(){return{pointId:"",isLoading:!0,pageIndex:0,initPageIndex:0,sendBacks:[],passrateMode:""}},activated:function(){this.$router.isBack||(this.pointId=this.$route.params.id,this.loadDetail())},methods:{loadDetail:function(){var t=this;return this.pointId?(this.isLoading=!0,r.a.getPointSendBacks(this.pointId).then((function(a){e.each(a,(function(t){t.hasRepairValue=e.some(t.pointItems,(function(t){return e.some(t.repairValue,(function(e){return""!==e.val&&null!==e.val&&void 0!==e.val}))}))})),t.sendBacks=a})).then((function(){if(!e.isEmpty(t.sendBacks))return r.a.getMeasureProblemIdByPointId(t.sendBacks[0].pointId).then((function(a){return r.a.getPointParentItems(a.measure_problem_id).then((function(a){t.passrateMode=e.isEmpty(a)?"":parseInt(a[0].passrate_mode)}))}))})).then((function(){t.isLoading=!1})).catch((function(e){console.log(e)}))):Promise.resolve()},formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm";return c()(e).format(t)},clickTab:function(e){this.$refs["content-swipe"].swipeTo(e),this.pageIndex=e},changeDetail:function(e){this.pageIndex=e}}}}).call(this,a("391c"))},c292:function(e,t,a){var s=a("cade");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,a("85cb").default)("5f44715e",s,!0,{sourceMap:!1,shadowMode:!1})},cade:function(e,t,a){(e.exports=a("690e")(!1)).push([e.i,".zjapp .con[data-v-9fdc4a3a]{padding-bottom:12px}.zjapp .point-group[data-v-9fdc4a3a]{display:flex;flex-direction:row}.zjapp .group-value[data-v-9fdc4a3a]{flex:1}",""])},cae0:function(e,t,a){"use strict";a("c292")},d2cb:function(e,t,a){"use strict";var s=a("28b4").a,i=(a("cae0"),a("17cc")),n=Object(i.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"con"},[e._l(e.pointItems,(function(t,s){return[1===e.passrateMode||2===e.passrateMode||13===e.passrateMode?[s?[e._v(" / ")]:e._e(),e._l(t[e.valueType],(function(t,i){return[i?[e._v(",")]:e._e(),a("span",{key:s+i,class:{"color-red":t.isExceed}},[e._v("\n          "+e._s(e.hasVal(t.val)?t.val:"空")+"\n        ")])]}))]:e._e(),3===e.passrateMode||16===e.passrateMode?[a("div",{key:s,staticClass:"point-group"},[a("div",{staticClass:"group-value"},[e._l(t[e.valueType],(function(t,s){return[s?[e._v(",")]:e._e(),a("span",{key:s,class:{"color-red":t.isExceed}},[e._v("\n              "+e._s(e.hasVal(t.val)?t.val:"空")+"\n            ")])]}))],2),a("div",{staticClass:"color-gray"},[e._v("设计值"+e._s(t[e.valueType][0].setVal))])])]:e._e(),5===e.passrateMode||14===e.passrateMode?e._l(e.filterPointLabel(t[e.valueType]),(function(i,n){return a("div",{key:s+n,staticClass:"point-group"},[a("div",{staticClass:"group-value"},[e._v("\n          "+e._s(i)+"度：\n          "),e._l(e.pointFilter(t[e.valueType],{label:i}),(function(t,s){return[s?[e._v(",")]:e._e(),a("span",{key:s,class:{"color-red":t.isExceed}},[e._v("\n              "+e._s(e.hasVal(t.val)?t.val:"空")+"\n            ")])]}))],2),a("div",{staticClass:"color-gray"},[e._v("\n          设计值"+e._s(e.pointFilter(t[e.valueType],{label:i})[0].setVal)+"\n        ")])])})):e._e(),6===e.passrateMode||15===e.passrateMode?e._l(e.filterPointLabel(t[e.valueType]),(function(i,n){return a("div",{key:s+n,staticClass:"point-group"},[a("div",{staticClass:"group-value"},[e._v("\n          "+e._s(i)+"：\n          "),e._l(e.pointFilter(t[e.valueType],{label:i}),(function(t,s){return[s?[e._v(",")]:e._e(),a("span",{key:s,class:{"color-red":t.isExceed}},[e._v("\n              "+e._s(e.hasVal(t.val)?t.val:"空")+"\n            ")])]}))],2),a("div",{staticClass:"color-gray"},[e._v("\n          设计值"+e._s(e.pointFilter(t[e.valueType],{label:i})[0].setVal)+"\n        ")])])})):e._e(),7===e.passrateMode?[s?[e._v(" / ")]:e._e(),e._l(t[e.valueType],(function(t,s){return[s?[e._v(",")]:e._e(),a("span",{key:s,class:{"color-red":t.isExceed}},[e._v("\n          "+e._s(e.hasVal(t.val)?t.val:"空")+"\n        ")])]}))]:e._e(),8===e.passrateMode?[s?[e._v(" / ")]:e._e(),e._l(t[e.valueType],(function(t,s){return[s?[e._v(",")]:e._e(),a("span",{key:s,class:{"color-red":t.isExceed}},[e._v("\n          "+e._s(t.val?"合格":"不合格")+"\n        ")])]}))]:e._e(),17===e.passrateMode?[a("div",{key:s,staticClass:"point-group"},[a("div",{staticClass:"group-value"},[a("div",[e._v("\n            高度："),e._l(t[e.valueType].slice(0,2),(function(t,s){return[s?[e._v(",")]:e._e(),a("span",{key:s,class:{"color-red":t.isExceed}},[e._v("\n                "+e._s(e.hasVal(t.val)?t.val:"空")+"\n              ")])]}))],2),a("div",[e._v("\n            水平距离："),e._l(t[e.valueType].slice(2),(function(t,s){return[s?[e._v(",")]:e._e(),a("span",{key:s,class:{"color-red":t.isExceed}},[e._v("\n                "+e._s(e.hasVal(t.val)?t.val:"空")+"\n              ")])]}))],2)]),a("div",{staticClass:"color-gray"},[e._v("设计值 "+e._s(t[e.valueType][0].setVal))])])]:e._e()]}))],2)}),[],!1,null,"9fdc4a3a",null);t.a=n.exports},f583:function(e,t,a){(e.exports=a("690e")(!1)).push([e.i,'.zjapp .tabs[data-v-142443c4]{margin-bottom:3px;height:40px;font-size:0;text-align:center;background-color:#fff;overflow:visible}.zjapp .tabs-scroll[data-v-142443c4]{padding:10px 0;margin:-10px 0;white-space:nowrap;overflow-x:auto}.zjapp .tabs-scroll[data-v-142443c4]::-webkit-scrollbar{display:none}.zjapp .tab[data-v-142443c4]{display:inline-block;padding:10px 15px;line-height:20px;font-size:16px;color:#333;white-space:nowrap}.zjapp .tab.cur[data-v-142443c4]{position:relative;z-index:3;color:#4275e8}.zjapp .tab.cur[data-v-142443c4]:after{content:"";position:absolute;z-index:3;bottom:-3px;left:50%;margin-left:-3px;width:7px;height:7px;border-radius:50%;background-color:#4275e8}.zjapp .van-swipe[data-v-142443c4]{flex:1}[data-v-142443c4] .van-swipe-item{display:flex;flex-direction:column}',""])}}]);