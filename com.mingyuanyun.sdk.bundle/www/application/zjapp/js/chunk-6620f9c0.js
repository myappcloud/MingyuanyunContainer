(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-6620f9c0"],{"7df8":function(t,a,e){var i=e("da6c");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,e("85cb").default)("e5779f78",i,!0,{sourceMap:!1,shadowMode:!1})},"9f75":function(t,a,e){"use strict";e("7df8")},cb02:function(t,a,e){"use strict";(function(t){var i=e("3bd5"),n=e("e2a7"),c=e("fd50"),o=e("116c"),s=e("162a"),r=e("48f4"),u=e("24de"),l=e("aaa9"),d=e("07d2"),h=e("c745"),p=e("a500");a.a={name:"Setting",components:{Item:d.a},data:function(){return{user:{},checked:!1,automatic_load_data:!1,picture_saving_album:!1,allowDownloadImageSetting:!1}},computed:{isSuperApp:function(){return!0===window.__YL_SUPER_APP__}},mounted:function(){var t=this;this.user=i.a.getUser(),o.a.getDataConn(this.user.tenant_code,this.user.user_code).then((function(a){t.checked=a||!1})),this.getPictureAlbumData()},activated:function(){var t=this;h.a.allowDownloadImageSetting().then((function(a){t.allowDownloadImageSetting=a})),h.a.getAutomaticLoadData().then((function(a){t.automatic_load_data=a}))},methods:{getPictureAlbumData:function(){var t=this;h.a.getPictureAlbumSetting().then((function(a){t.picture_saving_album=!!a&&a.picture_saving_album}))},switchChecked:function(t){var a=this;o.a.setDataConn(this.user.tenant_code,this.user.user_code,this.checked?"1":"0").then((function(t){n.a.alert("设置成功"),a.checked?p.a.addTrack("我-首页-启用仅wifi"):p.a.addTrack("我-首页-关闭仅wifi")}),(function(t){a.checked=!a.checked,n.a.alert(t)}))},switchPhotoChecked:function(){var t=this;h.a.savePictureAlbumSetting({picture_saving_album:this.picture_saving_album}).then((function(){n.a.alert("设置成功")})).catch((function(a){t.picture_saving_album=!t.picture_saving_album,n.a.alert(a)}))},batchDownLoad:function(){var t=this;h.a.allowProcessAccept().then((function(){t.$router.push("/user-batch-download")}))},downloadSetting:function(){this.$router.push({name:"AutoDownloadSetting"})},clearData:function(){var a=this;return $rootScope.execCheckAppUpdate?n.a.alert("后台正在进行App更新检测，请稍后重试"):s.a.isBackgroundTaskWorking()?n.a.alert("后台正在进行问题数据更新，请稍后重试"):void u.a.checkHasNetwork().then((function(){n.a.confirm("清除全部已下载和在本机创建的数据，不影响已上传数据，确定要清楚数据？").then((function(e){if(e){r.default.clearDownloadImageQueue();var i="";n.a.loading("正在备份数据..."),$log.log("正在上传数据库文件..."),l.a.uploadDebugData().then((function(t){return i=t,$log.log("正在提交备份数据..."),l.a.backupDatabase(t)})).then((function(){n.a.hideLoading()})).catch((function(a){return n.a.hideLoading(),c.a.when().then((function(){if(a&&a.isNotify)n.a.alert(a.msg);else{if("当前网络无法同步数据"!==a)return t.isString(a)||(a=JSON.stringify(a)),$log.error("备份数据失败",a),n.a.alert("备份数据失败，产品团队会排查问题并通知您"),l.a.submitFeedback({remark:a,debug_file:i,is_sys_submit:1}).catch((function(t){}));n.a.alert(a)}})).then((function(){return n.a.confirm("备份数据失败，是否继续清除数据？").then((function(t){if(!t)return c.a.reject(a)}))}))})).then((function(){return s.a.beginManualUpdate(),r.default.executeUpload().then((function(){a.$router.push({name:"DataClear"})})).catch((function(e){if(e&&e.isNotify)n.a.alert(e.msg);else{if("当前网络无法同步数据"!==e)return t.isString(e)||(e=JSON.stringify(e)),n.a.alert("上传数据失败，产品团队会排查问题并通知您"),l.a.submitFeedback({remark:e,debug_file:i,is_sys_submit:1}).catch((function(){})).then((function(){return n.a.confirm("上传数据失败，是否继续清除数据？").then((function(t){t&&a.$router.push({name:"DataClear"})}))}));n.a.alert(e)}})).finally((function(){s.a.endManualUpdate()}))}))}}))}))},switchLoadData:function(t){h.a.setAutomaticLoadData(t)}}}}).call(this,e("391c"))},da6c:function(t,a,e){(t.exports=e("690e")(!1)).push([t.i,".zjapp .page-user[data-v-16e79734]{background:#f2f2f2}.zjapp .tips-text[data-v-16e79734]{padding:10px 15px;color:#8c8c8c;font-size:14px;line-height:16px}",""])},e002:function(t,a,e){"use strict";e.r(a);var i=e("cb02").a,n=(e("9f75"),e("17cc")),c=Object(n.a)(i,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("page-content",{attrs:{title:"设置"}},[t.isSuperApp?t._e():e("item",{staticClass:"mt10"},[e("div",{staticClass:"item-text"},[t._v("仅WiFi上传下载")]),e("van-switch",{staticStyle:{"margin-top":"3px"},attrs:{size:"26px"},on:{change:t.switchChecked},model:{value:t.checked,callback:function(a){t.checked=a},expression:"checked"}})],1),e("item",{staticClass:"mt10"},[e("div",{staticClass:"item-text"},[t._v("自动加载模块数据")]),e("van-switch",{staticStyle:{"margin-top":"3px"},attrs:{size:"26px"},on:{change:t.switchLoadData},model:{value:t.automatic_load_data,callback:function(a){t.automatic_load_data=a},expression:"automatic_load_data"}})],1),e("item",{staticClass:"mt10"},[e("div",{staticClass:"item-text"},[t._v("拍照后在手机相册留存副本")]),e("van-switch",{staticStyle:{"margin-top":"3px"},attrs:{size:"26px"},on:{change:t.switchPhotoChecked},model:{value:t.picture_saving_album,callback:function(a){t.picture_saving_album=a},expression:"picture_saving_album"}})],1),t.isSuperApp?t._e():e("item",{staticClass:"mt10",attrs:{text:"批量下载离线数据","icon-right":"arrow-right"},on:{click:t.batchDownLoad}}),t.allowDownloadImageSetting&&!t.isSuperApp?e("item",{staticClass:"mt10",attrs:{text:"自动下载内容","icon-right":"arrow-right"},on:{click:t.downloadSetting}}):t._e(),t.isSuperApp?t._e():e("item",{directives:[{name:"track",rawName:"v-track",value:"我-个人信息-清除数据",expression:"'我-个人信息-清除数据'"}],staticClass:"mt10",attrs:{text:"清除数据","icon-right":"arrow-right"},on:{click:t.clearData}})],1)}),[],!1,null,"16e79734",null);a.default=c.exports}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3ZpZXdzL215L3NldHRpbmcudnVlP2Q2MDciLCJ3ZWJwYWNrOi8vX19tb2R1bGVfZW50cnlfemphcHBfXy8uL3NyYy92aWV3cy9teS9zZXR0aW5nLnZ1ZT8wODE3Iiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vc3JjL3ZpZXdzL215L3NldHRpbmcudnVlIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvdmlld3MvbXkvc2V0dGluZy52dWU/ZmQyYyIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3ZpZXdzL215L3NldHRpbmcudnVlP2Y5NzMiLCJ3ZWJwYWNrOi8vX19tb2R1bGVfZW50cnlfemphcHBfXy8uL3NyYy92aWV3cy9teS9zZXR0aW5nLnZ1ZT8zYjM4Iiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvdmlld3MvbXkvc2V0dGluZy52dWUiXSwibmFtZXMiOlsiY29udGVudCIsIm1vZHVsZSIsImkiLCJsb2NhbHMiLCJleHBvcnRzIiwiYWRkIiwiZGVmYXVsdCIsIm5hbWUiLCJjb21wb25lbnRzIiwiZGF0YSIsInVzZXIiLCJjaGVja2VkIiwiYXV0b21hdGljX2xvYWRfZGF0YSIsInBpY3R1cmVfc2F2aW5nX2FsYnVtIiwiYWxsb3dEb3dubG9hZEltYWdlU2V0dGluZyIsImNvbXB1dGVkIiwiaXNTdXBlckFwcCIsIndpbmRvdyIsIl9fWUxfU1VQRVJfQVBQX18iLCJtb3VudGVkIiwidGhpcyIsImdldFBpY3R1cmVBbGJ1bURhdGEiLCJhY3RpdmF0ZWQiLCJtZXRob2RzIiwicmVzdWx0Iiwic3dpdGNoQ2hlY2tlZCIsInN3aXRjaFBob3RvQ2hlY2tlZCIsImJhdGNoRG93bkxvYWQiLCJkb3dubG9hZFNldHRpbmciLCIkcm91dGVyIiwicHVzaCIsImNsZWFyRGF0YSIsIiRyb290U2NvcGUiLCJleGVjQ2hlY2tBcHBVcGRhdGUiLCJzd2l0Y2hMb2FkRGF0YSIsImNvbXBvbmVudCIsIl92bSIsIl9oIiwiJGNyZWF0ZUVsZW1lbnQiLCJfYyIsIl9zZWxmIiwiYXR0cnMiLCJfZSIsInN0YXRpY0NsYXNzIiwiX3YiLCJzdGF0aWNTdHlsZSIsIm9uIiwibW9kZWwiLCJ2YWx1ZSIsImNhbGxiYWNrIiwiJCR2IiwiZXhwcmVzc2lvbiIsImRpcmVjdGl2ZXMiLCJyYXdOYW1lIl0sIm1hcHBpbmdzIjoidUlBR0EsSUFBSUEsRUFBVSxFQUFRLFFBQ0EsaUJBQVpBLElBQXNCQSxFQUFVLENBQUMsQ0FBQ0MsRUFBT0MsRUFBSUYsRUFBUyxNQUM3REEsRUFBUUcsU0FBUUYsRUFBT0csUUFBVUosRUFBUUcsU0FHL0JFLEVBREgsRUFBUSxRQUEwRkMsU0FDM0YsV0FBWU4sR0FBUyxFQUFNLENBQUMsV0FBWSxFQUFNLFlBQWEsSyxvQ0NSNUUsVyx1TEMyREEsS0FDRU8sS0FBTSxVQUNOQyxXQUFZLENBQWQsVUFDRUMsS0FIRixXQUlJLE1BQU8sQ0FDTEMsS0FBTSxHQUNOQyxTQUFTLEVBQ1RDLHFCQUFxQixFQUNyQkMsc0JBQXNCLEVBQ3RCQywyQkFBMkIsSUFHL0JDLFNBQVUsQ0FDUkMsV0FESixXQUVNLE9BQW1DLElBQTVCQyxPQUFPQyxtQkFHbEJDLFFBakJGLFdBaUJBLFdBQ0lDLEtBQUtWLEtBQU8sRUFBaEIsWUFDSSxFQUFKLDJFQUNNLEVBQU4saUJBRUlVLEtBQUtDLHVCQUVQQyxVQXhCRixXQXdCQSxXQUNJLEVBQUosZ0RBQ00sRUFBTiwrQkFJSSxFQUFKLDJDQUNNLEVBQU4sMEJBR0VDLFFBQVMsQ0FDUEYsb0JBREosV0FDQSxXQUVNLEVBQU4sNkNBRVUsRUFBVix1QkFEWUcsR0FDWiwyQkFPSUMsY0FaSixTQVlBLGNBQ00sRUFBTixjQUNBLHNCQUNBLG9CQUNBLHNCQUNBLE1BQ0EsWUFDUSxFQUFSLGdCQUNBLFVBR1UsRUFBViwyQkFGVSxFQUFWLDhCQUtBLFlBQ1EsRUFBUixtQkFDUSxFQUFSLGVB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YUFBYSxPQUFPSixNQUFNLENBQUMsS0FBTyxRQUFRSyxHQUFHLENBQUMsT0FBU1YsRUFBSVYsb0JBQW9CcUIsTUFBTSxDQUFDQyxNQUFPWixFQUF3QixxQkFBRWEsU0FBUyxTQUFVQyxHQUFNZCxFQUFJdkIscUJBQXFCcUMsR0FBS0MsV0FBVywyQkFBMkIsR0FBS2YsRUFBSXBCLFdBQWdJb0IsRUFBSU0sS0FBeEhILEVBQUcsT0FBTyxDQUFDSSxZQUFZLE9BQU9GLE1BQU0sQ0FBQyxLQUFPLFdBQVcsYUFBYSxlQUFlSyxHQUFHLENBQUMsTUFBUVYsRUFBSVQsaUJBQTJCUyxFQUFJdEIsNEJBQThCc0IsRUFBSXBCLFdBQVl1QixFQUFHLE9BQU8sQ0FBQ0ksWUFBWSxPQUFPRixNQUFNLENBQUMsS0FBTyxTQUFTLGFBQWEsZUFBZUssR0FBRyxDQUFDLE1BQVFWLEVBQUlSLG1CQUFtQlEsRUFBSU0sS0FBT04sRUFBSXBCLFdBQXVOb0IsRUFBSU0sS0FBL01ILEVBQUcsT0FBTyxDQUFDYSxXQUFXLENBQUMsQ0FBQzdDLEtBQUssUUFBUThDLFFBQVEsVUFBVUwsTUFBTSxjQUFnQkcsV0FBVyxrQkFBa0JSLFlBQVksT0FBT0YsTUFBTSxDQUFDLEtBQU8sT0FBTyxhQUFhLGVBQWVLLEdBQUcsQ0FBQyxNQUFRVixFQUFJTCxjQUF1QixLQUNqbkQsSUVXcEIsRUFDQSxLQUNBLFdBQ0EsTUFJYSxVQUFBSSxFIiwiZmlsZSI6ImpzL2NodW5rLTY2MjBmOWMwLmpzP3YxNjA4NzE0NDUxMTk1Iiwic291cmNlc0NvbnRlbnQiOlsiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY3NzLWxvYWRlckAxLjAuMUBjc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTgtb25lT2YtMS0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS45LjVAdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19zYXNzLWxvYWRlckA3LjEuMEBzYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTgtb25lT2YtMS00IS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vc2V0dGluZy52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0xNmU3OTczNCZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLXN0eWxlLWxvYWRlckA0LjEuMkB2dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcImU1Nzc5Zjc4XCIsIGNvbnRlbnQsIHRydWUsIHtcInNvdXJjZU1hcFwiOmZhbHNlLFwic2hhZG93TW9kZVwiOmZhbHNlfSk7IiwiZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtc3R5bGUtbG9hZGVyQDQuMS4yQHZ1ZS1zdHlsZS1sb2FkZXIvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDEuMC4xQGNzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjkuNUB2dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Nhc3MtbG9hZGVyQDcuMS4wQHNhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tOC1vbmVPZi0xLTQhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zZXR0aW5nLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTE2ZTc5NzM0Jmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIiIsIjx0ZW1wbGF0ZT5cbiAgPHBhZ2UtY29udGVudCB0aXRsZT1cIuiuvue9rlwiPlxuICAgIDxpdGVtIGNsYXNzPVwibXQxMFwiIHYtaWY9XCIhaXNTdXBlckFwcFwiPlxuICAgICAgPGRpdiBjbGFzcz1cIml0ZW0tdGV4dFwiPuS7hVdpRmnkuIrkvKDkuIvovb08L2Rpdj5cbiAgICAgIDx2YW4tc3dpdGNoIHYtbW9kZWw9XCJjaGVja2VkXCIgc2l6ZT1cIjI2cHhcIiBzdHlsZT1cIm1hcmdpbi10b3A6IDNweFwiIEBjaGFuZ2U9XCJzd2l0Y2hDaGVja2VkXCIgLz5cbiAgICA8L2l0ZW0+XG4gICAgPGl0ZW0gY2xhc3M9XCJtdDEwXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiaXRlbS10ZXh0XCI+6Ieq5Yqo5Yqg6L295qih5Z2X5pWw5o2uPC9kaXY+XG4gICAgICA8dmFuLXN3aXRjaFxuICAgICAgICB2LW1vZGVsPVwiYXV0b21hdGljX2xvYWRfZGF0YVwiXG4gICAgICAgIHNpemU9XCIyNnB4XCJcbiAgICAgICAgc3R5bGU9XCJtYXJnaW4tdG9wOiAzcHhcIlxuICAgICAgICBAY2hhbmdlPVwic3dpdGNoTG9hZERhdGFcIlxuICAgICAgLz5cbiAgICA8L2l0ZW0+XG4gICAgPGl0ZW0gY2xhc3M9XCJtdDEwXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiaXRlbS10ZXh0XCI+5ouN54Wn5ZCO5Zyo5omL5py655u45YaM55WZ5a2Y5Ymv5pysPC9kaXY+XG4gICAgICA8dmFuLXN3aXRjaFxuICAgICAgICB2LW1vZGVsPVwicGljdHVyZV9zYXZpbmdfYWxidW1cIlxuICAgICAgICBzaXplPVwiMjZweFwiXG4gICAgICAgIHN0eWxlPVwibWFyZ2luLXRvcDogM3B4XCJcbiAgICAgICAgQGNoYW5nZT1cInN3aXRjaFBob3RvQ2hlY2tlZFwiXG4gICAgICAvPlxuICAgIDwvaXRlbT5cbiAgICA8aXRlbSB0ZXh0PVwi5om56YeP5LiL6L2956a757q/5pWw5o2uXCIgaWNvbi1yaWdodD1cImFycm93LXJpZ2h0XCIgQGNsaWNrPVwiYmF0Y2hEb3duTG9hZFwiIGNsYXNzPVwibXQxMFwiIHYtaWY9XCIhaXNTdXBlckFwcFwiLz5cblxuICAgIDxpdGVtXG4gICAgICB2LWlmPVwiYWxsb3dEb3dubG9hZEltYWdlU2V0dGluZyAmJiAhaXNTdXBlckFwcFwiXG4gICAgICB0ZXh0PVwi6Ieq5Yqo5LiL6L295YaF5a65XCJcbiAgICAgIGljb24tcmlnaHQ9XCJhcnJvdy1yaWdodFwiXG4gICAgICBAY2xpY2s9XCJkb3dubG9hZFNldHRpbmdcIlxuICAgICAgY2xhc3M9XCJtdDEwXCJcbiAgICAvPlxuXG4gICAgPGl0ZW1cbiAgICAgIHYtaWY9XCIhaXNTdXBlckFwcFwiXG4gICAgICB0ZXh0PVwi5riF6Zmk5pWw5o2uXCJcbiAgICAgIGljb24tcmlnaHQ9XCJhcnJvdy1yaWdodFwiXG4gICAgICB2LXRyYWNrPVwiJ+aIkS3kuKrkurrkv6Hmga8t5riF6Zmk5pWw5o2uJ1wiXG4gICAgICBAY2xpY2s9XCJjbGVhckRhdGFcIlxuICAgICAgY2xhc3M9XCJtdDEwXCJcbiAgICAvPlxuICA8L3BhZ2UtY29udGVudD5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5cbmltcG9ydCBjb250ZXh0IGZyb20gJ0BzcmMvZnJhbWV3b3JrL2NvbnRleHQnO1xuaW1wb3J0IFBvcHVwIGZyb20gJ0BzcmMvdXRpbHMvcG9wdXAnO1xuaW1wb3J0ICRxIGZyb20gJ0BzdGF0aWMvbGliL3Byb21pc2UnO1xuaW1wb3J0IFNldHRpbmdTZXJ2aWNlIGZyb20gJ0BzcmMvc2VydmljZS91c2VyL3NldHRpbmctc2VydmljZSc7XG5pbXBvcnQgV2ViU2VydmljZSBmcm9tICdAc3JjL3NlcnZpY2UvY29tbW9uL3dlYi1zZXJ2aWNlJztcbmltcG9ydCBEYXRhU3luY2hyb25pemVyIGZyb20gJ0BzcmMvc2VydmljZS9jb21tb24vZGF0YS1zeW5jaHJvbml6ZXInO1xuaW1wb3J0IENvbW1vbk5ldHdvcmtDaGVja1NlcnZpY2UgZnJvbSAnQHNyYy9zZXJ2aWNlL2NvbW1vbi9uZXR3b3JrLWNoZWNrLXNlcnZpY2UnO1xuaW1wb3J0IEZlZWRiYWNrU2VydmljZSBmcm9tICdAc3JjL3NlcnZpY2UvdXNlci9mZWVkYmFjay1zZXJ2aWNlJztcbmltcG9ydCBJdGVtIGZyb20gJ0BzcmMvY29tcG9uZW50cy9pdGVtLyc7XG5pbXBvcnQgQ29tbW9uQmFzZWRhdGFTZXJ2aWNlIGZyb20gJ0BzcmMvc2VydmljZS9jb21tb24vY29tbW9uLWJhc2VkYXRhLXNlcnZpY2UnO1xuaW1wb3J0IFRhbGtpbmdEYXRhU2VydmljZSBmcm9tICdAc3JjL3NlcnZpY2UvY29tbW9uL3RhbGtpbmctZGF0YS1zZXJ2aWNlJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnU2V0dGluZycsXG4gIGNvbXBvbmVudHM6IHsgSXRlbSB9LFxuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICB1c2VyOiB7fSxcbiAgICAgIGNoZWNrZWQ6IGZhbHNlLFxuICAgICAgYXV0b21hdGljX2xvYWRfZGF0YTogZmFsc2UsIC8vIOiHquWKqOWKoOi9veaooeWdl+aVsOaNrlxuICAgICAgcGljdHVyZV9zYXZpbmdfYWxidW06IGZhbHNlLFxuICAgICAgYWxsb3dEb3dubG9hZEltYWdlU2V0dGluZzogZmFsc2UsXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBpc1N1cGVyQXBwKCkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5fX1lMX1NVUEVSX0FQUF9fID09PSB0cnVlO1xuICAgIH0sXG4gIH0sXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy51c2VyID0gY29udGV4dC5nZXRVc2VyKCk7XG4gICAgU2V0dGluZ1NlcnZpY2UuZ2V0RGF0YUNvbm4odGhpcy51c2VyLnRlbmFudF9jb2RlLCB0aGlzLnVzZXIudXNlcl9jb2RlKS50aGVuKGlzV2lmaSA9PiB7XG4gICAgICB0aGlzLmNoZWNrZWQgPSBpc1dpZmkgfHwgZmFsc2U7XG4gICAgfSk7XG4gICAgdGhpcy5nZXRQaWN0dXJlQWxidW1EYXRhKCk7XG4gIH0sXG4gIGFjdGl2YXRlZCgpIHtcbiAgICBDb21tb25CYXNlZGF0YVNlcnZpY2UuYWxsb3dEb3dubG9hZEltYWdlU2V0dGluZygpLnRoZW4oYWxsb3cgPT4ge1xuICAgICAgdGhpcy5hbGxvd0Rvd25sb2FkSW1hZ2VTZXR0aW5nID0gYWxsb3c7XG4gICAgfSk7XG5cbiAgICAvLyDoh6rliqjliqDovb3mqKHlnZfmlbDmja5cbiAgICBDb21tb25CYXNlZGF0YVNlcnZpY2UuZ2V0QXV0b21hdGljTG9hZERhdGEoKS50aGVuKGFsbG93ID0+IHtcbiAgICAgIHRoaXMuYXV0b21hdGljX2xvYWRfZGF0YSA9IGFsbG93O1xuICAgIH0pO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2V0UGljdHVyZUFsYnVtRGF0YSgpIHtcbiAgICAgIC8vIOiOt+WPluiHquWKqOaLt+i0neeFp+eJh+iuvue9rlxuICAgICAgQ29tbW9uQmFzZWRhdGFTZXJ2aWNlLmdldFBpY3R1cmVBbGJ1bVNldHRpbmcoKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICB0aGlzLnBpY3R1cmVfc2F2aW5nX2FsYnVtID0gcmVzdWx0LnBpY3R1cmVfc2F2aW5nX2FsYnVtO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucGljdHVyZV9zYXZpbmdfYWxidW0gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICAvLyDku4VXaUZp5LiL6L295byA5YWzXG4gICAgc3dpdGNoQ2hlY2tlZCh2YWwpIHtcbiAgICAgIFNldHRpbmdTZXJ2aWNlLnNldERhdGFDb25uKFxuICAgICAgICB0aGlzLnVzZXIudGVuYW50X2NvZGUsXG4gICAgICAgIHRoaXMudXNlci51c2VyX2NvZGUsXG4gICAgICAgIHRoaXMuY2hlY2tlZCA/ICcxJyA6ICcwJ1xuICAgICAgKS50aGVuKFxuICAgICAgICByZXMgPT4ge1xuICAgICAgICAgIFBvcHVwLmFsZXJ0KCforr7nva7miJDlip8nKTtcbiAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tlZCkge1xuICAgICAgICAgICAgVGFsa2luZ0RhdGFTZXJ2aWNlLmFkZFRyYWNrKCfmiJEt6aaW6aG1LeWFs+mXreS7hXdpZmknKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgVGFsa2luZ0RhdGFTZXJ2aWNlLmFkZFRyYWNrKCfmiJEt6aaW6aG1LeWQr+eUqOS7hXdpZmknKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICB0aGlzLmNoZWNrZWQgPSAhdGhpcy5jaGVja2VkO1xuICAgICAgICAgIFBvcHVwLmFsZXJ0KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9LFxuICAgIC8vIOaLjeeFp+WQjuWcqOaJi+acuuebuOWGjOeVmeWtmFxuICAgIHN3aXRjaFBob3RvQ2hlY2tlZCgpIHtcbiAgICAgIC8vIHRoaXMucGhvdG9DaGVjayA9ICF0aGlzLnBob3RvQ2hlY2s7XG4gICAgICBDb21tb25CYXNlZGF0YVNlcnZpY2Uuc2F2ZVBpY3R1cmVBbGJ1bVNldHRpbmcoe1xuICAgICAgICBwaWN0dXJlX3NhdmluZ19hbGJ1bTogdGhpcy5waWN0dXJlX3NhdmluZ19hbGJ1bSxcbiAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBQb3B1cC5hbGVydCgn6K6+572u5oiQ5YqfJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICB0aGlzLnBpY3R1cmVfc2F2aW5nX2FsYnVtID0gIXRoaXMucGljdHVyZV9zYXZpbmdfYWxidW07XG4gICAgICAgICAgUG9wdXAuYWxlcnQoZSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgLy8g5om56YeP5LiL6L2956a757q/5pWw5o2uXG4gICAgYmF0Y2hEb3duTG9hZCgpIHtcbiAgICAgIC8vIOaJk+W8gOWJjeiuvue9ruS4i+eBsOW6pumcgOimgeeahGxvY2Fsc3RvcmFnZVxuICAgICAgQ29tbW9uQmFzZWRhdGFTZXJ2aWNlLmFsbG93UHJvY2Vzc0FjY2VwdCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3VzZXItYmF0Y2gtZG93bmxvYWQnKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgLy8g6Ieq5Yqo5LiL6L295YaF5a65XG4gICAgZG93bmxvYWRTZXR0aW5nKCkge1xuICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnQXV0b0Rvd25sb2FkU2V0dGluZycgfSk7XG4gICAgfSxcbiAgICAvLyDmuIXpmaTmlbDmja5cbiAgICBjbGVhckRhdGEoKSB7XG4gICAgICAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdEYXRhQ2xlYXInIH0pO1xuICAgICAgaWYgKCRyb290U2NvcGUuZXhlY0NoZWNrQXBwVXBkYXRlKSB7XG4gICAgICAgIHJldHVybiBQb3B1cC5hbGVydCgn5ZCO5Y+w5q2j5Zyo6L+b6KGMQXBw5pu05paw5qOA5rWL77yM6K+356iN5ZCO6YeN6K+VJyk7XG4gICAgICB9XG4gICAgICBpZiAoV2ViU2VydmljZS5pc0JhY2tncm91bmRUYXNrV29ya2luZygpKSB7XG4gICAgICAgIHJldHVybiBQb3B1cC5hbGVydCgn5ZCO5Y+w5q2j5Zyo6L+b6KGM6Zeu6aKY5pWw5o2u5pu05paw77yM6K+356iN5ZCO6YeN6K+VJyk7XG4gICAgICB9XG4gICAgICBDb21tb25OZXR3b3JrQ2hlY2tTZXJ2aWNlLmNoZWNrSGFzTmV0d29yaygpLnRoZW4oKCkgPT4ge1xuICAgICAgICBQb3B1cC5jb25maXJtKCfmuIXpmaTlhajpg6jlt7LkuIvovb3lkozlnKjmnKzmnLrliJvlu7rnmoTmlbDmja7vvIzkuI3lvbHlk43lt7LkuIrkvKDmlbDmja7vvIznoa7lrpropoHmuIXmpZrmlbDmja7vvJ8nKS50aGVuKFxuICAgICAgICAgIGlzT0sgPT4ge1xuICAgICAgICAgICAgaWYgKGlzT0spIHtcbiAgICAgICAgICAgICAgRGF0YVN5bmNocm9uaXplci5jbGVhckRvd25sb2FkSW1hZ2VRdWV1ZSgpO1xuICAgICAgICAgICAgICBsZXQgZGVidWdVcmwgPSAnJztcbiAgICAgICAgICAgICAgUG9wdXAubG9hZGluZygn5q2j5Zyo5aSH5Lu95pWw5o2uLi4uJyk7XG4gICAgICAgICAgICAgICRsb2cubG9nKCfmraPlnKjkuIrkvKDmlbDmja7lupPmlofku7YuLi4nKTtcbiAgICAgICAgICAgICAgRmVlZGJhY2tTZXJ2aWNlLnVwbG9hZERlYnVnRGF0YSgpXG4gICAgICAgICAgICAgICAgLnRoZW4odXJsID0+IHtcbiAgICAgICAgICAgICAgICAgIGRlYnVnVXJsID0gdXJsO1xuICAgICAgICAgICAgICAgICAgJGxvZy5sb2coJ+ato+WcqOaPkOS6pOWkh+S7veaVsOaNri4uLicpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIEZlZWRiYWNrU2VydmljZS5iYWNrdXBEYXRhYmFzZSh1cmwpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgUG9wdXAuaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICBQb3B1cC5oaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuICRxXG4gICAgICAgICAgICAgICAgICAgIC53aGVuKClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciAmJiBlcnJvci5pc05vdGlmeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgUG9wdXAuYWxlcnQoZXJyb3IubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yID09PSAn5b2T5YmN572R57uc5peg5rOV5ZCM5q2l5pWw5o2uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgUG9wdXAuYWxlcnQoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV8uaXNTdHJpbmcoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAkbG9nLmVycm9yKCflpIfku73mlbDmja7lpLHotKUnLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBQb3B1cC5hbGVydCgn5aSH5Lu95pWw5o2u5aSx6LSl77yM5Lqn5ZOB5Zui6Zif5Lya5o6S5p+l6Zeu6aKY5bm26YCa55+l5oKoJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRmVlZGJhY2tTZXJ2aWNlLnN1Ym1pdEZlZWRiYWNrKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtYXJrOiBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWdfZmlsZTogZGVidWdVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3N5c19zdWJtaXQ6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlv73nlaXlj43ppojpl67popjlpLHotKVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUG9wdXAuYWxlcnQoJ+iHquWKqOWPjemmiOWHuumUmScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFBvcHVwLmNvbmZpcm0oJ+Wkh+S7veaVsOaNruWksei0pe+8jOaYr+WQpue7p+e7rea4hemZpOaVsOaNru+8nycpLnRoZW4oaXNPSyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzT0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgV2ViU2VydmljZS5iZWdpbk1hbnVhbFVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIERhdGFTeW5jaHJvbml6ZXIuZXhlY3V0ZVVwbG9hZCgpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdEYXRhQ2xlYXInIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciAmJiBlcnJvci5pc05vdGlmeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgUG9wdXAuYWxlcnQoZXJyb3IubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yID09PSAn5b2T5YmN572R57uc5peg5rOV5ZCM5q2l5pWw5o2uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgUG9wdXAuYWxlcnQoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV8uaXNTdHJpbmcoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBQb3B1cC5hbGVydCgn5LiK5Lyg5pWw5o2u5aSx6LSl77yM5Lqn5ZOB5Zui6Zif5Lya5o6S5p+l6Zeu6aKY5bm26YCa55+l5oKoJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRmVlZGJhY2tTZXJ2aWNlLnN1Ym1pdEZlZWRiYWNrKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtYXJrOiBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWdfZmlsZTogZGVidWdVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3N5c19zdWJtaXQ6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOW/veeVpeWPjemmiOmXrumimOWksei0pVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBvcHVwLmFsZXJ0KCfoh6rliqjlj43ppojlh7rplJknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQb3B1cC5jb25maXJtKCfkuIrkvKDmlbDmja7lpLHotKXvvIzmmK/lkKbnu6fnu63muIXpmaTmlbDmja7vvJ8nKS50aGVuKGlzT0sgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzT0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnRGF0YUNsZWFyJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgV2ViU2VydmljZS5lbmRNYW51YWxVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICAvLyDoh6rliqjliqDovb3mqKHlnZfmlbDmja5cbiAgICBzd2l0Y2hMb2FkRGF0YSh2YWwpIHtcbiAgICAgIENvbW1vbkJhc2VkYXRhU2VydmljZS5zZXRBdXRvbWF0aWNMb2FkRGF0YSh2YWwpO1xuICAgIH0sXG4gIH0sXG59O1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cbi5wYWdlLXVzZXIge1xuICBiYWNrZ3JvdW5kOiAjZjJmMmYyO1xufVxuXG4udGlwcy10ZXh0IHtcbiAgcGFkZGluZzogMTBweCAxNXB4O1xuICBjb2xvcjogIzhjOGM4YztcbiAgZm9udC1zaXplOiAxNHB4O1xuICBsaW5lLWhlaWdodDogMTZweDtcbn1cbjwvc3R5bGU+XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDEuMC4xQGNzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi56amFwcCAucGFnZS11c2VyW2RhdGEtdi0xNmU3OTczNF17YmFja2dyb3VuZDojZjJmMmYyfS56amFwcCAudGlwcy10ZXh0W2RhdGEtdi0xNmU3OTczNF17cGFkZGluZzoxMHB4IDE1cHg7Y29sb3I6IzhjOGM4Yztmb250LXNpemU6MTRweDtsaW5lLWhlaWdodDoxNnB4fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuIF9jKCdwYWdlLWNvbnRlbnQnLHthdHRyczp7XCJ0aXRsZVwiOlwi6K6+572uXCJ9fSxbKCFfdm0uaXNTdXBlckFwcCk/X2MoJ2l0ZW0nLHtzdGF0aWNDbGFzczpcIm10MTBcIn0sW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcIml0ZW0tdGV4dFwifSxbX3ZtLl92KFwi5LuFV2lGaeS4iuS8oOS4i+i9vVwiKV0pLF9jKCd2YW4tc3dpdGNoJyx7c3RhdGljU3R5bGU6e1wibWFyZ2luLXRvcFwiOlwiM3B4XCJ9LGF0dHJzOntcInNpemVcIjpcIjI2cHhcIn0sb246e1wiY2hhbmdlXCI6X3ZtLnN3aXRjaENoZWNrZWR9LG1vZGVsOnt2YWx1ZTooX3ZtLmNoZWNrZWQpLGNhbGxiYWNrOmZ1bmN0aW9uICgkJHYpIHtfdm0uY2hlY2tlZD0kJHZ9LGV4cHJlc3Npb246XCJjaGVja2VkXCJ9fSldLDEpOl92bS5fZSgpLF9jKCdpdGVtJyx7c3RhdGljQ2xhc3M6XCJtdDEwXCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJpdGVtLXRleHRcIn0sW192bS5fdihcIuiHquWKqOWKoOi9veaooeWdl+aVsOaNrlwiKV0pLF9jKCd2YW4tc3dpdGNoJyx7c3RhdGljU3R5bGU6e1wibWFyZ2luLXRvcFwiOlwiM3B4XCJ9LGF0dHJzOntcInNpemVcIjpcIjI2cHhcIn0sb246e1wiY2hhbmdlXCI6X3ZtLnN3aXRjaExvYWREYXRhfSxtb2RlbDp7dmFsdWU6KF92bS5hdXRvbWF0aWNfbG9hZF9kYXRhKSxjYWxsYmFjazpmdW5jdGlvbiAoJCR2KSB7X3ZtLmF1dG9tYXRpY19sb2FkX2RhdGE9JCR2fSxleHByZXNzaW9uOlwiYXV0b21hdGljX2xvYWRfZGF0YVwifX0pXSwxKSxfYygnaXRlbScse3N0YXRpY0NsYXNzOlwibXQxMFwifSxbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiaXRlbS10ZXh0XCJ9LFtfdm0uX3YoXCLmi43nhaflkI7lnKjmiYvmnLrnm7jlhoznlZnlrZjlia/mnKxcIildKSxfYygndmFuLXN3aXRjaCcse3N0YXRpY1N0eWxlOntcIm1hcmdpbi10b3BcIjpcIjNweFwifSxhdHRyczp7XCJzaXplXCI6XCIyNnB4XCJ9LG9uOntcImNoYW5nZVwiOl92bS5zd2l0Y2hQaG90b0NoZWNrZWR9LG1vZGVsOnt2YWx1ZTooX3ZtLnBpY3R1cmVfc2F2aW5nX2FsYnVtKSxjYWxsYmFjazpmdW5jdGlvbiAoJCR2KSB7X3ZtLnBpY3R1cmVfc2F2aW5nX2FsYnVtPSQkdn0sZXhwcmVzc2lvbjpcInBpY3R1cmVfc2F2aW5nX2FsYnVtXCJ9fSldLDEpLCghX3ZtLmlzU3VwZXJBcHApP19jKCdpdGVtJyx7c3RhdGljQ2xhc3M6XCJtdDEwXCIsYXR0cnM6e1widGV4dFwiOlwi5om56YeP5LiL6L2956a757q/5pWw5o2uXCIsXCJpY29uLXJpZ2h0XCI6XCJhcnJvdy1yaWdodFwifSxvbjp7XCJjbGlja1wiOl92bS5iYXRjaERvd25Mb2FkfX0pOl92bS5fZSgpLChfdm0uYWxsb3dEb3dubG9hZEltYWdlU2V0dGluZyAmJiAhX3ZtLmlzU3VwZXJBcHApP19jKCdpdGVtJyx7c3RhdGljQ2xhc3M6XCJtdDEwXCIsYXR0cnM6e1widGV4dFwiOlwi6Ieq5Yqo5LiL6L295YaF5a65XCIsXCJpY29uLXJpZ2h0XCI6XCJhcnJvdy1yaWdodFwifSxvbjp7XCJjbGlja1wiOl92bS5kb3dubG9hZFNldHRpbmd9fSk6X3ZtLl9lKCksKCFfdm0uaXNTdXBlckFwcCk/X2MoJ2l0ZW0nLHtkaXJlY3RpdmVzOlt7bmFtZTpcInRyYWNrXCIscmF3TmFtZTpcInYtdHJhY2tcIix2YWx1ZTooJ+aIkS3kuKrkurrkv6Hmga8t5riF6Zmk5pWw5o2uJyksZXhwcmVzc2lvbjpcIifmiJEt5Liq5Lq65L+h5oGvLea4hemZpOaVsOaNridcIn1dLHN0YXRpY0NsYXNzOlwibXQxMFwiLGF0dHJzOntcInRleHRcIjpcIua4hemZpOaVsOaNrlwiLFwiaWNvbi1yaWdodFwiOlwiYXJyb3ctcmlnaHRcIn0sb246e1wiY2xpY2tcIjpfdm0uY2xlYXJEYXRhfX0pOl92bS5fZSgpXSwxKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NhY2hlLWxvYWRlckAyLjAuMUBjYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3RocmVhZC1sb2FkZXJAMi4xLjNAdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2JhYmVsLWxvYWRlckA4LjIuMUBiYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vc2V0dGluZy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL190aHJlYWQtbG9hZGVyQDIuMS4zQHRocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19iYWJlbC1sb2FkZXJAOC4yLjFAYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NhY2hlLWxvYWRlckAyLjAuMUBjYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS43LjBAdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NldHRpbmcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9zZXR0aW5nLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0xNmU3OTczNCZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9zZXR0aW5nLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vc2V0dGluZy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vc2V0dGluZy52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0xNmU3OTczNCZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS43LjBAdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCIxNmU3OTczNFwiLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=