(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["report-check-timeout-list","chunk-739f37c8","chunk-2d2263f6"],{"19a9":function(e,t,n){"use strict";n("7d4e")},"2c2f":function(e,t,n){"use strict";n("7985")},"47df":function(e,t,n){var r=n("cc4c");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("85cb").default)("1ffcc628",r,!0,{sourceMap:!1,shadowMode:!1})},"4aef":function(e,t,n){"use strict";var r=n("dd16").a,a=n("17cc"),o=Object(a.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("span",{class:this.classSet[this.status]},[this._v(this._s(this.text||this.status))])}),[],!1,null,null,null);t.a=o.exports},5685:function(e,t,n){"use strict";(function(e){var r=n("162a"),a=n("6144"),o=n("9cd1"),i=n("da2f"),s=n("c77f");function c(e,t){return e?(e-t)/e*100:0}var l={getProcessCheckNewBuilding:function(e){var t=a.a.getString("reportDateType",a.a.level.user)||"month";return Object(i.d)({proj_id:e,query_type:t})},getProjTotalData:function(){return r.a.request("/report/project-over-view")},getDailyCheckData:function(e,t,n,a,o){var i={proj_id:e,bidsection_id:t,begin_date:n,end_date:a};return o&&(i.module=o),r.a.request("/report/check",i)},getReportCheckList:function(e){return r.a.request("/report/check-batch-problem-list",{batch_id:e.batchId,begin_date:e.dateStart,end_date:e.dateEnd})},getReportCheckTimeoutList:function(e,t,n){return r.a.request("/report/get-over-due-check",{proj_id:e,key:t,page:n,pageSize:15})},getOverDueCheckConfig:function(e){return r.a.request("/report/get-over-due-check-config",{proj_id:e})},getReportCheckDetail:function(e){return r.a.request("/report/check-batch-problem-detail",{id:e})},postReportCheckUpdate:function(e){return r.a.post("/checkquality-comment/upload",{},e)},postReportCheckSendBack:function(e){return r.a.post("/checkquality-comment/send-back",{},e)},measureProjectData:[],waterPercolationData:[],getMeasureData:function(t){return r.a.request("/report/measure",{proj_id:t}).then((function(t){return e.each(t,(function(t){t.repair_data={measurement_points_num:0,problem_points_num:0,checkitem_num:0,passport:0},t.supervision_data={measurement_points_num:0,problem_points_num:0,checkitem_num:0,passport:0},t.construct_data={measurement_points_num:0,problem_points_num:0,checkitem_num:0,passport:0},e.each(t.buildings,(function(n){n.repair_data={measurement_points_num:0,problem_points_num:0,checkitem_num:0,passport:0},n.supervision_data={measurement_points_num:0,problem_points_num:0,checkitem_num:0,passport:0},n.construct_data={measurement_points_num:0,problem_points_num:0,checkitem_num:0,passport:0},e.each(n.check_items,(function(r){r.repair_data={measurement_points_num:0,problem_points_num:0,checkitem_num:0,passport:0},r.supervision_data={measurement_points_num:0,problem_points_num:0,checkitem_num:0,passport:0},r.construct_data={measurement_points_num:0,problem_points_num:0,checkitem_num:0,passport:0},e.each(r.children,(function(a){t.repair_data.measurement_points_num+=a.measure_data[0].measurement_points,t.repair_data.problem_points_num+=a.measure_data[0].problem_points,t.repair_data.checkitem_num+=a.measure_data[0].measurement_points?1:0,t.supervision_data.measurement_points_num+=a.measure_data[1].measurement_points,t.supervision_data.problem_points_num+=a.measure_data[1].problem_points,t.supervision_data.checkitem_num+=a.measure_data[1].measurement_points?1:0,t.construct_data.measurement_points_num+=a.measure_data[2].measurement_points,t.construct_data.problem_points_num+=a.measure_data[2].problem_points,t.construct_data.checkitem_num+=a.measure_data[2].measurement_points?1:0,n.repair_data.measurement_points_num+=a.measure_data[0].measurement_points,n.repair_data.problem_points_num+=a.measure_data[0].problem_points,n.repair_data.checkitem_num+=a.measure_data[0].measurement_points?1:0,n.supervision_data.measurement_points_num+=a.measure_data[1].measurement_points,n.supervision_data.problem_points_num+=a.measure_data[1].problem_points,n.supervision_data.checkitem_num+=a.measure_data[1].measurement_points?1:0,n.construct_data.measurement_points_num+=a.measure_data[2].measurement_points,n.construct_data.problem_points_num+=a.measure_data[2].problem_points,n.construct_data.checkitem_num+=a.measure_data[2].measurement_points?1:0,r.repair_data.measurement_points_num+=a.measure_data[0].measurement_points,r.repair_data.problem_points_num+=a.measure_data[0].problem_points,r.repair_data.checkitem_num+=a.measure_data[0].measurement_points?1:0,r.supervision_data.measurement_points_num+=a.measure_data[1].measurement_points,r.supervision_data.problem_points_num+=a.measure_data[1].problem_points,r.supervision_data.checkitem_num+=a.measure_data[1].measurement_points?1:0,r.construct_data.measurement_points_num+=a.measure_data[2].measurement_points,r.construct_data.problem_points_num+=a.measure_data[2].problem_points,r.construct_data.checkitem_num+=a.measure_data[2].measurement_points?1:0,e.each(a.measure_data,(function(e){e.measurement_points?e.passport=(e.measurement_points-e.problem_points)/e.measurement_points*100:e.passport=0}))})),r.repair_data.passport=c(r.repair_data.measurement_points_num,r.repair_data.problem_points_num),r.supervision_data.passport=c(r.supervision_data.measurement_points_num,r.supervision_data.problem_points_num),r.construct_data.passport=c(r.construct_data.measurement_points_num,r.construct_data.problem_points_num)})),n.repair_data.passport=c(n.repair_data.measurement_points_num,n.repair_data.problem_points_num),n.supervision_data.passport=c(n.supervision_data.measurement_points_num,n.supervision_data.problem_points_num),n.construct_data.passport=c(n.construct_data.measurement_points_num,n.construct_data.problem_points_num)})),t.repair_data.passport=c(t.repair_data.measurement_points_num,t.repair_data.problem_points_num),t.supervision_data.passport=c(t.supervision_data.measurement_points_num,t.supervision_data.problem_points_num),t.construct_data.passport=c(t.construct_data.measurement_points_num,t.construct_data.problem_points_num)})),t}))},measureBuildData:{},setMeasureBuildData:function(e){l.measureBuildData=e},getMeasureBuildData:function(t){return e.isEmpty(l.measureBuildData)?l.getMeasureData(t).then((function(e){return e[0]})):Promise.resolve(l.measureBuildData)},getCheckAcceptData:function(e){return r.a.request("/report/check-accept",{proj_id:e})},getCheckAcceptDataOfBuilding:function(e,t,n){return r.a.request("/report/check-accept-detail",{section_id:e,building_id:t,unit:n||""})},getProcessCheckData:function(e,t){return r.a.request("/report/processcheck",{building_id:e,unit:t})},getProcessCheckData2:function(e){return Object(i.g)({building_id:e})},getMaterialData:function(e,t,n){return r.a.request("/report/material",{proj_id:e,begin_date:t,end_date:n})},getProcessAcceptBuilding:function(e){var t=a.a.getString("reportDateType",a.a.level.user)||"month";return Object(s.m)({proj_id:e,query_type:t})},getWaterPercolation:function(e){return r.a.request("/report/close-water-test",{proj_id:e})},getProcessAcceptData:function(e,t,n,r){return Object(s.n)({building_id:e,unit:t,start:n||"",end:r||""})},getProcessAcceptPileItem:function(e){return r.a.request("/report/get-pile-check-items",{bidsection_id:e})},getProcessAcceptPileData:function(e,t){return r.a.request("/report/process-accept-with-pile",{building_id:e,item_id:t})},getMeasureCheckedData:function(){return r.a.request("/report/leader-measure")},getSchedulePlanData:function(){return Object(o.i)()},getSchedulePlanProjectData:function(e){return Object(o.a)({proj_id:e})},getCheckProblemStatisticsData:function(e){return r.a.request("/report/leader-secure",e)},getProcessCheckStatisticsData:function(){return Object(i.k)()},schedulePlanNodeList:function(e){return Object(o.e)({plan_id:e})}};t.a=l}).call(this,n("391c"))},"774b":function(e,t,n){"use strict";n.r(t);var r=n("d18d").a,a=(n("b225"),n("17cc")),o=Object(a.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"scroll-warp",staticClass:"scroll-warp",class:{"scroll-warp-pulling":e.pulling,"scroll-warp-complete":!e.hasNext&&!e.isEmpty,"scroll-warp-empty":e.isEmpty},style:{"padding-bottom":e.numberKeyboardCoverHeight+"px"},on:{scroll:e.onScroll,touchstart:e.onTouchstart,touchmove:e.onTouchmove,touchend:e.onTouchend}},[e.allowPullDown?n("div",{staticClass:"pull-refresh-warp",style:{height:e.pullDist+"px"}},[n("div",{staticClass:"pull-refresh"},[n("div",{staticClass:"animation-refresher",class:{refreshing:e.refreshing}}),e.updateTime?n("p",{staticClass:"pull-refresh-date"},[e._v("最后成功同步："+e._s(e.updateTime))]):e._e()])]):e._e(),e._t("default"),e.loading?n("div",{staticClass:"page-loading"},[n("svg",{staticClass:"svg-loading",attrs:{viewBox:"0 0 80 80"}},[n("circle",{attrs:{cx:"40",cy:"40",r:"36"}})])]):e._e(),e.hasNext||e.isEmpty?e._e():[e.$slots.end?e._t("end"):e._e(),!e.$slots.end&&e.endText?n("div",{staticClass:"end-text"},[e._v("\n      "+e._s(e.endText)+"\n    ")]):e._e()]],2)}),[],!1,null,"2b1a346c",null);t.default=o.exports},7985:function(e,t,n){var r=n("c882");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("85cb").default)("db2b1596",r,!0,{sourceMap:!1,shadowMode:!1})},"7d4e":function(e,t,n){var r=n("c59b");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("85cb").default)("62c5f5a2",r,!0,{sourceMap:!1,shadowMode:!1})},8720:function(e,t,n){"use strict";n.r(t);var r=n("b67c").a,a=(n("2c2f"),n("17cc")),o=Object(a.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("page-content",{attrs:{title:"超时预警","show-go-root":"Report"}},[n("item",{ref:"item-select-project",staticClass:"bg-sub-theme item-select-project border-bottom report-project-check-option",attrs:{"icon-right":e.isOpen?"arrow-up":"arrow-down"},on:{click:e.selectProject}},[n("div",{staticClass:"item-text"},[e._v(e._s(e.currentType.name))]),n("div",{staticClass:"item-font color-gray1 pl10"},[e._v(e._s(e.currentType.num)+"个")])]),!e.isLoading&&e.list.length?n("scroller",{attrs:{"has-next":e.list.length<e.currentType.num,"end-text":""},on:{loadNext:e.getNext}},e._l(e.list,(function(t){return n("item-list",{key:t.id,attrs:{"is-unread":t.unread,"is-timeout":Boolean(t.is_timeout),"is-urgent":"紧急"==t.emergency_degree||"特急"==t.emergency_degree,"is-return":t.sent_back_times>0,img:t.thumbnail,title:t.item_full_name||"未选检查项",detail:(t.desc_name?t.desc_name+" ":"")+(t.remark||""),footer:e.moment(t.regist_date).format("MM-DD HH:mm")+" "+(t.place||""),status:t.status,"status-text":t.status_text},on:{click:function(n){e.problemDetail(t)}}})}))):e._e(),n("loading-status",{attrs:{"is-loading":e.isLoading,"is-empty":!e.isLoading&&!e.list.length,type:"report","empty-text":"没有超时预警问题"}})],1)}),[],!1,null,"36f7948b",null);t.default=o.exports},"967a":function(e,t,n){"use strict";var r=n("8d95");t.a={REPAIR_DEADLINE_STATUS:{name:"repair_deadline_status",status:["待整改"],module:[r.a.CHECK]}}},"9cd1":function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"m",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"l",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"j",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"i",(function(){return b})),n.d(t,"a",(function(){return _}));var r=n("5e8d"),a=n("162a"),o=n("bcc78");function i(e){return Object(r.a)().then((function(){var t=o.a.schedulePlanTaskInfo.url;return a.a.request(t,e)}))}function s(e){return Object(r.a)().then((function(){var t=o.a.schedulePlanSaveTask.url;return a.a.post(t,null,e)}))}function c(e){return Object(r.a)().then((function(){var t=o.a.schedulePlanPlanList.url;return a.a.request(t,e)}))}function l(e){return Object(r.a)().then((function(){var t=o.a.schedulePlanNodeList.url;return a.a.request(t,e)}))}function p(e){return Object(r.a)().then((function(){var t=o.a.schedulePlanNodeInfo.url;return a.a.request(t,e)}))}function u(e){return Object(r.a)().then((function(){var t=o.a.schedulePlanSaveReport.url;return a.a.post(t,null,e)}))}function d(e){return Object(r.a)().then((function(){var t=o.a.schedulePlanSaveCompleteTime.url;return a.a.post(t,null,e)}))}function h(e){return Object(r.a)().then((function(){var t=o.a.schedulePlanSaveChecker.url;return a.a.post(t,null,e)}))}function f(e){return Object(r.a)().then((function(){var t=o.a.schedulePlanCheckerLogList.url;return a.a.request(t,e)}))}function m(e){return Object(r.a)().then((function(){var t=o.a.schedulePlanNodeLevel.url;return a.a.request(t,e)}))}function g(){return Object(r.a)().then((function(){var e=o.a.schedulePlanCompletedTimeSetting.url;return a.a.request(e)}))}function b(){return Object(r.a)().then((function(){var e=o.a.schedulePlanLeaderSchedulePlan.url;return a.a.request(e)}))}function _(e){return Object(r.a)().then((function(){var t=o.a.schedulePlanGetByFirstProject.url;return a.a.request(t,e)}))}},"9d55":function(e,t,n){(e.exports=n("690e")(!1)).push([e.i,'.zjapp .scroll-warp[data-v-2b1a346c]{flex:1;overflow:auto;-webkit-overflow-scrolling:touch}.zjapp .scroll-warp-pulling[data-v-2b1a346c]{overflow:hidden}.zjapp .scroll-warp-complete[data-v-2b1a346c]:after{content:"";display:block;height:100px}.zjapp .scroll-warp-empty[data-v-2b1a346c]{display:flex;flex-direction:column}.zjapp .pull-refresh-warp[data-v-2b1a346c]{position:relative;height:0;overflow:hidden}.zjapp .pull-refresh[data-v-2b1a346c]{position:absolute;left:0;bottom:0;height:70px;width:100%;padding:6px;text-align:center}.zjapp .pull-refresh-date[data-v-2b1a346c]{margin-top:4px;height:16px;line-height:16px;font-size:12px;color:#bcbcbc}.zjapp .page-loading[data-v-2b1a346c]{padding:10px;text-align:center}.zjapp .end-text[data-v-2b1a346c]{color:#c8c8c8;background:#f4f4f4;position:relative;line-height:76px;height:76px;text-align:center}.zjapp .end-text[data-v-2b1a346c]:after,.zjapp .end-text[data-v-2b1a346c]:before{content:"";position:absolute;width:48px;height:1px;background:#e4e4e4;top:50%;margin-top:-1px}.zjapp .end-text[data-v-2b1a346c]:after{left:50%;transform:translateX(-92px)}.zjapp .end-text[data-v-2b1a346c]:before{right:50%;transform:translateX(90px)}.zjapp .end-slot[data-v-2b1a346c]{padding:30px;line-height:18px;text-align:center;color:#c8c8c8}',""])},ad46:function(e,t,n){"use strict";(function(e){n("f548"),n("e697"),n("cc57"),n("9dd9");var r,a=n("07d2"),o=n("9eea"),i=n("6f9e"),s=n("e89f"),c=[],l=[],p=[],u=!0,d=null,h=["没有标段","没有楼栋","没有单元","没有楼层"],f=["","list bg-gray6","list bg-gray5","list bg-gray4"];t.a={name:"DropDownSelectDialog",components:{Item:a.default,appSearchBar:o.default},mixins:[s.a],data:function(){return{show:!1,showList:!1,isOpening:!1,isClosing:!1,isSearching:!1,contentTop:64,listHeight:510,target:"",selectedSet:[],stage:1,layoutMap:[],keepStage:[],componentUid:"",showNote:!0,hasSearch:!1,searchTimer:null,keyword:""}},watch:{show:function(e){var t=this;e&&this.$nextTick((function(){t.showList=!0}))},showList:function(t){var n=this;t&&this.$nextTick((function(){n.$refs["list-wrap"]&&e.each(n.$refs["list-wrap"].querySelectorAll(".selected")||[],(function(e){setTimeout((function(){e.scrollIntoViewIfNeeded(!0)}),400)}))}))},keyword:function(e){var t=this;clearTimeout(this.searchTimer),this.searchTimer=setTimeout((function(){t.initSelectedSet(c,l)}),100)}},created:function(){i.a.$on("routerBeforeEach",this.closePopup),i.a.$on("pageContentClick",this.onClickOther)},destroyed:function(){i.a.$off("routerBeforeEach",this.closePopup),i.a.$off("pageContentClick",this.onClickOther)},methods:{openPopup:function(t){var n=this;if(this.show)return t.componentUid===this.componentUid?void this.closePopup():void this.closePopup().then((function(){n.openPopup(t)}));this.stage=t.stage,this.componentUid=t.componentUid||"";var a=document.querySelector(".layout-main .layout-header");this.contentTop=a.offsetHeight;var o=t.el&&t.el.$el?t.el.$el:t.el;if(o){var i=o.getBoundingClientRect();this.contentTop=i.bottom}this.target=o,this.listHeight=e.minBy([window.innerHeight-this.contentTop-50,510]),c=t.options,l=e.clone(t.selected),p=t.optionsMap||[],u=!1!==t.needFullSelecte||t.needFullSelecte,d=t.minSelectStage||this.stage,r=t.callback,this.showNote=t.showNote,this.layoutMap=[];for(var s=0;s<t.stage;s++)this.layoutMap.push({level:s,bgColor:t.hasBgColor?f[s]:"",emptyText:t.emptyText&&t.emptyText[s]?t.emptyText[s]:h[s],keep:!!e.isEmpty(t.keepStage)||!!t.keepStage[s]});this.hasSearch=!!t.hasSearch,this.initSelectedSet(t.options,t.selected),this.show=!0,this.$emit("open")},closePopup:function(){var e=this;if(!this.isOpening)return this.$refs["app-search-bar"]&&this.$refs["app-search-bar"].cancelSearch(),this.showList=!1,this.$emit("close"),new Promise((function(t){e.$on("afterClosePopup",t)}))},afterClose:function(){this.show=!1,this.keyword="",this.isClosing=!1,this.$emit("afterClosePopup")},onClickOther:function(e){e&&e.target&&e.target!==this.target&&this.show&&this.closePopup()},getLevelOptionsKey:function(e){return p&&p[e]&&p[e].key?p[e].key:"children"},initSelectedSet:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.selectedSet=[],e.each(r||[],(function(r,a){var o=t.getLevelOptionsKey(a);if(r&&!(a>t.stage-1)){if(!t.selectedSet[a]){var i;i=a?t.selectedSet[a-1].selected&&t.selectedSet[a-1].selected[o]||[]:n;var s=a||e.isEmpty(t.keyword)?i:e.filter(i,(function(e){return new RegExp(t.keyword,"gm").test(e.name)}));t.selectedSet[a]={selected:{},options:s}}var c=t.selectedSet[a].options,l=e.find(c,{id:r.id});l&&(t.selectedSet[a].selected=l)}})),e.isEmpty(this.selectedSet)&&(this.selectedSet=[{selected:{},options:n}])},showName:function(e){var t=e;return t=(t=t.replace(new RegExp("<","gm"),"&lt;")).replace(new RegExp(">","gm"),"&gt;")},highLightKeyword:function(e){if(this.keyword){var t="";return t=e.replace(new RegExp(this.keyword,"gm"),"-----hightLightTagL-----"+this.keyword+"-----hightLightTagR-----"),t=(t=(t=this.showName(t)).replace(/-----hightLightTagL-----/gm,'<span class="color-blue">')).replace(/-----hightLightTagR-----/gm,"</span>")}return this.showName(e)},getResult:function(){var t=this,n=[];return e.each(this.selectedSet,(function(r,a){var o=e.extend({},r.selected);delete o[t.getLevelOptionsKey(a+1)],e.isEmpty(o)||n.push(o)})),n},select:function(t,n){var a=this,o=this.getLevelOptionsKey(n+1),i=e.isEmpty(t[o]),s=n>=this.stage-1||n>=d-1&&i||!u&&i;this.selectedSet.splice(n+1),this.selectedSet[n].selected=t,l.splice(n),l.push(t),this.$refs["app-search-bar"]&&this.$refs["app-search-bar"].saveHistory(),s?setTimeout((function(){r&&r(a.getResult()),a.closePopup()}),100):this.selectedSet.push({selected:{},options:t[o]})},onSearchTypeChange:function(e){this.isSearching=e}}}}).call(this,n("391c"))},b225:function(e,t,n){"use strict";n("ef48")},b67c:function(e,t,n){"use strict";(function(e){n("5ab2"),n("6d57"),n("e10e");var r=n("28f8"),a=(n("e697"),n("07d2")),o=n("fa4f"),i=n("d152"),s=n("774b"),c=n("5685"),l=n("e2a7"),p=n("6bf2"),u=n.n(p),d=n("3122"),h=n("1b7e");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a={name:"ReportCheckProjectList",components:{item:a.default,Scroller:s.default,ItemList:o.a},data:function(){return{isLoading:!0,page:1,list:[],typeOptions:[],currentType:{}}},computed:{projId:function(){return this.$route.params.projId||this.$store.state.global.currentReportProject.id},isOpen:function(){return i.a.show}},activated:function(){var e=this;this.$router.isBack||(this.page=1,this.list=[],this.getTypeOptions().then((function(t){var n=e.$route.params.type||e.$route.query.type,r=e.$route.params.key||e.$route.query.key,a=n?e.typeOptions.find((function(e){return e.key===r||e.id+""==n+""})):null;e.currentType=a||e.typeOptions[0],e.getList()})))},deactivated:function(){i.a.show&&i.a.closePopup()},methods:{moment:u.a,getTypeOptions:function(){var e=this;return h.a.getHasNetwork().then((function(t){return t?c.a.getOverDueCheckConfig(e.projId).then((function(t){e.typeOptions=t.map((function(e){return{id:e.day,name:"超时".concat(e.day,"天"),num:e.count,key:e.key}}))})):(l.a.alert("当前网络无法同步数据"),Promise.reject())})).catch((function(){l.a.alert("当前网络无法同步数据")}))},getList:function(){var t=this;return 1===this.page&&(this.isLoading=!0,this.list=[]),h.a.getHasNetwork().then((function(n){if(n)return c.a.getReportCheckTimeoutList(t.projId,t.currentType.key,t.page).then((function(n){var r=n&&n.list||[];e.each(r,(function(e){e.thumbnail=d.a.getDefaultThumbnailFromList(e.image_file||[],"安全文明")})),1===t.page?t.list=r:t.list=t.list.concat(r),t.isLoading=!1})).catch((function(e){l.a.alert("加载列表失败"),console.error(e),t.list=[],t.isLoading=!1}));l.a.alert("当前网络无法同步数据")})).catch((function(){l.a.alert("当前网络无法同步数据")}))},getNext:function(){return this.page=this.page+1,this.getList()},selectProject:function(){var t=this;if(i.a.show)i.a.closePopup();else{var n=e.map(this.typeOptions,(function(e){return m(m({},e),{},{note:e.num+"个"})}));i.a.openPopup({options:n,selected:[this.currentType],stage:1,el:this.$refs["item-select-project"],callback:function(e){t.currentType=e[0],t.page=1,t.getList()}})}},problemDetail:function(e){var t=this;h.a.getHasNetwork().then((function(n){n?t.$router.push({name:"ReportCheckProjectDetail",params:{id:e.id}}):l.a.alert("当前网络无法同步数据")})).catch((function(){l.a.alert("当前网络无法同步数据")}))}}}}).call(this,n("391c"))},c59b:function(e,t,n){(e.exports=n("690e")(!1)).push([e.i,".zjapp .item-list{position:relative;padding:10px;display:flex;align-items:center;background-color:#fff;min-height:100px}.zjapp .item-list .img{display:block;width:80px;height:80px;background:no-repeat 50%;background-size:cover;background-color:#ddd}.zjapp .item-list .item-list-con{flex:1;padding:0 15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.zjapp .item-list .item-list-con .title{height:30px;line-height:24px;color:#111;font-size:16px;padding-top:6px;margin:0;padding-right:10px;margin-right:-10px;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important;font-weight:400}.zjapp .item-list .item-list-con .title .type-tag{display:inline-block;height:16px;line-height:16px;padding:0 4px;border-radius:2px;border:1px solid #4275e8;color:#4275e8;font-size:12px;zoom:.8;margin:3px 0 0 0;vertical-align:text-top}.zjapp .item-list .item-list-con .text{height:30px;line-height:24px;color:#8c8c8c;padding-bottom:6px;padding-right:11px;margin-right:-10px}.zjapp .item-list .item-list-con .text,.zjapp .item-list .item-list-con .time{font-size:14px;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important}.zjapp .item-list .item-list-con .time{height:20px;line-height:20px;color:#b3b3b3;padding-right:11px!important;margin-right:-10px!important}.zjapp .item-list .item-list-con .time .ion{color:#a6a6a6;font-size:20px;font-weight:700;margin-right:5px;vertical-align:top}.zjapp .item-list .item-list-r{width:60px;line-height:18px;text-align:center}.zjapp .item-list .item-list-status{min-width:4em;line-height:18px;text-align:center;white-space:normal;font-size:14px}.zjapp .item-list .icon-unread{display:inline-block;text-align:center;width:12px;height:12px;border-radius:6px;background-color:red}.zjapp .item-list .icon-return,.zjapp .item-list .icon-timeout,.zjapp .item-list .icon-urgent{display:inline-block;width:16px;height:16px;text-align:center;line-height:16px;font-size:12px;font-style:normal;color:#fff;border-radius:2px;-webkit-border-radius:2px;vertical-align:top;margin-top:4px;margin-right:5px}.zjapp .item-list .icon-timeout{background:#964bfe}.zjapp .item-list .icon-return{background:#fe8b00}.zjapp .item-list .icon-urgent{background:#ff3c3d}.zjapp .item-list .icon-return:last-child,.zjapp .item-list .icon-timeout:last-child,.zjapp .item-list .icon-urgent:last-child{margin-right:0}.zjapp .item-list-tip{height:70px;line-height:60px;color:#b4b4b4;text-align:center}.zjapp .status-new-tag{position:absolute;right:0;top:0;width:50px;height:50px;overflow:hidden;z-index:10}.zjapp .status-new-tag>.tag{position:absolute;right:-32px;bottom:22px;height:20px;line-height:20px;width:100px;color:#fff;font-size:12px;transform:rotate(45deg);text-align:center;border-width:1px;border-style:solid}.zjapp .time-status{font-size:10px;color:#999}",""])},c77f:function(e,t,n){"use strict";n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return b})),n.d(t,"c",(function(){return _})),n.d(t,"k",(function(){return v})),n.d(t,"o",(function(){return x})),n.d(t,"l",(function(){return y}));var r=n("5e8d"),a=n("162a"),o=n("bcc78"),i=n("da71");function s(e){return Object(r.a)().then((function(){var t=o.a.commonGetProblemClassTree.url;return a.a.request(t,e)}))}function c(e){return Object(r.a)().then((function(){var t=o.a.pileAcceptGetPileBuildingSummary.url;return a.a.request(t,e)}))}function l(e){return Object(r.a)().then((function(){var t=o.a.pileAcceptGetBidsectionBuildingTree.url;return a.a.request(t,e)}))}function p(){return Object(r.a)().then((function(){var e=o.a.pileAcceptGetPileAcceptItems.url;return a.a.request(e)}))}function u(e){return Object(r.a)().then((function(){var t=o.a.pileAcceptGetPileAcceptList.url;return a.a.request(t,e)}))}function d(e){return Object(r.a)().then((function(){var t=o.a.pileAcceptGetPileAcceptInfo.url;return a.a.request(t,e)}))}function h(e){return Object(r.a)().then((function(){var t=o.a.processAcceptBuilding.url;return a.a.request(t,e)}))}function f(e){return Object(r.a)().then((function(){var t=o.a.processAcceptCollect.url;return a.a.request(t,e)}))}function m(e){return Object(r.a)().then((function(){var t=o.a.processAcceptv3GetBuildingList.url;return a.a.request(t,e)}))}function g(e){return Object(r.a)().then((function(){var t=o.a.processAcceptv3GetProcessAcceptv3List.url;return a.a.request(t,e)}))}function b(e){return Object(r.a)().then((function(){var t=i.a.getReportOrgTree.url;return a.a.request(t,e)}))}function _(e){return Object(r.a)().then((function(){var t=i.a.getHomeReports.url;return a.a.request(t,e)}))}function v(e){return Object(r.a)().then((function(){var t=i.a.getReportPools.url;return a.a.request(t,e)}))}function x(e){return Object(r.a)().then((function(){var t=i.a.saveMyReportsSetting.url;return a.a.post(t,null,e)}))}function y(e){return Object(r.a)().then((function(){var t=o.a.getUrlReportAuth.url;return a.a.request(t,e)}))}},c882:function(e,t,n){(e.exports=n("690e")(!1)).push([e.i,".zjapp .display-flex[data-v-36f7948b]{display:-moz-flex;display:flex;-moz-align-items:center;align-items:center;-webkit-box-align:center;-moz-box-align:center;-ms-flex-align:center;-moz-justify-content:center;justify-content:center}.zjapp .flex[data-v-36f7948b]{-moz-flex:1;flex:1}.zjapp .align-item-start[data-v-36f7948b]{-moz-align-items:flex-start;align-items:flex-start;-webkit-box-align:flex-start;-moz-box-align:flex-start;-ms-flex-align:flex-start;-moz-justify-content:flex-start;justify-content:flex-start}.zjapp .align-item-center[data-v-36f7948b]{-moz-align-items:center;align-items:center;-webkit-box-align:center;-moz-box-align:center;-ms-flex-align:center;-moz-justify-content:center;justify-content:center}.zjapp .justify-content-start[data-v-36f7948b]{-webkit-box-align:flex-start;-moz-box-align:flex-start;-ms-flex-align:flex-start;-moz-justify-content:flex-start;justify-content:flex-start;-webkit-box-pack:flex-start;-moz-box-pack:flex-start;-ms-flex-pack:flex-start;align-items:flex-start}.zjapp .justify-content-center[data-v-36f7948b]{-webkit-box-align:center;-moz-box-align:center;-ms-flex-align:center;-moz-justify-content:center;justify-content:center;-webkit-box-pack:center;-moz-box-pack:center;-ms-flex-pack:center;align-items:center}.zjapp .report-date-item[data-v-36f7948b]{padding:0 6px;background-color:#fff;font-size:15px;border:1px solid #d2d2d2;border-radius:4px}.zjapp .report-date-item[data-v-36f7948b],.zjapp .report-date-split[data-v-36f7948b]{display:inline-block;vertical-align:top;height:30px;line-height:30px;color:#111}.zjapp .report-date-split[data-v-36f7948b]{margin:0 5px;font-size:12px}.zjapp .report-date-item-circle[data-v-36f7948b]{line-height:26px;padding:0 8px;background-color:#fff;font-size:14px;border:1px solid #d7e0f7;border-radius:14px}.zjapp .report-date-item-circle[data-v-36f7948b],.zjapp .report-date-split-circle[data-v-36f7948b]{display:inline-block;vertical-align:top;margin-top:3px;height:28px;color:#666}.zjapp .report-date-split-circle[data-v-36f7948b]{line-height:28px;font-size:12px}.zjapp .report-check-ytg[data-v-36f7948b]{background-color:#34dba6}.zjapp .report-check-dfy[data-v-36f7948b]{background-color:#29b992}.zjapp .report-check-dzg[data-v-36f7948b]{background-color:#ff8459}.zjapp .report-check-fzcgb[data-v-36f7948b]{background-color:#d9d9d9}.zjapp .report-check-title[data-v-36f7948b]{position:relative;margin-left:15px;line-height:50px;font-size:16px;color:#111}.zjapp .report-check-title .con-right[data-v-36f7948b]{position:absolute;top:0;right:15px;line-height:50px;font-size:16px;color:#999}.zjapp .report-check-data[data-v-36f7948b]{padding:15px 50px 0 15px}.zjapp .report-check-total[data-v-36f7948b]{padding:21px 0;width:105px;padding-right:15px;text-align:center;color:#000}.zjapp .report-check-total .num[data-v-36f7948b]{font-size:30px;line-height:28px}.zjapp .report-check-total .label[data-v-36f7948b]{font-size:12px}.zjapp .report-check-dis[data-v-36f7948b]{position:relative}.zjapp .report-check-dis .passport[data-v-36f7948b]{position:absolute;top:-25px;color:#111;width:100px;text-align:center;margin-left:-50px}.zjapp .report-check-dis .passport .arrowline[data-v-36f7948b]{position:absolute;top:20px;left:50%;width:2px;height:20px;margin-left:-1px;background-color:#29b992;border-radius:1px}.zjapp .report-check-dis .dis[data-v-36f7948b]{height:10px;overflow:hidden;border-radius:5px}.zjapp .report-check-dis .dis-item[data-v-36f7948b]{float:left;height:10px}.zjapp .report-check-dis .dis-empty[data-v-36f7948b]{height:10px;border:1px solid #d9d9d9;border-radius:5px}.zjapp .report-check-detail[data-v-36f7948b]{padding:0 15px 25px 15px;-moz-align-items:flex-start;align-items:flex-start;-webkit-box-align:flex-start;-moz-box-align:flex-start;-ms-flex-align:flex-start;-moz-justify-content:flex-start;justify-content:flex-start}.zjapp .report-check-detail .flex[data-v-36f7948b]:last-child{-moz-flex:1.2;flex:1.2}.zjapp .report-check-detail .num[data-v-36f7948b]{color:#111;font-size:18px;line-height:22px}.zjapp .report-check-detail .underline[data-v-36f7948b]{margin:0 auto;width:10px;height:3px;border-radius:1.5px}.zjapp .report-check-detail .label[data-v-36f7948b]{color:#666;font-size:12px;line-height:18px;padding:2px 0}.zjapp .report-check-ft[data-v-36f7948b]{padding:13px 15px 13px 0;line-height:24px;margin-left:15px;font-size:14px}.zjapp .report-check-ft .data-label[data-v-36f7948b]{width:80px;color:#8c8c8c}.zjapp .report-check-ft .data-con[data-v-36f7948b]{color:#111}.zjapp .report-project-check-option[data-v-36f7948b]{padding:10px 15px}.zjapp .item-select-project>*[data-v-36f7948b]{pointer-events:none}",""])},cc4c:function(e,t,n){(e.exports=n("690e")(!1)).push([e.i,".zjapp .content[data-v-1fa2658d]{position:fixed;width:100%;bottom:0;background-color:rgba(0,0,0,.4);overflow:hidden}.zjapp .box[data-v-1fa2658d]{flex-direction:column}.zjapp .box[data-v-1fa2658d],.zjapp .list-wrap[data-v-1fa2658d]{display:flex;background-color:#fff}.zjapp .list-wrap[data-v-1fa2658d]{flex-direction:row;align-items:flex-start;flex:1;overflow:hidden}.zjapp .list[data-v-1fa2658d]{padding:0 10px}.zjapp .list[data-v-1fa2658d],.zjapp .list-single[data-v-1fa2658d]{flex:1;overflow:auto;height:100%;scroll-behavior:smooth}.zjapp .item-dropdown[data-v-1fa2658d]{padding:6px 0;background-color:transparent}.zjapp .item-dropdown[data-v-1fa2658d] .item-text{font-size:14px}.zjapp .item-dropdown.selected[data-v-1fa2658d]{color:#4275e8;padding-bottom:5px;border-bottom:1px solid #4275e8}.zjapp .item-dropdown.selected[data-v-1fa2658d] .item-text{color:#4275e8}.zjapp .empty-tips[data-v-1fa2658d]{padding:13px 0;line-height:20px;color:#b2b2b2;font-size:14px}.zjapp .select-note[data-v-1fa2658d]{line-height:16px;font-size:12px;color:#8c8c8c}[data-v-1fa2658d] .icon-qualified{width:30px;height:30px;line-height:30px;text-align:center;color:#4275e8}",""])},d152:function(e,t,n){"use strict";var r=n("329b"),a=n("ad46").a,o=(n("fc72"),n("17cc")),i=Object(o.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{staticClass:"content",style:{top:e.contentTop+"px"},on:{click:function(t){return t.target!==t.currentTarget?null:e.closePopup(t)}}},[n("transition",{attrs:{name:"slide-down"},on:{enter:function(t){e.isOpening=!0},"after-enter":function(t){e.isOpening=!1},leave:function(t){e.isClosing=!0},"after-leave":e.afterClose}},[e.showList?n("div",{staticClass:"box",style:{height:e.listHeight+"px"}},[e.hasSearch?n("app-search-bar",{ref:"app-search-bar",attrs:{placeholder:"输入项目名称搜索","simple-mode":"","history-key":"drop-down-search-history-key"},on:{changeSearchStatus:e.onSearchTypeChange},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}):e._e(),!e.isSearching||e.keyword&&e.selectedSet[0]&&e.selectedSet[0].options.length?n("div",{ref:"list-wrap",staticClass:"list-wrap"},[1===e.stage?e._l(e.layoutMap,(function(t,r){var a;return n("div",{key:"map"+r,staticClass:"list-single",class:(a={},a[t.bgColor]=!0,a),style:{height:e.listHeight-(e.hasSearch?44:0)+"px"}},e._l(e.selectedSet[t.level]&&e.selectedSet[t.level].options||[],(function(a,o){return n("item",{key:o,class:{selected:e.selectedSet[t.level].selected&&e.selectedSet[t.level].selected.id===a.id},attrs:{border:"bottom"},on:{click:function(n){e.select(a,t.level)}}},[n("div",{staticClass:"item-text",class:{"color-theme":a.note&&e.selectedSet[t.level].selected&&e.selectedSet[t.level].selected.id===a.id},domProps:{innerHTML:e._s(r?e.showName(a.nameShow||a.name):e.highLightKeyword(a.nameShow||a.name))}}),!a.note&&e.selectedSet[t.level].selected&&e.selectedSet[t.level].selected.id===a.id?n("icon",{attrs:{name:"qualified"}}):e._e(),a.note?n("div",{staticClass:"item-font color-gray2 f14"},[e._v(e._s(a.note))]):e._e()],1)})))})):[e._l(e.layoutMap,(function(t,r){var a;return[t.keep||e.selectedSet[t.level]&&e.selectedSet[t.level].options&&e.selectedSet[t.level].options.length?n("div",{key:"map"+r,staticClass:"list",class:(a={},a[t.bgColor]=!0,a),style:{height:e.listHeight-(e.hasSearch?44:0)+"px"}},[e._l(e.selectedSet[t.level]&&e.selectedSet[t.level].options||[],(function(a,o){return n("item",{key:o,staticClass:"item-dropdown",class:{selected:e.selectedSet[t.level].selected&&e.selectedSet[t.level].selected.id===a.id},on:{click:function(n){e.select(a,t.level)}}},[n("div",{staticClass:"item-text"},[n("p",{domProps:{innerHTML:e._s(r?e.showName(a.nameShow||a.name):e.highLightKeyword(a.nameShow||a.name))}}),n("p",{staticClass:"select-note"},[e._v(e._s(a.note))])])])})),e.selectedSet[t.level]&&e.selectedSet[t.level].options&&e.selectedSet[t.level].options.length?e._e():n("div",{staticClass:"empty-tips"},[e._v("\n                "+e._s(e.selectedSet[t.level-1]&&e.selectedSet[t.level-1].selected&&e.selectedSet[t.level-1].selected.id?t.emptyText:"请选择")+"\n              ")])],2):e._e()]}))]],2):e._e(),!e.isSearching||!e.keyword||e.selectedSet[0]&&e.selectedSet[0].options.length?e._e():n("loading-status",{attrs:{"is-empty":!0,type:"search","empty-text":"未搜索到相关内容"}})],1):e._e()])],1):e._e()}),[],!1,null,"1fa2658d",null).exports,s=!1;s||(s=new(r.default.extend(i))({el:document.createElement("div")}),document.body.appendChild(s.$el));t.a=s},d18d:function(e,t,n){"use strict";(function(e){n("2b45");var r,a=n("4360"),o=n("48f4"),i=n("162a"),s=n("e2a7"),c=n("a500"),l=n("6f9e"),p={};t.a={name:"Scroller",props:{buildingId:{type:String,default:""},hasNext:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},isSync:{type:Boolean,default:!0},endText:{type:String,default:""},memoryScrollTop:{type:Boolean,default:!0},keepScrollTop:{type:Boolean},hasPullDown:{type:Boolean,default:!0},onPullDown:{type:Function}},data:function(){return{pullDist:0,refreshing:!1,pulling:!1,loading:!1,scrollTop:0,isCurrKeyboard:!1,gapBottom:0}},computed:{allowPullDown:function(){return this.hasPullDown&&(!!this.$listeners.pullDown||!!this.onPullDown)},updateTime:function(){return a.a.state.global.businessDownloadTime},numberKeyboardCoverHeight:function(){return a.a.state.global.isNumberInputOpen?a.a.state.global.numberKeyboardHeight-this.gapBottom:0}},mounted:function(){var e=this;l.a.$on("numberKeyboardOpen",this.onNumberKeyboardOpen),this.$nextTick((function(){var t=e.$refs["scroll-warp"]&&e.$refs["scroll-warp"].getBoundingClientRect&&e.$refs["scroll-warp"].getBoundingClientRect();t&&(e.gapBottom=document.documentElement.clientHeight-t.bottom),e.$el&&e.$el.addEventListener("focus",(function(t){var n=t&&t.target,r=n&&n.tagName&&n.tagName.toLowerCase();if("input"===r||"textarea"===r){window.addEventListener("resize",(function t(){var r=n.getBoundingClientRect(),a=e.$el.getBoundingClientRect(),o=r.bottom-a.bottom;o>0&&e.scrollBy(o),window.removeEventListener("resize",t,!1)}),!1)}}),!0)}))},destroyed:function(){l.a.$off("numberKeyboardOpen",this.onNumberKeyboardOpen)},activated:function(){var e=this.keepScrollTop||this.$router.isBack&&this.memoryScrollTop;this.scrollTop&&e&&(this.$refs["scroll-warp"].scrollTop=this.scrollTop)},deactivated:function(){this.memoryScrollTop&&(this.scrollTop=this.$refs["scroll-warp"].scrollTop)},methods:{onScroll:function(e){var t=this,n=this.$refs["scroll-warp"].scrollTop,r=this.$refs["scroll-warp"].scrollHeight;if(n+this.$refs["scroll-warp"].clientHeight>=r-5&&!this.loading&&this.hasNext){this.loading=!0;var a=this.$listeners.loadNext();a&&a.then&&"function"==typeof a.then?a.then((function(){t.loading=!1})):this.loading=!1}this.$emit("scroll",e)},getTouchDiretion:function(e){if(!(p&&e&&e.touches&&e.touches[0]))return"";var t=e.touches[0].clientX,n=e.touches[0].clientY;return Math.abs(n-p.y)>Math.abs(t-p.x)&&Math.abs(n-p.y)>=3?n>p.y?"down":"up":""},onTouchstart:function(e){this.allowPullDown&&e.touches&&1===e.touches.length&&(p={x:e.touches[0].clientX,y:e.touches[0].clientY,scrollTop:this.$refs["scroll-warp"].scrollTop,pullDist:this.pullDist})},onTouchmove:function(e){if(this.allowPullDown&&e.touches&&1===e.touches.length){var t=this.$refs["scroll-warp"].scrollTop,n=e.touches[0].clientY,r=n-p.y,a=this.getTouchDiretion(e);"down"===a?!this.refreshing&&t<=0?(this.pulling=!0,this.pullDist=(r-p.scrollTop)/2,e.preventDefault()):this.pulling=!1:"up"===a?this.pullDist>0&&(this.pullDist=p.pullDist-(p.y-n),e.preventDefault()):this.pullDist=p.pullDist}},onTouchend:function(){var e=this;this.allowPullDown&&(p={},this.pulling=!1,this.pullDist>=70&&this.isSync?this.refreshing?this.makePullTo(70):this.makePullTo(70).then((function(){if(e.refreshing=!0,e.onPullDown){var t=e.onPullDown();t&&t.then&&"function"==typeof t?t.finally((function(){e.refreshing=!1,e.makePullTo(0)})):(e.refreshing=!1,e.makePullTo(0))}else e.dataSync().then((function(){e.refreshing=!1,e.makePullTo(0),e.$emit("pullDown")})).catch((function(){e.refreshing=!1,e.makePullTo(0),e.$emit("pullDown")}))})):(this.refreshing=!1,this.makePullTo(0)))},makePullTo:function(e){var t=this,n=this.pullDist,r=e,a=r-n,o=n;return n===r?Promise.resolve():new Promise((function(e){!function i(){window.requestAnimationFrame((function(){o+=a/6,t.pullDist=o,n<r&&o<r||n>r&&o>r?i():(t.pullDist=r,t.refreshing=!1,e())}))}()}))},dataSync:function(){var e,t=o.default.getCurrentModuleCode(),n=o.default.getCurrentRoute(),r=n.meta&&n.meta.isTodo;if(o.default.isModuleNeedBuilding(t)&&!r){if(!this.buildingId)return new Promise((function(e){setTimeout((function(){e()}),500)}));e=this.buildingId}return c.a.addTrack("公共-手动下拉刷新","",""),i.a.beginManualUpdate(),o.default.checkSync(e).then((function(e){return i.a.endManualUpdate(),e})).catch((function(e){$log.error("下拉刷新错误",e),e&&"Error: Network Error"===e.toString()?s.a.alert("当前网络无法同步数据"):s.a.alert(e),i.a.endManualUpdate()}))},getScrollHeight:function(){return this.$refs["scroll-warp"].offsetHeight},getScrollTop:function(){return this.$refs["scroll-warp"].scrollTop},setScrollTop:function(e){this.$refs["scroll-warp"].scrollTop=e},scrollBy:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a=this.getScrollTop(),o=a+e,i=Math.round(n/16.7),s=e/i,c=a,l=r=+new Date;return a===o?Promise.resolve():new Promise((function(e){!function n(){window.requestAnimationFrame((function(){l===r&&(c+=s,t.$refs["scroll-warp"].scrollTop=c,a<o&&c<o||a>o&&c>o?n():(t.$refs["scroll-warp"].scrollTop=o,e()))}))}()}))},scrollTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=this.getScrollTop(),r=e-n;return this.scrollBy(r,t)},scrollToEle:function(e){var t=e.keyboardHeight||232,n=(e=e.$el?e.$el:e).getBoundingClientRect(),r=this.$refs["scroll-warp"].getBoundingClientRect();if(n&&r){var o=document.documentElement.clientHeight-(a.a.state.global.isNumberInputOpen?t:0),i=r.bottom<o?r.bottom:o,s=r.top-n.top,c=n.bottom-i;s>0?this.scrollBy(-s-10):c>0&&this.scrollBy(c+10)}},isCurrent:function(t,n){var r=this;t.length&&e.each(t,(function(e){e._uid===n?r.isCurrKeyboard=!0:r.isCurrent(e.$children,n)}))},onNumberKeyboardOpen:function(e){this.isCurrKeyboard=!1,this.isCurrent(this.$children,e._uid),this.isCurrKeyboard&&this.scrollToEle(e)}}}}).call(this,n("391c"))},dd16:function(e,t,n){"use strict";(function(e){t.a={name:"StatusText",props:{status:{type:String},text:{type:String},extend:{type:Object,default:function(){return{}}},statusStyles:{type:Object,default:function(){return{}}}},data:function(){return{classSet:e.extend({"草稿":"color-gray","暂存":"color-gray","检查中":"color-orange","待整改":"color-red","待复验":"color-orange","待验收":"color-red","待报验":"color-red","待申请进场":"color-red","待初验":"color-red","待送检":"color-red","待上传报告":"color-red","待退场":"color-red","待建设单位验收":"color-red","待区域验收":"color-red","供应链退回":"color-red","预创建":"color-status-blue","已提交":"color-green","已整改":"color-green","已验收":"color-green","已通过":"color-green","已退场":"color-gray","已关闭":"color-gray","非正常关闭":"color-gray","已退回":"color-red","已完成":"color-green","已甩项":"color-gray","检查完毕":"color-green","送检合格":"color-green","复验合格":"color-green","验收合格":"color-green","验收不合格":"color-red","未验收":"color-orange","待点评":"color-orange","已点评":"color-green","合格":"color-green","不合格":"color-red","待审核":"color-orange","已发布":"color-green","已拒绝":"color-red","进度正常":"color-green","进度滞后":"color-red","正常":"color-green","滞后":"color-red","施工单位验收合格":"color-green","监理单位验收合格":"color-green","建设单位验收合格":"color-green","施工单位验收不合格":"color-red","监理单位验收不合格":"color-red","建设单位验收不合格":"color-red"},this.extend)}},mounted:function(){}}}).call(this,n("391c"))},e89f:function(e,t,n){"use strict";var r=n("04f3"),a=n("cf09"),o=n("4360"),i=0;t.a={name:"PopupMixin",data:function(){return{backButtonEvent:null}},watch:{show:function(e){var t=this;if(e){if(this.$nextTick((function(){t.$el&&t.$el.style&&(t.$el.style.zIndex=++a.a.zIndex,i++,o.a.commit("app/SET_HAS_POPUP",!!i))})),!this.backButtonEvent){var n=this.close||this.closePopup;this.backButtonEvent=Object(r.a)(n)}}else--i<0&&(i=0),o.a.commit("app/SET_HAS_POPUP",!!i),this.backButtonEvent&&(Object(r.c)(this.backButtonEvent),this.backButtonEvent=null)}},methods:{}}},ef48:function(e,t,n){var r=n("9d55");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("85cb").default)("a1a65c0c",r,!0,{sourceMap:!1,shadowMode:!1})},fa4f:function(e,t,n){"use strict";var r=n("4aef"),a=n("967a"),o={name:"ItemList",components:{StatusText:r.a},props:{img:{type:String,default:""},title:{type:String,default:""},detail:{type:String,default:""},footer:{type:String,default:""},status:{type:String,default:""},isShowNewStatus:{type:Boolean,default:!1},statusText:{type:String,default:""},statusClassSet:{type:Object,default:function(){return{}}},typeTag:{type:String,default:""},isUnread:{type:Boolean,default:!1},isTimeout:{type:Boolean,default:!1},isUrgent:{type:Boolean,default:!1},isReturn:{type:Boolean,default:!1},repairDeadline:{type:String,default:null}},data:function(){return{repairDeadlineStatus:a.a.REPAIR_DEADLINE_STATUS.status}},computed:{bgNewClass:function(){return{"草稿":"bg-gray7 b-color","暂存":"bg-gray b-color","检查中":"bg-orange b-color","待整改":"bg-red2 b-color ","待复验":"bg-purple b-color","待验收":"bg-red b-color","待报验":"bg-red b-color","待申请进场":"bg-red b-color","待初验":"bg-red b-color","待送检":"bg-red b-color","待上传报告":"bg-red b-color","待退场":"bg-red b-color","待建设单位验收":"bg-red b-color","待区域验收":"bg-red b-color","已提交":"bg-green b-color","已整改":"bg-green b-color","已验收":"bg-green b-color","已通过":"bg-green2 b-color","已退场":"bg-gray b-color","已关闭":"bg-gray7 b-color","非正常关闭":"bg-gray b-color","已退回":"bg-red b-color","已完成":"bg-green b-color","已甩项":"bg-gray b-color","检查完毕":"bg-green b-color","送检合格":"bg-green b-color","复验合格":"bg-green b-color","验收合格":"bg-green b-color","验收不合格":"bg-red b-color","未验收":"bg-orange b-color","待点评":"bg-orange b-color","已点评":"bg-green b-color","合格":"bg-green b-color","不合格":"bg-red b-color","进度正常":"bg-green2 b-color","进度滞后":"bg-red2 b-color","施工单位验收合格":"bg-green b-color","监理单位验收合格":"bg-green b-color","建设单位验收合格":"bg-green b-color","施工单位验收不合格":"bg-red b-color","监理单位验收不合格":"bg-red b-color","建设单位验收不合格":"bg-red b-color"}}},activated:function(){}},i=(n("19a9"),n("17cc")),s=Object(i.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._g({staticClass:"item-list border-bottom"},e.$listeners),[e.isShowNewStatus?n("div",{staticClass:"status-new-tag"},[n("div",{staticClass:"tag",class:e.bgNewClass[e.status]},[e._v("\n      "+e._s(e.status)+"\n    ")])]):e._e(),e.img?n("div",{staticClass:"img",style:{"background-image":"url("+e.img+")"}}):e._e(),n("div",{staticClass:"item-list-con"},[n("h2",{staticClass:"title"},[e.isUnread?n("i",{staticClass:"icon-unread"}):e._e(),e.isTimeout?n("i",{staticClass:"icon-timeout"},[e._v("\n        超\n      ")]):e._e(),e.isUrgent?n("i",{staticClass:"icon-urgent"},[e._v("\n        急\n      ")]):e._e(),e.isReturn?n("i",{staticClass:"icon-return"},[e._v("\n        退\n      ")]):e._e(),e.$slots.title?e._t("title"):[e.typeTag?n("span",{staticClass:"type-tag"},[e._v(e._s(e.typeTag))]):e._e(),e._v("\n        "+e._s(e.title||"")+"\n      ")]],2),n("p",{staticClass:"text"},[e._v(e._s(e.detail||""))]),e.$slots.footer?e._t("footer"):n("p",{staticClass:"time",domProps:{innerHTML:e._s(e.footer||"")}})],2),e.status&&!e.isShowNewStatus?n("div",{staticClass:"item-list-status"},[n("status-text",{attrs:{status:e.status,text:e.statusText,extend:e.statusClassSet}}),e.repairDeadline&&e.repairDeadlineStatus.includes(e.status)?n("p",{staticClass:"time-status"},[e._v("\n      "+e._s(e._f("timeStatus")(e.repairDeadline))+"\n    ")]):e._e()],1):e._e()])}),[],!1,null,null,null);t.a=s.exports},fc72:function(e,t,n){"use strict";n("47df")}}]);