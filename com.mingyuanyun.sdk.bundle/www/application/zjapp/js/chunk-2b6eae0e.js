(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-2b6eae0e"],{2385:function(t,e){t.exports="data:image/png;base64,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"},4466:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"c",(function(){return c})),r.d(e,"d",(function(){return l})),r.d(e,"e",(function(){return u}));var s=r("5e8d"),n=r("162a"),i=r("da71");function o(t){return Object(s.a)().then((function(){var e=i.a.getAppMessageClassify.url;return n.a.request(e,t)}))}function a(t){return Object(s.a)().then((function(){var e=i.a.getAppMessageList.url;return n.a.request(e,t)}))}function c(t){return Object(s.a)().then((function(){var e=i.a.getAppMessageListWithAI.url;return n.a.request(e,t)}))}function l(t){return Object(s.a)().then((function(){var e=i.a.getAppMessageSubscribedProjects.url;return n.a.request(e,t)}))}function u(t){return Object(s.a)().then((function(){var e=i.a.setAppMessageSubscribedProject.url;return n.a.post(e,null,t)}))}},"77de":function(t,e,r){(t.exports=r("690e")(!1)).push([t.i,'.zjapp .inversion-scroll-wrap[data-v-143d6f2d]{flex:1;overflow:hidden;overflow-y:scroll}.zjapp .inversion-scroll-wrap.not-empty[data-v-143d6f2d]:after{display:block;width:100%;height:56px;content:""}.zjapp .inversion-scroll-wrap .tips[data-v-143d6f2d]{padding-top:10px;text-align:center;font-size:14px;color:#999}',""])},"7c7f":function(t,e,r){var s=r("77de");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,r("85cb").default)("e6687be4",s,!0,{sourceMap:!1,shadowMode:!1})},"95de":function(t,e){t.exports="data:image/png;base64,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"},"9f4f9":function(t,e,r){"use strict";r("7c7f")},c344:function(t,e,r){"use strict";r.r(e);r("5ab2");var s=r("4c09"),n=r("28f8"),i=(r("e10e"),r("6d57"),r("cc57"),r("74cb"),r("190e")),o=null,a={components:Object(n.a)({},i.a.name,i.a),props:{hasNext:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1}},data:function(){return{loadNextTrigger:5,loading:!1}},methods:{scrollTo:function(t){this.$refs["inversion-scroll-wrap"].scrollTop=t},jumpToBottom:function(){var t=this;this.$nextTick((function(){var e=t.$refs["inversion-scroll-wrap"];e.scrollTop=e.scrollHeight}))},onScroll:function(t){var e=this,r=this.$refs["inversion-scroll-wrap"],s=r.scrollTop,n=r.scrollHeight;r.clientHeight;if(s<this.loadNextTrigger&&!this.loading){if(this.hasNext){this.loading=!0;var i=this.$listeners.loadNext;if(i){var o=i();o&&o.then&&"function"==typeof o.then?o.then((function(){e.loading=!1,e.$nextTick((function(){e.scrollTo(e.$refs["inversion-scroll-wrap"].scrollHeight-n)}))})):this.loading=!1}}this.$emit("scrollTopEnd")}this.$emit("scroll",t)},getTouchDiretion:function(t){if(!(o&&t&&t.touches&&t.touches[0]))return"";var e=t.touches[0].clientX,r=t.touches[0].clientY;return Math.abs(r-o.y)>Math.abs(e-o.x)&&Math.abs(r-o.y)>=3?r>o.y?"down":"up":""},onTouchstart:function(t){t.touches&&1===t.touches.length&&(o={x:t.touches[0].clientX,y:t.touches[0].clientY,scrollTop:this.$refs["inversion-scroll-wrap"].scrollTop,pullDist:this.pullDist})},onTouchmove:function(t){"down"===this.getTouchDiretion(t)&&this.onScroll()}}},c=(r("9f4f9"),r("17cc")),l=Object(c.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"inversion-scroll-wrap",staticClass:"inversion-scroll-wrap",class:{"not-empty":!this.isEmpty},on:{scroll:this.onScroll,touchstart:this.onTouchstart,touchmove:this.onTouchmove}},[this.loading?e("div",{staticClass:"tips"},[e("van-loading",{attrs:{color:"#55ABFF"}})],1):this._e(),this._t("default")],2)}),[],!1,null,"143d6f2d",null).exports,u=r("e2a7"),A=r("6144"),h=r("bc69"),p=r("391c"),f=r("eaf7c"),d=r("4466");function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var y={components:{Scroller:l,MessageList:function(){return r.e("chunk-0955363d").then(r.bind(null,"828c"))}},data:function(){return{isLoading:!1,currentPage:1,hasNext:!1,errorTips:null,classifyId:"",classifyName:"消息",classifyType:"",items:[]}},activated:function(){var t=this.$route.query,e=t.classifyId,r=t.classifyName,s=t.classifyType;this.classifyId=e,this.classifyName=r,this.classifyType=s,this.init()},methods:{init:function(){var t=this;return this.items=[],this.getList().then((function(e){t.items=e;var r=A.a.getUserObject(h.a.APPLY_DAILY_CLASSIFY_LATEST_RECORD_DATETIME)||{},s=Object(p.get)(Object(p.last)(e),"created_on",null);r[t.classifyId]=s,A.a.saveUserObject(h.a.APPLY_DAILY_CLASSIFY_LATEST_RECORD_DATETIME,r),t.$refs.pageScroller.jumpToBottom()}))},onClickEntryDailySetting:function(){this.$router.push({name:"AppMessageDailySettings",query:{classifyId:this.classifyId}})},getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.currentPage=e,this.isLoading=!0,this.getMessageListWithType(this.classifyType,{cate_id:this.classifyId,page:e,page_size:10}).then((function(e){var r=e.items;t.hasNext=e.page<e.total_pages;var s=r.map((function(t,e){var r={};try{r=JSON.parse(t.body)}catch(e){r=t.body,console.log("消息体转换错误：",e,t,t.body)}var s=[];return"string"==typeof r?s.push({title:"",desc:r}):Object.keys(r).forEach((function(t){s.push({title:t,desc:r[t]})})),b(b({},t),{},{body:s})}));return Object(p.reverse)(s),t.isLoading=!1,s})).catch((function(e){u.a.alert(e.errmsg||e),t.isLoading=!1}))},onScrollTopEndHandler:function(){!this.hasNext&&this.items.length>0&&u.a.alert("已无历史消息")},onLoadMoreItems:function(){var t=this;return this.getList(++this.currentPage).then((function(e){t.items=[].concat(Object(s.a)(e),Object(s.a)(t.items))}))},getMessageListWithType:function(t,e){var r,s=(r={},Object(n.a)(r,f.b,d.b),Object(n.a)(r,f.a,d.c),r);return s[t]?s[t](e):Promise.reject("消息类型错误")}}},v=Object(c.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("page-content",{attrs:{title:t.classifyName,"show-go-back":!0}},["daily-report"===t.classifyType?r("div",{staticClass:"header-btn",attrs:{slot:"header-bar-right"},on:{click:t.onClickEntryDailySetting},slot:"header-bar-right"},[r("icon",{attrs:{name:"setting"}})],1):t._e(),r("scroller",{ref:"pageScroller",attrs:{"is-empty":0===t.items.length,"has-next":t.hasNext},on:{scrollTopEnd:t.onScrollTopEndHandler,loadNext:t.onLoadMoreItems}},[r("message-list",{attrs:{list:t.items}}),r("loading-status",{attrs:{"is-loading":t.isLoading,"is-empty":!t.items.length,type:t.errorTips?"error":"todo","empty-text":t.errorTips||"暂无消息"}})],1)],1)}),[],!1,null,null,null);e.default=v.exports},eaf7c:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return o})),r.d(e,"c",(function(){return a}));var s,n=r("28f8"),i="daily-report",o="ai-remind",a=(s={},Object(n.a)(s,i,r("2385")),Object(n.a)(s,o,r("95de")),s)}}]);