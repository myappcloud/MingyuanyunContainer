(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-2e7c0118"],{4277:function(t,e,a){"use strict";a("5ab2"),a("e10e");var n=a("4c09"),o=(a("06a2"),a("28f8")),c=(a("163d"),a("6d57"),a("fc9f")),i=function(t){var e="select * from batch where id = '".concat(t,"'");return c.a.queryOne(e)},r=function(t){var e="select sipc.*,\n      si.checkitem_id, si.checkitem_parent_id, si.score \n      from special_inspect_place_checkitem sipc\n      join special_inspect si on si.id = sipc.special_inspect_id\n      where (sipc.status = '合格' or sipc.status = '不合格') and sipc.batch_id = '".concat(t,"'\n      order by si.checkitem_code");return c.a.query(e)},s=function(t){var e="select * from special_inspect \n      where batch_id = '".concat(t,"'\n      order by checkitem_code");return c.a.query(e)},u=a("7cb8");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){Object(o.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function f(t){return isNaN(t)?t:Math.round(100*t)/100}e.a={getPassrateMode:function(t){return i(t).then((function(t){var e;try{e=JSON.parse(t.template_extension).mode11_passrate_mode||1}catch(t){e=1}return e}))},getMode1TotalData:function(t){return r(t).then((function(t){if(!t&&!t.length)return[];var e={};t.forEach((function(t){e[t.special_inspect_id]||(e[t.special_inspect_id]={total:0,score:t.score,deduction:0,qualified:0}),e[t.special_inspect_id].total+=1,e[t.special_inspect_id].deduction+=Number(t.deduction)||0,"合格"===t.status&&(e[t.special_inspect_id].qualified+=1)}));var a=[];for(var n in e)a.push(d(d({},e[n]),{},{id:n}));return a}))},getMode2TotalData:function(t){var e=this;return Promise.all([s(t),r(t)]).then((function(t){var a=t[0],o=t[1],c={};(a||[]).forEach((function(t){try{var e=JSON.parse(t.checkitem_extension);t.isDeductionItem=!!e.is_deduction_item}catch(e){t.isDeductionItem=!1}c[t.checkitem_id]=t})),(o||[]).forEach((function(t){c[t.checkitem_id]&&(c[t.checkitem_id].problems||(c[t.checkitem_id].problems=[]),c[t.checkitem_id].problems.push(t))}));var i=Object(u.c)(a,{key:"checkitem_id",relationKey:"checkitem_parent_id"});return(i||[]).forEach((function(t){var a=e.getItemAllProblems(t,(function(t){return!t.isDeductionItem})),o=a.filter((function(t){return"合格"===t.status})),c=a.filter((function(t){return"不合格"===t.status})).reduce((function(t,e){return t+(e.deduction||0)}),0),i=e.getItemAllProblems(t,(function(t){return t.isDeductionItem})),r=i.reduce((function(t,e){return t+(e.deduction||0)}),0);t.allProblems=[].concat(Object(n.a)(a),Object(n.a)(i)),a&&a.length?(t.rejection=!1,t.passrate=o.length/a.length,t.deductionTotal=f(c),t.ducuctionItemTotal=f(r),t.result=t.score*t.passrate-t.deductionTotal-t.ducuctionItemTotal):t.rejection=!0})),i}))},getItemAllProblems:function(t,e){var a=this,n=[];return t.children&&t.children.length?t.children.forEach((function(t){n=n.concat(a.getItemAllProblems(t,e))})):e?e(t)&&(n=t.problems||[]):n=t.problems||[],n}}},"682f":function(t,e,a){"use strict";a("b2bb")},"9b61":function(t,e,a){"use strict";a.r(e);a("6d57");var n=a("07d2"),o=a("4277"),c=a("e2a7");var i={name:"IndexFooter",components:{Item:n.a},props:{batchId:{type:String}},data:function(){return{isLoading:!1,passrateMode:1,scoreRate:"",totalData:[]}},watch:{batchId:{handler:function(t){t?this.getTotalData():(this.scoreRate="",this.totalData=[])},immediate:!0}},created:function(){this.$on("reload",this.getTotalData)},activated:function(){this.getTotalData()},methods:{getTotalData:function(){var t=this,e=this.batchId;return o.a.getPassrateMode(e).then((function(a){return t.passrateMode=a,2===a?t.getMode2TotalData(e):t.getMode1TotalData(e)}))},getMode1TotalData:function(t){var e=this;return o.a.getMode1TotalData(t).then((function(a){if(t===e.batchId){e.totalData=a;var n=0,o=0;(a||[]).forEach((function(t){var e=t.qualified/t.total;n+=e*t.score-t.deduction,o+=t.score})),e.scoreRate=o?Math.round(n/o*1e4)/100+"%":""}}))},getMode2TotalData:function(t){var e=this;return o.a.getMode2TotalData(t).then((function(a){if(t===e.batchId){e.totalData=a;var n=(a||[]).filter((function(t){return!t.rejection})),o=0,c=0,i=a.some((function(t){return t.allProblems&&t.allProblems.length}));n.forEach((function(t){o+=t.result,c+=t.score})),e.scoreRate=c?Math.round(o/c*1e4)/100+"%":i?"0.00%":""}}))},formulaTips:function(){2===this.passrateMode?this.formulaTipsMode2():this.formulaTipsMode1()},formulaTipsMode1:function(){var t="当前综合得分=∑（已检项的合格率*满分值-倒扣分）/∑（已检项的满分值）";if(this.totalData&&this.totalData.length){var e=[],a=[];this.totalData.forEach((function(t){var n,o=Math.round(t.qualified/t.total*1e4)/100+"%";e.push("(".concat(o,"*").concat(t.score,"-").concat((n=t.deduction,isNaN(n)?n:Math.round(1e5*n)/1e5),")")),a.push(t.score)})),t+="=(".concat(e.join("+"),")/(").concat(a.join("+"),")=").concat(this.scoreRate)}c.a.notify(t,{buttonName:"知道了",className:"broad-dialog"})},formulaTipsMode2:function(){var t="综合扣分=Σ（已检查一级项合格率*已检一级项满分值-Σ已检一级项内末级项倒扣分-Σ已检一级项内带星末级项倒扣分）/Σ（已检查一级项满分）",e=(this.totalData||[]).filter((function(t){return!t.rejection}));if(e&&e.length){var a=[],n=[];e.forEach((function(t){var e=Math.round(1e4*t.passrate)/100+"%";a.push("(".concat(e,"*").concat(t.score,"-").concat(t.deductionTotal,"-").concat(t.ducuctionItemTotal,")")),n.push(t.score)})),t+="=(".concat(a.join("+"),")/(").concat(n.join("+"),")=").concat(this.scoreRate)}c.a.notify(t,{buttonName:"知道了",className:"broad-dialog"})}}},r=(a("682f"),a("17cc")),s=Object(r.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("item",{attrs:{border:"top"}},[e("div",{staticClass:"item-text"},[this._v("当前综合得分")]),e("div",{staticClass:"item-font color-theme f18 fw-b"},[this._v(this._s(this.scoreRate))]),e("icon",{attrs:{name:"yiwen"},on:{click:this.formulaTips}})],1)}),[],!1,null,"25ef2435",null);e.default=s.exports},a88c:function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,".zjapp .icon-yiwen[data-v-25ef2435]{font-size:18px;color:#b4b4b4;line-height:30px;padding-left:10px}.zjapp .ios-bezel-less .item[data-v-25ef2435]{padding-bottom:42px}",""])},b2bb:function(t,e,a){var n=a("a88c");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a("85cb").default)("1d4874cb",n,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3ZpZXdzL3NwZWNpYWwtaW5zcGVjdC90ZW1wbGF0ZS0xMS9yZXBvc2l0b3J5LmpzIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvdmlld3Mvc3BlY2lhbC1pbnNwZWN0L3RlbXBsYXRlLTExL3NlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vX19tb2R1bGVfZW50cnlfemphcHBfXy8uL3NyYy92aWV3cy9zcGVjaWFsLWluc3BlY3QvdGVtcGxhdGUtMTEvaW5kZXgtZm9vdGVyLnZ1ZT82ZDEyIiwid2VicGFjazovL19fbW9kdWxlX2VudHJ5X3pqYXBwX18vLi9zcmMvdmlld3Mvc3BlY2lhbC1pbnNwZWN0L3RlbXBsYXRlLTExL2luZGV4LWZvb3Rlci52dWU/MDRhYyIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fL3NyYy92aWV3cy9zcGVjaWFsLWluc3BlY3QvdGVtcGxhdGUtMTEvaW5kZXgtZm9vdGVyLnZ1ZSIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3ZpZXdzL3NwZWNpYWwtaW5zcGVjdC90ZW1wbGF0ZS0xMS9pbmRleC1mb290ZXIudnVlPzg5OWYiLCJ3ZWJwYWNrOi8vX19tb2R1bGVfZW50cnlfemphcHBfXy8uL3NyYy92aWV3cy9zcGVjaWFsLWluc3BlY3QvdGVtcGxhdGUtMTEvaW5kZXgtZm9vdGVyLnZ1ZSIsIndlYnBhY2s6Ly9fX21vZHVsZV9lbnRyeV96amFwcF9fLy4vc3JjL3ZpZXdzL3NwZWNpYWwtaW5zcGVjdC90ZW1wbGF0ZS0xMS9pbmRleC1mb290ZXIudnVlPzFmNTkiLCJ3ZWJwYWNrOi8vX19tb2R1bGVfZW50cnlfemphcHBfXy8uL3NyYy92aWV3cy9zcGVjaWFsLWluc3BlY3QvdGVtcGxhdGUtMTEvaW5kZXgtZm9vdGVyLnZ1ZT8xZGI1Il0sIm5hbWVzIjpbImJhdGNoSWQiLCJzcWwiLCJsb2NhbERCIiwicXVlcnlPbmUiLCJxdWVyeSIsImZvcm1hdEZsb2F0IiwibnVtIiwiaXNOYU4iLCJNYXRoIiwicm91bmQiLCJnZXRQYXNzcmF0ZU1vZGUiLCJSZXBvc2l0b3J5IiwidGhlbiIsInJlcyIsInJlc3VsdCIsIkpTT04iLCJwYXJzZSIsInRlbXBsYXRlX2V4dGVuc2lvbiIsIm1vZGUxMV9wYXNzcmF0ZV9tb2RlIiwiZ2V0TW9kZTFUb3RhbERhdGEiLCJsZW5ndGgiLCJtYXAiLCJmb3JFYWNoIiwiaXRlbSIsInNwZWNpYWxfaW5zcGVjdF9pZCIsInRvdGFsIiwic2NvcmUiLCJkZWR1Y3Rpb24iLCJxdWFsaWZpZWQiLCJOdW1iZXIiLCJzdGF0dXMiLCJpZCIsInB1c2giLCJnZXRNb2RlMlRvdGFsRGF0YSIsIlByb21pc2UiLCJhbGwiLCJhbGxJdGVtcyIsImRvbmVJdGVtcyIsImV4dGVuc2lvbiIsImNoZWNraXRlbV9leHRlbnNpb24iLCJpc0RlZHVjdGlvbkl0ZW0iLCJpc19kZWR1Y3Rpb25faXRlbSIsImNoZWNraXRlbV9pZCIsInByb2JsZW1zIiwidHJlZSIsImNyZWF0ZVRyZWVCeUFycmF5Iiwia2V5IiwicmVsYXRpb25LZXkiLCJnZXRJdGVtQWxsUHJvYmxlbXMiLCJ2IiwicXVhbGlmaWVkcyIsImZpbHRlciIsImRlZHVjdGlvblRvdGFsIiwicmVkdWNlIiwiZHVjdWN0aW9uSXRlbVByb2xiZW1zIiwiZHVjdWN0aW9uSXRlbVRvdGFsIiwiYWxsUHJvYmxlbXMiLCJyZWplY3Rpb24iLCJwYXNzcmF0ZSIsIm1hdGNoIiwiY2hpbGRyZW4iLCJjaGlsZCIsImNvbmNhdCIsIm5hbWUiLCJjb21wb25lbnRzIiwiSXRlbSIsInByb3BzIiwidHlwZSIsIlN0cmluZyIsImRhdGEiLCJpc0xvYWRpbmciLCJwYXNzcmF0ZU1vZGUiLCJzY29yZVJhdGUiLCJ0b3RhbERhdGEiLCJ3YXRjaCIsImhhbmRsZXIiLCJ0aGlzIiwiZ2V0VG90YWxEYXRhIiwiaW1tZWRpYXRlIiwiY3JlYXRlZCIsIiRvbiIsImFjdGl2YXRlZCIsIm1ldGhvZHMiLCJtb2RlIiwiY3JlZGl0U3VtIiwic2NvcmVTdW0iLCJ2YWxpZEl0ZW1zIiwiZm9ybXVsYVRpcHMiLCJmb3JtdWxhVGlwc01vZGUyIiwiZm9ybXVsYVRpcHNNb2RlMSIsImNyZWRpdFN1bUFyciIsInNjb3JlU3VtQXJyIiwiZm9ybXVsYSIsImNvbXBvbmVudCIsIl9oIiwiJGNyZWF0ZUVsZW1lbnQiLCJfYyIsIl9zZWxmIiwiYXR0cnMiLCJzdGF0aWNDbGFzcyIsIl92IiwiX3MiLCJvbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJpIiwiY29udGVudCIsImxvY2FscyIsImFkZCIsImRlZmF1bHQiXSwibWFwcGluZ3MiOiJnUEFVZSxXQU1BQSxHQUNYLElBQUlDLEVBQU0sbUNBQUgsT0FBc0NELEVBQXRDLEtBQ1AsT0FBT0UsSUFBUUMsU0FBU0YsSUFSYixXQWdCRUQsR0FDYixJQUFJQyxFQUFNLDZRQUFILE9BSW9FRCxFQUpwRSx1Q0FNUCxPQUFPRSxJQUFRRSxNQUFNSCxJQXZCVixXQStCREQsR0FDVixJQUFJQyxFQUFNLDJEQUFILE9BQ2VELEVBRGYsb0NBR1AsT0FBT0UsSUFBUUUsTUFBTUgsSSxxbEJDbkN6QixTQUFTSSxFQUFZQyxHQUNuQixPQUFJQyxNQUFNRCxHQUNEQSxFQUVGRSxLQUFLQyxNQUFZLElBQU5ILEdBQWEsSUFHbEIsS0FDYkksZ0JBRGEsU0FDR1YsR0FDZCxPQUFPVyxFQUF3QlgsR0FBU1ksTUFBSyxTQUFBQyxHQUMzQyxJQUFJQyxFQUVKLElBRUVBLEVBRGdCQyxLQUFLQyxNQUFNSCxFQUFJSSxvQkFDWkMsc0JBQXdCLEVBQzNDLFNBQ0FKLEVBQVMsRUFHWCxPQUFPQSxNQVFYSyxrQkFwQmEsU0FvQktuQixHQUNoQixPQUFPVyxFQUEwQlgsR0FBU1ksTUFBSyxTQUFBQyxHQUM3QyxJQUFLQSxJQUFRQSxFQUFJTyxPQUNmLE1BQU8sR0FFVCxJQUFJQyxFQUFNLEdBQ1ZSLEVBQUlTLFNBQVEsU0FBQUMsR0FDTEYsRUFBSUUsRUFBS0Msc0JBQ1pILEVBQUlFLEVB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S0FBSyxDQUFDdUUsRUFBT0UsRUFBSSx5S0FBMEssTSxxQkNGbk0sSUFBSUMsRUFBVSxFQUFRLFFBQ0EsaUJBQVpBLElBQXNCQSxFQUFVLENBQUMsQ0FBQ0gsRUFBT0UsRUFBSUMsRUFBUyxNQUM3REEsRUFBUUMsU0FBUUosRUFBT0MsUUFBVUUsRUFBUUMsU0FHL0JDLEVBREgsRUFBUSxRQUE2RkMsU0FDOUYsV0FBWUgsR0FBUyxFQUFNLENBQUMsV0FBWSxFQUFNLFlBQWEiLCJmaWxlIjoianMvY2h1bmstMmU3YzAxMTguanM/djE2MDg3MTQ0NTExOTUiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQEF1dGhvcjogamlhbmdsMDJcbiAqIEBEYXRlOiAyMDIwLTA3LTExIDE1OjEwOjA3XG4gKiBATGFzdEVkaXRvcnM6IGppYW5nbDAyXG4gKiBATGFzdEVkaXRUaW1lOiAyMDIwLTA3LTExIDE2OjQwOjEzXG4gKiBARGVzY3JpcHRpb246XG4gKi9cblxuaW1wb3J0IGxvY2FsREIgZnJvbSAnQHNyYy9mcmFtZXdvcmsvbG9jYWxEQic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvbjog6I635Y+W5om55qyh5L+h5oGvXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBiYXRjaElkXG4gICAqIEByZXR1cm46IFByb21pc2UgLT4gT2JqZWN0XG4gICAqL1xuICBnZXRCYXRjaERhdGEoYmF0Y2hJZCkge1xuICAgIGxldCBzcWwgPSBgc2VsZWN0ICogZnJvbSBiYXRjaCB3aGVyZSBpZCA9ICcke2JhdGNoSWR9J2A7XG4gICAgcmV0dXJuIGxvY2FsREIucXVlcnlPbmUoc3FsKTtcbiAgfSxcblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uOiDojrflj5bmibnmrKHmiYDmnInlt7LmtYvnmoTmlbDmja7vvIzku4XpgILnlKjkuo7op4LmhJ/mlYjmnpxcbiAgICogQHBhcmFtIHtTdHJpbmd9IGJhdGNoSWRcbiAgICogQHJldHVybjogUHJvbWlzZVxuICAgKi9cbiAgZ2V0QWxsRG9uZURhdGEoYmF0Y2hJZCkge1xuICAgIGxldCBzcWwgPSBgc2VsZWN0IHNpcGMuKixcbiAgICAgIHNpLmNoZWNraXRlbV9pZCwgc2kuY2hlY2tpdGVtX3BhcmVudF9pZCwgc2kuc2NvcmUgXG4gICAgICBmcm9tIHNwZWNpYWxfaW5zcGVjdF9wbGFjZV9jaGVja2l0ZW0gc2lwY1xuICAgICAgam9pbiBzcGVjaWFsX2luc3BlY3Qgc2kgb24gc2kuaWQgPSBzaXBjLnNwZWNpYWxfaW5zcGVjdF9pZFxuICAgICAgd2hlcmUgKHNpcGMuc3RhdHVzID0gJ+WQiOagvCcgb3Igc2lwYy5zdGF0dXMgPSAn5LiN5ZCI5qC8JykgYW5kIHNpcGMuYmF0Y2hfaWQgPSAnJHtiYXRjaElkfSdcbiAgICAgIG9yZGVyIGJ5IHNpLmNoZWNraXRlbV9jb2RlYDtcbiAgICByZXR1cm4gbG9jYWxEQi5xdWVyeShzcWwpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb246IOiOt+WPluaJgOacieeahOajgOafpemhuVxuICAgKiBAcGFyYW0ge1N0cmluZ30gYmF0Y2hJZFxuICAgKiBAcmV0dXJuOiBQcm9taXNlIC0+IEFycmF5XG4gICAqL1xuICBnZXRBbGxJdGVtcyhiYXRjaElkKSB7XG4gICAgbGV0IHNxbCA9IGBzZWxlY3QgKiBmcm9tIHNwZWNpYWxfaW5zcGVjdCBcbiAgICAgIHdoZXJlIGJhdGNoX2lkID0gJyR7YmF0Y2hJZH0nXG4gICAgICBvcmRlciBieSBjaGVja2l0ZW1fY29kZWA7XG4gICAgcmV0dXJuIGxvY2FsREIucXVlcnkoc3FsKTtcbiAgfSxcblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uOiDojrflj5bmiYDmnInpnZ7mnKvnuqfnmoTmo4Dmn6XpoblcbiAgICogQHBhcmFtIHtTdHJpbmd9IGJhdGNoSWRcbiAgICogQHJldHVybjogUHJvbWlzZSAtPiBBcnJheVxuICAgKi9cbiAgZ2V0Tm90RW5kSXRlbXMoYmF0Y2hJZCkge1xuICAgIGxldCBzcWwgPSBgc2VsZWN0ICogZnJvbSBzcGVjaWFsX2luc3BlY3RcbiAgICAgIHdoZXJlIGNoZWNraXRlbV9pZCBpbiAoc2VsZWN0IGNoZWNraXRlbV9wYXJlbnRfaWQgZnJvbSBzcGVjaWFsX2luc3BlY3Qgd2hlcmUgYmF0Y2hfaWQgPSAnJHtiYXRjaElkfScpXG4gICAgICAgIG9yIChpZm51bGwoY2hlY2tpdGVtX3BhcmVudF9pZCwgJycpID0gJycgYW5kIGJhdGNoX2lkID0gJyR7YmF0Y2hJZH0nKVxuICAgICAgb3JkZXIgYnkgY2hlY2tpdGVtX2NvZGVgO1xuICAgIHJldHVybiBsb2NhbERCLnF1ZXJ5KHNxbCk7XG4gIH0sXG59O1xuIiwiLypcbiAqIEBBdXRob3I6IGppYW5nbDAyXG4gKiBARGF0ZTogMjAyMC0wNy0xMSAxNTowODo1NVxuICogQExhc3RFZGl0b3JzOiBqaWFuZ2wwMlxuICogQExhc3RFZGl0VGltZTogMjAyMC0wNy0xNSAyMToxMDowOFxuICogQERlc2NyaXB0aW9uOiDop4LmhJ/mlYjmnpzmqKHmnb8gc2VydmljZVxuICovXG5pbXBvcnQgUmVwb3NpdG9yeSBmcm9tICcuL3JlcG9zaXRvcnkuanMnO1xuaW1wb3J0IHsgaGFzVmFsLCBjcmVhdGVUcmVlQnlBcnJheSB9IGZyb20gJ0BzcmMvY29tbW9uL2RhdGEtaGFuZGxlJztcblxuZnVuY3Rpb24gZm9ybWF0RmxvYXQobnVtKSB7XG4gIGlmIChpc05hTihudW0pKSB7XG4gICAgcmV0dXJuIG51bTtcbiAgfVxuICByZXR1cm4gTWF0aC5yb3VuZChudW0gKiAxMDApIC8gMTAwO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGdldFBhc3NyYXRlTW9kZShiYXRjaElkKSB7XG4gICAgcmV0dXJuIFJlcG9zaXRvcnkuZ2V0QmF0Y2hEYXRhKGJhdGNoSWQpLnRoZW4ocmVzID0+IHtcbiAgICAgIGxldCByZXN1bHQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBleHRlbnNpb24gPSBKU09OLnBhcnNlKHJlcy50ZW1wbGF0ZV9leHRlbnNpb24pO1xuICAgICAgICByZXN1bHQgPSBleHRlbnNpb24ubW9kZTExX3Bhc3NyYXRlX21vZGUgfHwgMTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICByZXN1bHQgPSAxO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uOiDojrflj5bmnKvnuqforqHnrpfmqKHlvI/nmoTnu5/orqHmlbDmja5cbiAgICogQHBhcmFtIHtTdHJpbmd9IGJhdGNoSWRcbiAgICogQHJldHVybjogUHJvbWlzZVxuICAgKi9cbiAgZ2V0TW9kZTFUb3RhbERhdGEoYmF0Y2hJZCkge1xuICAgIHJldHVybiBSZXBvc2l0b3J5LmdldEFsbERvbmVEYXRhKGJhdGNoSWQpLnRoZW4ocmVzID0+IHtcbiAgICAgIGlmICghcmVzICYmICFyZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGxldCBtYXAgPSB7fTtcbiAgICAgIHJlcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBpZiAoIW1hcFtpdGVtLnNwZWNpYWxfaW5zcGVjdF9pZF0pIHtcbiAgICAgICAgICBtYXBbaXRlbS5zcGVjaWFsX2luc3BlY3RfaWRdID0ge1xuICAgICAgICAgICAgdG90YWw6IDAsXG4gICAgICAgICAgICBzY29yZTogaXRlbS5zY29yZSxcbiAgICAgICAgICAgIGRlZHVjdGlvbjogMCxcbiAgICAgICAgICAgIHF1YWxpZmllZDogMCxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIG1hcFtpdGVtLnNwZWNpYWxfaW5zcGVjdF9pZF0udG90YWwgKz0gMTtcbiAgICAgICAgbWFwW2l0ZW0uc3BlY2lhbF9pbnNwZWN0X2lkXS5kZWR1Y3Rpb24gKz0gTnVtYmVyKGl0ZW0uZGVkdWN0aW9uKSB8fCAwO1xuICAgICAgICBpZiAoaXRlbS5zdGF0dXMgPT09ICflkIjmoLwnKSB7XG4gICAgICAgICAgbWFwW2l0ZW0uc3BlY2lhbF9pbnNwZWN0X2lkXS5xdWFsaWZpZWQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgIGZvciAobGV0IGlkIGluIG1hcCkge1xuICAgICAgICByZXN1bHQucHVzaCh7IC4uLm1hcFtpZF0sIGlkIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb246IOiOt+WPluS4gOe6p+ajgOafpemhueiuoeeul+aooeW8j+eahOe7n+iuoeaVsOaNrlxuICAgKiBAcGFyYW0ge1N0cmluZ30gYmF0Y2hJZFxuICAgKiBAcmV0dXJuOiBQcm9taXNlIC0+IEFycmF5XG4gICAqL1xuICBnZXRNb2RlMlRvdGFsRGF0YShiYXRjaElkKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFtSZXBvc2l0b3J5LmdldEFsbEl0ZW1zKGJhdGNoSWQpLCBSZXBvc2l0b3J5LmdldEFsbERvbmVEYXRhKGJhdGNoSWQpXSkudGhlbihcbiAgICAgIHJlcyA9PiB7XG4gICAgICAgIGxldCBhbGxJdGVtcyA9IHJlc1swXTtcbiAgICAgICAgbGV0IGRvbmVJdGVtcyA9IHJlc1sxXTtcblxuICAgICAgICAvLyDmiormr4/kuKrmo4Dmn6XpobnnmoTpl67popjmsYfmgLtcbiAgICAgICAgbGV0IG1hcCA9IHt9O1xuICAgICAgICAoYWxsSXRlbXMgfHwgW10pLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgLy8g5piv5ZCm5Li64oCc5YCS5omj5YiG4oCd6aG5XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBleHRlbnNpb24gPSBKU09OLnBhcnNlKGl0ZW0uY2hlY2tpdGVtX2V4dGVuc2lvbik7XG4gICAgICAgICAgICBpdGVtLmlzRGVkdWN0aW9uSXRlbSA9ICEhZXh0ZW5zaW9uLmlzX2RlZHVjdGlvbl9pdGVtO1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgaXRlbS5pc0RlZHVjdGlvbkl0ZW0gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWFwW2l0ZW0uY2hlY2tpdGVtX2lkXSA9IGl0ZW07XG4gICAgICAgIH0pO1xuICAgICAgICAoZG9uZUl0ZW1zIHx8IFtdKS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgIGlmICghbWFwW2l0ZW0uY2hlY2tpdGVtX2lkXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIW1hcFtpdGVtLmNoZWNraXRlbV9pZF0ucHJvYmxlbXMpIHtcbiAgICAgICAgICAgIG1hcFtpdGVtLmNoZWNraXRlbV9pZF0ucHJvYmxlbXMgPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWFwW2l0ZW0uY2hlY2tpdGVtX2lkXS5wcm9ibGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgdHJlZSA9IGNyZWF0ZVRyZWVCeUFycmF5KGFsbEl0ZW1zLCB7XG4gICAgICAgICAga2V5OiAnY2hlY2tpdGVtX2lkJyxcbiAgICAgICAgICByZWxhdGlvbktleTogJ2NoZWNraXRlbV9wYXJlbnRfaWQnLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyDpgJLlvZLorqHnrpfmiYDmnInkuIDnuqfnmoTigJzlkIjmoLznjofigJ3lkozigJzlgJLmiaPliIbigJ3vvIzlv73nlaXigJzlgJLmiaPliIbigJ3poblcbiAgICAgICAgKHRyZWUgfHwgW10pLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgLy8g6Z2e4oCc5YCS5omj5YiG6aG54oCd55qE5rGH5oC7XG4gICAgICAgICAgbGV0IHByb2JsZW1zID0gdGhpcy5nZXRJdGVtQWxsUHJvYmxlbXMoaXRlbSwgdiA9PiAhdi5pc0RlZHVjdGlvbkl0ZW0pO1xuICAgICAgICAgIGxldCBxdWFsaWZpZWRzID0gcHJvYmxlbXMuZmlsdGVyKHYgPT4gdi5zdGF0dXMgPT09ICflkIjmoLwnKTtcbiAgICAgICAgICBsZXQgdW5xdWFsaWZpZWQgPSBwcm9ibGVtcy5maWx0ZXIodiA9PiB2LnN0YXR1cyA9PT0gJ+S4jeWQiOagvCcpO1xuICAgICAgICAgIGxldCBkZWR1Y3Rpb25Ub3RhbCA9IHVucXVhbGlmaWVkLnJlZHVjZSgodG90YWwsIHYpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0b3RhbCArICh2LmRlZHVjdGlvbiB8fCAwKTtcbiAgICAgICAgICB9LCAwKTtcblxuICAgICAgICAgIC8vIOKAnOWAkuaJo+WIhumhueKAneeahOaxh+aAu1xuICAgICAgICAgIGxldCBkdWN1Y3Rpb25JdGVtUHJvbGJlbXMgPSB0aGlzLmdldEl0ZW1BbGxQcm9ibGVtcyhpdGVtLCB2ID0+IHYuaXNEZWR1Y3Rpb25JdGVtKTtcbiAgICAgICAgICBsZXQgZHVjdWN0aW9uSXRlbVRvdGFsID0gZHVjdWN0aW9uSXRlbVByb2xiZW1zLnJlZHVjZSgodG90YWwsIHYpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0b3RhbCArICh2LmRlZHVjdGlvbiB8fCAwKTtcbiAgICAgICAgICB9LCAwKTtcblxuICAgICAgICAgIGl0ZW0uYWxsUHJvYmxlbXMgPSBbLi4ucHJvYmxlbXMsIC4uLmR1Y3VjdGlvbkl0ZW1Qcm9sYmVtc107XG5cbiAgICAgICAgICBpZiAocHJvYmxlbXMgJiYgcHJvYmxlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpdGVtLnJlamVjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgaXRlbS5wYXNzcmF0ZSA9IHF1YWxpZmllZHMubGVuZ3RoIC8gcHJvYmxlbXMubGVuZ3RoO1xuICAgICAgICAgICAgaXRlbS5kZWR1Y3Rpb25Ub3RhbCA9IGZvcm1hdEZsb2F0KGRlZHVjdGlvblRvdGFsKTtcbiAgICAgICAgICAgIGl0ZW0uZHVjdWN0aW9uSXRlbVRvdGFsID0gZm9ybWF0RmxvYXQoZHVjdWN0aW9uSXRlbVRvdGFsKTtcbiAgICAgICAgICAgIGl0ZW0ucmVzdWx0ID1cbiAgICAgICAgICAgICAgaXRlbS5zY29yZSAqIGl0ZW0ucGFzc3JhdGUgLSBpdGVtLmRlZHVjdGlvblRvdGFsIC0gaXRlbS5kdWN1Y3Rpb25JdGVtVG90YWw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIOeUqemhuVxuICAgICAgICAgICAgaXRlbS5yZWplY3Rpb24gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRyZWU7XG4gICAgICB9XG4gICAgKTtcbiAgfSxcblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uOiDojrflj5bmo4Dmn6XpobnnmoTmiYDmnInpl67popjvvIzmn6Xor6LmiYDmnInlrZDnuqfvvIjlkKvoh6rouqvvvIlcbiAgICogQHBhcmFtIHt0eXBlfVxuICAgKiBAcmV0dXJuOlxuICAgKi9cbiAgZ2V0SXRlbUFsbFByb2JsZW1zKGl0ZW0sIG1hdGNoKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGlmIChpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICBpdGVtLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHRoaXMuZ2V0SXRlbUFsbFByb2JsZW1zKGNoaWxkLCBtYXRjaCkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICBpZiAobWF0Y2goaXRlbSkpIHtcbiAgICAgICAgICByZXN1bHQgPSBpdGVtLnByb2JsZW1zIHx8IFtdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBpdGVtLnByb2JsZW1zIHx8IFtdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG59O1xuIiwiZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtc3R5bGUtbG9hZGVyQDQuMS4yQHZ1ZS1zdHlsZS1sb2FkZXIvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTAhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDEuMC4xQGNzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjkuNUB2dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS04LW9uZU9mLTEtMyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Nhc3MtbG9hZGVyQDcuMS4wQHNhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tOC1vbmVPZi0xLTQhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC1mb290ZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9MjVlZjI0MzUmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ2l0ZW0nLHthdHRyczp7XCJib3JkZXJcIjpcInRvcFwifX0sW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcIml0ZW0tdGV4dFwifSxbX3ZtLl92KFwi5b2T5YmN57u85ZCI5b6X5YiGXCIpXSksX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiaXRlbS1mb250IGNvbG9yLXRoZW1lIGYxOCBmdy1iXCJ9LFtfdm0uX3YoX3ZtLl9zKF92bS5zY29yZVJhdGUpKV0pLF9jKCdpY29uJyx7YXR0cnM6e1wibmFtZVwiOlwieWl3ZW5cIn0sb246e1wiY2xpY2tcIjpfdm0uZm9ybXVsYVRpcHN9fSldLDEpfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCI8dGVtcGxhdGU+XG4gIDxpdGVtIGJvcmRlcj1cInRvcFwiPlxuICAgIDxkaXYgY2xhc3M9XCJpdGVtLXRleHRcIj7lvZPliY3nu7zlkIjlvpfliIY8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiaXRlbS1mb250IGNvbG9yLXRoZW1lIGYxOCBmdy1iXCI+e3sgc2NvcmVSYXRlIH19PC9kaXY+XG4gICAgPGljb24gbmFtZT1cInlpd2VuXCIgQGNsaWNrPVwiZm9ybXVsYVRpcHNcIiAvPlxuICA8L2l0ZW0+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuaW1wb3J0IEl0ZW0gZnJvbSAnQHNyYy9jb21wb25lbnRzL2l0ZW0vJztcbmltcG9ydCBTZXJ2aWNlIGZyb20gJy4vc2VydmljZS5qcyc7XG5pbXBvcnQgUG9wdXAgZnJvbSAnQHNyYy91dGlscy9wb3B1cCc7XG5cbmZ1bmN0aW9uIGZvcm1hdEZsb2F0KG51bSkge1xuICBpZiAoaXNOYU4obnVtKSkge1xuICAgIHJldHVybiBudW07XG4gIH1cbiAgcmV0dXJuIE1hdGgucm91bmQobnVtICogMTAwMDAwKSAvIDEwMDAwMDtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnSW5kZXhGb290ZXInLFxuICBjb21wb25lbnRzOiB7XG4gICAgSXRlbSxcbiAgfSxcblxuICBwcm9wczoge1xuICAgIGJhdGNoSWQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICB9LFxuICB9LFxuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgcGFzc3JhdGVNb2RlOiAxLFxuICAgICAgc2NvcmVSYXRlOiAnJyxcbiAgICAgIHRvdGFsRGF0YTogW10sXG4gICAgfTtcbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICBiYXRjaElkOiB7XG4gICAgICBoYW5kbGVyKHYpIHtcbiAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICB0aGlzLmdldFRvdGFsRGF0YSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2NvcmVSYXRlID0gJyc7XG4gICAgICAgICAgdGhpcy50b3RhbERhdGEgPSBbXTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGltbWVkaWF0ZTogdHJ1ZSxcbiAgICB9LFxuICB9LFxuICBjcmVhdGVkKCkge1xuICAgIHRoaXMuJG9uKCdyZWxvYWQnLCB0aGlzLmdldFRvdGFsRGF0YSk7XG4gIH0sXG4gIGFjdGl2YXRlZCgpIHtcbiAgICB0aGlzLmdldFRvdGFsRGF0YSgpO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgLy8g6I635Y+W5oC75b6X5YiG55qE5pWw5o2uXG4gICAgZ2V0VG90YWxEYXRhKCkge1xuICAgICAgbGV0IGJhdGNoSWQgPSB0aGlzLmJhdGNoSWQ7XG5cbiAgICAgIHJldHVybiBTZXJ2aWNlLmdldFBhc3NyYXRlTW9kZShiYXRjaElkKS50aGVuKG1vZGUgPT4ge1xuICAgICAgICB0aGlzLnBhc3NyYXRlTW9kZSA9IG1vZGU7XG4gICAgICAgIGlmIChtb2RlID09PSAyKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TW9kZTJUb3RhbERhdGEoYmF0Y2hJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TW9kZTFUb3RhbERhdGEoYmF0Y2hJZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBnZXRNb2RlMVRvdGFsRGF0YShiYXRjaElkKSB7XG4gICAgICByZXR1cm4gU2VydmljZS5nZXRNb2RlMVRvdGFsRGF0YShiYXRjaElkKS50aGVuKHJlcyA9PiB7XG4gICAgICAgIGlmIChiYXRjaElkICE9PSB0aGlzLmJhdGNoSWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b3RhbERhdGEgPSByZXM7XG5cbiAgICAgICAgLy8g5bey5rWL5qOA5p+l6aG555qE5b6X5YiG5oC75ZKMXG4gICAgICAgIGxldCBjcmVkaXRTdW0gPSAwO1xuICAgICAgICAvLyDlt7LmtYvmo4Dmn6XpobnnmoTmu6HliIbmgLvlkoxcbiAgICAgICAgbGV0IHNjb3JlU3VtID0gMDtcbiAgICAgICAgKHJlcyB8fCBbXSkuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICBsZXQgcGFzc3JhdGUgPSBpdGVtLnF1YWxpZmllZCAvIGl0ZW0udG90YWw7XG4gICAgICAgICAgY3JlZGl0U3VtICs9IHBhc3NyYXRlICogaXRlbS5zY29yZSAtIGl0ZW0uZGVkdWN0aW9uO1xuICAgICAgICAgIHNjb3JlU3VtICs9IGl0ZW0uc2NvcmU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzY29yZVN1bSkge1xuICAgICAgICAgIHRoaXMuc2NvcmVSYXRlID0gTWF0aC5yb3VuZCgoY3JlZGl0U3VtIC8gc2NvcmVTdW0pICogMTAwMDApIC8gMTAwICsgJyUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2NvcmVSYXRlID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0TW9kZTJUb3RhbERhdGEoYmF0Y2hJZCkge1xuICAgICAgcmV0dXJuIFNlcnZpY2UuZ2V0TW9kZTJUb3RhbERhdGEoYmF0Y2hJZCkudGhlbihyZXMgPT4ge1xuICAgICAgICBpZiAoYmF0Y2hJZCAhPT0gdGhpcy5iYXRjaElkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG90YWxEYXRhID0gcmVzO1xuXG4gICAgICAgIC8vIOiOt+WPluaJgOacieWPguS4juiuoeeul+eahOajgOafpemhue+8jOWNs+mdnueUqemhueeahOajgOafpemhuVxuICAgICAgICBsZXQgdmFsaWRJdGVtcyA9IChyZXMgfHwgW10pLmZpbHRlcihpdGVtID0+ICFpdGVtLnJlamVjdGlvbik7XG4gICAgICAgIC8vIOW3sua1i+ajgOafpemhueeahOW+l+WIhuaAu+WSjFxuICAgICAgICBsZXQgY3JlZGl0U3VtID0gMDtcbiAgICAgICAgLy8g5bey5rWL5qOA5p+l6aG555qE5ruh5YiG5oC75ZKMXG4gICAgICAgIGxldCBzY29yZVN1bSA9IDA7XG4gICAgICAgIC8vIOaYr+WQpuacieiusOW9le+8jOWAkuaJo+WIhumhueS5n+eul1xuICAgICAgICBsZXQgaGFzUmVjb3JkID0gcmVzLnNvbWUoaXRlbSA9PiBpdGVtLmFsbFByb2JsZW1zICYmIGl0ZW0uYWxsUHJvYmxlbXMubGVuZ3RoKTtcblxuICAgICAgICB2YWxpZEl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgY3JlZGl0U3VtICs9IGl0ZW0ucmVzdWx0O1xuICAgICAgICAgIHNjb3JlU3VtICs9IGl0ZW0uc2NvcmU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzY29yZVN1bSkge1xuICAgICAgICAgIHRoaXMuc2NvcmVSYXRlID0gTWF0aC5yb3VuZCgoY3JlZGl0U3VtIC8gc2NvcmVTdW0pICogMTAwMDApIC8gMTAwICsgJyUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2NvcmVSYXRlID0gaGFzUmVjb3JkID8gJzAuMDAlJyA6ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8g5oC75b6X5YiGIHRpcHNcbiAgICBmb3JtdWxhVGlwcygpIHtcbiAgICAgIGlmICh0aGlzLnBhc3NyYXRlTW9kZSA9PT0gMikge1xuICAgICAgICB0aGlzLmZvcm11bGFUaXBzTW9kZTIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZm9ybXVsYVRpcHNNb2RlMSgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBmb3JtdWxhVGlwc01vZGUxKCkge1xuICAgICAgbGV0IGZvcm11bGEgPSBg5b2T5YmN57u85ZCI5b6X5YiGPeKIke+8iOW3suajgOmhueeahOWQiOagvOeOhyrmu6HliIblgLwt5YCS5omj5YiG77yJL+KIke+8iOW3suajgOmhueeahOa7oeWIhuWAvO+8iWA7XG5cbiAgICAgIGlmICh0aGlzLnRvdGFsRGF0YSAmJiB0aGlzLnRvdGFsRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgbGV0IGNyZWRpdFN1bUFyciA9IFtdO1xuICAgICAgICBsZXQgc2NvcmVTdW1BcnIgPSBbXTtcbiAgICAgICAgdGhpcy50b3RhbERhdGEuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICBsZXQgcGFzc3JhdGUgPSBNYXRoLnJvdW5kKChpdGVtLnF1YWxpZmllZCAvIGl0ZW0udG90YWwpICogMTAwMDApIC8gMTAwICsgJyUnO1xuXG4gICAgICAgICAgY3JlZGl0U3VtQXJyLnB1c2goYCgke3Bhc3NyYXRlfSoke2l0ZW0uc2NvcmV9LSR7Zm9ybWF0RmxvYXQoaXRlbS5kZWR1Y3Rpb24pfSlgKTtcbiAgICAgICAgICBzY29yZVN1bUFyci5wdXNoKGl0ZW0uc2NvcmUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBmb3JtdWxhICs9IGA9KCR7Y3JlZGl0U3VtQXJyLmpvaW4oJysnKX0pLygke3Njb3JlU3VtQXJyLmpvaW4oJysnKX0pPSR7dGhpcy5zY29yZVJhdGV9YDtcbiAgICAgIH1cblxuICAgICAgUG9wdXAubm90aWZ5KGZvcm11bGEsIHsgYnV0dG9uTmFtZTogJ+efpemBk+S6hicsIGNsYXNzTmFtZTogJ2Jyb2FkLWRpYWxvZycgfSk7XG4gICAgfSxcbiAgICBmb3JtdWxhVGlwc01vZGUyKCkge1xuICAgICAgbGV0IGZvcm11bGEgPSBg57u85ZCI5omj5YiGPc6j77yI5bey5qOA5p+l5LiA57qn6aG55ZCI5qC8546HKuW3suajgOS4gOe6p+mhuea7oeWIhuWAvC3Oo+W3suajgOS4gOe6p+mhueWGheacq+e6p+mhueWAkuaJo+WIhi3Oo+W3suajgOS4gOe6p+mhueWGheW4puaYn+acq+e6p+mhueWAkuaJo+WIhu+8iS/Oo++8iOW3suajgOafpeS4gOe6p+mhuea7oeWIhu+8iWA7XG4gICAgICBsZXQgdmFsaWRJdGVtcyA9ICh0aGlzLnRvdGFsRGF0YSB8fCBbXSkuZmlsdGVyKGl0ZW0gPT4gIWl0ZW0ucmVqZWN0aW9uKTtcblxuICAgICAgaWYgKHZhbGlkSXRlbXMgJiYgdmFsaWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgbGV0IGNyZWRpdFN1bUFyciA9IFtdO1xuICAgICAgICBsZXQgc2NvcmVTdW1BcnIgPSBbXTtcbiAgICAgICAgdmFsaWRJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgIGxldCBwYXNzcmF0ZSA9IE1hdGgucm91bmQoaXRlbS5wYXNzcmF0ZSAqIDEwMDAwKSAvIDEwMCArICclJztcbiAgICAgICAgICBjcmVkaXRTdW1BcnIucHVzaChcbiAgICAgICAgICAgIGAoJHtwYXNzcmF0ZX0qJHtpdGVtLnNjb3JlfS0ke2l0ZW0uZGVkdWN0aW9uVG90YWx9LSR7aXRlbS5kdWN1Y3Rpb25JdGVtVG90YWx9KWBcbiAgICAgICAgICApO1xuICAgICAgICAgIHNjb3JlU3VtQXJyLnB1c2goaXRlbS5zY29yZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvcm11bGEgKz0gYD0oJHtjcmVkaXRTdW1BcnIuam9pbignKycpfSkvKCR7c2NvcmVTdW1BcnIuam9pbignKycpfSk9JHt0aGlzLnNjb3JlUmF0ZX1gO1xuICAgICAgfVxuICAgICAgUG9wdXAubm90aWZ5KGZvcm11bGEsIHsgYnV0dG9uTmFtZTogJ+efpemBk+S6hicsIGNsYXNzTmFtZTogJ2Jyb2FkLWRpYWxvZycgfSk7XG4gICAgfSxcbiAgfSxcbn07XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxuLmljb24teWl3ZW4ge1xuICBmb250LXNpemU6IDE4cHg7XG4gIGNvbG9yOiAjYjRiNGI0O1xuICBsaW5lLWhlaWdodDogMzBweDtcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xufVxuXG4uaW9zLWJlemVsLWxlc3MgLml0ZW0ge1xuICBwYWRkaW5nLWJvdHRvbTogNDJweDtcbn1cbjwvc3R5bGU+XG4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdGhyZWFkLWxvYWRlckAyLjEuM0B0aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fYmFiZWwtbG9hZGVyQDguMi4xQGJhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC1mb290ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdGhyZWFkLWxvYWRlckAyLjEuM0B0aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fYmFiZWwtbG9hZGVyQDguMi4xQGJhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJAMi4wLjFAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuNy4wQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC1mb290ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9pbmRleC1mb290ZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTI1ZWYyNDM1JnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2luZGV4LWZvb3Rlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2luZGV4LWZvb3Rlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vaW5kZXgtZm9vdGVyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTI1ZWYyNDM1Jmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjI1ZWYyNDM1XCIsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY3NzLWxvYWRlckAxLjAuMUBjc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuemphcHAgLmljb24teWl3ZW5bZGF0YS12LTI1ZWYyNDM1XXtmb250LXNpemU6MThweDtjb2xvcjojYjRiNGI0O2xpbmUtaGVpZ2h0OjMwcHg7cGFkZGluZy1sZWZ0OjEwcHh9LnpqYXBwIC5pb3MtYmV6ZWwtbGVzcyAuaXRlbVtkYXRhLXYtMjVlZjI0MzVde3BhZGRpbmctYm90dG9tOjQycHh9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY3NzLWxvYWRlckAxLjAuMUBjc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTgtb25lT2YtMS0xIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS45LjVAdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOC1vbmVPZi0xLTMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19zYXNzLWxvYWRlckA3LjEuMEBzYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTgtb25lT2YtMS00IS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDIuMC4xQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjcuMEB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgtZm9vdGVyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTI1ZWYyNDM1Jmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtc3R5bGUtbG9hZGVyQDQuMS4yQHZ1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiMWQ0ODc0Y2JcIiwgY29udGVudCwgdHJ1ZSwge1wic291cmNlTWFwXCI6ZmFsc2UsXCJzaGFkb3dNb2RlXCI6ZmFsc2V9KTsiXSwic291cmNlUm9vdCI6IiJ9