(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-40cb17be"],{"0b40":function(t,e,a){"use strict";(function(t){var i=a("e2a7"),s=a("774b"),o=a("07d2"),c=a("e68e"),r=a("cd05"),l=a("0818"),n=a("162a");e.a={name:"WaterPouringTestRecordDetail",components:{Scroller:s.default,Item:o.default,ItemImgList:c.a,UserSelect:r.a},data:function(){return{isLoading:!0,errorType:"search",title:"验收详情",buildingId:"",list:[]}},computed:{projectSelected:function(){return this.$store.state.global.currentProject}},activated:function(){if(!this.$router.isBack){var t=this.$route.query,e=t.building_id,a=t.id,i=t.room_id,s=t.isRoomEntry,o=t.building_name,c=t.floor,r=t.room_name;this.buildingId=e,this.title=s?o+c+r:"验收详情",this.getDetailData(a,i,s)}},methods:{getDetailData:function(e,a,s){var o=this;this.list=[],this.data={},this.isLoading=!0,this.errorType="search";var c={id:e,room_id:a},r="/online/water-pouring-test/get-batch-info";s&&(r="/online/water-pouring-test/get-room-test-info",c={room_id:a}),n.a.request(r,c).then((function(e){t.isArray(e)||(e=[e]),t.each(e,(function(t){t.accept_indoor_image_file=JSON.parse(t.accept_indoor_image_file||"[]"),t.accept_outdoor_image_file=JSON.parse(t.accept_outdoor_image_file||"[]"),t.image_file=JSON.parse(t.image_file||"[]"),t.timeCost=t.accept_date?l.a.calcTimeWithOver(t.start_date,t.accept_date).result:"",t.timeIsOver=!!t.accept_date&&l.a.calcTimeWithOver(t.start_date,t.accept_date).isOver})),o.list=e,console.log({res:e})})).catch((function(t){o.list=[],o.errorType="error",i.a.alert(t)})).finally((function(){o.isLoading=!1}))},goAcceptDetail:function(t){this.$router.push({name:"WaterPouringTestRecordDetail",query:t})}}}}).call(this,a("391c"))},"42b1":function(t,e,a){var i=a("b219");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("ac28ebce",i,!0,{sourceMap:!1,shadowMode:!1})},9702:function(t,e,a){"use strict";a("42b1")},a2273:function(t,e,a){"use strict";a.r(e);var i=a("0b40").a,s=(a("9702"),a("17cc")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-content",{attrs:{title:t.title,"show-go-root":!0}},[t.list.length?a("scroller",t._l(t.list,(function(e,i){return a("div",{key:i,staticClass:"accept-detail"},[a("div",{staticClass:"accetp-title van-hairline--bottom",class:{"待验收":"uncheck","不合格":"unqualified","合格":"qualified"}[e.status]},[t.list.length>1?a("div",{staticClass:"accept-place"},[t._v("第"+t._s(t.list.length-i)+"次")]):a("div",{staticClass:"accept-place"},[t._v(t._s(e.room_name))]),a("div",{staticClass:"accept-status",style:{background:{"待验收":"#FF8E24","不合格":"#FF3C46","合格":"#0BC666"}[e.status]}},[t._v(t._s(e.status))])]),a("item",{attrs:{label:"淋水批次",text:e.name}}),a("item",{attrs:{label:"淋水开始时间",text:t._f("formatDate")(e.start_date)}}),a("item",{attrs:{label:"淋水照片"}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[a("item-img-list",{attrs:{editabled:!1},model:{value:e.image_file,callback:function(a){t.$set(e,"image_file",a)},expression:"test.image_file"}})],1)]),a("item",{directives:[{name:"show",rawName:"v-show",value:e.remark,expression:"test.remark"}],attrs:{label:"备注",text:e.remark}}),a("user-select",{attrs:{title:"检查人",mode:"view",date:t._f("formatDate")(e.regist_date),editabled:!1},model:{value:e.regist_by,callback:function(a){t.$set(e,"regist_by",a)},expression:"test.regist_by"}}),a("user-select",{directives:[{name:"show",rawName:"v-show",value:"待验收"===e.status,expression:"test.status === '待验收'"}],staticClass:"mt10",attrs:{title:"验收人",mode:"view",editabled:!1},model:{value:e.acceptor,callback:function(a){t.$set(e,"acceptor",a)},expression:"test.acceptor"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:"待验收"!==e.status,expression:"test.status !== '待验收'"}],staticClass:"van-hairline--top"},[a("item",{attrs:{label:"外墙/窗照片"}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[a("item-img-list",{attrs:{editabled:!1},model:{value:e.accept_outdoor_image_file,callback:function(a){t.$set(e,"accept_outdoor_image_file",a)},expression:"test.accept_outdoor_image_file"}})],1)]),a("item",{attrs:{label:"户内验收照片"}},[a("div",{staticClass:"item-con",attrs:{slot:"right"},slot:"right"},[a("item-img-list",{attrs:{editabled:!1},model:{value:e.accept_indoor_image_file,callback:function(a){t.$set(e,"accept_indoor_image_file",a)},expression:"test.accept_indoor_image_file"}})],1)]),a("item",{directives:[{name:"show",rawName:"v-show",value:e.accept_remark,expression:"test.accept_remark"}],attrs:{label:"备注",text:e.accept_remark}}),a("item",{directives:[{name:"show",rawName:"v-show",value:e.contractor,expression:"test.contractor"}],attrs:{label:"责任单位",text:e.contractor}}),a("user-select",{class:{"is-cover":!e.timeIsOver},attrs:{title:"验收人",mode:"view",date:t._f("formatDate")(e.accept_date),editabled:!1},model:{value:e.acceptor,callback:function(a){t.$set(e,"acceptor",a)},expression:"test.acceptor"}}),a("item",{staticClass:"item-time-cost",class:{"is-cover":!e.timeIsOver},attrs:{label:" ",text:"(开始淋水后"+e.timeCost+"）"}})],1)],1)}))):t._e(),a("loading-status",{attrs:{"is-loading":t.isLoading,"is-empty":!t.list.length,type:t.errorType,"empty-text":"search"===t.errorType?"没有记录":""}})],1)}),[],!1,null,"2a8631da",null);e.default=o.exports},b219:function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,'.zjapp .accept-detail[data-v-2a8631da]{margin-bottom:10px}.zjapp .accetp-title[data-v-2a8631da]{position:relative;display:flex;align-items:center;justify-content:space-between;height:46px;padding:0 15px;line-height:46px;background-color:#fff}.zjapp .accetp-title[data-v-2a8631da]:before{content:"";position:absolute;width:4px;height:16px}.zjapp .accetp-title .accept-place[data-v-2a8631da]{flex:1;color:#333;font-size:16px;font-weight:500;padding:0 0 0 12px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.zjapp .accetp-title .accept-status[data-v-2a8631da]{height:16px;line-height:16px;border-radius:2px;color:#fff;padding:0 2px}.zjapp .accetp-title.qualified[data-v-2a8631da]:before{background:#0bc666}.zjapp .accetp-title.unqualified[data-v-2a8631da]:before{background:#ff3c46}.zjapp .accetp-title.uncheck[data-v-2a8631da]:before{background:#ff8e24}.zjapp .item-time-cost[data-v-2a8631da]{padding-top:0;margin-top:-12px}.zjapp .item-time-cost[data-v-2a8631da] .item-text{padding-top:0;color:#b3b3b3;font-size:12px}.zjapp .is-cover[data-v-2a8631da] .item-text .color-light{color:#ff3c46!important}.zjapp .item-time-cost.is-cover[data-v-2a8631da] .item-text{color:#ff3c46}',""])}}]);