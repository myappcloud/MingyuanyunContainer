(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-43fe8538","chunk-739f37c8"],{"774b":function(t,e,a){"use strict";a.r(e);var i=a("d18d").a,l=(a("b225"),a("17cc")),n=Object(l.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"scroll-warp",staticClass:"scroll-warp",class:{"scroll-warp-pulling":t.pulling,"scroll-warp-complete":!t.hasNext&&!t.isEmpty,"scroll-warp-empty":t.isEmpty},style:{"padding-bottom":t.numberKeyboardCoverHeight+"px"},on:{scroll:t.onScroll,touchstart:t.onTouchstart,touchmove:t.onTouchmove,touchend:t.onTouchend}},[t.allowPullDown?a("div",{staticClass:"pull-refresh-warp",style:{height:t.pullDist+"px"}},[a("div",{staticClass:"pull-refresh"},[a("div",{staticClass:"animation-refresher",class:{refreshing:t.refreshing}}),t.updateTime?a("p",{staticClass:"pull-refresh-date"},[t._v("最后成功同步："+t._s(t.updateTime))]):t._e()])]):t._e(),t._t("default"),t.loading?a("div",{staticClass:"page-loading"},[a("svg",{staticClass:"svg-loading",attrs:{viewBox:"0 0 80 80"}},[a("circle",{attrs:{cx:"40",cy:"40",r:"36"}})])]):t._e(),t.hasNext||t.isEmpty?t._e():[t.$slots.end?t._t("end"):t._e(),!t.$slots.end&&t.endText?a("div",{staticClass:"end-text"},[t._v("\n      "+t._s(t.endText)+"\n    ")]):t._e()]],2)}),[],!1,null,"2b1a346c",null);e.default=n.exports},"9d55":function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,'.zjapp .scroll-warp[data-v-2b1a346c]{flex:1;overflow:auto;-webkit-overflow-scrolling:touch}.zjapp .scroll-warp-pulling[data-v-2b1a346c]{overflow:hidden}.zjapp .scroll-warp-complete[data-v-2b1a346c]:after{content:"";display:block;height:100px}.zjapp .scroll-warp-empty[data-v-2b1a346c]{display:flex;flex-direction:column}.zjapp .pull-refresh-warp[data-v-2b1a346c]{position:relative;height:0;overflow:hidden}.zjapp .pull-refresh[data-v-2b1a346c]{position:absolute;left:0;bottom:0;height:70px;width:100%;padding:6px;text-align:center}.zjapp .pull-refresh-date[data-v-2b1a346c]{margin-top:4px;height:16px;line-height:16px;font-size:12px;color:#bcbcbc}.zjapp .page-loading[data-v-2b1a346c]{padding:10px;text-align:center}.zjapp .end-text[data-v-2b1a346c]{color:#c8c8c8;background:#f4f4f4;position:relative;line-height:76px;height:76px;text-align:center}.zjapp .end-text[data-v-2b1a346c]:after,.zjapp .end-text[data-v-2b1a346c]:before{content:"";position:absolute;width:48px;height:1px;background:#e4e4e4;top:50%;margin-top:-1px}.zjapp .end-text[data-v-2b1a346c]:after{left:50%;transform:translateX(-92px)}.zjapp .end-text[data-v-2b1a346c]:before{right:50%;transform:translateX(90px)}.zjapp .end-slot[data-v-2b1a346c]{padding:30px;line-height:18px;text-align:center;color:#c8c8c8}',""])},b225:function(t,e,a){"use strict";a("ef48")},d18d:function(t,e,a){"use strict";(function(t){a("2b45");var i,l=a("4360"),n=a("48f4"),s=a("162a"),o=a("e2a7"),r=a("a500"),c=a("6f9e"),p={};e.a={name:"Scroller",props:{buildingId:{type:String,default:""},hasNext:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},isSync:{type:Boolean,default:!0},endText:{type:String,default:""},memoryScrollTop:{type:Boolean,default:!0},keepScrollTop:{type:Boolean},hasPullDown:{type:Boolean,default:!0},onPullDown:{type:Function}},data:function(){return{pullDist:0,refreshing:!1,pulling:!1,loading:!1,scrollTop:0,isCurrKeyboard:!1,gapBottom:0}},computed:{allowPullDown:function(){return this.hasPullDown&&(!!this.$listeners.pullDown||!!this.onPullDown)},updateTime:function(){return l.a.state.global.businessDownloadTime},numberKeyboardCoverHeight:function(){return l.a.state.global.isNumberInputOpen?l.a.state.global.numberKeyboardHeight-this.gapBottom:0}},mounted:function(){var t=this;c.a.$on("numberKeyboardOpen",this.onNumberKeyboardOpen),this.$nextTick((function(){var e=t.$refs["scroll-warp"]&&t.$refs["scroll-warp"].getBoundingClientRect&&t.$refs["scroll-warp"].getBoundingClientRect();e&&(t.gapBottom=document.documentElement.clientHeight-e.bottom),t.$el&&t.$el.addEventListener("focus",(function(e){var a=e&&e.target,i=a&&a.tagName&&a.tagName.toLowerCase();if("input"===i||"textarea"===i){window.addEventListener("resize",(function e(){var i=a.getBoundingClientRect(),l=t.$el.getBoundingClientRect(),n=i.bottom-l.bottom;n>0&&t.scrollBy(n),window.removeEventListener("resize",e,!1)}),!1)}}),!0)}))},destroyed:function(){c.a.$off("numberKeyboardOpen",this.onNumberKeyboardOpen)},activated:function(){var t=this.keepScrollTop||this.$router.isBack&&this.memoryScrollTop;this.scrollTop&&t&&(this.$refs["scroll-warp"].scrollTop=this.scrollTop)},deactivated:function(){this.memoryScrollTop&&(this.scrollTop=this.$refs["scroll-warp"].scrollTop)},methods:{onScroll:function(t){var e=this,a=this.$refs["scroll-warp"].scrollTop,i=this.$refs["scroll-warp"].scrollHeight;if(a+this.$refs["scroll-warp"].clientHeight>=i-5&&!this.loading&&this.hasNext){this.loading=!0;var l=this.$listeners.loadNext();l&&l.then&&"function"==typeof l.then?l.then((function(){e.loading=!1})):this.loading=!1}this.$emit("scroll",t)},getTouchDiretion:function(t){if(!(p&&t&&t.touches&&t.touches[0]))return"";var e=t.touches[0].clientX,a=t.touches[0].clientY;return Math.abs(a-p.y)>Math.abs(e-p.x)&&Math.abs(a-p.y)>=3?a>p.y?"down":"up":""},onTouchstart:function(t){this.allowPullDown&&t.touches&&1===t.touches.length&&(p={x:t.touches[0].clientX,y:t.touches[0].clientY,scrollTop:this.$refs["scroll-warp"].scrollTop,pullDist:this.pullDist})},onTouchmove:function(t){if(this.allowPullDown&&t.touches&&1===t.touches.length){var e=this.$refs["scroll-warp"].scrollTop,a=t.touches[0].clientY,i=a-p.y,l=this.getTouchDiretion(t);"down"===l?!this.refreshing&&e<=0?(this.pulling=!0,this.pullDist=(i-p.scrollTop)/2,t.preventDefault()):this.pulling=!1:"up"===l?this.pullDist>0&&(this.pullDist=p.pullDist-(p.y-a),t.preventDefault()):this.pullDist=p.pullDist}},onTouchend:function(){var t=this;this.allowPullDown&&(p={},this.pulling=!1,this.pullDist>=70&&this.isSync?this.refreshing?this.makePullTo(70):this.makePullTo(70).then((function(){if(t.refreshing=!0,t.onPullDown){var e=t.onPullDown();e&&e.then&&"function"==typeof e?e.finally((function(){t.refreshing=!1,t.makePullTo(0)})):(t.refreshing=!1,t.makePullTo(0))}else t.dataSync().then((function(){t.refreshing=!1,t.makePullTo(0),t.$emit("pullDown")})).catch((function(){t.refreshing=!1,t.makePullTo(0),t.$emit("pullDown")}))})):(this.refreshing=!1,this.makePullTo(0)))},makePullTo:function(t){var e=this,a=this.pullDist,i=t,l=i-a,n=a;return a===i?Promise.resolve():new Promise((function(t){!function s(){window.requestAnimationFrame((function(){n+=l/6,e.pullDist=n,a<i&&n<i||a>i&&n>i?s():(e.pullDist=i,e.refreshing=!1,t())}))}()}))},dataSync:function(){var t,e=n.default.getCurrentModuleCode(),a=n.default.getCurrentRoute(),i=a.meta&&a.meta.isTodo;if(n.default.isModuleNeedBuilding(e)&&!i){if(!this.buildingId)return new Promise((function(t){setTimeout((function(){t()}),500)}));t=this.buildingId}return r.a.addTrack("公共-手动下拉刷新","",""),s.a.beginManualUpdate(),n.default.checkSync(t).then((function(t){return s.a.endManualUpdate(),t})).catch((function(t){$log.error("下拉刷新错误",t),t&&"Error: Network Error"===t.toString()?o.a.alert("当前网络无法同步数据"):o.a.alert(t),s.a.endManualUpdate()}))},getScrollHeight:function(){return this.$refs["scroll-warp"].offsetHeight},getScrollTop:function(){return this.$refs["scroll-warp"].scrollTop},setScrollTop:function(t){this.$refs["scroll-warp"].scrollTop=t},scrollBy:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,l=this.getScrollTop(),n=l+t,s=Math.round(a/16.7),o=t/s,r=l,c=i=+new Date;return l===n?Promise.resolve():new Promise((function(t){!function a(){window.requestAnimationFrame((function(){c===i&&(r+=o,e.$refs["scroll-warp"].scrollTop=r,l<n&&r<n||l>n&&r>n?a():(e.$refs["scroll-warp"].scrollTop=n,t()))}))}()}))},scrollTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a=this.getScrollTop(),i=t-a;return this.scrollBy(i,e)},scrollToEle:function(t){var e=t.keyboardHeight||232,a=(t=t.$el?t.$el:t).getBoundingClientRect(),i=this.$refs["scroll-warp"].getBoundingClientRect();if(a&&i){var n=document.documentElement.clientHeight-(l.a.state.global.isNumberInputOpen?e:0),s=i.bottom<n?i.bottom:n,o=i.top-a.top,r=a.bottom-s;o>0?this.scrollBy(-o-10):r>0&&this.scrollBy(r+10)}},isCurrent:function(e,a){var i=this;e.length&&t.each(e,(function(t){t._uid===a?i.isCurrKeyboard=!0:i.isCurrent(t.$children,a)}))},onNumberKeyboardOpen:function(t){this.isCurrKeyboard=!1,this.isCurrent(this.$children,t._uid),this.isCurrKeyboard&&this.scrollToEle(t)}}}}).call(this,a("391c"))},d298:function(t,e,a){var i=a("f6ce");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("44bc4b13",i,!0,{sourceMap:!1,shadowMode:!1})},e506:function(t,e,a){"use strict";a("d298")},ee79:function(t,e,a){"use strict";a.r(e);var i=a("f268").a,l=(a("e506"),a("17cc")),n=Object(l.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-content",{attrs:{title:"实测数据明细","show-go-root":!0}},[t.noData||t.isLoading?t._e():a("scroller",[a("div",{staticClass:"laser-scanning-detail"},[a("div",{staticClass:"l-s-main"},[a("div",{staticClass:"main-detail_header"},[a("span",{staticClass:"main-detail_text"},[t._v("合格率")]),t._v("：\n          "),a("span",{staticClass:"main-detail_num",class:{qualified:t.detailData.pass_rate>=.8,disqualified:t.detailData.pass_rate<.8}},[t._v(t._s(null!==t.detailData.pass_rate&&""!==t.detailData.pass_rate?t.percent(t.detailData.pass_rate,2):""))])]),a("item",{attrs:{label:"实测户室",text:t.detailData.place_name}}),a("item",{attrs:{label:"施工阶段",text:t.detailData.parent_checkitem.name}}),a("item",{attrs:{label:"测站",text:t.detailData.station_name}}),a("item",{attrs:{label:"实测项",text:t.detailData.checkitem.name}}),a("item",{attrs:{label:"合格标准",text:t.detailData.standardRange}}),a("item",{class:{"design-no":0===t.detailData.setValText.length},attrs:{label:"设计值",text:t.detailData.setValText||"/"}})],1),a("div",{staticClass:"l-s-list"},t._l(t.detailData.pointGroups,(function(e,i){return a("div",{key:i,staticClass:"list-li"},[a("div",{staticClass:"list-li_title",class:{"name-no":!Boolean(i)}},[t._v("\n            "+t._s(i||"无测区名")+"\n          ")]),a("div",{staticClass:"list-li_content"},[t.detailData.hasMeasureLabels?a("div",{staticClass:"list-content_z"},t._l(t.detailData.measureLabels,(function(i,l){return a("p",{key:l},[a("span",{staticClass:"list-content_name"},[t._v(t._s(i))]),a("span",{staticClass:"list-content_num"},t._l(t.pointsFilter(e,{label:i}),(function(e,i){return a("span",{key:i},[t._v("\n                    "+t._s(i?",":"")+"\n                    "),a("span",{class:{"val-red":e.isExceed}},[t._v(t._s(e.val))])])})))])}))):a("div",{staticClass:"list-content_z"},t._l(e,(function(e,i){return a("span",{key:i},[t._v("\n                "+t._s(i?",":"")+"\n                "),a("span",{class:{"val-red":e.isExceed}},[t._v(t._s(e.val))])])})))])])})))])]),a("loading-status",{attrs:{"is-loading":t.isLoading,"is-empty":t.noData,"empty-text":"暂无数据"}})],1)}),[],!1,null,"48974e74",null);e.default=n.exports},ef48:function(t,e,a){var i=a("9d55");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("85cb").default)("a1a65c0c",i,!0,{sourceMap:!1,shadowMode:!1})},f268:function(t,e,a){"use strict";(function(t){a("9251"),a("6d57"),a("e10e");var i=a("07d2"),l=a("774b"),n=a("3103"),s=a("966e");e.a={name:"LaserScanningDetail",components:{item:i.default,Scroller:l.default},data:function(){return{isLoading:!0,resultId:"",detailData:{}}},computed:{noData:function(){return 0===Object.keys(this.detailData).length}},activated:function(){this.resultId=this.$route.query.resultId,$log.log("激光扫描实测-详情-传入id：",this.resultId),this.init()},methods:{percent:s.a,init:function(){this.getDetailData()},getDetailData:function(){var t=this;return this.isLoading=!0,n.a.getMeasurelResultData(this.resultId).then((function(e){console.log("激光扫描实测-详情-获取的数据：",Object.freeze(e)),t.detailData=e,t.isLoading=!1})).catch((function(e){$log.error(e),t.detailData={},t.isLoading=!1}))},pointsFilter:function(e,a){return t.filter(e,a)}}}}).call(this,a("391c"))},f6ce:function(t,e,a){(t.exports=a("690e")(!1)).push([t.i,'.zjapp .laser-scanning-detail .l-s-main[data-v-48974e74]{margin-bottom:10px}.zjapp .laser-scanning-detail .main-detail_header[data-v-48974e74]{height:48px;line-height:48px;font-size:16px;padding:0 15px;background:#fff;border-bottom:1px solid #ececec}.zjapp .laser-scanning-detail .main-detail_text[data-v-48974e74]{font-weight:700;color:#333}.zjapp .laser-scanning-detail .main-detail_num.qualified[data-v-48974e74]{color:#0bc666}.zjapp .laser-scanning-detail .main-detail_num.disqualified[data-v-48974e74]{color:#ff3c46}.zjapp .laser-scanning-detail .design-no[data-v-48974e74] .item-text{color:#999}.zjapp .laser-scanning-detail .list-li[data-v-48974e74]{margin-bottom:10px;background:#fff;padding:0 15px 12px;font-size:16px}.zjapp .laser-scanning-detail .list-li_title[data-v-48974e74]{height:46px;display:flex;align-items:center;line-height:22px;position:relative;color:#333}.zjapp .laser-scanning-detail .list-li_title[data-v-48974e74]:after{content:"";position:absolute;width:4px;height:16px;left:-15px;top:50%;margin-top:-8px;background:#4275e8}.zjapp .laser-scanning-detail .list-li_title.name-no[data-v-48974e74]{color:#c8c8c8}.zjapp .laser-scanning-detail .list-content_name[data-v-48974e74]{display:inline-block;min-width:35px;margin-right:15px;color:#999}.zjapp .laser-scanning-detail .list-content_num[data-v-48974e74]{color:#333}.zjapp .laser-scanning-detail .list-content_z[data-v-48974e74]{line-height:20px}.zjapp .laser-scanning-detail .list-content_z p[data-v-48974e74]:first-child{margin-bottom:10px}.zjapp .laser-scanning-detail .val-red[data-v-48974e74]{color:#ff3c46}',""])}}]);