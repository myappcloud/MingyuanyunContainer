(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-65df7623"],{"03c3":function(e,t,o){e.exports=o.p+"img/ncov4.fef570e5.png"},"04e7":function(e,t,o){var n=o("6623");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,o("85cb").default)("dcf5ba2a",n,!0,{sourceMap:!1,shadowMode:!1})},"23b5":function(e,t,o){"use strict";o.r(t);o("f548"),o("cc57"),o("e10e"),o("6d57");var n=o("774b"),i=o("162a"),c=(o("4ad6"),o("3bd5")),a=o("6144"),r=o("2137"),s=o("c745"),d=(o("391c"),[{routerName:"NcovWorkConditions",moduleName:"复工条件准备",icon:o("d280"),describe:"项目经理",role:406},{routerName:"NcovPersonBackRecord",moduleName:"个人返程记录",icon:o("d73f"),describe:"甲方、监理、施工方驻场人员",role:405},{routerName:"ncovEnter",moduleName:"人员进出场登记",icon:o("bfdc"),describe:"专职出入口登记人员",role:401},{routerName:"NcovTemperatureIndex",moduleName:"在场人员日常测温",icon:o("03c3"),describe:"专职卫生员",role:402},{routerName:"NcovTemperatureGemdaleIndex",moduleName:"在场人员日常测温",icon:o("03c3"),describe:"专职卫生员",role:407},{routerName:"NcovDisinfectIndex",moduleName:"防疫消杀",icon:o("ed20"),describe:"专职卫生员",role:403},{routerName:"NocvMaterialInventory",moduleName:"防疫物资盘点",icon:o("f6c8"),describe:"专职卫生员",role:404}]),l={name:"NcovIndex",components:{Scroller:n.default,DropDownSelectSingle:r.a},data:function(){return{isLoading:!0,menuList:d,h5Site:"",sectionOptions:[],currentSection:{},roles:[]}},computed:{projectSelected:function(){return this.$store.state.global.currentProject}},created:function(){var e=this;i.a.request("/site/get-site-url",{name:"MobileCheckQualityH5Site"}).then((function(t){e.h5Site=t}))},activated:function(){this.getRoles(),this.getSectionList()},deactivated:function(){this.$refs["home-index-section-select"].closePopup()},methods:{getRoles:function(){var e=this;return this.menuList=[],s.a.getRoles().then((function(t){if(!t.length)return!1;d.forEach((function(o){~t.indexOf(o.role)&&e.menuList.push(o)}))}))},onSelectSection:function(e){console.log(e),this.currentSection=e,a.a.saveObject("ncov-index-section-default"+this.projectSelected.id,e,a.a.level.user)},getSectionList:function(){var e=this;i.a.request("/online/project/get-bidsection-list",{proj_id:this.projectSelected.id}).then((function(t){e.sectionOptions=t;var o=a.a.getObject("ncov-index-section-default"+e.projectSelected.id,a.a.level.user)||{},n=t.filter((function(e){return o.id===e.id})),i=Object.keys(o).length>0&&n.length>0?n[0]:t[0];e.currentSection=i,a.a.saveObject("ncov-index-section-default"+e.projectSelected.id,i,a.a.level.user)})).finally((function(){e.isLoading=!1}))},goModulesView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("NcovPersonBackRecord"===e.routerName&&this.h5Site){var t=c.a.getUser().tenant_code,o=c.a.getUser().user_id,n="".concat(this.h5Site,"/return-trip?tenant_code=").concat(t,"&proj_id=").concat(this.projectSelected.id,"&bidsection_id=").concat(this.currentSection.id),i=(n+="&t="+(new Date).getTime()+"&o=".concat(t))+"&app_user_id="+o;console.log({shareUrl:n}),this.$router.push({path:"/ncov-iframe",query:{url:i,title:"个人返程记录",share_url:n,share_description:this.projectSelected.name+this.currentSection.name+"个人返程记录",qrCodeId:this.currentSection.id,name:this.projectSelected.name+this.currentSection.name}})}else this.$router.push({name:e.routerName,query:{sectionId:this.currentSection.id}})},goBack:function(){this.$router.replace({name:"WorkBench"},!0)}}},u=(o("f10f"),o("17cc")),p=Object(u.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("page-content",[!e.isLoading&&e.sectionOptions.length?o("drop-down-select-single",{ref:"home-index-section-select",attrs:{slot:"header-bar-center",options:e.sectionOptions,selected:e.currentSection},on:{select:e.onSelectSection},slot:"header-bar-center"}):e._e(),e.sectionOptions.length?o("scroller",{staticClass:"scroller-ncov"},e._l(e.menuList,(function(t,n){return o("div",{key:n,staticClass:"menu-list van-hairline--bottom",on:{click:function(o){e.goModulesView(t)}}},[o("div",{staticClass:"module-img",style:{"background-image":"url("+t.icon+")"}}),o("div",{staticClass:"module-content"},[o("p",{staticClass:"module-place"},[e._v(e._s(t.moduleName))]),o("div",{staticClass:"module-describe"},[e._v("适用人员："+e._s(t.describe))])]),o("div",{staticClass:"arrow-icon"},[o("icon",{attrs:{name:"arrow-right"}})],1)])}))):e._e(),o("loading-status",{attrs:{"is-loading":e.isLoading,"is-empty":!e.sectionOptions.length,"empty-text":"该项目下无标段"}})],1)}),[],!1,null,"5d230a6d",null);t.default=p.exports},6623:function(e,t,o){var n=o("5454");(e.exports=o("690e")(!1)).push([e.i,".zjapp .scroller-ncov[data-v-5d230a6d]{padding:10px 20px;background:#fff}.zjapp .building-select-con[data-v-5d230a6d]{display:inline-block;position:relative;padding-right:23px;max-width:calc(100% - 220px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:top}.zjapp .building-select-con .arrow[data-v-5d230a6d]{position:absolute;top:13px;right:0;width:18px;height:18px;background:url("+n(o("7fb27"))+") no-repeat;background-size:100% 100%;transition:transform .2s}.zjapp .building-select-con .arrow.active[data-v-5d230a6d]{transform:rotate(180deg)}.zjapp .menu-list[data-v-5d230a6d]{display:flex;align-items:center;padding:18px 0}.zjapp .menu-list .module-img[data-v-5d230a6d]{position:relative;flex:0 0 48px;width:48px;height:48px;background:no-repeat 50%;background-size:cover;margin:0 20px 0 0}.zjapp .menu-list .module-content[data-v-5d230a6d]{flex:1;overflow:hidden}.zjapp .menu-list .module-content .module-place[data-v-5d230a6d]{width:100%;line-height:22px;font-weight:500;margin:1px 0 5px 0;font-size:16px;color:#333;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.zjapp .menu-list .module-content .module-describe[data-v-5d230a6d]{line-height:20px;color:#999}.zjapp .menu-list .arrow-icon[data-v-5d230a6d]{color:#c8c8c8}.zjapp .loading-status-button[data-v-5d230a6d]{padding:5px 16px;background:linear-gradient(270deg,#55abff,#4c7aff);border-radius:15px;margin-top:30px;color:#fff;font-size:14px}",""])},bfdc:function(e,t,o){e.exports=o.p+"img/ncov3.83da804a.png"},d280:function(e,t,o){e.exports=o.p+"img/ncov1.9ffe39a7.png"},d73f:function(e,t,o){e.exports=o.p+"img/ncov2.54a2819c.png"},ed20:function(e,t,o){e.exports=o.p+"img/ncov5.287a5fb7.png"},f10f:function(e,t,o){"use strict";o("04e7")},f6c8:function(e,t,o){e.exports=o.p+"img/ncov6.e05edb1a.png"}}]);