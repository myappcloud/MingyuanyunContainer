(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-c227a568"],{"084b":function(t,a,e){"use strict";e("9047")},"7c38":function(t,a,e){(t.exports=e("690e")(!1)).push([t.i,".zjapp .scroll-warp[data-v-a25a9786]{background:#fff}.zjapp .core-staff-info[data-v-a25a9786]{display:flex;align-items:center;background-color:#fff;position:relative;padding-left:16px}.zjapp .core-staff-info .user-avatar[data-v-a25a9786]{display:block;width:44px;height:44px;background:no-repeat 50%;background-size:cover;background-color:#ddd;border-radius:100%}.zjapp .core-staff-info .item-phone-icon[data-v-a25a9786]{color:#4275e8;width:22px;height:22px;text-align:center;line-height:22px;position:absolute;right:22px;top:23px}.zjapp .core-staff-info .item-phone-icon .icon[data-v-a25a9786]{font-size:18px}.zjapp .item-list-con[data-v-a25a9786]{flex:1;padding:12px 0 12px 10px}.zjapp .item-list-con .user-name[data-v-a25a9786]{color:#333;width:80%;line-height:22px}.zjapp .item-list-con .user-name span[data-v-a25a9786]{font-size:16px}.zjapp .item-list-con .user-name span[data-v-a25a9786]:nth-child(2){display:inline-block;position:relative;top:-2px;left:6px;height:16px;line-height:14px;font-size:10px;color:#4275e8;border:1px solid #4275e8;border-radius:2px;padding:0 4px}.zjapp .item-list-con .user-phone[data-v-a25a9786]{line-height:22px;font-size:14px;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important;color:#999}.zjapp .supplier-unit[data-v-a25a9786]{padding:0 16px}.zjapp .supplier-unit .item-content[data-v-a25a9786]{padding-top:12px;padding-bottom:12px}.zjapp .supplier-unit .item-company .contractor-kind[data-v-a25a9786]{display:inline-block;border:1px solid #4275e8;border-radius:2px;color:#4275e8;font-size:12px;height:16px;line-height:14px;padding:0 4px;position:relative;top:-2px}.zjapp .supplier-unit .item-company .contractor-name[data-v-a25a9786]{font-size:16px;line-height:22px;color:#333;padding-left:4px}.zjapp .supplier-unit .item-place[data-v-a25a9786]{font-size:14px;color:#999;line-height:22px}",""])},"8e38":function(t,a,e){"use strict";e.r(a);var i=e("07d2"),o=e("f881"),s=e("774b"),n=e("e2a7"),r=e("1b7e"),p=e("162a"),l=e("3122"),c={project_core_user:{title:"核心人员信息",url:"/online/project-board/get-project-core-user-list"},major_contractor:{title:"主要供方单位",url:"/online/project-board/get-bidsection-major-contractor-list"}},d={components:{Item:i.a,Tabs:o.a,Scroller:s.a},props:{},data:function(){return{title:"",type:"",hasNextPage:!0,page:1,pageSize:15,list:[],isLoading:!1,isHasNetwork:!0}},computed:{},watch:{},activated:function(){if(!this.$router.isBack){var t=this.$route.query,a=(t.proj_id,t.type);this.title=c[a].title,this.type=a,this.page=1,this.list=[],this.isLoading=!0,this.isHasNetwork=!0,this.init()}},methods:{init:function(){this.loadDetail()},loadNextDetail:function(){this.page+=1,this.loadDetail()},loadDetail:function(){var t=this;return r.a.getHasNetwork().then((function(t){if(!t)return $q.reject({errmsg:"当前无网络连接"})})).then((function(){var a=t.$route.query,e=a.proj_id,i=a.type,o={bidsection_id:a.bidsection_id||"",proj_id:e,page:t.page,page_size:t.pageSize},s=c[i].url;return p.a.request(s,o)})).then((function(a){console.log("data",a),t.hasNextPage=!!a.has_next_page,t.list=t.list.concat(a.list||[]),t.isLoading=!1})).catch((function(a){t.isLoading=!1,t.isHasNetwork=!1,n.a.alert(a.errmsg||"获取数据失败")}))},getThumbnailFromUrl:function(t){try{return t?l.a.getThumbnailFromUrl(t):"static/default_img_simple.png"}catch(t){return"static/default_img_simple.png"}}}},u=(e("084b"),e("17cc")),h=Object(u.a)(d,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("page-content",{attrs:{title:t.title}},[t.list.length?e("scroller",{staticClass:"mt10",attrs:{"has-next":t.hasNextPage},on:{loadNext:t.loadNextDetail}},t._l(t.list,(function(a,i){return e("div",{key:i,staticClass:"panel"},["project_core_user"===t.type?[e("div",{staticClass:"core-staff-info"},[e("div",{staticClass:"user-avatar",style:{backgroundImage:"url("+t.getThumbnailFromUrl(a.headimg_url)+")"}}),e("div",{staticClass:"item-list-con",class:{"border-bottom":i!==t.list.length-1}},[e("div",{staticClass:"user-name"},[e("span",[t._v(t._s(a.name))]),a.post?e("span",[t._v(t._s(a.post))]):t._e()]),e("p",{staticClass:"user-phone"},[t._v(t._s(a.mobile))]),e("a",{staticClass:"item-phone-icon",attrs:{href:"tel:"+a.mobile}},[e("icon",{attrs:{name:"dianhua"}})],1)])])]:t._e(),"major_contractor"===t.type?[e("div",{staticClass:"supplier-unit"},[e("div",{staticClass:"item-content",class:{"border-bottom":i!==t.list.length-1}},[e("div",{staticClass:"item-company"},[a.contractor_kind?e("span",{staticClass:"contractor-kind"},[t._v(t._s(a.contractor_kind))]):t._e(),e("span",{staticClass:"contractor-name"},[t._v(t._s(a.contractor_name))])]),e("div",{staticClass:"item-place"},[t._v(t._s(a.bidsection_name)+" "),a.building_name?e("span",[t._v("("+t._s(a.building_name)+")")]):t._e()])])])]:t._e()],2)}))):t._e(),e("loading-status",{attrs:{"is-loading":t.isLoading,"is-empty":!t.list.length||!t.isHasNetwork,type:t.isHasNetwork?"error":"common","empty-text":t.isHasNetwork?"暂无数据":"当前无网络连接"}})],1)}),[],!1,null,"a25a9786",null);a.default=h.exports},9047:function(t,a,e){var i=e("7c38");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,e("85cb").default)("1ee4d12e",i,!0,{sourceMap:!1,shadowMode:!1})}}]);