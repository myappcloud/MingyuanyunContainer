(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-70464367","chunk-739f37c8"],{17367:function(t,e,n){var i=n("e46b"),a=n("4c9f")(!0);i(i.S,"Object",{entries:function(t){return a(t)}})},2030:function(t,e,n){var i=n("20e1");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("85cb").default)("3cfecdd5",i,!0,{sourceMap:!1,shadowMode:!1})},"20e1":function(t,e,n){var i=n("5454");(t.exports=n("690e")(!1)).push([t.i,"[data-v-211bb324] .layout-content{background-color:#fff}.zjapp .scroll-warp.empty[data-v-211bb324]{flex:none}.zjapp .process-status-total-bar[data-v-211bb324]{margin:0 0 10px}.zjapp .batch-name[data-v-211bb324] .van-dialog__content{padding:32px 20px}.zjapp .batch-name[data-v-211bb324] .van-dialog__cancel{color:#666}.zjapp .batch-name[data-v-211bb324] .van-dialog__confirm{color:#4275e8}.zjapp .header-center[data-v-211bb324]{display:flex;justify-content:center;align-items:center;padding:0 40px 0 50px}.zjapp .header-center .name[data-v-211bb324]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.zjapp .header-center .arrow[data-v-211bb324]{flex:0 0 18px;width:18px;height:18px;background:url("+i(n("6dba"))+") no-repeat 50%;background-size:100% 100%;pointer-events:none;transition:transform .2s;margin:0 0 0 5px}.zjapp .header-center .arrow.active[data-v-211bb324]{transform:rotate(180deg)}",""])},"21c9":function(t,e,n){var i=n("a91d");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("85cb").default)("994c6caa",i,!0,{sourceMap:!1,shadowMode:!1})},"2ae1":function(t,e,n){"use strict";n("21c9")},"2b8d":function(t,e,n){"use strict";(function(t){n("f548"),n("163d"),n("cc57"),n("6d57"),n("06a2"),n("ed63"),n("8cf2");var i=n("e2a7"),a=(n("1b7e"),n("774b")),o=n("d623"),r=n("f546"),c=n("f459"),s=n("32ba"),l=n("bc69"),u=n("6144"),d=n("3bd5"),p=n("7b81"),h=n("414f"),f=n("5750"),b=(n("d474"),n("7f8d"));n("ed08");e.a={name:"ProcessAcceptV3",components:{Scroller:a.default,DropDownSelect:o.a,StatusTotalBar:r.a,PlaceList:c.default,ProcessBuildingSelected:s.a,BatchOperation:function(){return n.e("chunk-65585e12").then(n.bind(null,"9df6"))},SelectInfoList:function(){return n.e("chunk-489fb24e").then(n.bind(null,"14ccb"))}},data:function(){return{isLoading:!0,loadingType:"common",emptyTips:"",isHasNetwork:!0,title:"工序验收",opened:!1,hasAddBatchAuth:!1,hasBatchOperationAuth:!1,checkItem:[],bidsection:[],showBatchName:!1,batchName:"",params:{},classSet:{"验收中":"bg-orange","已验收":"bg-green","草稿":"bg-draft","已抽验":"bg-spotcheck"},placeData:[],placeBuildData:{},deliver_type:1,statusNumPending:0,statusNumChecking:0,statusNumAlready:0,statusNumSpotcheck:0}},computed:{projId:function(){return this.$store.state.global.currentProject.id},statusBarData:function(){return[{status:"待报验(".concat(this.statusNumPending,")"),color:"white2"},{status:"验收中(".concat(this.statusNumChecking,")"),color:"orange2"},{status:"已验收(".concat(this.statusNumAlready,")"),color:"green"},{status:"已抽验(".concat(this.statusNumSpotcheck,")"),color:"green-border"}]},isListEmpty:function(){var e=[1,2,5,6].includes(this.deliver_type)&&!this.placeData.length,n=3===this.deliver_type&&t.isEmpty(this.placeBuildData);return e||n},computedLoadingType:function(){return this.isListEmpty?"common":this.loadingType},computedAppBtnGroup:function(){return!this.isLoading&&this.isHasNetwork&&(this.computedAddCheckoutAuth||this.computedBatchBtn)},computedAddCheckoutAuth:function(){return 6===this.deliver_type&&this.hasAddBatchAuth},computedBatchBtn:function(){var t=this.hasBatchOperationAuth,e=this.placeData.length>1,n=this.placeData.some((function(t){return t.rooms&&t.rooms.length>1})),i=e||n,a=b.b.includes(this.deliver_type);return t&&i&&a},computedIsBatchBtnPlain:function(){return!this.isListEmpty&&6===this.deliver_type}},activated:function(){this.getAddBatchAuth(),this.init()},methods:{init:function(){var t=this;this.placeData=[],this.placeBuildData={},this.loadingType="search",this.emptyTips="暂无数据",this.isHasNetwork=!0,Promise.all([this.getCheckItemList(),this.getBidsectionBuildings()]).then((function(){var e=u.a.getObject("".concat(l.a.PROCESS_ACCEPT_V3_SELECT_PROCESS_DEFAULT,"_").concat(t.projId),u.a.level.user)||{};if(Array.isArray(e)&&(e=e[0]||{}),!e.lastCheckItem)return t.openProcessSelected(),t.isLoading=!1,void(t.title="工序验收");t.process_mode=e.lastCheckItem.process_mode||1,t.getTitleName(e);var n={projId:t.projId,itemId:e.lastCheckItem?e.lastCheckItem.id:"",bidsectionId:e.bidsection?e.bidsection.id:"",bidsectionName:e.bidsection?e.bidsection.name:"",buildingId:e.building?e.building.id:"",unit:e.unit?e.unit.unit_number:""};t.params=n,6===t.process_mode?t.getCustomAcceptBatchList(n):t.getPlaceList(n),t.getBatchOperationBtnAuth(e,t.checkItem)})).catch((function(e){"当前网络无法同步数据"===e&&(t.emptyTips=e,t.loadingType="error",t.isHasNetwork=!1),e&&404404===e.errCode&&setTimeout((function(){t.$router.go(-1)}),500),i.a.alert(e.errmsg||e)}))},getCheckItemList:function(){var e=this;return Object(f.h)({proj_id:this.projId}).then((function(n){var i={1:"分户",2:"不分单元整层",3:"整栋",5:"分单元整层",6:"自定义检验批"};if(n=n.children||[],t.each(n,(function(e){e.isCheckItem=!0,t.each(e.children,(function(e){e.process_mode&&(e.process_mode=Number(e.process_mode),e.note=i[e.process_mode],e.isLast=!0,e.isCheckItem=!0),t.each(e.children,(function(t){t.process_mode&&(t.process_mode=Number(t.process_mode),t.note=i[t.process_mode],t.isLast=!0,t.isCheckItem=!0)}))}))})),e.checkItem=n,t.isEmpty(n))return Promise.reject({errCode:404404,errmsg:"该项目未设置检查项，请在PC端设置"})}))},getBidsectionBuildings:function(){var e=this;return Object(f.e)({proj_id:this.projId}).then((function(n){t.each(n,(function(e){e.isBidsection=!0,t.each(e.children,(function(e){e.isBuilding=!0,t.each(e.children,(function(t){t.unit_number=t.name,t.name=t.name.replace("单元","")+"单元",t.isUnit=!0}))}))})),e.bidsection=n}))},getCustomAcceptBatchList:function(e){var n=this;console.log("获取自定义检验批列表...."),this.isLoading=!0;var a={bidsection_id:e.bidsectionId,item_id:e.itemId};return Object(f.f)(a).then((function(e){n.deliver_type=6,n.placeData=e,n.statusNumPending=t.filter(e,(function(t){return!t.status})).length,n.statusNumChecking=t.filter(e,(function(t){return"验收中"===t.status})).length,n.statusNumAlready=t.filter(e,(function(t){return"已验收"===t.status})).length,n.statusNumSpotcheck=t.filter(e,(function(t){return"已抽验"===t.status})).length})).then((function(){return n.getDraftList().then((function(e){n.statusNumDraft=e&&e.length||0,e&&t.each(n.placeData,(function(i){var a=h.a.getMd5OnlyId(i.id);t.each(e||[],(function(t){a===t.acceptId&&(i.uuId=t.uuId,i.status=n._parseDataAndDraftStatus(t.status,i.status))}))}))}))})).catch((function(t){n.emptyTips=t.errmsg||t,i.a.alert(t.errmsg||t)})).finally((function(){n.isLoading=!1}))},_parseDataAndDraftStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("草稿"===t){var n=["验收中","已验收","已抽验"];if(n.includes(e))return"".concat(t,"_").concat(e)}return t},getDraftList:function(){var t=this.params,e=t.itemId,n=t.bidsectionId,i=t.buildingId,a=t.unit,o=this.deliver_type,r="";r=6===this.process_mode?e+n+o:e+i+(a||"")+o;var c=h.a.getMd5OnlyId(r);return h.a.getBizList(c)},getAddBatchAuth:function(){var t=this,e=d.a.getUser();return p.a.hasRoles(e.user_id,295).then((function(e){t.hasAddBatchAuth=e}))},onOpenBatchOperation:function(){this.$refs["batch-operation"].onOpenBatchOperationBtn()},openProcessSelected:function(){this.isHasNetwork&&(this.opened=!0,this.$refs["process-building-selected"].onOpen())},getPlaceList:function(e){var n=this;this.isLoading=!0;var a={proj_id:e.projId,item_id:e.itemId,building_id:e.buildingId,unit:e.unit};return Object(f.i)(a).then((function(e){n.deliver_type=Number(e.process_mode);var i=e.item_place||[];if(n.statusNumPending=t.filter(i,(function(t){return!t.status})).length,n.statusNumChecking=t.filter(i,(function(t){return"验收中"===t.status})).length,n.statusNumAlready=t.filter(i,(function(t){return"已验收"===t.status})).length,n.statusNumSpotcheck=t.filter(i,(function(t){return"已抽验"===t.status})).length,t.each(i,(function(t){t.room_no&&(t.name=t.room_no),t.floorName=t.floor&&"层"!==t.floor.substr(t.floor.length-1)?"".concat(t.floor,"层"):t.floor,t.unit_name=t.unit&&"单元"!==t.unit.substr(t.unit.length-2)?"".concat(t.unit,"单元"):t.unit})),1===n.deliver_type){var a=t.groupBy(i,"floor"),o={},r=[],c=i.reduce((function(t,e){return o[e.floor]||(o[e.floor]=!0,t.push(e)),t}),[]);t.each(c,(function(t){r.push({rooms:a[t.floor],accept_id:t.accept_id,building_id:t.building_id,floor:t.floor,floorName:t.floorName,status:t.status,unit:t.unit,unit_name:t.unit_name})})),n.placeData=r}else 3===n.deliver_type?n.placeBuildData=i&&i.length?i[0]:{}:n.placeData=i})).then((function(){return n.getDraftList().then((function(e){if(n.statusNumDraft=e&&e.length||0,e)if(3===n.deliver_type){var i=n.placeBuildData.building_id,a=h.a.getMd5OnlyId(i);e[0]&&a===e[0].acceptId&&(n.placeBuildData.uuId=e[0].uuId,n.placeBuildData.status=e[0].status)}else 1===n.deliver_type?t.each(n.placeData,(function(i){t.each(i.rooms,(function(i){var a=i.building_id+(i.unit||"")+(i.floor||"")+(i.room_id||""),o=h.a.getMd5OnlyId(a);t.each(e||[],(function(t){o===t.acceptId&&(i.uuId=t.uuId,i.status=n._parseDataAndDraftStatus(t.status,i.status))}))}))})):t.each(n.placeData,(function(i){var a=i.building_id+(i.unit||"")+(i.floor||"")+(i.room_id||""),o=h.a.getMd5OnlyId(a);t.each(e||[],(function(t){o===t.acceptId&&(i.uuId=t.uuId,i.status=n._parseDataAndDraftStatus(t.status,i.status))}))}));console.log({draft:e})}))})).catch((function(t){n.emptyTips=t.errmsg||t,i.a.alert(t.errmsg||t)})).finally((function(){n.isLoading=!1}))},gotoDetail:function(t){var e=this.deliver_type,n=this.params,i=n.itemId,a=n.bidsectionId,o=n.bidsectionName,r=t.accept_id,c=t.building_id,s=t.unit,l=t.floor,u=t.room_id,d=t.uuId,p=6===e?t.id:"",h=6===e?t.name:"";this.$router.push({path:"/process-accept-v3-edit",query:{item_id:i,building_id:c,unit:s,floor:l,room_id:u,deliver_type:e,accept_id:r,batch_id:p,batch_name:h,bidsection_id:a,bidsection_name:o,uuId:d}})},updateProcess:function(t,e){var n={projId:this.projId,itemId:t.lastCheckItem?t.lastCheckItem.id:"",bidsectionId:t.bidsection?t.bidsection.id:"",bidsectionName:t.bidsection?t.bidsection.name:"",buildingId:t.building?t.building.id:"",unit:t.unit?t.unit.unit_number:""};this.params=n,this.process_mode=e,6===e?this.getCustomAcceptBatchList(n):this.getPlaceList(n),this.getTitleName(t),this.getBatchOperationBtnAuth(t)},getBatchOperationBtnAuth:function(t){var e=t.lastCheckItem.id,n=null;!function t(e,i){if(null!==n)return;i.some((function(i){return null!==n||(i.id===e?(n=i.is_batch,!0):i.children&&i.children.length?t(e,i.children):void 0)}))}(e,this.checkItem),this.hasBatchOperationAuth=n===b.e},addAcceptBatch:function(t,e){var n=this;if("confirm"===t){if(!this.batchName.trim())return e(!1);var a={proj_id:this.projId,bidsection_id:this.params.bidsectionId,item_id:this.params.itemId,name:this.batchName.trim()};return Object(f.a)(a).then((function(t){e(),n.getCustomAcceptBatchList(n.params)})).catch((function(t){i.a.alert(t.errmsg||t),e(!1)}))}e()},getTitleName:function(t){var e=t.lastCheckItem||{},n=e.name||"",i=t.bidsection||{},a=t.building||{},o=6===e.process_mode?i.name:a.name;this.title="".concat(n,"-").concat(o||"")}}}}).call(this,n("391c"))},"2c33":function(t,e,n){"use strict";n("c973")},"30e2":function(t,e){t.exports="data:image/png;base64,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"},"32ba":function(t,e,n){"use strict";var i=n("7208").a,a=(n("2c33"),n("17cc")),o=Object(a.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-popup",{style:{height:"70%"},attrs:{position:"bottom",round:"",ellipsis:!1},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.historyData.length>0,expression:"historyData.length > 0"},{name:"track",rawName:"v-track",value:"工序验收V3-选择工序-查看历史选择",expression:"'工序验收V3-选择工序-查看历史选择'"}],staticClass:"text-button history-button",on:{click:function(e){t.showHistory=!t.showHistory}}},[t._v("\n      历史\n    ")]),n("div",{staticClass:"popup-title",on:{click:function(e){t.showHistory=!1}}},[n("div",{staticClass:"text-button",on:{click:t.onCancel}},[t._v("取消")]),n("div",{staticClass:"title-name"},[t._v("请选择工序")]),n("div",{staticClass:"text-button",class:{clickable:t.clickable},on:{click:t.onConfirm}},[t._v("确定")])]),n("div",{staticClass:"popup-content"},[n("van-tabs",{on:{click:t.onClickTab},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},t._l(t.tabs,(function(e,i){return n("van-tab",{key:i,attrs:{title:e.name,name:e.tab}},t._l(e.children,(function(a){return n("van-cell",{key:a.id,attrs:{title:a.name,label:a.note,border:!1},on:{click:function(n){t.onClickItem(a,e.children,i)}}},[a.checked?[n("van-icon",{attrs:{name:"success"}})]:t._e()],2)})))}))),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showHistory,expression:"showHistory"}],staticClass:"history-content"},[n("ul",t._l(t.historyData,(function(e,i){return n("li",{key:i,staticClass:"history-item",on:{click:function(n){t.onClickHistoryItem(e)}}},[n("div",{staticClass:"history-text"},[t._v("\n              "+t._s(t._f("getHistoryText")(e))+"\n            ")]),e.isChecked?n("icon",{staticClass:"history-selected-icon",attrs:{name:"qualified"}}):t._e()],1)})))])],1)])],1)}),[],!1,null,"7c57ca00",null);e.a=o.exports},"414f":function(t,e,n){"use strict";(function(t){n("6d57");var i=n("0287"),a=n("7bac"),o=n("19e7"),r={defaultDraft:Object(i.a)({key:function(t){return t=t||this.options,"".concat(i.a.keys.PROCESS_ACCEPT_V3,"_").concat(t.bizId)}}),createPrimaryKeys:function(t){return function(e){return e.primaryKeys=e.primaryKeys||{},e.primaryKeys.uuId===t.uuId}},getBizList:function(t){var e="".concat(i.a.keys.PROCESS_ACCEPT_V3,"_").concat(t);return a.a.getUserKey(e)},getMd5OnlyId:function(e){var n,i,a,r,c="process-accept-v3"+encodeURI(e);return n=Object(o.b)(c),i=n,a=[],r=0,t.each([8,4,4,4,12],(function(t){a.push(i.substr(r,t)),r+=t})),i=a.join("-")}};e.a=r}).call(this,n("391c"))},4299:function(t,e){t.exports="data:image/png;base64,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"},5750:function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return s})),n.d(e,"i",(function(){return l})),n.d(e,"a",(function(){return u})),n.d(e,"g",(function(){return d})),n.d(e,"j",(function(){return p})),n.d(e,"d",(function(){return h})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return b})),n.d(e,"r",(function(){return m})),n.d(e,"k",(function(){return g})),n.d(e,"p",(function(){return v})),n.d(e,"l",(function(){return y})),n.d(e,"q",(function(){return x})),n.d(e,"o",(function(){return A})),n.d(e,"m",(function(){return w})),n.d(e,"n",(function(){return k}));var i=n("5e8d"),a=n("162a"),o=n("bcc78");function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)().then((function(){var e=o.a.processAcceptv3ItemList.url;return a.a.request(e,t)}))}function c(t){return Object(i.a)().then((function(){var e=o.a.processAcceptv3BidsectionBuildingUnit.url;return a.a.request(e,t)}))}function s(t){return Object(i.a)().then((function(){var e=o.a.processAcceptv3BidsectionInspectionLot.url;return a.a.request(e,t)}))}function l(t){return Object(i.a)().then((function(){var e=o.a.processAcceptv3ItemPlaceList.url;return a.a.request(e,t)}))}function u(t){return Object(i.a)().then((function(){var e=o.a.processAcceptv3AddInspectionLot.url;return a.a.post(e,null,t)}))}function d(t){return Object(i.a)().then((function(){var e=o.a.processAcceptv3Info.url;return a.a.request(e,t)}))}function p(t){return Object(i.a)().then((function(){var e=o.a.processAcceptv3ItemProcess.url;return a.a.request(e,t)}))}function h(t){return Object(i.a)().then((function(){var e=o.a.processAcceptv3ChangeUser.url;return a.a.post(e,null,t)}))}function f(t){return Object(i.a)().then((function(){var e=o.a.processAcceptv3ChangeCc.url;return a.a.post(e,null,t)}))}function b(t){return Object(i.a)().then((function(){var e=o.a.processAcceptv3ChangeProcessAcceptor.url;return a.a.post(e,null,t)}))}function m(t){return Object(i.a)().then((function(){var e=o.a.processAcceptv3SpotcheckAccept.url;return a.a.post(e,null,t)}))}function g(t){return Object(i.a)().then((function(){var e=o.a.processAcceptv3Accept.url;return a.a.post(e,null,t)}))}function v(t){return Object(i.a)().then((function(){var e=o.a.processAcceptv3BatchFirstAccept.url;return a.a.post(e,null,t)}))}function y(t){return Object(i.a)().then((function(){var e=o.a.processAcceptv3BatchAccept.url;return a.a.post(e,null,t)}))}function x(t){return Object(i.a)().then((function(){var e=o.a.processAcceptv3BatchSpotcheckAccept.url;return a.a.post(e,null,t)}))}function A(t){return Object(i.a)().then((function(){var e=o.a.processAcceptv3BatchChangeUser.url;return a.a.post(e,null,t)}))}function w(t){return Object(i.a)().then((function(){var e=o.a.processAcceptv3BatchChangeCc.url;return a.a.post(e,null,t)}))}function k(t){return Object(i.a)().then((function(){var e=o.a.processAcceptv3BatchChangeProcessAcceptor.url;return a.a.post(e,null,t)}))}},"5b85":function(t,e,n){var i=n("e2a8");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("85cb").default)("45a0f20c",i,!0,{sourceMap:!1,shadowMode:!1})},"5bbb":function(t,e,n){"use strict";(function(t){var i=n("3e83");n("2b45");function a(e){switch(function(t){if(null===t)return"null";var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1).toLocaleLowerCase()}(e)){case"object":return function(t){if(function(t){if("object"!==Object(i.a)(t)||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}(t)){var e=new t.constructor;for(var n in t)e[n]=a(t[n]);return e}return t}(e);case"array":return function(t){for(var e=new t.constructor(t.length),n=0;n<t.length;n++)e[n]=a(t[n]);return e}(e);default:return t.clone(e)}}e.a=a}).call(this,n("391c"))},"6dba":function(t,e){t.exports="data:image/png;base64,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"},"6ef8":function(t,e,n){"use strict";n.r(e);var i=n("2b8d").a,a=(n("d850"),n("17cc")),o=Object(a.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("page-content",[n("div",{staticClass:"header-center",attrs:{slot:"header-bar-center"},on:{click:t.openProcessSelected},slot:"header-bar-center"},[n("div",{staticClass:"name"},[t._v(t._s(t.title))]),n("i",{class:{arrow:!0,active:t.opened}})]),n("scroller",{class:{empty:t.isListEmpty}},[n("div",{staticClass:"process-status-total-bar"},[n("status-total-bar",{attrs:{data:t.statusBarData}})],1),t.isListEmpty?t._e():n("div",[n("select-info-list",{attrs:{"deliver-type":t.deliver_type,"place-build-data":t.placeBuildData,"place-data":t.placeData,params:t.params},on:{onClickTags:t.gotoDetail}})],1)]),t.isListEmpty?n("loading-status",{attrs:{"is-loading":t.isLoading,"is-empty":t.isListEmpty,type:t.computedLoadingType,"empty-text":t.emptyTips||"暂无数据"}}):t._e(),t.computedAppBtnGroup?n("app-button-group",{attrs:{"fixed-bottom":""}},[t.computedBatchBtn?n("app-button",{attrs:{plain:t.computedIsBatchBtnPlain},on:{click:t.onOpenBatchOperation}},[t._v("\n      批量操作\n    ")]):t._e(),t.computedAddCheckoutAuth?n("app-button",{on:{click:function(e){t.showBatchName=!0,t.batchName=""}}},[t._v("\n      新建检验批\n    ")]):t._e()],1):t._e(),n("process-building-selected",{ref:"process-building-selected",attrs:{"check-item":t.checkItem,bidsection:t.bidsection},on:{close:function(e){t.opened=!1},selected:t.updateProcess}}),n("van-dialog",{staticClass:"batch-name",attrs:{"show-cancel-button":"","confirm-button-text":"提交","before-close":t.addAcceptBatch},model:{value:t.showBatchName,callback:function(e){t.showBatchName=e},expression:"showBatchName"}},[n("van-field",{staticClass:"van-hairline--surround",attrs:{rows:"3",autosize:"",type:"textarea",maxlength:"20",border:"",placeholder:"请输入检验批名称","show-word-limit":""},model:{value:t.batchName,callback:function(e){t.batchName=e},expression:"batchName"}})],1),n("batch-operation",{ref:"batch-operation",attrs:{"deliver-type":t.deliver_type,"place-build-data":t.placeBuildData,"place-data":t.placeData,params:t.params}})],1)}),[],!1,null,"211bb324",null);e.default=o.exports},"6f45":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAAAzCAYAAADirZQgAAAOnUlEQVR4Xu2ceVyV1brHvy/DZp4HQUFAwAFBccyj3Vt21Ext1MrKscmrHTPNtDJtUI/dLDsNamZ6OmmldK1Ms67hMRu8OeSMiqAgzoggiIBM+36exX73Qdiw92a495zi+Uvd613rfX/vWr/n9/zWetVoiWZDQGvKno1GozMQAbQFWgP+gBvgAjg05ViN7KsSuAYUA7nAWSALOKlpWlkj+zZf3iTgGo3GaGAUMAAIB9xNoBoARxOwTTJWEz24ERCAK4BSE8hFwCkgGVitadrxxo7VoAc2Go1ynR+QCEwFBgEC5G8lBPDNwJvAPiBP0zR5IXaF3eAajUZZ5ncAo00zVZa8CiNGcsoKSSs+z9nSy1wsv0JxRSnXjOUYjXbfm10PYk9jTdNw0ZxwczQQ5ORFa4MvsW4hBDp7onEdJEIdMpNXAV9pmiY0YnPYBa7RaAwClgG3AN5QdScVxkq+yTvApxd3kFJ0mvyKYkoqy7hWWU4Fler3f7Zw1BxwxAEXBydcHZzxcXQj3j2MkUE3cJtfF+R385yBAuDvwARN0y7a+iw2gWs0GoU3ewArgc565xfLrrA57xDzT28g69olW8f8p28X4RLA82G3M8gvniBnr+r3mwI8DPyqaZrwdb1hFVwTv44EZgMdZbbmll9lU+5+1uTsYHtBOqXGcmvj/Mv9btCc6Osdw8jAGxji3xV/J48q5oOjwFxgjTUerhdcE7DPA9MBX+n9Ulkh0zI+5Zu8gxRVCiX9tsPdwYXb/BJYFPUAAc6e+sNeBl4H/lwfwHWCa6KC+4AlAqzw5omSbB5L/5DdhRm/bUQtPF1PzyiWx4yjnWuwzscC8CQgqS6KqA/c3sCHQCcBNvlyCs+d/IxjxRd+d8DqD9zerRULIu5lgG9nHeAjwDhN03ZaAsUiuCZVsBWIE44VaXV/6hLSii8o0vm9hoAV69aKtR0mKelm4uDDQH9LKqIWuCYd+zFwt86xw4+++7ukgromkVDEuo5/qs7BXwAP1dTB14FrSmDCs6JlfUQVTD3xCesu7bZrssa7t0GyrVyfeS3H6rVdPMJx1ZzJqyhSBUhzRrjBn3AXf6W/d1w50eChhgf05M12D+oqIl80sIl/zYu7JrhitHwEDBE6WJ29nWkZa+xWBVvjn1UP8FXuXqUsrEVy5xlEuQWRnJfChONC83WHVFA1tGetxuXGCvVia4ZcuzHuKeLc26hq8p4j77Dvqvg19oeoiEVRIxkV3Fenh03AGE3TxAhSURNcqbykkYsUCOPTPuD7fJF19sWh7vOJdAlk7cWdPJK+wurFexPnEusWzNe5+xW31xeiN7N6Laq3zcbc/Yys0Y8DGo+2uolF7R4wX7v+0h7GpX1AmdFqPWBxvJt9OvLX2Ef1ly26dIimaVLJWQR3AzBMfvk4+3+YfGJ1gwqE5gY3o6dIzNqhl6yLz21hZmbSdQ06ubVmbceJ6qUfKT5HhEsg14xlPJK2ki2XUxqUqIX63mk3ioeC/6CPtVHTtNtrgWuyDSXzGUR6Jex9ocElbXOCKwDGurayCO5fYx8hwSOcGZlrWXLOPIGUfzA7/E4mhw4gp7yQR9NWMr3Nbfy7T3uSLx9Wf79UXmh1hVlqIKXygW7zdGkmblqcbleaacFoNL4IvCQdbMzdx8jUpTYP5u5gUNpPj7eiHiTI4M3PBWnILBITR/58i08nEjzCavX7HyH98Xf2VMnss5xdtX7feSWD5Hwp66tCAA41+CpnK6/8qplf03u8RojBh/uPLuHrvP3m9j08I0nqOIlWzj6suLCNKSc+oY9XNBvjpirg55z8gnfPJTeYHtZ0mMgwf3FfVbykadrL8gcFrmkHQV71jUL0o1LfZ33uHpvBjXIJ4mD3eXW2v1Caz4CUhTwfNowHgvrY3K/esOYyb+Xszd/aP6ZcrHmnvuK981vxcnDlTO+/qER108EF5kTVyzNKla7dPCM4cPUUIivPlUpxBS+3vZsprQdSZqxkzsnP+eDCtgYBfJd/d1Z1eFy3K38S11B2NHRwY0y+ZUR2WQGDDi0kvSTbZhDsBVdoJ79CjP+q8HX0wEHTKDVWUFjxD8vUz9ED8V5rgtvWJYBNcdOIdA3kgdSlbMjdh8i57V1eIK+8iJsPLuB4STYC7HsxY+ngFqo8EWm7/Uq6edxgZ2+WxYxjoG9ntQKezfyMT3N+odJO7znGNZjv4mfoie2k+NyapqXr4IpKWAMEbS9I46FjyxC1YGuIxPFzkp2dqvipyywEgC8v7eHJE6vVbCqoKOG96LFq5h66eoY+B14xt69LLaR2f5U2Ln61wO3gFsKPCc/j7uhCt71zSCu5wN0BPVjV/nGOF2cz7MibeDu6sSx6HImebdX4ewpPsj53L6WV1zt4MqPv8E/EzcFAfnkRMzKTlK4XKrM1RBp+3H4Cfb1j5RLxe0eKatDBlf0vIVnP/8rZpVTClYoSW/uu1a6uhLY8ZnyTgPtv3u35pvPTFFeW0WbnU0rRSIJ6qe1d7Lxygj8dX8X7seNJ9GhLubGSb/MOMsi3MwYHJ4vPtClvP+1dQ4lxC1agzj75OUvP/yMhWgPCy9FVqYYRgb2kqWTGiZqmrdbBfRJYKEpBOp2Vua5BEky/ieYGd1zwjbwbPZrDRWfovb9qBSyJHsuY4L4KyCeOr+LD2Efp7RXFy1lfsvlyimovVaClWHwuWcmzpdFj6ezehmGH3+SHglRrmJp/F0k2P3I4E0OEANSG5zOapr2tgzsTmC+JeNGZb3n51PpGbc1UB3daxif08mrHr4WZvBZ5n8WZuy9xrpo1NYuIumhhfsRwprQexLqc3YxNW66y8rdxT9PPp73S51MzPqWtiz/9vGJZdfFnxeV6iNJw1hy5Vllm1rYGzRFHzRGhG1ERkiDtCenzxfA7mdZmsFwmg83SNO0/dXBfAGQKaK+e/pr5pzYonmpo6ODuL8ziZOklZBkPOLSQ6W0GWwa321wkKdgKrrhSQ/278v7575WEctGcldSKcg1CSvZFZ/9bca/4B7I/JstWcsgNXtFqfyyn7AorLvxAcaVMMhjsl8Awv0QOFJ1izcUdFFRLqrZgIDlnVvjtPBs2VJoLcHM0TZvX5DM3wMmTHV3nKL0pL0gGliTyhwNzFS9KQhNptrgap00JHagcpqNF5/gk5xfz80xvPRhvJ7daCe3XxJeUArhcXqQSpSiNEGdvnDRHBUx+ebFSDLf4xDExtD+His4w6fhHTG09iFci7mH/1VPce3SxWZK9024041vdyNGis9x15G1Ol+bZgul1q6G+mdsozhVA5e2PCOjJTT4dzYlDdn+FF2UmSWGyJHpMo3WueASZPd9Q4r9mOGgOuDlU8Wrkruk8EfpHng4bTFbJJW5NeV1toW9NeFZRwh8Pvaa0sFDEtoTnlJQTvn4sfaWSc/ZEFeeOYGJIf4uc2yi1MDa4H4ujx9S6HzF9Rh9bZr5ZXS0UVZaScvWMub1UbbJ8ZSaKIa9HV49w9aKq61wB496qrFwrwg0BzG4rRyqg9c4p3OzTiaUxYxUny8zdlHuA1B6vKj0qRYO89BjXVmyIe4owF3/eOfsdL2Z9YXchIbTzbrvRDA/sKUPXUguN0rlihgjPSuWzNmcnDwX2UeVvTVdMB1eW/9DDcpilKrbEz1AFgWwlTUj/m/nff+4yS9GLJSPGErhdPdoi10gE75isqObbzk8rzf3W2e+Uclge8zAjAnuy5fJh7jzyFoN9E1geO17pXPEkVl740Z5Jq9pa07nmCk2If+Ch1+yq0GSAO/y7sTX/iNLHzS3FZPZKAeHhYFB+gVRYYspLEtvW5TmVUfx+mYT4ukkdnmCIfxcF5vi0FQz166Jms9xnxK5pPB7Sn7kR96hVI6vsp4I0u8G1VqEJUZm9hdGp7/OlHd5CzbtpTnDvC+xNd48IIlwDiXINJNY1RPGvKJxt+alsjp+uVEDQjsnqtuTcwQexD6tVNSjldcXJyfEzVAV3W8oiHgzqw+jgvhwpOqt42ZLJbg3ter0Fubgxrtj/Jbi6DNPHlNm5uzCTV7LWK5C/6PQk4o+02/2MaiIgnui5UHG3uGV7CjN5PWokhRUlJOXs4s8RI5RTt/z890ofNyTqdcVM4Mox0Gb1c5ui/JUSV2aK+Ak/5KeyMW8/GSVVx7fuD7yBFbEPc6z4PN33iYNaFStjH1Gl8F/Obuaj7J/N/97TM1IZLiLhhqS8wY8Fx+zG1iY/1wRws+5E6OCmF2cz6pjsgVZFUscnVEX1Y34qz1TbQfgqbgriXFVPaCHOPiqbWzK3Z4XdznPhw8zJSu9fvF+RX+J8VS+NxECfGTZEbQok7p1jd8lv806ECdxG76GJgZ3Z6w1VFdWlFgSc6q6bAOikOSjTpDrniW8rpaUtaiHM4MeW+JnKRZMlLvtodwZ0r3cm3uoXTxuDH5klOfw9X853VMW6S7sUf1sLe/fQGrz7K66QOP5Bzt6EGnzUfb11ZjOzstaZ71GfuTJ7bDlWKoBLWAJXKj+xMFu7+CpDRmSYu6NBzb6xqcuJdg1mXuRwa/hY/H1GRhJLzm+p99qG7P6K3m7QuQXZn1oQea/5hiQ7i/T5qRqP6eCeL83n7bPfWX3wmWFD8bFQ/uoXTg4dyILIEeZ+JJElXdzJgtMbudU3gQmhqmKyO+Rlfm7lrIbd5xZM1CAnx+0+cSOFxJjgfupBZBPwl4J0DhSdVlpTjzFB/ejt3Y4z1/IUANZidvgd+Di6q0RjadvJz8mDvl4xSglIn3KSPbu0gKuV15B9PaGmhoRoYKki64oGnbjRO2s5K2YZ1kafFasGcMspxxoYN8kpRxM9yFH9lvO5JoCb9HyuCWBZCS0ny5v6ZHk1ehCAW76JaOpvIqoB3PI1TxUYTfs1T3VOb/kOrRm+Q6sBcL1fUEpZm1584V/uC8oYt1bK9P5/+4KyBg+3fPtrpUKx+pGfLRVOy1frdRcdtuBnU5uW/2/hepiaZObahPzvsNH/AjSq/53pkOa7AAAAAElFTkSuQmCC"},7208:function(t,e,n){"use strict";(function(t){n("5ab2"),n("de78"),n("e697"),n("ed63"),n("8cf2");var i=n("28f8"),a=(n("e204"),n("e10e"),n("cc57"),n("e3ee")),o=(n("6d57"),n("17367"),n("e2a7"),n("bc69")),r=n("6144"),c=n("aaa4"),s=(n("5bbb"),n("019f"));function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a={filters:{getHistoryText:function(e){var n="",i=t.clone(e);delete i.ids,delete i.isChecked,t.sortBy(i,"tab");for(var o=0,r=Object.entries(i);o<r.length;o++){var c=Object(a.a)(r[o],2),s=(c[0],c[1]);n+=s.name,s.tab!==Object.keys(i).length&&(n+=">")}return n}},props:{checkItem:{type:Array,default:function(){return[]}},bidsection:{type:Array,default:function(){return[]}}},data:function(){return{show:!1,tabs:[],currentTab:"",process_mode:null,clickable:!1,showHistory:!1,historyData:[],preProcessMode:null,preBidsections:null}},computed:{projId:function(){return this.$store.state.global.currentProject.id}},watch:{show:function(t){t||(this.$emit("close"),this.preBidsections=null)}},methods:{onOpen:function(){this.show=!0;var e=[],n=this.handleStorageHistory("get")[0];if(t.isEmpty(n))e.push({id:"",name:"请选择",tab:1,children:t.clone(this.checkItem)}),this.currentTab=1;else{var i=function(t,e){var n=e.findIndex((function(t){return t.isLast}));return{preBidsections:e.filter((function(t,e){return e>n})),preProcessMode:t.lastCheckItem.process_mode}}(n,e=this.getTabsOptions(n));this.preBidsections=i.preBidsections,this.preProcessMode=i.preProcessMode,this.currentTab=function(t){t.length;return t.findIndex((function(t){return t.isLast}))+1}(e),e=function(t,e){return Object(s.a)(t).map((function(t){return t.isBidsection&&e!==c.a&&(t.children=t.children.filter((function(t){return t.children&&t.children.length}))),t}))}(e,this.preProcessMode)}this.tabs=e,this.getHistoryData(n),this.handleConfirmBtnStatus()},onConfirm:function(){if(this.clickable){this.show=!1;var t=this.getSaveValue();this.handleStorageHistory("set",t),this.$emit("selected",t,this.process_mode)}},onCancel:function(){this.show=!1},onClickTab:function(t){this.showHistory=!1},onClickItem:function(e,n,i){var a=this,o=this;if(!((this.tabs[i]||{}).id===e.id)){var r,c;!function(n){t.each(n,(function(n){n.checked=n.id===e.id,e.children=t.map(e.children,(function(t){return u(u({},t),{},{checked:!1})}))}))}(n),function(e,n,i){t.each(n,(function(t,n){t.id&&i!==n||(t.id=e.id,t.name=e.name,t.note=e.note,t.isCheckItem=e.isCheckItem,t.isBidsection=e.isBidsection,t.isLast=e.isLast,t.isBuilding=e.isBuilding,t.isUnit=e.isUnit,t.unit_number=e.unit_number,t.process_mode=e.process_mode)}))}(e,this.tabs,i),this.tabs=function(t,e){return t.filter((function(t,n){return n<=e}))}(this.tabs,i),e.isCheckItem?function(){if(e.isLast){if(o.preProcessMode===e.process_mode&&o.preBidsections)o.tabs=o.tabs.concat(o.preBidsections);else{var n=t.clone(o.bidsection);6!==e.process_mode&&(n=t.filter(n,(function(e){return!t.isEmpty(e.children)}))),l(t.map(n,(function(t){return u(u({},t),{},{checked:!1})})))}o.process_mode=e.process_mode}else l(e.children);t.each(o.tabs,(function(t,e){return t.tab=e+1}))}():(r=!e.isBidsection||6!==o.process_mode,c=!e.isBuilding||[1,5,6].includes(o.process_mode),r&&c&&l(e.children)),this.$nextTick((function(){a.currentTab=a.tabs.length})),this.handleConfirmBtnStatus();var s=this.getSaveValue();this.getHistoryData(s)}function l(t){t&&t.length&&o.tabs.push({id:"",name:"请选择",tab:o.tabs.length+1,children:t})}},onClickHistoryItem:function(e){var n=t.clone(e);n=t.omit(n,["isChecked","ids"]),this.tabs=this.getTabsOptions(n),this.onConfirm(),this.showHistory=!1},handleConfirmBtnStatus:function(){var e=this.process_mode,n=!!t.find(this.tabs,(function(t){return t.isLast&&t.id})),i=!!t.find(this.tabs,(function(t){return t.isBidsection&&t.id})),a=t.find(this.tabs,(function(t){return t.isBuilding&&t.id}))||{},o=!t.isEmpty(a)||6===e,r=t.isEmpty((t.find(a.children||[],(function(t){return t.id===a.id}))||{}).children),c=!!t.find(this.tabs,(function(t){return t.isUnit&&t.id}))||[2,3,6].includes(e)||r;this.clickable=n&&i&&o&&c},handleStorageHistory:function(e,n){var i=this,a=[];if("get"===e)a=r.a.getObject("".concat(o.a.PROCESS_ACCEPT_V3_SELECT_PROCESS_DEFAULT,"_").concat(this.projId),r.a.level.user)||[],Array.isArray(a)||(a=[a]);else{var c=(a=this.historyData.map((function(e){return t.omit(e,"isChecked","ids")}))).findIndex((function(t){return i.getIdsFromValue(t)===i.getIdsFromValue(n)}));if(c>-1)a.splice(c,1),a.unshift(n);else 10===a.length?(a.unshift(n),a.pop()):a.unshift(n);r.a.saveObject("".concat(o.a.PROCESS_ACCEPT_V3_SELECT_PROCESS_DEFAULT,"_").concat(this.projId),a,r.a.level.user)}return a},getTabsOptions:function(e){var n=this,i=[],a=!1,o=this.getTabsList(e),r=o.first,c=o.second,s=o.last,l=o.bidsection,u=o.building,d=o.unit;return t.each(t.keys(e),(function(o){var p=[],h=e[o].name;if("firstCheckItem"===o){p=t.each(r,(function(t){t.checked=t.id===e[o].id,t.id===e[o].id&&(h=t.name)}));var f=!t.find(r,(function(t){return t.id===e[o].id}));!a&&f&&(a=f,i.push({id:"",name:"请选择",tab:1,isLast:"lastCheckItem"===o,isBidsection:"bidsection"===o,isBuilding:"building"===o,isUnit:"unit"===o,children:p}))}else if("secondCheckItem"===o){p=t.each(c,(function(t){t.checked=t.id===e[o].id,t.id===e[o].id&&(h=t.name)}));var b=!t.find(c,(function(t){return t.id===e[o].id}));!a&&b&&(a=b,i.push({id:"",name:"请选择",tab:e[o].tab,isLast:"lastCheckItem"===o,isBidsection:"bidsection"===o,isBuilding:"building"===o,isUnit:"unit"===o,children:p}))}else if("lastCheckItem"===o){p=t.each(s,(function(t){t.checked=t.id===e[o].id,t.id===e[o].id&&(h=t.name,n.process_mode=t.process_mode)}));var m=!t.find(s,(function(t){return t.id===e[o].id}));!a&&m&&(a=m,i.push({id:"",name:"请选择",tab:e[o].tab,isLast:"lastCheckItem"===o,isBidsection:"bidsection"===o,isBuilding:"building"===o,isUnit:"unit"===o,children:p}))}else if("bidsection"===o){p=t.each(l,(function(t){t.checked=t.id===e[o].id,t.id===e[o].id&&(h=t.name)}));var g=!t.find(l,(function(t){return t.id===e[o].id}));!a&&g&&(a=g,i.push({id:"",name:"请选择",tab:e[o].tab,isLast:"lastCheckItem"===o,isBidsection:"bidsection"===o,isBuilding:"building"===o,isUnit:"unit"===o,children:p}))}else if("building"===o){p=t.each(u,(function(t){t.checked=t.id===e[o].id,t.id===e[o].id&&(h=t.name)}));var v=!t.find(u,(function(t){return t.id===e[o].id}));!a&&v&&(a=v,i.push({id:"",name:"请选择",tab:e[o].tab,isLast:"lastCheckItem"===o,isBidsection:"bidsection"===o,isBuilding:"building"===o,isUnit:"unit"===o,children:p}))}else if("unit"===o){p=t.each(d,(function(t){t.checked=t.id===e[o].id,t.id===e[o].id&&(h=t.name)}));var y=!t.find(d,(function(t){return t.id===e[o].id}));!a&&y&&(a=y,i.push({id:"",name:"请选择",tab:e[o].tab,isLast:"lastCheckItem"===o,isBidsection:"bidsection"===o,isBuilding:"building"===o,isUnit:"unit"===o,children:p}))}a||i.push({id:e[o].id,name:h,tab:e[o].tab,isLast:"lastCheckItem"===o,isBidsection:"bidsection"===o,isBuilding:"building"===o,isUnit:"unit"===o,unit_number:e[o].unit_number,process_mode:e[o].process_mode,children:p})})),t.sortBy(i,"tab"),i},getTabsList:function(e){var n=t.clone(this.checkItem),i=e.firstCheckItem?(t.find(n,(function(t){return t.id===e.firstCheckItem.id}))||{}).children:[],a=e.secondCheckItem?(t.find(i,(function(t){return t.id===e.secondCheckItem.id}))||{}).children:(t.find(n,(function(t){return t.id===e.firstCheckItem.id}))||{}).children,o=t.clone(this.bidsection),r=e.bidsection?(t.find(o,(function(t){return t.id===e.bidsection.id}))||{}).children:[];return{first:n,second:i,last:a,bidsection:o,building:r,unit:e.building?(t.find(r,(function(t){return t.id===e.building.id}))||{}).children:[]}},getSaveValue:function(){var e={};return t.each(this.tabs,(function(t,n){0===n&&(e.firstCheckItem={id:t.id,name:t.name,tab:t.tab}),1!==n||t.isLast||(e.secondCheckItem={id:t.id,name:t.name,tab:t.tab}),t.isLast&&(e.lastCheckItem={id:t.id,name:t.name,tab:t.tab,process_mode:t.process_mode}),t.isBidsection&&(e.bidsection={id:t.id,name:t.name,tab:t.tab}),t.isBuilding&&(e.building={id:t.id,name:t.name,tab:t.tab}),t.isUnit&&(e.unit={id:t.id,name:t.name,unit_number:t.unit_number,tab:t.tab})})),t.sortBy(e,"tab"),e},getIdsFromValue:function(t){return Object.values(t).map((function(t){return t.id})).join("-")},getHistoryData:function(t){var e=this,n=this.handleStorageHistory("get");this.historyData=n.map((function(n){return u(u({},n),{},{ids:e.getIdsFromValue(n),isChecked:e.getIdsFromValue(n)===e.getIdsFromValue(t)})}))}}}}).call(this,n("391c"))},"774b":function(t,e,n){"use strict";n.r(e);var i=n("d18d").a,a=(n("b225"),n("17cc")),o=Object(a.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"scroll-warp",staticClass:"scroll-warp",class:{"scroll-warp-pulling":t.pulling,"scroll-warp-complete":!t.hasNext&&!t.isEmpty,"scroll-warp-empty":t.isEmpty},style:{"padding-bottom":t.numberKeyboardCoverHeight+"px"},on:{scroll:t.onScroll,touchstart:t.onTouchstart,touchmove:t.onTouchmove,touchend:t.onTouchend}},[t.allowPullDown?n("div",{staticClass:"pull-refresh-warp",style:{height:t.pullDist+"px"}},[n("div",{staticClass:"pull-refresh"},[n("div",{staticClass:"animation-refresher",class:{refreshing:t.refreshing}}),t.updateTime?n("p",{staticClass:"pull-refresh-date"},[t._v("最后成功同步："+t._s(t.updateTime))]):t._e()])]):t._e(),t._t("default"),t.loading?n("div",{staticClass:"page-loading"},[n("svg",{staticClass:"svg-loading",attrs:{viewBox:"0 0 80 80"}},[n("circle",{attrs:{cx:"40",cy:"40",r:"36"}})])]):t._e(),t.hasNext||t.isEmpty?t._e():[t.$slots.end?t._t("end"):t._e(),!t.$slots.end&&t.endText?n("div",{staticClass:"end-text"},[t._v("\n      "+t._s(t.endText)+"\n    ")]):t._e()]],2)}),[],!1,null,"2b1a346c",null);e.default=o.exports},"7f8d":function(t,e,n){"use strict";n.d(e,"i",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"h",(function(){return r})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"g",(function(){return u})),n.d(e,"f",(function(){return d})),n.d(e,"c",(function(){return p}));var i=n("d474"),a="未验",o="已验收",r="已抽验",c="草稿",s=[i.a.HAS_HOUSEHOLDS,i.a.NON_UNIT_WHOLE_LAYER,i.a.HAS_UNIT_WHOLE_LAYER,i.a.USER_DEFINED],l="1",u={INSPECTION:"1",ACCEPTANCE:"2",SAMPLE:"3"},d=[{text:"批量报验",code:null,type:u.INSPECTION,alertText:"该部位的状态不是待报验"},{text:"批量验收",code:"验收中",type:u.ACCEPTANCE,alertText:"该部位状态、验收表单、当前流程节点或当前流程节点验收人与其他部位不同"},{text:"批量抽验",code:"已验收",type:u.SAMPLE,alertText:"该部位的状态不是已验收"}],p={"验收中":"bg-orange","已验收":"bg-green","已抽验":"bg-spotcheck","草稿":"bg-draft","草稿_验收中":"bg-draft-orange","草稿_已验收":"bg-draft-green","草稿_已抽验":"bg-draft-spotcheck","已选择":"border-blue-selected","不可选":"bg-gray-unselected"}},"9d55":function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,'.zjapp .scroll-warp[data-v-2b1a346c]{flex:1;overflow:auto;-webkit-overflow-scrolling:touch}.zjapp .scroll-warp-pulling[data-v-2b1a346c]{overflow:hidden}.zjapp .scroll-warp-complete[data-v-2b1a346c]:after{content:"";display:block;height:100px}.zjapp .scroll-warp-empty[data-v-2b1a346c]{display:flex;flex-direction:column}.zjapp .pull-refresh-warp[data-v-2b1a346c]{position:relative;height:0;overflow:hidden}.zjapp .pull-refresh[data-v-2b1a346c]{position:absolute;left:0;bottom:0;height:70px;width:100%;padding:6px;text-align:center}.zjapp .pull-refresh-date[data-v-2b1a346c]{margin-top:4px;height:16px;line-height:16px;font-size:12px;color:#bcbcbc}.zjapp .page-loading[data-v-2b1a346c]{padding:10px;text-align:center}.zjapp .end-text[data-v-2b1a346c]{color:#c8c8c8;background:#f4f4f4;position:relative;line-height:76px;height:76px;text-align:center}.zjapp .end-text[data-v-2b1a346c]:after,.zjapp .end-text[data-v-2b1a346c]:before{content:"";position:absolute;width:48px;height:1px;background:#e4e4e4;top:50%;margin-top:-1px}.zjapp .end-text[data-v-2b1a346c]:after{left:50%;transform:translateX(-92px)}.zjapp .end-text[data-v-2b1a346c]:before{right:50%;transform:translateX(90px)}.zjapp .end-slot[data-v-2b1a346c]{padding:30px;line-height:18px;text-align:center;color:#c8c8c8}',""])},a91d:function(t,e,n){var i=n("5454");(t.exports=n("690e")(!1)).push([t.i,'.zjapp .place-list-title[data-v-a9ef0260]{position:relative;color:#888;font-size:14px;line-height:30px;min-height:40px;padding:8px 16px 2px}.zjapp .place-list-con[data-v-a9ef0260]{display:flex;flex-wrap:wrap;padding:15px 5px 0 20px;background-color:#fff}.zjapp .place-list-item[data-v-a9ef0260]{min-width:75px;min-height:28px;line-height:18px;margin:0 15px 15px 0;padding:4px 10px;text-align:center;font-size:14px;color:#000;border:1px solid #dcdcdc;border-radius:100px}.zjapp .place-list-item.selected[data-v-a9ef0260]{border-color:#4275e8;background-color:#4275e8;color:#fff}.zjapp .place-list-item.disabled[data-v-a9ef0260]{background-color:#f2f2f2;color:#999}.zjapp .place-list-item.bg-green[data-v-a9ef0260]{color:#fff;border-color:#0bc666}.zjapp .place-list-item.bg-blue[data-v-a9ef0260]{color:#fff;border-color:#4174e9}.zjapp .place-list-item.bg-orange[data-v-a9ef0260]{color:#fff;border-color:#ff8400}.zjapp .place-list-item.bg-red[data-v-a9ef0260]{color:#fff;border-color:#ff3d3d}.zjapp .place-list-item.bg-brown[data-v-a9ef0260]{color:#fff;border-color:#ff7439}.zjapp .place-list-item.border-blue-selected[data-v-a9ef0260]{color:#4275e8;border-color:#4275e8}.zjapp .place-list-item.bg-gray-unselected[data-v-a9ef0260]{color:#dcdcdc;border-color:#dcdcdc;background:#edf2fc}.zjapp .place-list-item.bg-part[data-v-a9ef0260]{border:1px solid #0bc666;position:relative;color:#0bc666}.zjapp .place-list-item.bg-part[data-v-a9ef0260]:after{content:"";display:inline-block;width:27px;height:15px;background:url('+i(n("30e2"))+');background-repeat:no-repeat;background-size:100% 100%;position:absolute;right:-8px;top:-4px}.zjapp .place-list-item.bg-spotcheck[data-v-a9ef0260]{border:1px solid #0bc666;position:relative;color:#0bc666}.zjapp .place-list-item.bg-spotcheck[data-v-a9ef0260]:after{content:"";display:inline-block;width:27px;height:15px;background:url('+i(n("6f45"))+');background-repeat:no-repeat;background-size:100% 100%;position:absolute;right:-8px;top:-4px}.zjapp .place-list-item.bg-draft[data-v-a9ef0260]{border:1px solid #796bfb;position:relative;color:#796bfb}.zjapp .place-list-item.bg-draft[data-v-a9ef0260]:after{content:"";display:inline-block;width:27px;height:15px;background:url('+i(n("4299"))+');background-repeat:no-repeat;background-size:100% 100%;position:absolute;right:-8px;top:-4px}.zjapp .place-list-item.bg-draft-orange[data-v-a9ef0260]{border:1px solid #ff8e24;position:relative;color:#fff;background:#ff8e24}.zjapp .place-list-item.bg-draft-orange[data-v-a9ef0260]:after{content:"";display:inline-block;width:27px;height:15px;background:url('+i(n("4299"))+');background-repeat:no-repeat;background-size:100% 100%;position:absolute;right:-8px;top:-4px}.zjapp .place-list-item.bg-draft-green[data-v-a9ef0260]{border:1px solid #0bc666;position:relative;color:#fff;background:#0bc666}.zjapp .place-list-item.bg-draft-green[data-v-a9ef0260]:after{content:"";display:inline-block;width:27px;height:15px;background:url('+i(n("4299"))+');background-repeat:no-repeat;background-size:100% 100%;position:absolute;right:-8px;top:-4px}.zjapp .place-list-item.bg-draft-spotcheck[data-v-a9ef0260]{border:1px solid #0bc666;position:relative;color:#0bc666}.zjapp .place-list-item.bg-draft-spotcheck[data-v-a9ef0260]:after{content:"";display:inline-block;width:27px;height:15px;background:url('+i(n("4299"))+");background-repeat:no-repeat;background-size:100% 100%;position:absolute;right:-8px;top:-4px}@media screen and (max-width:375px){.zjapp .place-list-item[data-v-a9ef0260]{min-width:75px}}@media screen and (max-width:360px){.zjapp .place-list-item[data-v-a9ef0260]{min-width:71px}}@media screen and (max-width:320px){.zjapp .place-list-item[data-v-a9ef0260]{min-width:61px}}",""])},aaa4:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=6},b225:function(t,e,n){"use strict";n("ef48")},c973:function(t,e,n){var i=n("d5f2");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("85cb").default)("aa0c9a90",i,!0,{sourceMap:!1,shadowMode:!1})},d18d:function(t,e,n){"use strict";(function(t){n("2b45");var i,a=n("4360"),o=n("48f4"),r=n("162a"),c=n("e2a7"),s=n("a500"),l=n("6f9e"),u={};e.a={name:"Scroller",props:{buildingId:{type:String,default:""},hasNext:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},isSync:{type:Boolean,default:!0},endText:{type:String,default:""},memoryScrollTop:{type:Boolean,default:!0},keepScrollTop:{type:Boolean},hasPullDown:{type:Boolean,default:!0},onPullDown:{type:Function}},data:function(){return{pullDist:0,refreshing:!1,pulling:!1,loading:!1,scrollTop:0,isCurrKeyboard:!1,gapBottom:0}},computed:{allowPullDown:function(){return this.hasPullDown&&(!!this.$listeners.pullDown||!!this.onPullDown)},updateTime:function(){return a.a.state.global.businessDownloadTime},numberKeyboardCoverHeight:function(){return a.a.state.global.isNumberInputOpen?a.a.state.global.numberKeyboardHeight-this.gapBottom:0}},mounted:function(){var t=this;l.a.$on("numberKeyboardOpen",this.onNumberKeyboardOpen),this.$nextTick((function(){var e=t.$refs["scroll-warp"]&&t.$refs["scroll-warp"].getBoundingClientRect&&t.$refs["scroll-warp"].getBoundingClientRect();e&&(t.gapBottom=document.documentElement.clientHeight-e.bottom),t.$el&&t.$el.addEventListener("focus",(function(e){var n=e&&e.target,i=n&&n.tagName&&n.tagName.toLowerCase();if("input"===i||"textarea"===i){window.addEventListener("resize",(function e(){var i=n.getBoundingClientRect(),a=t.$el.getBoundingClientRect(),o=i.bottom-a.bottom;o>0&&t.scrollBy(o),window.removeEventListener("resize",e,!1)}),!1)}}),!0)}))},destroyed:function(){l.a.$off("numberKeyboardOpen",this.onNumberKeyboardOpen)},activated:function(){var t=this.keepScrollTop||this.$router.isBack&&this.memoryScrollTop;this.scrollTop&&t&&(this.$refs["scroll-warp"].scrollTop=this.scrollTop)},deactivated:function(){this.memoryScrollTop&&(this.scrollTop=this.$refs["scroll-warp"].scrollTop)},methods:{onScroll:function(t){var e=this,n=this.$refs["scroll-warp"].scrollTop,i=this.$refs["scroll-warp"].scrollHeight;if(n+this.$refs["scroll-warp"].clientHeight>=i-5&&!this.loading&&this.hasNext){this.loading=!0;var a=this.$listeners.loadNext();a&&a.then&&"function"==typeof a.then?a.then((function(){e.loading=!1})):this.loading=!1}this.$emit("scroll",t)},getTouchDiretion:function(t){if(!(u&&t&&t.touches&&t.touches[0]))return"";var e=t.touches[0].clientX,n=t.touches[0].clientY;return Math.abs(n-u.y)>Math.abs(e-u.x)&&Math.abs(n-u.y)>=3?n>u.y?"down":"up":""},onTouchstart:function(t){this.allowPullDown&&t.touches&&1===t.touches.length&&(u={x:t.touches[0].clientX,y:t.touches[0].clientY,scrollTop:this.$refs["scroll-warp"].scrollTop,pullDist:this.pullDist})},onTouchmove:function(t){if(this.allowPullDown&&t.touches&&1===t.touches.length){var e=this.$refs["scroll-warp"].scrollTop,n=t.touches[0].clientY,i=n-u.y,a=this.getTouchDiretion(t);"down"===a?!this.refreshing&&e<=0?(this.pulling=!0,this.pullDist=(i-u.scrollTop)/2,t.preventDefault()):this.pulling=!1:"up"===a?this.pullDist>0&&(this.pullDist=u.pullDist-(u.y-n),t.preventDefault()):this.pullDist=u.pullDist}},onTouchend:function(){var t=this;this.allowPullDown&&(u={},this.pulling=!1,this.pullDist>=70&&this.isSync?this.refreshing?this.makePullTo(70):this.makePullTo(70).then((function(){if(t.refreshing=!0,t.onPullDown){var e=t.onPullDown();e&&e.then&&"function"==typeof e?e.finally((function(){t.refreshing=!1,t.makePullTo(0)})):(t.refreshing=!1,t.makePullTo(0))}else t.dataSync().then((function(){t.refreshing=!1,t.makePullTo(0),t.$emit("pullDown")})).catch((function(){t.refreshing=!1,t.makePullTo(0),t.$emit("pullDown")}))})):(this.refreshing=!1,this.makePullTo(0)))},makePullTo:function(t){var e=this,n=this.pullDist,i=t,a=i-n,o=n;return n===i?Promise.resolve():new Promise((function(t){!function r(){window.requestAnimationFrame((function(){o+=a/6,e.pullDist=o,n<i&&o<i||n>i&&o>i?r():(e.pullDist=i,e.refreshing=!1,t())}))}()}))},dataSync:function(){var t,e=o.default.getCurrentModuleCode(),n=o.default.getCurrentRoute(),i=n.meta&&n.meta.isTodo;if(o.default.isModuleNeedBuilding(e)&&!i){if(!this.buildingId)return new Promise((function(t){setTimeout((function(){t()}),500)}));t=this.buildingId}return s.a.addTrack("公共-手动下拉刷新","",""),r.a.beginManualUpdate(),o.default.checkSync(t).then((function(t){return r.a.endManualUpdate(),t})).catch((function(t){$log.error("下拉刷新错误",t),t&&"Error: Network Error"===t.toString()?c.a.alert("当前网络无法同步数据"):c.a.alert(t),r.a.endManualUpdate()}))},getScrollHeight:function(){return this.$refs["scroll-warp"].offsetHeight},getScrollTop:function(){return this.$refs["scroll-warp"].scrollTop},setScrollTop:function(t){this.$refs["scroll-warp"].scrollTop=t},scrollBy:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a=this.getScrollTop(),o=a+t,r=Math.round(n/16.7),c=t/r,s=a,l=i=+new Date;return a===o?Promise.resolve():new Promise((function(t){!function n(){window.requestAnimationFrame((function(){l===i&&(s+=c,e.$refs["scroll-warp"].scrollTop=s,a<o&&s<o||a>o&&s>o?n():(e.$refs["scroll-warp"].scrollTop=o,t()))}))}()}))},scrollTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=this.getScrollTop(),i=t-n;return this.scrollBy(i,e)},scrollToEle:function(t){var e=t.keyboardHeight||232,n=(t=t.$el?t.$el:t).getBoundingClientRect(),i=this.$refs["scroll-warp"].getBoundingClientRect();if(n&&i){var o=document.documentElement.clientHeight-(a.a.state.global.isNumberInputOpen?e:0),r=i.bottom<o?i.bottom:o,c=i.top-n.top,s=n.bottom-r;c>0?this.scrollBy(-c-10):s>0&&this.scrollBy(s+10)}},isCurrent:function(e,n){var i=this;e.length&&t.each(e,(function(t){t._uid===n?i.isCurrKeyboard=!0:i.isCurrent(t.$children,n)}))},onNumberKeyboardOpen:function(t){this.isCurrKeyboard=!1,this.isCurrent(this.$children,t._uid),this.isCurrKeyboard&&this.scrollToEle(t)}}}}).call(this,n("391c"))},d474:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={HAS_HOUSEHOLDS:1,NON_UNIT_WHOLE_LAYER:2,WHOLE_BUILDING:3,PILE_FOUNDATION:4,HAS_UNIT_WHOLE_LAYER:5,USER_DEFINED:6}},d5f2:function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,".zjapp .popup-title[data-v-7c57ca00]{display:flex;align-items:center;justify-content:space-between;height:46px;padding:0 15px}.zjapp .popup-title .text-button[data-v-7c57ca00]{font-size:14px;color:#666}.zjapp .popup-title .clickable[data-v-7c57ca00]{color:#4981ff}.zjapp .popup-title .title-name[data-v-7c57ca00]{font-size:16px;color:#333}.zjapp .popup-content[data-v-7c57ca00]{display:flex;position:relative;height:calc(100% - 46px)}.zjapp .popup-content .van-tabs[data-v-7c57ca00] {width:100%}.zjapp .popup-content .van-tabs[data-v-7c57ca00] .van-tabs__nav{padding-left:15px;padding-right:0}.zjapp .popup-content .van-tabs[data-v-7c57ca00] .van-tabs__nav .van-tab{flex:0 0 90px!important}.zjapp .popup-content .van-tabs[data-v-7c57ca00] .van-tabs__nav .van-tab:first-child{flex:0 0 auto!important;max-width:85px;margin:0 10px 0 0;padding-left:0}.zjapp .popup-content .van-tabs[data-v-7c57ca00] .van-tabs__wrap{height:46px;padding-top:4px;padding-right:52px}.zjapp .popup-content .van-tabs[data-v-7c57ca00] .van-hairline--top-bottom:after{border-top-width:0}.zjapp .popup-content .van-tabs[data-v-7c57ca00] .van-tabs__content{overflow:auto}.zjapp .popup-content .van-tabs[data-v-7c57ca00] .van-cell{font-size:14px;padding:13px 16px}.zjapp .popup-content .van-tabs[data-v-7c57ca00] .van-cell .van-icon{color:#4275e8}.zjapp .history-button[data-v-7c57ca00]{position:absolute;top:46px;right:0;width:52px;height:45px;background:#fff;line-height:45px;box-shadow:-7px 0 7px -7px #ccc;text-align:center;z-index:1;color:#4275e8}.zjapp .history-content[data-v-7c57ca00]{width:100%;height:calc(100% - 46px);margin-top:46px;position:absolute;bottom:0;left:0;background-color:#fff;padding:15px 15px;overflow:auto}.zjapp .history-item[data-v-7c57ca00]{display:flex;justify-content:space-between}.zjapp .history-text[data-v-7c57ca00]{line-height:20px;word-break:break-all;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;width:400px;font-size:14px;margin-bottom:30px}.zjapp .history-selected-icon[data-v-7c57ca00]{color:#4275e8;line-height:18px;font-size:14px}",""])},d850:function(t,e,n){"use strict";n("2030")},e2a8:function(t,e,n){(t.exports=n("690e")(!1)).push([t.i,'.zjapp .status-total-bar[data-v-be07cd9c]{display:flex;flex-direction:row;text-align:center}.zjapp .total-item[data-v-be07cd9c]{flex:1;line-height:20px;padding:10px 5px 0;color:#111;font-size:12px}.zjapp .total-status[data-v-be07cd9c]{white-space:nowrap}.zjapp .total-status[data-v-be07cd9c]:before{content:"";width:10px;height:10px;display:inline-block;vertical-align:top;margin:5px 5px 0 0;background-color:#ddd;border-radius:50%}.zjapp .total-status-orange[data-v-be07cd9c]:before{background-color:#fc8b01}.zjapp .total-status-orange2[data-v-be07cd9c]:before{background-color:#ff8e24}.zjapp .total-status-white2[data-v-be07cd9c]:before{background-color:#fff;border:1px solid #dcdcdc}.zjapp .total-status-red[data-v-be07cd9c]:before{background-color:#ff3d3d}.zjapp .total-status-green[data-v-be07cd9c]:before{background-color:#0bc666}.zjapp .total-status-white[data-v-be07cd9c]:before{background-color:#fff}.zjapp .total-status-white-border[data-v-be07cd9c]:before{background-color:#fff;border:1px solid #dcdcdc}.zjapp .total-status-blue[data-v-be07cd9c]:before{background-color:#4174e9}.zjapp .total-status-purple-border[data-v-be07cd9c]:before{background-color:#fff;border:1px solid #796bfb}.zjapp .total-status-green-border[data-v-be07cd9c]:before{background-color:#fff;border:1px solid #0bc666}.zjapp .status-total-bar.-abs-top-right[data-v-be07cd9c]{position:absolute;top:0;right:13px}.zjapp .status-total-bar.-abs-top-right .total-item[data-v-be07cd9c]{padding-left:3px;padding-right:3px}.zjapp .status-total-bar.-abs-top-right .total-status[data-v-be07cd9c]:before{margin-right:2px}',""])},e89f:function(t,e,n){"use strict";var i=n("04f3"),a=n("cf09"),o=n("4360"),r=0;e.a={name:"PopupMixin",data:function(){return{backButtonEvent:null}},watch:{show:function(t){var e=this;if(t){if(this.$nextTick((function(){e.$el&&e.$el.style&&(e.$el.style.zIndex=++a.a.zIndex,r++,o.a.commit("app/SET_HAS_POPUP",!!r))})),!this.backButtonEvent){var n=this.close||this.closePopup;this.backButtonEvent=Object(i.a)(n)}}else--r<0&&(r=0),o.a.commit("app/SET_HAS_POPUP",!!r),this.backButtonEvent&&(Object(i.c)(this.backButtonEvent),this.backButtonEvent=null)}},methods:{}}},ef48:function(t,e,n){var i=n("9d55");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("85cb").default)("a1a65c0c",i,!0,{sourceMap:!1,shadowMode:!1})},f459:function(t,e,n){"use strict";n.r(e);var i={name:"PlaceList",props:{data:{type:Array,default:function(){return[]}},childrenKey:{type:String,default:"children"},subitemNameKey:{type:String,default:"name"},hasTitle:{type:Boolean,default:!1},itemNameKey:{type:String,default:"name"},emptyText:{type:String,default:""},statusKey:{type:String,default:"status"},statusClass:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{clickHandler:function(t){this.$emit("click",t)}}},a=(n("2ae1"),n("17cc")),o=Object(a.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.data.length?n("div",{staticClass:"place-list"},[t._l(t.data,(function(e,i){return[t.hasTitle?[n("div",{key:"title"+i,staticClass:"place-list-title"},[t._v("\n        "+t._s(e[t.itemNameKey])+"\n      ")]),n("div",{key:"con"+i,staticClass:"place-list-con"},t._l(e[t.childrenKey],(function(e,i){return n("div",{key:i,staticClass:"place-list-item",class:t.statusClass[e[t.statusKey]],on:{click:function(n){t.clickHandler(e)}}},[t._v("\n          "+t._s(e[t.subitemNameKey])+"\n        ")])})))]:t._e()]})),t.hasTitle?t._e():n("div",{staticClass:"place-list-con border-tb"},[t._l(t.data,(function(e,i){return[n("div",{key:"item"+i,staticClass:"place-list-item",class:t.statusClass[e[t.statusKey]],on:{click:function(n){t.clickHandler(e)}}},[t._v("\n        "+t._s(e[t.itemNameKey]||t.emptyText)+"\n      ")])]}))],2)],2):t._e()}),[],!1,null,"a9ef0260",null);e.default=o.exports},f546:function(t,e,n){"use strict";var i={name:"StatusTotalBar",props:{data:{type:Array,default:function(){return[]}},status:{type:String,default:"default"}},data:function(){return{}}},a=(n("f6de"),n("17cc")),o=Object(a.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"status-total-bar"},t._l(t.data,(function(e,i){return n("div",{key:i,staticClass:"total-item"},["default"===t.status?[n("p",[n("span",{staticClass:"total-status",class:"total-status-"+e.color},[t._v("\n          "+t._s(e.status)+"\n        ")])]),n("p",[t._v("\n        "+t._s(e.total)+"\n      ")])]:t._e(),"laser-scanning"===t.status?[n("p",[n("span",{staticClass:"total-status",class:"total-status-"+e.color},[t._v("\n          "+t._s(e.status)+"\n        ")]),t._v("\n        ("+t._s(e.total)+")\n      ")])]:t._e()],2)})))}),[],!1,null,"be07cd9c",null);e.a=o.exports},f6de:function(t,e,n){"use strict";n("5b85")}}]);