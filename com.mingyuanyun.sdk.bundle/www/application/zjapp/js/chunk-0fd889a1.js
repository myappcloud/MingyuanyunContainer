(window.webpackJsonp_module_entry_zjapp_=window.webpackJsonp_module_entry_zjapp_||[]).push([["chunk-0fd889a1"],{"3b0f":function(a,e,t){"use strict";t("4dc5")},"4dc5":function(a,e,t){var r=t("f98c");"string"==typeof r&&(r=[[a.i,r,""]]),r.locals&&(a.exports=r.locals);(0,t("85cb").default)("761b055c",r,!0,{sourceMap:!1,shadowMode:!1})},"809d":function(a,e,t){"use strict";t.r(e);t("cc57");var r=t("fd50"),o=t("48f4"),n=t("60af"),i=t("6900"),s=t("3516"),c=t("f97c"),l=t("6144"),d={name:"DataClear",data:function(){return{clearStatus:"clearing"}},activated:function(){this.doClear()},methods:{clearData:function(a){var e=this,t=document.getElementById("loader"),o=r.a.defer(),n=2e3+1e3*Math.random();return setTimeout((function(){circular_pos.innerHTML=a?"清除完毕":"清除失败,请重试",t.style.display="none",e.clearStatus=a?"success":"error",o.resolve()}),n),o.promise},doClear:function(){var a=this,e=document.getElementById("loader"),t=document.getElementById("circular_pos");this.clearStatus="clearing",t.innerHTML="数据清除中...",e.style.display="block",setTimeout((function(){var e=a.$router.currentRoute.name;n.a.createGlobalTask((function(){return i.a.clearData().then((function(e){return a.clearData(!0)})).then((function(){o.default.setLocalChanged(),s.a.setLocalChanged()}))}),"清除数据").then((function(){return o.default.executeSync().then(null,null,(function(e){e&&e.basedataDownloaded&&a.gotoIndex()}))})).then((function(){a.$router.currentRoute.name===e&&a.gotoIndex()})).catch((function(e){return a.clearData(!1),$log.error(e),r.a.reject(e)}))}),1e3)},gotoIndex:function(){l.a.saveString("userIsNotFirstLogin",1,l.a.level.user),c.a.gotoHome()}}},p=(t("3b0f"),t("17cc")),u=Object(p.a)(d,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("page-content",{attrs:{title:"清除数据","show-go-back":!1}},[t("div",{staticClass:"page-clear"},[t("div",{staticClass:"canvas"},[t("div",{staticClass:"circular_pos",attrs:{id:"circular_pos"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:"clearing"===a.clearStatus,expression:"clearStatus === 'clearing'"}],staticClass:"loader loader-ani",attrs:{id:"loader"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:"clearing"!==a.clearStatus,expression:"clearStatus !== 'clearing'"}],staticClass:"circular",attrs:{id:"circular"}})]),"success"===a.clearStatus?t("div",{staticClass:"afterClear",attrs:{id:"afterClear"}},[t("div",{staticClass:"tips-content",attrs:{id:"tips-content"}},[t("p",[a._v("已清除所有数据")])]),t("app-button-group",[t("app-button",{on:{click:a.gotoIndex}},[a._v("\n          返回\n        ")])],1)],1):a._e(),"error"===a.clearStatus?t("app-button-group",[t("app-button",{on:{click:a.doClear}},[a._v("\n        重试\n      ")])],1):a._e()],1)])}),[],!1,null,"01549508",null);e.default=u.exports},f98c:function(a,e,t){(a.exports=t("690e")(!1)).push([a.i,'.zjapp .page-clear[data-v-01549508]{background:#f2f2f2}.zjapp .page-clear .canvas[data-v-01549508]{background-color:#fff;border-bottom:1px solid #e6e6e6;overflow:hidden;position:relative;z-index:1}.zjapp .page-clear .canvas .circular_pos[data-v-01549508]{width:100%;height:260px;position:absolute;left:0;top:0;text-align:center;line-height:260px;font-size:16px}.zjapp .page-clear .canvas .circular[data-v-01549508]{border:10px solid #4275e8;width:200px;height:200px;margin:30px auto;border-radius:50%}.zjapp .page-clear .afterClear[data-v-01549508]{height:auto;width:100%;position:absolute;z-index:10;left:0;top:260px;overflow:hidden}.zjapp .page-clear .tips-content[data-v-01549508]{padding:15px 40px 5px;line-height:2em;color:#888;text-align:center}.zjapp .loader[data-v-01549508],.zjapp .loader[data-v-01549508]:after,.zjapp .loader[data-v-01549508]:before{border-radius:50%;width:200px;height:200px}.zjapp .loader[data-v-01549508]{margin:30px auto;border:10px solid #e2e2e2;border-top:10px solid #4275e8;transform:rotate(30deg);position:relative}.zjapp .loader-ani[data-v-01549508]{-webkit-animation:load8-data-v-01549508 1.1s linear infinite;animation:load8-data-v-01549508 1.1s linear infinite}.zjapp .loader[data-v-01549508]:after{border:10px solid transparent;border-top:10px solid #e2e2e2;transform:rotate(30deg);position:absolute;left:-10px;top:-10px;content:"";display:block}@-webkit-keyframes load8-data-v-01549508{0%{transform:rotate(30deg)}to{transform:rotate(390deg)}}@keyframes load8-data-v-01549508{0%{transform:rotate(30deg)}to{transform:rotate(390deg)}}',""])}}]);