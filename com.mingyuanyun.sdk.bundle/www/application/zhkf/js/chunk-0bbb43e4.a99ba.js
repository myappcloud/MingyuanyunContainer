(window["webpackJsonp_module_entry_zhkf_"]=window["webpackJsonp_module_entry_zhkf_"]||[]).push([["chunk-0bbb43e4"],{"0356":function(t,e,n){var i=n("42ce");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n("85cb").default;r("06ca991e",i,!0,{})},"08ec":function(t,e,n){var i=n("41be");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n("85cb").default;r("6772140b",i,!0,{})},"0ebb":function(t,e,n){"use strict";n.r(e);n("cc57"),n("f548"),n("6d57"),n("6a61");var i=n("2e91"),r=n("9ea6"),a=n("721f"),s=n("7b53"),o=n("536d"),l=n("96ce"),c=n("1319"),p=n("7508"),f=n("e49e"),u=n("a14a"),h=n.n(u),d=[{id:"",name:"",label:"检查项分类",type:"f_class",options:[]},{id:"",name:"",label:"问题状态",type:"f_status",options:[]}],m={components:{appList:r["a"],appToast:a["a"],AppFilter:s["a"]},data:function(){return{filterList:[],f_status:"",f_class:"",needDownloads:[],showDownloading:!1,percent:0,detailFlag:!1,refreshFlag:!1}},computed:{query:function(){return this.$route.query},quesListOptions:function(){return{check_task_batch_item_id:this.f_class,status:this.f_status,refreshFlag:this.refreshFlag}}},activated:function(){this.init(),this.refreshFlag=!this.refreshFlag},methods:{init:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.detailFlag){t.next=5;break}return t.next=3,this.checkDownload();case 3:return this.detailFlag=!1,t.abrupt("return");case 5:this.filterList=h.a.cloneDeep(d),this.f_status="",this.f_class="",this.filter_status(),this.filter_class();case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),checkDownload:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=["check-task-data"],t.next=3,l["b"].checkAllDataHasChange();case 3:if(n=t.sent,i=e.map((function(t){return n[t]||!1})),this.needDownloads=i,!this.needDownloads.some((function(t){return t}))){t.next=9;break}return t.next=9,this.download();case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),download:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e=Object(o["c"])(),"none"===e){t.next=7;break}return t.next=5,p["a"].checkIsWifi(!1,"继续下载");case 5:return t.next=7,this.downloadHandler();case 7:t.next=16;break;case 9:throw t.prev=9,t.t0=t["catch"](0),t.t0;case 16:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}(),downloadHandler:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,i,r,a,s,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getDownloadFns();case 2:if(e=t.sent,e.length){t.next=5;break}return t.abrupt("return");case 5:this.showDownloading=!0,n=null,i=Math.floor(10*Math.random()),r=[10+i,23+i,32+i,41+i,49+i,82+i,90+i],a=regeneratorRuntime.mark((function t(i){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Math.min(r[i],99),n=setInterval((function(){var t=o.percent+1;o.percent=Math.min(a,t)}),1e3),t.next=4,e[i]();case 4:o.refreshFlag=!o.refreshFlag,clearInterval(n),o.percent=a;case 7:case"end":return t.stop()}}),t)})),s=0;case 11:if(!(s<e.length)){t.next=16;break}return t.delegateYield(a(s),"t0",13);case 13:s++,t.next=11;break;case 16:return this.percent=99,t.next=19,this.waitTime(1e3);case 19:this.showDownloading=!1,this.percent=0;case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),waitTime:function(t){return new Promise((function(e){setTimeout((function(){e()}),t)}))},getDownloadFns:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[c["a"].getNewData],n=[],this.needDownloads.forEach((function(t,i){t&&n.push(e[i])})),t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),navChkList:function(){this.$router.replace({path:"checklist",query:{id:this.$route.query.batch_id}})},chooseFilterItem:function(t,e){this[e.type]=e.id,"f_class"===e.type?this.filter_status():this.filter_class()},filter_status:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=0,n=[{name:"待确认",count:"",id:"待确认"},{name:"待整改",count:"",id:"待整改"},{name:"整改中",count:"",id:"整改中"},{name:"已关闭",count:"",id:"已关闭"},{name:"非正常关闭",count:"",id:"非正常关闭"},{name:"已作废",count:"",id:"已作废"}],t.next=4,Object(f["d"])(this.query.batch_id||"",this.f_class);case 4:i=t.sent,console.log(i),n.forEach((function(t){t.count=i[t.name],e+=parseInt(t.count)})),console.log(e),n.unshift({name:"全部",count:e,id:""}),this.filterList[1].options=n;case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),filter_class:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["c"])(this.query.batch_id||"",this.f_status);case 2:e=t.sent,n=0,e.forEach((function(t){n+=parseInt(t.count),t.name=t.check_item_name})),e.unshift({name:"全部",count:n,id:""}),this.filterList[0].options=e;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),goBack:function(){this.$router.go(-1)},fetchQuesList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,i,r,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:{},n=e.page,i=this.query,t.next=4,Object(f["b"])({check_task_batch_id:i.batch_id||"",check_task_batch_item_id:this.f_class||"",status:this.f_status||""},"",n,10);case 4:return r=t.sent,console.log(r),this.quesListTotal=r.total,t.abrupt("return",r);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),goDetail:function(t){var e=Object(o["c"])();if("none"===e)return this.$dialog.alert({title:"温馨提示",message:"当前无网络，请检查网络"}).then((function(){}));this.detailFlag=!0,this.$router.push({path:"/appengineer/repair-detail",query:{id:t.id}})},editHandler:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.id,i=e.check_task_batch_item_full_name,n){t.next=4;break}return t.abrupt("return");case 4:this.$router.push({path:"add-question",query:{problemId:n,contents:{batchName:i},check_task_batch_id:e.check_task_batch_id,check_task_batch_item_detail_id:e.check_task_batch_item_detail_id}});case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-view x-col problem-wrapper"},[n("cus-nav-bar",{attrs:{"left-arrow":"",border:!1,"use-click-left":""},on:{"click-left":t.goBack}},[n("div",{attrs:{slot:"title"},slot:"title"},[n("p",{staticClass:"app-nav-title app_nav_tab",on:{click:t.navChkList}},[n("span",[t._v("检查清单")]),t._v(" "),n("span",{staticClass:"title_under_line"})]),t._v(" "),n("p",{staticClass:"app-nav-title app_nav_tab active"},[n("span",[t._v("问题清单")]),t._v(" "),n("span",{staticClass:"title_under_line"})])])]),t._v(" "),n("app-filter",{attrs:{"filter-list":t.filterList,"show-count":!0},on:{chooseItem:t.chooseFilterItem}}),t._v(" "),n("app-list",{staticClass:"x-flex",attrs:{autoload:!1,fetch:t.fetchQuesList,params:t.quesListOptions,"empty-text":"没有找到相关的问题清单"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"list-item mb10 mt10"},[n("div",{staticClass:"title"},[n("span",{staticClass:"nowrap title-text"},[t._v(t._s(e.check_task_batch_item_full_name))]),t._v(" "),n("span",{staticClass:"status",class:{to_confirm:"待确认"===e.confirm_status,canceled:"已作废"===e.confirm_status||"已确认"===e.confirm_status&&"已作废"===e.status,closed:"已关闭"===e.confirm_status,to_repair:"已确认"===e.confirm_status&&"待整改"===e.status,repairing:"已确认"===e.confirm_status&&"整改中"===e.status,unor_closed:"已确认"===e.confirm_status&&"非正常关闭"===e.status}},[t._v(t._s("已确认"===e.confirm_status?e.status:e.confirm_status))])]),t._v(" "),n("div",{staticClass:"content"},[t._v(t._s(e.subject))]),t._v(" "),n("div",{staticClass:"time"},[n("span",[t._v(t._s(e.register_name)+" | "+t._s(e.register_time))]),t._v(" "),e.show_edit_button>0?n("button",{staticClass:"btn blue-btn",on:{click:function(n){return t.editHandler(e)}}},[t._v("修改")]):e.show_edit_button<=0&&"已确认"===e.confirm_status?n("button",{staticClass:"btn blue-btn",on:{click:function(n){return t.goDetail(e)}}},[t._v("\n            查看\n          ")]):t._e()])])]}}])}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showDownloading,expression:"showDownloading"}],staticClass:"upload-wrapper"},[n("div",{staticClass:"upload-inner"},[n("span",[t._v("正在下载数据...")]),t._v(" "),n("div",{staticClass:"process"},[n("div",{staticClass:"line"},[n("div",{staticClass:"complete",style:{width:t.percent+"%"}})]),t._v(" "),n("span",[t._v(t._s(t.percent)+"%")])])])])],1)},x=[],w=n("d082");function v(t){n("bd31")}var k=!1,_=v,g=null,y=null,z=Object(w["a"])(m,b,x,k,_,g,y);e["default"]=z.exports},"41be":function(t,e,n){e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .app-toast[data-v-1b84d5c4] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  text-align: center;\n  z-index: 999999;\n}\n.zhkf .app-toast .app-toast-message[data-v-1b84d5c4] {\n  display: inline-block;\n  min-width: 160px;\n  max-width: 80%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  padding: 10px;\n  color: #fff;\n  border-radius: 4px;\n  font-size: 14px;\n  line-height: 21px;\n  background: rgba(51, 51, 51, 0.5);\n  -webkit-transform: translate(-50%, -50%) translateZ(0);\n          transform: translate(-50%, -50%) translateZ(0);\n}\n",""])},"42ce":function(t,e,n){var i=n("5454");e=t.exports=n("690e")(!1),e.push([t.i,"\n[data-v-93221e7e] .van-icon {\n  font-size: 15px;\n}\n.zhkf .filter[data-v-93221e7e] {\n  background: #fff;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n}\n.zhkf .clearfix[data-v-93221e7e]:before,\n.zhkf .clearfix[data-v-93221e7e]:after {\n  content: ' ';\n  display: table;\n}\n.zhkf .clearfix[data-v-93221e7e]:after {\n  clear: both;\n}\n.zhkf .filter-header[data-v-93221e7e] {\n  height: 45px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -ms-flex-wrap: nowrap;\n      flex-wrap: nowrap;\n  -webkit-box-flex: 0;\n      -ms-flex: 0 0 auto;\n          flex: 0 0 auto;\n}\n.zhkf .filter-header .filter-item[data-v-93221e7e] {\n    -webkit-box-flex: 1;\n        -ms-flex: 1 1 auto;\n            flex: 1 1 auto;\n    text-align: center;\n    padding: 10px 0;\n    width: 20%;\n    line-height: 22px;\n    color: #606060;\n}\n.zhkf .filter-header .filter-item .filter-desc[data-v-93221e7e] {\n      height: 100%;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      font-size: 14px;\n      padding: 0 6px;\n}\n.zhkf .filter-header .filter-item .filter-desc .filter-title[data-v-93221e7e] {\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        margin-right: 2px;\n}\n.zhkf .filter-header .filter-item[data-v-93221e7e] .filter-desc .van-icon {\n      -ms-flex-negative: 0;\n          flex-shrink: 0;\n}\n.zhkf .filter-header .filter-item:first-child .filter-desc[data-v-93221e7e] {\n      border-left: 0;\n}\n.zhkf .filter-header .filter-item__active[data-v-93221e7e] {\n    color: #0085ff;\n}\n.zhkf .filter-header .filter-item__active[data-v-93221e7e] .filter-desc .van-icon {\n      color: #0085ff !important;\n}\n.zhkf .filter-header .filter-item__disabled[data-v-93221e7e] {\n    color: #a0a0a0;\n}\n.zhkf .filter-header .filter-item__disabled[data-v-93221e7e] .filter-desc .van-icon {\n      color: #a0a0a0 !important;\n}\n.zhkf .filter-content[data-v-93221e7e] {\n  width: 100%;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.2);\n  z-index: 8;\n}\n.zhkf .filter-content .filter-list[data-v-93221e7e] {\n    background: #fff;\n    max-height: 320px;\n    overflow: scroll;\n}\n.zhkf .filter-content .filter-list .filter-cell[data-v-93221e7e] {\n      height: 40px;\n      line-height: 40px;\n      padding: 0 15px;\n      padding-left: 38px;\n      font-size: 14px;\n      color: #606060;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n}\n.zhkf .filter-content .filter-list .filter-cell[data-v-93221e7e]::before {\n        content: '';\n        display: inline-block;\n        height: 10px;\n        width: 13px;\n        background-size: contain;\n        position: relative;\n        right: 15px;\n}\n.zhkf .filter-content .filter-list .filter-cell .pull-left[data-v-93221e7e] {\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        overflow: hidden;\n}\n.zhkf .filter-content .filter-list .filter-cell[data-v-93221e7e]:last-child {\n        border-bottom: 0;\n}\n.zhkf .filter-content .filter-list .filter-cell__active[data-v-93221e7e] {\n      color: #0085ff;\n}\n.zhkf .filter-content .filter-list .filter-cell__active[data-v-93221e7e]::before {\n        background-image: url("+i(n("5b29"))+");\n}\n",""])},"5b29":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAUCAYAAACTQC2+AAAAAXNSR0IArs4c6QAAAcZJREFUSA21lT8sBEEYxd93XESlEOV1Qq0/WpFoNP6UGho6/xVccbfb0JFoXaJDhMaf8uprlToVhQaR8Hmze5O9nd0NOWuK2/nezL5f3uw3OeC/RlV9VHXX2nfbSW5P1QI8HEKxGHhWFdiWXckNYIyOtIhn1AmZcXwr+SXa11484ZSACQcCCN7zSeRrH75wySSjMYhQESxhUw7/DqrpAM2vaTniQD5Zz2NL6kb/29HtaQnvuKXPsDFrGx9MMssk51brPFFNh5jijkYla9Z6vqKAKUJu2vXOEnk6Qsg1jcyxRUPwQsgkNqQRieEsAtnLxZ53N8VqX8v88FcE9cV0sOe6MY41aTp6UBaC3xCyw/lO+21OvODrBCE3CYjgkZCxLIjxKbSMDcSOdJinM4RcENJrN7aeDyiijHW5d/RYGSaKSUERh3m6QMgJIUVn6z2TlLEqD46eKMOui47O3VBh5jdCfHeBdRM9/CYr8pSylpCi9s6GJV6i0EBX0F0vaYtpWgQyq7+BCZuhn/dkUV7TDLO0OOgnmOAMg5jDtHxkGWbpyWYI71El5YVjQqY7gRivZCJLaD9GwQE2sQwR/ov9xzCwmnp5WH8DfPODPR1n4cwAAAAASUVORK5CYII="},"6c7e":function(t,e,n){e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .problem-wrapper .first-list-item {\n  padding-top: 1px;\n}\n.zhkf .problem-wrapper .last-list-item {\n  padding-bottom: 1px;\n}\n.zhkf .problem-wrapper .list-item {\n  padding: 20px 15px 20px;\n  background-color: #fff;\n}\n.zhkf .problem-wrapper .list-item .title {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  font-size: 16px;\n  color: #202020;\n  line-height: 20px;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.zhkf .problem-wrapper .list-item .title .status {\n  min-width: 3em;\n  font-size: 12px;\n  color: #999;\n  white-space: nowrap;\n}\n.zhkf .problem-wrapper .list-item .title .status.to_confirm {\n  color: #fa6d1c;\n}\n.zhkf .problem-wrapper .list-item .title .status.canceled {\n  color: #a0a0a0;\n}\n.zhkf .problem-wrapper .list-item .title .status.closed {\n  color: #a0a0a0;\n}\n.zhkf .problem-wrapper .list-item .title .status.confirmed {\n  color: #52c41a;\n}\n.zhkf .problem-wrapper .list-item .title .status.to_repair {\n  color: #a0a0a0;\n}\n.zhkf .problem-wrapper .list-item .title .status.repairing {\n  color: #a0a0a0;\n}\n.zhkf .problem-wrapper .list-item .title .status.unor_closed {\n  color: #a0a0a0;\n}\n.zhkf .problem-wrapper .list-item .title .title-text {\n  margin-right: 1em;\n  font-weight: 500;\n  color: #202020;\n  line-height: 16px;\n}\n.zhkf .problem-wrapper .list-item .content {\n  font-size: 14px;\n  font-weight: 400;\n  color: #606060;\n  line-height: 26px;\n}\n.zhkf .problem-wrapper .list-item .time {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin-top: 6px;\n  font-size: 14px;\n  color: #bbb;\n  line-height: 26px;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.zhkf .problem-wrapper .list-item .btn {\n  min-width: 68px;\n  height: 26px;\n  margin-left: 8px;\n  padding: 0 9px;\n  font-size: 14px;\n  border-radius: 13px;\n  border: 1px solid #ddd;\n  border-rdius: 13px;\n  font-size: 12px;\n}\n.zhkf .problem-wrapper .list-item .btn.gray-btn {\n  border-color: #ddd;\n  color: #808080;\n}\n.zhkf .problem-wrapper .list-item .btn.blue-btn {\n  border-color: #0085ff;\n  color: #0085ff;\n}\n.zhkf .problem-wrapper .upload-wrapper {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.3);\n  z-index: 102;\n}\n.zhkf .problem-wrapper .upload-wrapper .upload-inner {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 214px;\n  height: 70px;\n  margin: -35px 0 0 -107px;\n  padding: 12px 15px 0;\n  font-size: 14px;\n  text-align: center;\n  color: #fff;\n  background-color: rgba(0, 0, 0, 0.7);\n  border-radius: 4px;\n}\n.zhkf .problem-wrapper .upload-wrapper .upload-inner .process {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding-top: 2px;\n  font-size: 12px;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.zhkf .problem-wrapper .upload-wrapper .upload-inner .line {\n  width: 140px;\n  height: 8px;\n  background-color: #7e7e7e;\n  border-radius: 100px;\n  overflow: hidden;\n}\n.zhkf .problem-wrapper .upload-wrapper .upload-inner .line .complete {\n  width: 50%;\n  height: 100%;\n  background-color: #e2e2e2;\n  border-radius: 100px;\n  -webkit-transition: width 0.6s;\n  transition: width 0.6s;\n}\n",""])},"721f":function(t,e,n){"use strict";n("163d");var i={name:"app-toast",props:{message:{type:String,default:""},duration:{type:Number,default:2e3}},model:{prop:"message",event:"hide"},computed:{show:function(){var t=this;return!!this.message&&(setTimeout((function(){return t.$emit("hide","")}),this.duration),!0)}}},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"app-toast"},[n("span",{staticClass:"app-toast-message"},[t._v(t._s(t.message))])]):t._e()},a=[],s=n("d082");function o(t){n("08ec")}var l=!1,c=o,p="data-v-1b84d5c4",f=null,u=Object(s["a"])(i,r,a,l,c,p,f);e["a"]=u.exports},"7b53":function(t,e,n){"use strict";n("cc57");var i={props:{filterList:{type:Array,default:function(){return[]}},keys:{type:Object,default:function(){return{count:"count",label:"name",id:"id"}}},showCount:{type:Boolean,default:!1}},data:function(){return{top:0,showFilterContent:!1,currFilter:{},currIndex:""}},activated:function(){this.currFilter={},this.showFilterContent=!1},mounted:function(){this.initPosition()},updated:function(){this.initPosition()},methods:{initPosition:function(){var t=this.$refs.filterHeader;this.top=t.offsetTop+t.offsetHeight},changeFilter:function(t){this.currFilter=this.filterList[t];var e=this.filterList[t-1]||{};return t>0&&(e.name||e.label)&&this.currFilter.options.length<2?this.$toast("请先选择".concat(this.filterList[t-1].label)):t===this.currIndex?(this.maskClickHandler(),this.currIndex="",!1):(this.currIndex=t,this.showFilterContent=!0,void this.$emit("changeFilter",t))},maskClickHandler:function(){this.showFilterContent=!1,this.currFilter={},this.currIndex=""},chooseItem:function(t,e){this.currFilter.name=this.currFilter.options[t].name,this.currFilter.id!=this.currFilter.options[t].id&&(this.currFilter.id=this.currFilter.options[t].id,console.log(this.currFilter),this.currFilter={},this.$emit("chooseItem",t,e))}}},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filter"},[n("ul",{ref:"filterHeader",staticClass:"filter-header van-hairline--bottom"},t._l(t.filterList,(function(e,i){return n("li",{key:i,staticClass:"filter-item",class:{"filter-item__active":t.currFilter.type===e.type||e.id,"filter-item__disabled":"checkItem"==e.type&&e.options.length<2},on:{click:function(e){return t.changeFilter(i)}}},[n("div",{staticClass:"filter-desc van-hairline--left"},[n("span",{staticClass:"filter-title"},[t._v(t._s(e.id?e.name:e.label))]),t._v(" "),n("van-icon",{directives:[{name:"show",rawName:"v-show",value:t.currIndex===i&&t.showFilterContent,expression:"currIndex === index && showFilterContent"}],staticClass:"icon",attrs:{name:"arrow-up",color:"#0085FF"}}),t._v(" "),n("van-icon",{directives:[{name:"show",rawName:"v-show",value:t.currIndex!=i||!t.showFilterContent,expression:"currIndex != index || !showFilterContent"}],staticClass:"icon",attrs:{name:"arrow-down",color:"#D4D4D9"}})],1)])})),0),t._v(" "),t.showFilterContent?n("div",{staticClass:"filter-content",style:{top:t.top+"px"},on:{click:t.maskClickHandler}},[n("ul",{staticClass:"filter-list"},t._l(t.currFilter.options,(function(e,i){return e.disabled?t._e():n("li",{key:i,staticClass:"filter-cell van-hairline--bottom",class:{"filter-cell__active":t.currFilter.id===e.id},on:{click:function(e){return t.chooseItem(i,t.currFilter)}}},[n("span",{staticClass:"pull-left"},[t._v(t._s(e[t.keys.label]))]),t._v(" "),t.showCount?n("span",{staticClass:"pull-right"},[t._v(t._s(e[t.keys.count]))]):t._e()])})),0)]):t._e()])},a=[],s=n("d082");function o(t){n("0356")}var l=!1,c=o,p="data-v-93221e7e",f=null,u=Object(s["a"])(i,r,a,l,c,p,f);e["a"]=u.exports},bd31:function(t,e,n){var i=n("6c7e");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n("85cb").default;r("4577c9d8",i,!0,{})}}]);