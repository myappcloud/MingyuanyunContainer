(window["webpackJsonp_module_entry_zhkf_"]=window["webpackJsonp_module_entry_zhkf_"]||[]).push([["chunk-0553e7a1"],{"0368":function(e,t,n){"use strict";n.r(t);var o=n("bdbb"),a=n("242a"),c=n("693f"),i={components:{textBox:o["a"],checkBox:a["a"]},data:function(){return{model:{},showImageAction:!1,actions:[],title:"",placeholder:"",showFeedbackType:!1}},created:function(){var e=this.$route.query.from;this.title="upgrade"===e?"我要吐槽":"意见反馈",this.placeholder="upgrade"===e?"请录入您的吐槽内容":"请录入您发现的产品错误或优化建议",this.showFeedbackType="upgrade"!==e,this.model=c["a"].model,this.actions=c["a"].actions},methods:{updateRemark:function(e){this.$set(this.model,"remark",e)},changeUploadStatus:function(){this.$set(this.model,"uploadLog",!this.model.uploadLog)},changeType:function(e){this.model.currType=e},close:function(){this.$refs.textbox.clear()},addImage:function(){this.showImageAction=!0},removeImg:function(e){c["a"].removeImg(e)},showLargeImg:function(e){c["a"].showLargeImg(e)},selectAction:function(e){var t=this;return c["a"].takePhoto(e.index).then((function(){t.showImageAction=!1})).catch((function(e){t.$toast(e||"获取照片失败")}))},cancelSelect:function(){this.showImageAction=!1},submit:function(){var e=this;c["a"].submit().then((function(t){e.$toast.clear(),console.log("===  msg ====",t),e.model.remark="",e.model.photoList=[],e.model.uploadLog=!0,e.model.currType="optimumSuggest",e.close(),e.$toast(t||"提交成功",3e5),e.$router.go(-1)})).catch((function(t){e.$toast.clear(),e.$toast(t||"提交失败")}))}}},s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"feedback"},[o("cus-nav-bar",{attrs:{title:e.title,"left-arrow":"",border:!1},on:{"click-left":function(t){return e.$router.go(-1)}}}),e._v(" "),o("div",{staticClass:"content-box"},[o("text-box",{ref:"textbox",staticClass:"van-hairline--bottom",attrs:{remark:e.model.remark,placeholder:e.placeholder},on:{input:e.updateRemark}}),e._v(" "),o("div",{staticClass:"content"},[e.showFeedbackType?o("p",{staticClass:"tip"},[e._v("*请不要在此反馈整改或检查结果")]):e._e(),e._v(" "),o("section",{staticClass:"image-list"},[e._l(e.model.photoList,(function(t,n){return o("div",{key:n,staticClass:"img-wrapper",class:{ml20:n>0}},[o("img",{attrs:{src:t.img_view,alt:"photo"},on:{click:function(t){return e.showLargeImg(n)}}}),e._v(" "),o("i",{staticClass:"delete-btn",on:{click:function(t){return e.removeImg(n)}}})])})),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.model.photoList.length<3,expression:"model.photoList.length < 3"}],staticClass:"append-btn",class:{ml20:e.model.photoList.length>0},on:{click:e.addImage}},[o("img",{attrs:{src:n("40ba"),alt:"add"}})])],2),e._v(" "),e.showFeedbackType?o("div",{staticClass:"type-list"},[e._v("\n        问题类型：\n        "),o("div",{class:{active:"productError"===e.model.currType},on:{click:function(t){return e.changeType("productError")}}},[e._v("产品错误")]),e._v(" "),o("div",{class:{active:"optimumSuggest"===e.model.currType},on:{click:function(t){return e.changeType("optimumSuggest")}}},[e._v("优化建议")])]):e._e()])],1),e._v(" "),e.showFeedbackType&&"productError"===e.model.currType?o("p",{staticClass:"upload-log"},[o("check-box",{attrs:{name:"上传日志，以便帮您排查问题","icon-size":"16",checked:e.model.uploadLog},on:{select:e.changeUploadStatus}})],1):e._e(),e._v(" "),o("div",{staticClass:"footer"},[o("div",{staticClass:"btn",on:{click:e.submit}},[e._v("提交")])]),e._v(" "),o("van-action-sheet",{attrs:{actions:e.actions,"cancel-text":"取消"},on:{select:e.selectAction,cancel:e.cancelSelect},model:{value:e.showImageAction,callback:function(t){e.showImageAction=t},expression:"showImageAction"}})],1)},r=[],d=n("d082");function l(e){n("fa62")}var p=!1,f=l,h="data-v-fe3ce38c",g=null,b=Object(d["a"])(i,s,r,p,f,h,g);t["default"]=b.exports},a497:function(e,t,n){var o=n("5454");t=e.exports=n("690e")(!1),t.push([e.i,"\n.zhkf .ml20[data-v-fe3ce38c] {\n  margin-left: 20px;\n}\n.zhkf .feedback .content-box[data-v-fe3ce38c] {\n  width: 100%;\n  background: #ffffff;\n}\n.zhkf .feedback .content-box .content[data-v-fe3ce38c] {\n    padding: 18px 15px;\n}\n.zhkf .feedback .content-box .content .tip[data-v-fe3ce38c] {\n      font-size: 14px;\n      color: #eb544d;\n}\n.zhkf .feedback .content-box .content .image-list[data-v-fe3ce38c] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-orient: horizontal;\n      -webkit-box-direction: normal;\n          -ms-flex-direction: row;\n              flex-direction: row;\n      margin-top: 18px;\n}\n.zhkf .feedback .content-box .content .image-list .img-wrapper[data-v-fe3ce38c] {\n        position: relative;\n        width: 60px;\n        height: 60px;\n        background: lightgray;\n        border-radius: 2px;\n}\n.zhkf .feedback .content-box .content .image-list .img-wrapper img[data-v-fe3ce38c] {\n          width: 100%;\n          height: 100%;\n}\n.zhkf .feedback .content-box .content .image-list .img-wrapper .delete-btn[data-v-fe3ce38c] {\n          position: absolute;\n          width: 20px;\n          height: 20px;\n          top: -10px;\n          right: -10px;\n          background: url("+o(n("2f0b"))+");\n          background-size: contain;\n}\n.zhkf .feedback .content-box .content .image-list .img-wrapper[data-v-fe3ce38c]:not(:first-child) {\n        margin-left: 20px;\n}\n.zhkf .feedback .content-box .content .image-list .append-btn[data-v-fe3ce38c] {\n        width: 60px;\n        height: 60px;\n        background: white;\n}\n.zhkf .feedback .content-box .content .image-list .append-btn img[data-v-fe3ce38c] {\n          width: 100%;\n          height: 100%;\n}\n.zhkf .feedback .content-box .content .type-list[data-v-fe3ce38c] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      font-size: 15px;\n      margin-top: 20px;\n      height: 31px;\n      line-height: 31px;\n      white-space: nowrap;\n}\n.zhkf .feedback .content-box .content .type-list div[data-v-fe3ce38c] {\n        position: relative;\n        width: 80px;\n        height: 31px;\n        border-radius: 2px;\n        font-size: 13px;\n        line-height: 20px;\n        border: 1px solid #d2d2d7;\n        padding: 5px 10px;\n        color: #a0a0a0;\n        text-align: center;\n}\n.zhkf .feedback .content-box .content .type-list div[data-v-fe3ce38c]:not(:first-child) {\n        margin-left: 12px;\n}\n.zhkf .feedback .content-box .content .type-list .active[data-v-fe3ce38c] {\n        color: #0099ff;\n        border: 1px solid #0099ff;\n}\n.zhkf .feedback .content-box .content .type-list .active[data-v-fe3ce38c]:after {\n          content: '';\n          position: absolute;\n          top: -1px;\n          right: -1px;\n          background: url("+o(n("9e55"))+") no-repeat;\n          background-size: contain;\n          width: 17px;\n          height: 17px;\n}\n.zhkf .feedback .upload-log[data-v-fe3ce38c] {\n  width: 100%;\n  padding-left: 15px;\n  margin-top: 14px;\n  line-height: 16px;\n  font-size: 14px;\n}\n.zhkf .feedback .footer[data-v-fe3ce38c] {\n  margin-top: 18px;\n  text-align: center;\n}\n.zhkf .feedback .footer .btn[data-v-fe3ce38c] {\n    display: inline-block;\n    width: 95%;\n    height: 45px;\n    background: -webkit-gradient(linear, left top, right top, from(#1cb0fd), to(#0099ff));\n    background: linear-gradient(90deg, #1cb0fd 0%, #0099ff 100%);\n    -webkit-box-shadow: 0px 2px 4px 0px rgba(0, 153, 255, 0.27);\n            box-shadow: 0px 2px 4px 0px rgba(0, 153, 255, 0.27);\n    border-radius: 4px;\n    font-size: 16px;\n    line-height: 45px;\n    color: #ffffff;\n}\n",""])},fa62:function(e,t,n){var o=n("a497");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("85cb").default;a("d15384dc",o,!0,{})}}]);