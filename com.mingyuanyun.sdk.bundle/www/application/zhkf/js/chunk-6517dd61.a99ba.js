(window["webpackJsonp_module_entry_zhkf_"]=window["webpackJsonp_module_entry_zhkf_"]||[]).push([["chunk-6517dd61"],{"0970":function(e,t,i){"use strict";i("6d57"),i("cc57");var n=i("1834"),r=function(){var e="select ci.id,ci.name,ci.parent_id,ci.sort,ci.ifEnd,cig.remark from check_item ci left join check_item_guide cig on ci.id=cig.item_id";return n["a"].query(e)},d=function(e){var t="select remark from check_item_guide where item_id = ?",i=[e];return n["a"].queryOne(t,i).then((function(e){return e&&e.remark}))},a=function(e){var t="select item.full_name,guide.remark as guide           from check_item_guide guide               inner join check_item item on guide.item_id=item.id           where guide.item_id=?";return n["a"].queryOne(t,[e])},o=function(){var e="select item.id,item.name,item.parent_id,guide.id is not null as has_guide       from check_item item           left join check_item_guide guide on item.id=guide.item_id              and ifnull(guide.remark,'') <> ''       order by sort";return n["a"].query(e)},c={getCheckItemWithGuide:r,getGuideByCheckItemId:d,getCheckItemList:o,getGuideAndItemByItemId:a},u=i("a14a"),l=i.n(u),f=function(){var e={};return{getItem:function(t,i){if(void 0===t||null===t)throw new TypeError("key参数为空");return i?e[t]:l.a.cloneDeep(e[t])},setItem:function(t,i){if(void 0===t||null===t)throw new TypeError("key参数为空");if(arguments.length<2)throw new TypeError("value参数未设置");e[t]=i},clear:function(){e={}}}},s=f(),_={IS_NEED_DOWNLOAD_BASE_DATA:"is_need_download_base_data",LAST_EXEC_TIME_DATA:"last_exec_time_data",LAST_GUIDE_SORT_MAP:"last_guide_sort_map"},m=function(){var e=function e(t,i){t.remark&&""!=t.remark&&(t.has_guide=!0),t.children=[];for(var n=0;n<i.length;n++)i[n].parent_id==t.id&&t.children.push(i[n]);if(t.children&&t.children.length>0)for(var r=0;r<t.children.length;r++)t.children[r]=e(t.children[r],i);return t};return{getCheckItemGuideByItemId:function(e){return c.getGuideByCheckItemId(e)},getCheckItemTree:function(){var t={id:""};return c.getCheckItemWithGuide().then((function(i){t=e(t,i);for(var n=0;n<t.children.length;n++)if("所有检查项"==t.children[n].name)return t.children[n].children;return t.children}))},getCheckItemTreeAndGuideSortMap:function(){return console.time("getData"),c.getCheckItemList().then((function(e){console.timeEnd("getData"),console.time("processData");var t={},i=[],n=0,r=[];function d(e,t){e.forEach((function(e){e.depth=t,e.tree?d(e.tree,t+1):e.has_guide&&(e.guide_sort=n,i[n]=e.id,n++)}))}return e.forEach((function(e){t[e.id]=e})),e.forEach((function(e){e.parent_id&&t[e.parent_id]?(t[e.parent_id].tree=t[e.parent_id].tree||[],t[e.parent_id].tree.push(e)):r.push(e)})),d(r,1),s.setItem(_.LAST_GUIDE_SORT_MAP,i),console.timeEnd("processData"),{tree:r,guideSortMap:i}}))},getGuideSortMapFromCatch:function(){return s.getItem(_.LAST_GUIDE_SORT_MAP,!0)},getGuideAndItemByItemId:c.getGuideAndItemByItemId}};t["a"]=m()},1192:function(e,t,i){t=e.exports=i("690e")(!1),t.push([e.i,"\n.zhkf .guide-detail[data-v-31efcebc] {\n  height: 100%;\n  background: #fff;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.zhkf .guide-detail .content[data-v-31efcebc] {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    padding: 30px 15px;\n}\n.zhkf .guide-detail .content .title[data-v-31efcebc] {\n      color: #202020;\n      font-size: 16px;\n      text-align: center;\n}\n.zhkf .guide-detail .content .main[data-v-31efcebc] {\n      color: #606060;\n      font-size: 14px;\n      margin-top: 15px;\n}\n.zhkf .guide-detail .footer[data-v-31efcebc] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    text-align: center;\n    line-height: 44px;\n    border-top: 1px solid #ebebeb;\n    height: 45px;\n}\n.zhkf .guide-detail .footer a[data-v-31efcebc] {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      color: #0099ff;\n      font-size: 15px;\n}\n.zhkf .guide-detail .footer a[data-v-31efcebc]:first-child {\n        border-right: 1px solid #ebebeb;\n}\n.zhkf .guide-detail .footer a[data-v-31efcebc]:last-child {\n        border: none;\n}\n",""])},"52a6":function(e,t,i){"use strict";i.r(t);var n=i("0970"),r={data:function(){return{item_full_name:"",guide:"",last_item_id:"",next_item_id:""}},activated:function(){this.guideSortMap=n["a"].getGuideSortMapFromCatch();var e=this.$route.query,t=e.item_id,i=e.guide_sort;this.guideSort=i,this.openGuide(t,this.guide_sort)},methods:{openGuide:function(e,t){var i=this;t=t||0,n["a"].getGuideAndItemByItemId(e).then((function(e){e&&(i.item_full_name=e.full_name,i.guide=e.guide),i.guideSort+=t,i.last_item_id=i.guideSortMap[i.guideSort-1],i.next_item_id=i.guideSortMap[i.guideSort+1]}))}}},d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"guide-detail"},[i("cus-nav-bar",{attrs:{title:"检查指引","left-arrow":"",border:!1},on:{"click-left":function(t){return e.$router.go(-1)}}}),e._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[e._v(e._s(e.item_full_name))]),e._v(" "),i("div",{staticClass:"main"},[e._v(e._s(e.guide))])]),e._v(" "),i("div",{staticClass:"footer"},[i("a",{directives:[{name:"show",rawName:"v-show",value:!!e.last_item_id,expression:"!!last_item_id"}],on:{click:function(t){return e.openGuide(e.last_item_id,-1)}}},[e._v("\n      上一项\n    ")]),e._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:!!e.next_item_id,expression:"!!next_item_id"}],on:{click:function(t){return e.openGuide(e.next_item_id,1)}}},[e._v("\n      下一项\n    ")])])],1)},a=[],o=i("d082");function c(e){i("f71a")}var u=!1,l=c,f="data-v-31efcebc",s=null,_=Object(o["a"])(r,d,a,u,l,f,s);t["default"]=_.exports},f71a:function(e,t,i){var n=i("1192");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=i("85cb").default;r("335466c0",n,!0,{})}}]);