(window["webpackJsonp_module_entry_zhkf_"]=window["webpackJsonp_module_entry_zhkf_"]||[]).push([["chunk-2bffde3d"],{"08ec":function(e,t,n){var i=n("41be");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("85cb").default;a("6772140b",i,!0,{})},"2ae1":function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));n("e204");var i="PLAN_SELECT_SCOPE";t["a"]={state:{scopeList:[],cacheScopeList:[],scopeText:"",detailScopes:[],isChangeScope:!1,latestUpgradeId:"",selProductTypes:[],selProductTypeNames:[]},mutations:{updateScopeList:function(e,t){if(Array.isArray(t))e.scopeList=t;else{var n=e.scopeList.findIndex((function(e){return e.buildingId===t.buildingId}));-1===n?e.scopeList.push(t):e.scopeList.splice(n,1,t)}},updateCacheScopeList:function(e,t){e.cacheScopeList=t},clearScopeList:function(e){e.scopeList=[]},updateScopeText:function(e,t){e.scopeText=t},clearDetailScopes:function(e){e.detailScopes=[]},updateDetailScopes:function(e,t){e.detailScopes=t},updateIsChangeScope:function(e,t){e.isChangeScope=t},updateSelProductTypes:function(e,t){e.selProductTypes=t.ids,e.selProductTypeNames=t.names},updateUpgradeId:function(e,t){e.latestUpgradeId=t}}}},"2f08":function(e,t,n){var i=n("89b9");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("85cb").default;a("99dbe3d2",i,!0,{})},3359:function(e,t){e.exports="data:image/png;base64,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"},"3b31":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAvdJREFUWAnNmc9rE0EUx+fNVpJCBWmDQq4tnrz5fySpdMlJvBc96dlSz3oT7+IprFjT/8Obx/ZaaUmL0EK7yOb5vtNM2CY7STaZbnYg2d358d5n3mRm33shNWf5225tJv1+kxU/V6zqTFQXUfignBDziSK5KvoVaN191Pl5fNuU75vydL98uf345jp5TcTbzOpZnrFE6jczHVRXg88Pvx2czTp2JkAOw7ULjt/2Sb1TzGuzCs/sR3SlWX1cp8oniqKrzD6pyqmAvXbjBffVFwF7khq3+C3RKWm1W+sc/pgkTLsaWdbjfKexpxL+7h0OSjFhkQ0d0OXiyGyQJV095/irbIDQNdBnvWykaIMqr2TJr0fljlnQWK5AOADBEMYgGZYcA7wIm++LslzaWtAJ3ek63N9ZYmwI/C54pH500H09CwyrgHbSG2cIiKOkp+Kje9kQeWYku7umKlv2CBouMc65pcNhIrK7DctgUsaC5g1xkxxL42KHcB5LTeorh3m1GmzijWMsGMfJm9LAAVwMhVcqbm+XmLmFhzIVvO/BQ/BK/iXJUZngLMuDINjScJlsRdmuYBPHQvy5khawaTibJeXDsV1fMZ6weJ+uUosOXU1e6nthwykHbNjF5bWgsGmShXZOYckNYNPiKv5ZModTPdhWEH2JCZ+6ek36jbjG+KoHm0Zo6EugdznCphG3ehfsSSDYNIJqT/K8iwGbRsSPoNq79AUFgglsxptBxL+gPO/DLZMBRDpCiZPoXcu8AuGwgkmKATSeq6Qj5pXnexxSIzZ/YwChALkSseKpb2W55QmDYRkMHAIiikKuxIR+uaX6GQDdhiGVVBoCQgXiUTl79v2oyy8FutMxMSSYqC4tyqQ+wmZH3tOF5GWsboGLNqJumyQYsXW43rEgKtDBJHJkAJ6LKAYOyaMROOges6AFgiUHeZo9mZKzn+0/z1WEisNC++tR90MWHGROVbzsBOZUQMyi1ClgANqCFMkgC9EqVRLdAqavRf0N8R/l0lWtDBMhSgAAAABJRU5ErkJggg=="},"3bae":function(e,t,n){var i=n("4a2c");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("85cb").default;a("b51cdbfe",i,!0,{})},"41be":function(e,t,n){t=e.exports=n("690e")(!1),t.push([e.i,"\n.zhkf .app-toast[data-v-1b84d5c4] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  text-align: center;\n  z-index: 999999;\n}\n.zhkf .app-toast .app-toast-message[data-v-1b84d5c4] {\n  display: inline-block;\n  min-width: 160px;\n  max-width: 80%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  padding: 10px;\n  color: #fff;\n  border-radius: 4px;\n  font-size: 14px;\n  line-height: 21px;\n  background: rgba(51, 51, 51, 0.5);\n  -webkit-transform: translate(-50%, -50%) translateZ(0);\n          transform: translate(-50%, -50%) translateZ(0);\n}\n",""])},"496a":function(e,t,n){var i=n("5454");t=e.exports=n("690e")(!1),t.push([e.i,"\n.zhkf .img-list[data-v-33cf74e8] {\n  padding: 15px 15px 0;\n  overflow: hidden;\n}\n.zhkf .img-list > li[data-v-33cf74e8] {\n  position: relative;\n  float: left;\n  width: 60px;\n  height: 60px;\n  margin: 0 20px 15px 0;\n}\n.zhkf .img-list > li.img-item img[data-v-33cf74e8] {\n  display: block;\n  width: 100%;\n  height: 100%;\n  border-radius: 3px;\n}\n.zhkf .img-list > li.img-item .delete-icon[data-v-33cf74e8] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 20px;\n  height: 20px;\n  margin: -10px -10px 0 0;\n  background: url("+i(n("61d1"))+") no-repeat;\n  background-size: contain;\n  border-radius: 50%;\n}\n.zhkf .img-list > li.add-icon[data-v-33cf74e8] {\n  background: url("+i(n("5b0d"))+") no-repeat;\n  background-size: contain;\n}\n.zhkf .img-list > li.add-icon.album[data-v-33cf74e8] {\n  background: url("+i(n("a159"))+") no-repeat;\n  background-size: contain;\n}\n",""])},"4a2c":function(e,t,n){var i=n("5454");t=e.exports=n("690e")(!1),t.push([e.i,"\n@charset \"UTF-8\";\n[data-v-56279bcb].bottom-btn-wrap {\n  position: static !important;\n}\n.zhkf .page-tab[data-v-56279bcb] {\n  line-height: 45px;\n  text-align: center;\n  font-size: 14px;\n  color: #a0a0a0;\n  background-color: #fff;\n}\n.zhkf .page-tab li.current[data-v-56279bcb] {\n    color: #202020;\n}\n.zhkf .page-tab li.current .txt[data-v-56279bcb]:after {\n      background-image: -webkit-gradient(linear, left top, right top, from(#2568ff), to(#2e9dff));\n      background-image: linear-gradient(90deg, #2568ff 0%, #2e9dff 100%);\n}\n.zhkf .page-tab li .txt[data-v-56279bcb]:after {\n    background-color: transparent;\n}\n.zhkf .page-tab .txt[data-v-56279bcb] {\n    display: inline-block;\n}\n.zhkf .page-tab .txt[data-v-56279bcb]:after {\n      content: '';\n      position: absolute;\n      width: 30px;\n      height: 4px;\n      bottom: 0;\n      left: 50%;\n      margin-left: -15px;\n      border-radius: 100px;\n}\n.zhkf .edit-wrapper[data-v-56279bcb] {\n  position: relative;\n  background-color: #fff;\n}\n.zhkf .edit-wrapper .edit[data-v-56279bcb] {\n    width: 100%;\n    height: 110px;\n    padding: 13px 15px;\n    border: none;\n    resize: none;\n    font-size: 14px;\n    color: #202020;\n}\n.zhkf .edit-wrapper .num[data-v-56279bcb] {\n    position: absolute;\n    bottom: 7px;\n    right: 12px;\n    font-size: 14px;\n    color: #a0a0a0;\n}\n.zhkf .img-wrapper[data-v-56279bcb] {\n  background-color: #fff;\n}\n.zhkf .img-wrapper .img-list[data-v-56279bcb] {\n    padding: 15px 15px 0;\n    overflow: hidden;\n}\n.zhkf .img-wrapper .img-list > li[data-v-56279bcb] {\n      position: relative;\n      float: left;\n      width: 60px;\n      height: 60px;\n      margin: 0 20px 15px 0;\n}\n.zhkf .img-wrapper .img-list > li.img-item img[data-v-56279bcb] {\n        display: block;\n        width: 100%;\n        height: 100%;\n        border-radius: 3px;\n}\n.zhkf .img-wrapper .img-list > li.img-item .delete-icon[data-v-56279bcb] {\n        position: absolute;\n        top: 0;\n        right: 0;\n        width: 20px;\n        height: 20px;\n        margin: -10px -10px 0 0;\n        background: url("+i(n("3b31"))+") no-repeat;\n        background-size: contain;\n        border-radius: 50%;\n}\n.zhkf .img-wrapper .img-list > li.add-icon[data-v-56279bcb] {\n        background: url("+i(n("3359"))+") no-repeat;\n        background-size: contain;\n}\n.zhkf .add-ques-info[data-v-56279bcb] {\n  background-color: #fff;\n}\n.zhkf .add-ques-info .info-item[data-v-56279bcb] {\n    position: relative;\n    min-height: 50px;\n    padding: 12px 15px;\n    font-size: 14px;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n}\n.zhkf .add-ques-info .info-item .label[data-v-56279bcb] {\n      min-width: 5em;\n      color: #808080;\n}\n.zhkf .add-ques-info .info-item .txt[data-v-56279bcb] {\n      color: #202020;\n}\n.zhkf .add-ques-info .info-item .txt[data-v-56279bcb]:empty:before {\n        content: '\\9009\\586B';\n        color: #bbb;\n}\n.zhkf .add-ques-info .info-item.has-arrow[data-v-56279bcb] {\n      padding-right: 32px;\n}\n.zhkf .add-ques-info .info-item.has-arrow[data-v-56279bcb]:after {\n        content: '';\n        position: absolute;\n        top: 50%;\n        right: 14px;\n        width: 15px;\n        height: 15px;\n        margin-top: -7px;\n        background: url("+i(n("5e4b"))+") no-repeat;\n        background-size: contain;\n}\n.zhkf .save-btn[data-v-56279bcb] {\n  height: 45px;\n  line-height: 45px;\n  text-align: center;\n  color: #fff;\n  font-size: 16px;\n  background-color: #2567ff;\n}\n.zhkf .list-item[data-v-56279bcb] {\n  padding: 12px 15px 15px;\n  background-color: #fff;\n}\n.zhkf .list-item .title[data-v-56279bcb] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    font-size: 16px;\n    color: #202020;\n    line-height: 20px;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n}\n.zhkf .list-item .title .status[data-v-56279bcb] {\n      min-width: 3em;\n      font-size: 12px;\n      color: #999;\n      white-space: nowrap;\n}\n.zhkf .list-item .title .status.to_confirm[data-v-56279bcb] {\n        color: #fa6d1c;\n}\n.zhkf .list-item .title .status.canceled[data-v-56279bcb] {\n        color: #a0a0a0;\n}\n.zhkf .list-item .title .status.closed[data-v-56279bcb] {\n        color: #a0a0a0;\n}\n.zhkf .list-item .title .status.confirmed[data-v-56279bcb] {\n        color: #52c41a;\n}\n.zhkf .list-item .title .status.unor_closed[data-v-56279bcb] {\n        color: #a0a0a0;\n}\n.zhkf .list-item .title .title-text[data-v-56279bcb] {\n      margin-right: 1em;\n}\n.zhkf .list-item .content[data-v-56279bcb] {\n    padding-top: 8px;\n    font-size: 14px;\n    color: #808080;\n}\n.zhkf .list-item .time[data-v-56279bcb] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    padding-top: 3px;\n    font-size: 14px;\n    color: #bbb;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n}\n.zhkf .list-item .btn[data-v-56279bcb] {\n    min-width: 56px;\n    height: 26px;\n    margin-left: 8px;\n    padding: 0 9px;\n    font-size: 14px;\n    border-radius: 13px;\n    border: 1px solid #ddd;\n}\n.zhkf .list-item .btn.gray-btn[data-v-56279bcb] {\n      border-color: #ddd;\n      color: #808080;\n}\n.zhkf .list-item .btn.blue-btn[data-v-56279bcb] {\n      border-color: #2568ff;\n      color: #2568ff;\n}\n.zhkf .fx-level-wrapper[data-v-56279bcb] {\n  background-color: rgba(0, 0, 0, 0.3);\n  overflow: hidden;\n  z-index: 999;\n}\n.zhkf .fx-level-wrapper .fx-level-inner[data-v-56279bcb] {\n    position: absolute;\n    width: 100%;\n    bottom: 0;\n    left: 0;\n    font-size: 14px;\n    background-color: #fff;\n    z-index: 999;\n    max-height: 400px;\n    overflow-y: auto;\n}\n.zhkf .fx-level-wrapper .fx-level-inner .level-item[data-v-56279bcb] {\n      position: relative;\n      padding: 11px 15px;\n      padding-right: 40px;\n      line-height: 24px;\n      color: #606060;\n}\n.zhkf .fx-level-wrapper .fx-level-inner .level-item span[data-v-56279bcb] {\n        color: #909090;\n}\n.zhkf .fx-level-wrapper .fx-level-inner .level-item[data-v-56279bcb]:after {\n        content: '';\n        position: absolute;\n        display: none;\n        width: 13px;\n        height: 10px;\n        top: 50%;\n        right: 15px;\n        margin-top: -7px;\n        background: url("+i(n("9685"))+") no-repeat;\n        background-size: contain;\n}\n.zhkf .fx-level-wrapper .fx-level-inner .level-item.current[data-v-56279bcb] {\n        color: #2567ff;\n}\n.zhkf .fx-level-wrapper .fx-level-inner .level-item.current span[data-v-56279bcb] {\n          color: #2567ff;\n}\n.zhkf .fx-level-wrapper .fx-level-inner .level-item.current[data-v-56279bcb]:after {\n          display: block;\n}\n",""])},"4aaf":function(e,t,n){var i=n("496a");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("85cb").default;a("25d0e84f",i,!0,{})},"516c":function(e,t,n){"use strict";n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return j}));var i=n("a593"),a=n("3e83"),s=(n("5f54"),{name:"Loading",model:{prop:"show",event:"change"},props:{show:Boolean,text:String,position:String,transition:{type:String,default:"vux-mask"}},watch:{show:function(e){this.$emit("update:show",e)}}}),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:e.transition}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-loading_toast vux-loading",class:e.text?"":"vux-loading-no-text"},[n("div",{staticClass:"weui-mask_transparent"}),e._v(" "),n("div",{staticClass:"weui-toast",style:{position:e.position}},[n("i",{staticClass:"weui-loading weui-icon_toast"}),e._v(" "),e.text?n("p",{staticClass:"weui-toast__content"},[e._v("\n        "+e._s(e.text)),e._t("default")],2):e._e()])])])},o=[],c=n("d082");function l(e){n("2f08")}var u,d,p=!1,h=l,m=null,f=null,g=Object(c["a"])(s,r,o,p,h,m,f),b=g.exports,v=null,k=function(e,t){var n={};for(var i in e.$options.props)"value"!==i&&(n[i]=e.$options.props[i].default);var a=Object.assign({},n,t);for(var s in a)e[s]=a[s]},x={install:function(e,t){var n=e.extend(b);u||(u=new n({el:document.createElement("div")}),document.body.appendChild(u.$el));var i={show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d&&d(),"string"===typeof e?u.text=e:"object"===Object(a["a"])(e)&&k(u,e),("object"===Object(a["a"])(e)&&e.onShow||e.onHide)&&(d=u.$watch("show",(function(t){t&&e.onShow&&e.onShow(u),!1===t&&e.onHide&&e.onHide(u)}))),v&&clearTimeout(v),v=setTimeout((function(){u.show=!0}),e.delay||0)},hide:function(){v&&(clearTimeout(v),v=null),u.show=!1},isVisible:function(){return u.show}};e.$comComps?e.$comComps.loading=i:e.$comComps={loading:i},e.mixin({created:function(){this.$comComps=e.$comComps}})}},w=x,I=(x.install,void 0);i["default"].use(w);var y=i["default"].$comComps.loading,S=[],A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,n=e.mask,i=void 0!==n&&n,a=e.success,s=e.fail,r=e.complete,o=I,c=function(){try{a&&a.bind(o)()}catch(e){s&&s.bind(o)()}r&&r.bind(o)()};S.splice(0,1/0,c);var l={text:t,isShowMask:i};y.show(l)},j=function(){y.hide();while(S.length){var e=S.shift();"function"===typeof e&&e()}}},"5b0d":function(e,t,n){e.exports=n.p+"img/img-add-icon.7c09f3e7.png"},"5e4b":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAYlJREFUSA3t1b1OwzAQAGBfS8gTsID4ERIJqlJmZlYkNkYQPwNCPA5DxYL4kXgDRmY2hroNAaqKFcQLUFk1dwFHHUKoz+6Gh56b6O6zI+ciBGOkaX8xTV/WGalFSq2YjTmRsjev1GdPKXUv5eOl1tq6BlHWSfW6nsG8KUrWWux2Ok8XHNwabjRWHgCgRTANRHc4uDVMWJLEJ4if0ZwGB4fvVPtfxAB32sJ4ZLJxMde4qD2MQ3Ptt8iGqWA5Lq6SZHX/L9wJdsGdYS7uBebg3mBb3Ctsg3uHK/BbPO1b5rSzGggVrxpYXOP7fIxxpMmIzW73+dzkTQSm4oRjL7/DWdFMtB4uGThv9uaPz9huZ9vYYm6w5s/m4D0MawfGmMiOR9B8YwAiBZhei6Kob2Dvh6sMFSLcaDaX3wxK0Ss8LuoVtkG9wbaoF5iDOsNc1Al2QdmwK8qCsyybHQz0KyYHeQFsDmXvKd2rGtadSymYw4JOKC2I1UCkzA7xG7AQBLXTOI4/qnb2f888gS+RN/3dVWeOIQAAAABJRU5ErkJggg=="},"61d1":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAvdJREFUWAnNmc9rE0EUx+fNVpJCBWmDQq4tnrz5fySpdMlJvBc96dlSz3oT7+IprFjT/8Obx/ZaaUmL0EK7yOb5vtNM2CY7STaZbnYg2d358d5n3mRm33shNWf5225tJv1+kxU/V6zqTFQXUfignBDziSK5KvoVaN191Pl5fNuU75vydL98uf345jp5TcTbzOpZnrFE6jczHVRXg88Pvx2czTp2JkAOw7ULjt/2Sb1TzGuzCs/sR3SlWX1cp8oniqKrzD6pyqmAvXbjBffVFwF7khq3+C3RKWm1W+sc/pgkTLsaWdbjfKexpxL+7h0OSjFhkQ0d0OXiyGyQJV095/irbIDQNdBnvWykaIMqr2TJr0fljlnQWK5AOADBEMYgGZYcA7wIm++LslzaWtAJ3ek63N9ZYmwI/C54pH500H09CwyrgHbSG2cIiKOkp+Kje9kQeWYku7umKlv2CBouMc65pcNhIrK7DctgUsaC5g1xkxxL42KHcB5LTeorh3m1GmzijWMsGMfJm9LAAVwMhVcqbm+XmLmFhzIVvO/BQ/BK/iXJUZngLMuDINjScJlsRdmuYBPHQvy5khawaTibJeXDsV1fMZ6weJ+uUosOXU1e6nthwykHbNjF5bWgsGmShXZOYckNYNPiKv5ZModTPdhWEH2JCZ+6ek36jbjG+KoHm0Zo6EugdznCphG3ehfsSSDYNIJqT/K8iwGbRsSPoNq79AUFgglsxptBxL+gPO/DLZMBRDpCiZPoXcu8AuGwgkmKATSeq6Qj5pXnexxSIzZ/YwChALkSseKpb2W55QmDYRkMHAIiikKuxIR+uaX6GQDdhiGVVBoCQgXiUTl79v2oyy8FutMxMSSYqC4tyqQ+wmZH3tOF5GWsboGLNqJumyQYsXW43rEgKtDBJHJkAJ6LKAYOyaMROOges6AFgiUHeZo9mZKzn+0/z1WEisNC++tR90MWHGROVbzsBOZUQMyi1ClgANqCFMkgC9EqVRLdAqavRf0N8R/l0lWtDBMhSgAAAABJRU5ErkJggg=="},"721f":function(e,t,n){"use strict";n("163d");var i={name:"app-toast",props:{message:{type:String,default:""},duration:{type:Number,default:2e3}},model:{prop:"message",event:"hide"},computed:{show:function(){var e=this;return!!this.message&&(setTimeout((function(){return e.$emit("hide","")}),this.duration),!0)}}},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{staticClass:"app-toast"},[n("span",{staticClass:"app-toast-message"},[e._v(e._s(e.message))])]):e._e()},s=[],r=n("d082");function o(e){n("08ec")}var c=!1,l=o,u="data-v-1b84d5c4",d=null,p=Object(r["a"])(i,a,s,c,l,u,d);t["a"]=p.exports},"89b9":function(e,t,n){t=e.exports=n("690e")(!1),t.push([e.i,"\n.zhkf .weui-mask {\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n}\n.zhkf .weui-mask_transparent {\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n}\n.zhkf .weui-toast {\n  position: fixed;\n  z-index: 5001;\n  width: 7.6em;\n  min-height: 7.6em;\n  top: 50%;\n  left: 50%;\n  margin-left: -3.8em;\n  background: rgba(17, 17, 17, 0.7);\n  text-align: center;\n  border-radius: 5px;\n  color: #ffffff;\n}\n.zhkf .weui-icon_toast {\n  margin: 22px 0 0;\n  display: block;\n}\n.zhkf .weui-icon_toast.weui-icon-success-no-circle:before {\n  color: #ffffff;\n  font-size: 55px;\n}\n.zhkf .weui-icon_toast.weui-loading {\n  margin: 30px 0 0;\n  width: 38px;\n  height: 38px;\n  vertical-align: baseline;\n}\n.zhkf .weui-toast__content {\n  margin: 0 0 15px;\n}\n.zhkf .weui-loading {\n  width: 20px;\n  height: 20px;\n  display: inline-block;\n  vertical-align: middle;\n  -webkit-animation: weuiLoading 1s steps(12, end) infinite;\n          animation: weuiLoading 1s steps(12, end) infinite;\n  background: transparent url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgxMDB2MTAwSDB6Ii8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTlFOUU5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTMwKSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iIzk4OTY5NyIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgzMCAxMDUuOTggNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjOUI5OTlBIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDYwIDc1Ljk4IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0EzQTFBMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA2NSA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNBQkE5QUEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDU4LjY2IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0IyQjJCMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjQkFCOEI5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA1MCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDMkMwQzEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1MCA0NS45OCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDQkNCQ0IiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTEyMCA0MS4zNCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNEMkQyRDIiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDM1IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0RBREFEQSIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgtNjAgMjQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTJFMkUyIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKC0zMCAtNS45OCA2NSkiLz48L3N2Zz4=') no-repeat;\n  background-size: 100%;\n}\n.zhkf .weui-loading.weui-loading_transparent {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMjAnIGhlaWdodD0nMTIwJyB2aWV3Qm94PScwIDAgMTAwIDEwMCc+PHBhdGggZmlsbD0nbm9uZScgZD0nTTAgMGgxMDB2MTAwSDB6Jy8+PHJlY3QgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjU2KScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwIC0zMCknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjUpJyByeD0nNScgcnk9JzUnIHRyYW5zZm9ybT0ncm90YXRlKDMwIDEwNS45OCA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjQzKScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSg2MCA3NS45OCA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjM4KScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSg5MCA2NSA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjMyKScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSgxMjAgNTguNjYgNjUpJy8+PHJlY3Qgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHg9JzQ2LjUnIHk9JzQwJyBmaWxsPSdyZ2JhKDI1NSwyNTUsMjU1LC4yOCknIHJ4PSc1JyByeT0nNScgdHJhbnNmb3JtPSdyb3RhdGUoMTUwIDU0LjAyIDY1KScvPjxyZWN0IHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyB4PSc0Ni41JyB5PSc0MCcgZmlsbD0ncmdiYSgyNTUsMjU1LDI1NSwuMjUpJyByeD0nNScgcnk9JzUnIHRyYW5zZm9ybT0ncm90YXRlKDE4MCA1MCA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjIpJyByeD0nNScgcnk9JzUnIHRyYW5zZm9ybT0ncm90YXRlKC0xNTAgNDUuOTggNjUpJy8+PHJlY3Qgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHg9JzQ2LjUnIHk9JzQwJyBmaWxsPSdyZ2JhKDI1NSwyNTUsMjU1LC4xNyknIHJ4PSc1JyByeT0nNScgdHJhbnNmb3JtPSdyb3RhdGUoLTEyMCA0MS4zNCA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjE0KScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSgtOTAgMzUgNjUpJy8+PHJlY3Qgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHg9JzQ2LjUnIHk9JzQwJyBmaWxsPSdyZ2JhKDI1NSwyNTUsMjU1LC4xKScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSgtNjAgMjQuMDIgNjUpJy8+PHJlY3Qgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHg9JzQ2LjUnIHk9JzQwJyBmaWxsPSdyZ2JhKDI1NSwyNTUsMjU1LC4wMyknIHJ4PSc1JyByeT0nNScgdHJhbnNmb3JtPSdyb3RhdGUoLTMwIC01Ljk4IDY1KScvPjwvc3ZnPgo=');\n}\n@-webkit-keyframes weuiLoading {\n0% {\n    -webkit-transform: rotate3d(0, 0, 1, 0deg);\n            transform: rotate3d(0, 0, 1, 0deg);\n}\n100% {\n    -webkit-transform: rotate3d(0, 0, 1, 360deg);\n            transform: rotate3d(0, 0, 1, 360deg);\n}\n}\n@keyframes weuiLoading {\n0% {\n    -webkit-transform: rotate3d(0, 0, 1, 0deg);\n            transform: rotate3d(0, 0, 1, 0deg);\n}\n100% {\n    -webkit-transform: rotate3d(0, 0, 1, 360deg);\n            transform: rotate3d(0, 0, 1, 360deg);\n}\n}\n.zhkf .weui-icon_toast.weui-loading {\n  margin: 30px 0 0;\n  width: 38px;\n  height: 38px;\n  vertical-align: baseline;\n  display: inline-block;\n}\n.zhkf .vux-mask-enter,\n.zhkf .vux-mask-leave-active,\n.zhkf .vux-mask-leave-active,\n.zhkf .vux-mask-enter-active {\n  position: relative;\n  z-index: 1;\n}\n.zhkf .vux-mask-enter,\n.zhkf .vux-mask-leave-active {\n  opacity: 0;\n}\n.zhkf .vux-mask-leave-active,\n.zhkf .vux-mask-enter-active {\n  -webkit-transition: opacity 300ms;\n  transition: opacity 300ms;\n}\n.zhkf .vux-loading-no-text .weui-toast {\n  min-height: 98px;\n}\n",""])},"94f6":function(e,t,n){"use strict";n.r(t);n("5ab2"),n("e44b"),n("e10e"),n("e697");var i=n("28f8"),a=(n("6d57"),n("6a61"),n("2e91")),s=n("9ea6"),r=n("721f"),o=n("ed7b"),c=n("516c"),l=n("536d"),u=n("9c54"),d=n("ba8f"),p=n("2ae1"),h=n("f809"),m=n("334d"),f=n("1319"),g=n("e49e"),b=n("0e23"),v=n("96ce"),k=n("7508");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I={components:{appList:s["a"],appToast:r["a"],imageUpload:o["a"]},mixins:[Object(d["a"])({name:p["b"],store:p["a"],state:["scopeText","cacheScopeList","detailScopes","isChangeScope","selProductTypes"],mutations:["updateScopeText","clearScopeList","updateDetailScopes","clearDetailScopes","updateIsChangeScope","updateCacheScopeList"]})],data:function(){return{subject:"",maxLength:200,minDate:new Date,currentDate:new Date,showDatetime:!1,buildingList:[],imgList:[],batchName:"",addQuesIsShow:!0,quesListIsShow:!1,quesListTotal:0,riskLevelList:[],riskLevelIsShow:!1,riskLevelTitle:"",riskLevelId:"",expectCompleteTime:"",toast:"",isSumiting:!1,problemId:"",detailRes:{},transfromScopes:[],oldPath:"",needDownloads:[],showDownloading:!1,percent:0,detailFlag:!1,contents:{}}},computed:{query:function(){return this.$route.query}},watch:{$route:function(e,t){console.log(t),/add-question/.test(e.path)&&/(checklist$)|(question-list$)/.test(t.path)&&(this.contents=this.query.contents,this.initPage())}},mounted:function(){this.contents=this.query.contents,this.initPage()},activated:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.fetchQuesList(),e.next=3,this.createScopes();case 3:this.transfromScopes=e.sent,console.log("this.transfromScopes",this.transfromScopes),!this.$router.isForward&&this.scopeText&&(console.log(this.cacheScopes,"cachescopes"),this.updateDetailScopes(this.cacheScopes.length?this.cacheScopes:this.detailRes.scopes||[])),this.$router.isForward&&this.updateCacheScopeList([]);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{checkDownload:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$toast.loading(),t=["check-task-data"],e.next=4,v["b"].checkAllDataHasChange();case 4:if(n=e.sent,i=t.map((function(e){return n[e]||!1})),this.needDownloads=i,!this.needDownloads.some((function(e){return e}))){e.next=10;break}return e.next=10,this.download();case 10:this.$toast.clear();case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),download:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t=Object(l["c"])(),"none"===t){e.next=7;break}return e.next=5,k["a"].checkIsWifi(!1,"继续下载");case 5:return e.next=7,this.downloadHandler();case 7:e.next=16;break;case 9:throw e.prev=9,e.t0=e["catch"](0),e.t0;case 16:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),downloadHandler:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a,s,r,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getDownloadFns();case 2:if(t=e.sent,t.length){e.next=5;break}return e.abrupt("return");case 5:this.showDownloading=!0,n=null,i=Math.floor(10*Math.random()),a=[10+i,23+i,32+i,41+i,49+i,82+i,90+i],s=regeneratorRuntime.mark((function e(i){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=Math.min(a[i],99),n=setInterval((function(){var e=o.percent+1;o.percent=Math.min(s,e)}),1e3),e.next=4,t[i]();case 4:clearInterval(n),o.percent=s;case 6:case"end":return e.stop()}}),e)})),r=0;case 11:if(!(r<t.length)){e.next=16;break}return e.delegateYield(s(r),"t0",13);case 13:r++,e.next=11;break;case 16:return this.percent=99,e.next=19,this.waitTime(1e3);case 19:this.showDownloading=!1,this.percent=0;case 21:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),waitTime:function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},getDownloadFns:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[f["a"].getNewData],n=[],this.needDownloads.forEach((function(e,i){e&&n.push(t[i])})),console.log("needDownloads",this.needDownloads),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),goBack:function(){this.$router.go(-1)},uploadErrorHanlder:function(e){e.notAllow},selectScope:function(){this.$router.push({path:"effect-scope",query:{id:this.testId||this.query.check_task_batch_id||""}})},showAddQues:function(){this.addQuesIsShow=!0,this.quesListIsShow=!1},showQuesList:function(){this.addQuesIsShow=!1,this.quesListIsShow=!0},fetchQuesList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},n=t.page,e.prev=1,i=this.query,e.next=5,g["a"].getCheckTaskProblemPages({check_task_batch_item_detail_id:i.check_task_batch_item_detail_id||""},"",n);case 5:return a=e.sent,this.quesListTotal=a.total,console.log(a),e.abrupt("return",a);case 11:e.prev=11,e.t0=e["catch"](1),this.toast=e.t0.errmsg,Object(u["b"])(e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));function t(){return e.apply(this,arguments)}return t}(),selectRiskLevel:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.riskLevelIsShow=!0,e.next=3,Object(b["b"])();case 3:t=e.sent,this.riskLevelList=t.items;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkedRiskLevel:function(e){this.riskLevelTitle=e.title,this.riskLevelId=e.id,this.riskLevelIsShow=!1},getRooms:function(e){var t=[],n=[];return e.forEach((function(e){return e.floors.forEach((function(e){return e.rooms.forEach((function(e){t.push(e),e.selected&&n.push(e)}))}))})),{rooms:t,selectedRooms:n}},getScopes:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a,s,r,o,c,l=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.cacheScopes=[],this.isChangeScope||!this.transfromScopes.length){e.next=3;break}return e.abrupt("return",Promise.resolve(this.transfromScopes));case 3:t=[],console.log("this.cacheScopeList",this.cacheScopeList),n=0,i=this.cacheScopeList.length;case 6:if(!(n<i)){e.next=17;break}if(a=this.cacheScopeList[n],s=this.getRooms(a.list),r=s.rooms,o=s.selectedRooms,c=o.length,!c&&!a.selected){e.next=14;break}return e.delegateYield(regeneratorRuntime.mark((function e(){var n,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n={},i=void 0,n.building_id=a.buildingId,n.sub_proj_id=a.subProjId,n.building_name=a.building_name,c!==r.length){e.next=12;break}return e.next=8,Object(m["b"])(n.building_id,l.selProductTypes);case 8:s=e.sent,i=s.map((function(e){return l.cacheScopes.push(w(w({},n),{},{room_id:e.id,product_guid:e.product_guid})),e.id})),e.next=13;break;case 12:i=o.map((function(e){return l.cacheScopes.push(w(w({},n),{},{room_id:e.id,product_guid:e.product_guid})),e.id}));case 13:n.rooms=i,t.push(n);case 15:case"end":return e.stop()}}),e)}))(),"t0",14);case 14:n++,e.next=6;break;case 17:return e.abrupt("return",Promise.resolve(t));case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createScopes:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getScopes();case 2:return t=e.sent,this.updateIsChangeScope(!1),e.abrupt("return",Promise.resolve(t));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createEditScopes:function(){},checkPostData:function(){var e="";return this.subject.length?e:"请输入问题描述"},createPostData:function(){var e=this.query,t=this.transfromScopes,n={check_task_batch_id:e.check_task_batch_id||"",check_task_batch_item_id:e.check_task_batch_item_id||"",check_task_batch_item_detail_id:e.check_task_batch_item_detail_id||"",subject:this.subject,risk_level:this.riskLevelId,risk_level_title:this.riskLevelTitle,expect_complete_time:this.expectCompleteTime,scopes:t,images:this.imgList};if(this.problemId){var i={id:this.detailRes.id,check_task_batch_id:this.detailRes.check_task_batch_id||"",check_task_batch_item_id:this.detailRes.check_task_batch_item_id||"",check_task_batch_item_detail_id:this.detailRes.check_task_batch_item_detail_id||""};n=w(w({},n),i)}return n},saveHandler:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.isSumiting){e.next=3;break}return e.abrupt("return",!1);case 3:if(this.isSumiting=!0,t=this.checkPostData(),!t){e.next=9;break}return this.toast=t,this.isSumiting=!1,e.abrupt("return",!1);case 9:return Object(c["b"])({title:"正在提交",mask:!0}),n=this.createPostData(),console.log(n),i=this.problemId?g["a"].updateProblem:g["a"].registerProblem,e.next=15,i(n);case 15:return e.next=17,this.upload();case 17:this.submitSucess(),this.updateCacheScopeList([]),e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](0),console.error(e.t0),this.submitFail(e.t0);case 25:case"end":return e.stop()}}),e,this,[[0,21]])})));function t(){return e.apply(this,arguments)}return t}(),submitFail:function(e){this.isSumiting=!1;var t=e.errMsg||e.message||"上传失败，请稍后重试",n=/network/i.test(t)?"网络异常，上传数据失败":t;this.toast=n,Object(c["a"])(),Object(u["b"])(e,!1,!0)},submitSucess:function(){var e=this;this.isSumiting=!1,this.toast="操作成功",Object(c["a"])(),setTimeout((function(){e.resetPage(),e.goBack()}),1500)},resetPage:function(){this.showAddQues(),this.subject="",this.riskLevelTitle="",this.riskLevelId="",this.imgList=[],this.expectCompleteTime="",this.currentDate=new Date,this.updateScopeText(""),this.clearDetailScopes()},initPage:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(this.query),this.riskLevelTitle="",this.riskLevelId="",t=this.query.problemId,this.showAddQues(),!t){e.next=30;break}return e.next=8,g["a"].getProblemDetail(t);case 8:n=e.sent,this.detailRes=n,console.log("getProblemDetail",n),this.problemId=t,this.subject=n.subject,this.riskLevelId=n.risk_level,this.riskLevelTitle=n.risk_level_title,this.batchName=this.contents.batchName,this.imgList=n.images.map((function(e){return e.local_path})),this.expectCompleteTime=n.expect_complete_time,i=n.scopes,this.updateDetailScopes(i),a=[],i.forEach((function(e){var t=a.find((function(t){return t.building_id===e.building_id&&t.sub_proj_id===e.sub_proj_id}));if(t)t.rooms.push(e.room_id);else{var n=""===e.room_id?[]:[e.room_id];a.push({building_id:e.building_id,sub_proj_id:e.sub_proj_id,building_name:e.building_name,rooms:n})}})),this.transfromScopes=a,console.log(a),s=[],a.forEach((function(e){var t=e.rooms.length,n=t>0?"(".concat(t,"个房间)"):"";s.push(e.building_name+n)})),r=s.join(","),this.updateScopeText(r),e.next=39;break;case 30:this.problemId="",this.imgList=[],this.subject=this.contents.item_detail_name||"",this.batchName=this.contents.batchName,this.isEdit=!1,this.expectCompleteTime="",this.riskLevelTitle="",this.clearDetailScopes(),this.updateScopeText("");case 39:this.clearScopeList(),this.updateIsChangeScope(!1),console.log("initPage",t,n);case 42:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),upload:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object(l["c"])(),"none"===t){e.next=4;break}return e.next=4,this.uploadHandler();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),uploadHandler:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(c["b"])({title:" ",mask:!0}),e.next=3,f["a"].sendNewData();case 3:Object(c["a"])();case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),goDetail:function(e){var t=Object(l["c"])();if("none"===t)return this.$dialog.alert({title:"温馨提示",message:"当前无网络，请检查网络"}).then((function(){}));this.$router.push({path:"/appengineer/repair-detail",query:{id:e.id}})},editHandler:function(e){var t=e.id,n=e.check_task_batch_item_full_name;t&&(this.query.problemId=t,this.query.batchName=n,this.initPage())},showDatePicker:function(){this.showDatetime=!0},cancelDatetime:function(){this.showDatetime=!1},confirmDatetime:function(e){this.expectCompleteTime=Object(h["a"])(e,"yyyy-MM-dd"),this.showDatetime=!1}}},y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-view x-col"},[n("cus-nav-bar",{attrs:{title:"登记问题","left-arrow":"",border:!1,"use-click-left":""},on:{"click-left":e.goBack}}),e._v(" "),e.query.check_task_batch_item_detail_id?n("div",{staticClass:"page-tab"},[n("ul",{staticClass:"x-row bdbt"},[n("li",{staticClass:"x-flex",class:[e.addQuesIsShow?"current":""]},[n("span",{staticClass:"x-rel txt",on:{click:e.showAddQues}},[e._v("登记问题")])]),e._v(" "),n("li",{staticClass:"x-flex",class:[e.quesListIsShow?"current":""],on:{click:e.showQuesList}},[n("span",{staticClass:"x-rel txt"},[e._v("\n          问题清单\n          "),n("em",[e._v("("+e._s(e.quesListTotal)+")")])])])])]):e._e(),e._v(" "),e.addQuesIsShow?n("div",{staticClass:"page-content x-rel x-flex ovhd"},[n("div",{staticClass:"add-ques-wrapper scroll-container x-abs x-box"},[n("div",{staticClass:"add-ques-inner"},[n("div",{staticClass:"edit-wrapper x-rel"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.subject,expression:"subject"}],staticClass:"edit",attrs:{placeholder:"请描述问题",maxlength:e.maxLength},domProps:{value:e.subject},on:{input:function(t){t.target.composing||(e.subject=t.target.value)}}}),e._v(" "),n("i",{staticClass:"num"},[e._v(e._s(e.maxLength-e.subject.length))])]),e._v(" "),n("div",{staticClass:"img-wrapper mb10 bdtp"},[n("image-upload",{on:{error:e.uploadErrorHanlder},model:{value:e.imgList,callback:function(t){e.imgList=t},expression:"imgList"}})],1),e._v(" "),n("div",{staticClass:"add-ques-info"},[e.query.check_task_batch_item_detail_id?n("div",{staticClass:"info-item x-row bdbt"},[n("span",{staticClass:"label"},[e._v("检查项分类")]),e._v(" "),n("span",{staticClass:"txt"},[e._v(e._s(e.batchName))])]):e._e(),e._v(" "),n("div",{staticClass:"info-item x-row has-arrow bdbt",on:{click:e.selectScope}},[n("span",{staticClass:"label"},[e._v("影响范围")]),e._v(" "),n("span",{staticClass:"txt"},[e._v(e._s(e.scopeText))])]),e._v(" "),n("div",{staticClass:"info-item x-row has-arrow bdbt",on:{click:e.selectRiskLevel}},[n("span",{staticClass:"label"},[e._v("问题等级")]),e._v(" "),n("span",{staticClass:"txt"},[e._v(e._s(e.riskLevelTitle))])]),e._v(" "),n("div",{staticClass:"info-item x-row has-arrow",on:{click:e.showDatePicker}},[n("span",{staticClass:"label"},[e._v("预期完成时间")]),e._v(" "),n("span",{staticClass:"txt"},[e._v(e._s(e.expectCompleteTime))])])])])])]):e._e(),e._v(" "),e.addQuesIsShow?n("bottom-btn",{on:{mainclick:e.saveHandler}},[n("span",[e._v("保存")])]):e._e(),e._v(" "),e.quesListIsShow?n("app-list",{staticClass:"x-flex",attrs:{fetch:e.fetchQuesList,"empty-text":"没有找到相关的问题清单",autoload:!0},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"list-item mb10"},[n("div",{staticClass:"title"},[n("span",{staticClass:"nowrap title-text"},[e._v(e._s(t.check_task_batch_item_full_name))]),e._v(" "),n("span",{staticClass:"status",class:{to_confirm:"待确认"===t.confirm_status,canceled:"已作废"===t.confirm_status,closed:"已关闭"===t.confirm_status,confirmed:"已确认"===t.confirm_status}},[e._v(e._s(t.confirm_status))])]),e._v(" "),n("div",{staticClass:"content"},[e._v(e._s(t.subject))]),e._v(" "),n("div",{staticClass:"time"},[n("span",[e._v(e._s(t.register_name)+" | "+e._s(t.register_time))]),e._v(" "),t.show_edit_button>0?n("button",{staticClass:"btn blue-btn",on:{click:function(n){return e.editHandler(t)}}},[e._v("修改")]):t.show_edit_button<=0&&"已确认"===t.confirm_status?n("button",{staticClass:"btn blue-btn",on:{click:function(n){return e.goDetail(t)}}},[e._v("\n            查看\n          ")]):e._e()])])]}}],null,!1,1936579135)}):e._e(),e._v(" "),e.riskLevelIsShow?n("div",{staticClass:"fx-level-wrapper x-abs x-box",on:{click:function(t){e.riskLevelIsShow=!1}}},[n("div",{staticClass:"fx-level-inner"},e._l(e.riskLevelList,(function(t){return n("div",{key:t.id,staticClass:"level-item bdbt",class:[e.riskLevelId===t.id?"current":""],on:{click:function(n){return e.checkedRiskLevel(t)}}},[e._v("\n        "+e._s(t.title)+" "),t.value?n("span",[e._v("（"+e._s(t.value)+"）")]):e._e()])})),0)]):e._e(),e._v(" "),n("app-toast",{model:{value:e.toast,callback:function(t){e.toast=t},expression:"toast"}}),e._v(" "),n("van-popup",{attrs:{position:"bottom",overlay:!0},model:{value:e.showDatetime,callback:function(t){e.showDatetime=t},expression:"showDatetime"}},[n("van-datetime-picker",{attrs:{type:"date","min-date":e.minDate},on:{confirm:e.confirmDatetime,cancel:function(t){return e.cancelDatetime()}},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1)],1)},S=[],A=n("d082");function j(e){n("3bae")}var D=!1,C=j,N="data-v-56279bcb",z=null,L=Object(A["a"])(I,y,S,D,C,N,z);t["default"]=L.exports},9685:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAUCAYAAACTQC2+AAAAAXNSR0IArs4c6QAAAfpJREFUSA21lDFII1EQhv/ZJIWgaGNhYbsncnAEKyFWJwTBxkbP0kY9T4urLF2r08LuXLRV0EpFvObU0tZYSTRX2ImFVwTllEh2nJfzxWE3Bk3iwvJm/zdvvv1n31vgnS53ghfcSfZsebJBo0bPY2fzCn7AmDA1iTCfWyGvoaCeVU7cZLDOwIh+cQOLa6GeuPc7N/09wZZABirUuW+Io55Zbr3JY48ZfSEIC2A6t0p+3aDkDLffPuA3GMkQpCgtG5Pvs270ukAfp7izEOBAnHzQEClakMpfBLJj9ZpBXd/YLRZxKE46bbGn8V8shqEzn/a1XhOoe5KTDyi1q10XkzhPMQzmfDoK6c+ts4fL7Plwkn52pzjFRfwSrVXr8sbXsTjS2WXKaN3GJUcGIn2eM6I9YDZBj+5XHpC8LWlXk9ZlzSU76P/jU1brOnY0xEwYoHWnE8XJCALsRiDABcWRqgYxdRxdzMZhmDgZ5wAbchgTNseM4iRLCaTOf9KF1ivFkdbpJNNGue+CAAtaf4oz1Ix0bomuK8xFpPKuC7cwkqkEWXTU0obB40XKK7lqWG5d6Q8rDqpm/5/cb+lA+i0Qs6zsyAKqOZPk7UQHRk89Ktj8145lR3bBS87IwdqnzxiuBWJqRxxZoHYmScvnK5ghItl473AZmNw/GlH6ERvBt4QU5V0QAAAAAElFTkSuQmCC"},a159:function(e,t,n){e.exports=n.p+"img/img-add-album.59d88451.png"},ba8f:function(e,t,n){"use strict";n("5ab2"),n("6d57"),n("e44b"),n("e10e");var i=n("28f8"),a=(n("cc57"),n("f2de")),s=n("e048");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]=function(e){var t=e.name,n=void 0===t?"app":t,i=e.store,r=e.state,c=e.getters,l=e.mutations,u=e.actions,d={};return i&&(d.beforeCreate=function(){return Object(s["a"])(n,o({namespaced:!0},i))}),r&&(d.computed=Object(a["e"])(n,r)),c&&(d.computed=Object(a["c"])(n,c)),l&&(d.methods=Object(a["d"])(n,l)),u&&(d.methods=Object(a["b"])(n,u)),d}},e048:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));n("cc57");var i=n("07a4");function a(e,t){return i["a"].registerModule(e,t)}function s(e){i["a"].state[e]&&i["a"].unregisterModule(e)}},ed7b:function(e,t,n){"use strict";n("6a61");var i=n("2e91"),a=(n("f548"),n("3e83")),s=(n("163d"),n("45bd")),r=n("3dd2"),o=n("536d"),c=(n("5ab2"),n("6d57"),n("e44b"),n("e10e"),n("9a33"),n("28f8")),l=(n("1181"),n("2941")),u=n("a593"),d=n("fe6f"),p=n("cb6b"),h=n("5e7d");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(c["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){return b.apply(this,arguments)}function b(){return b=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,s,o,c,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:{},!window.MImagePicker||!t){e.next=14;break}if(a=t,!n.withGraffiti||!n.isCrop){e.next=5;break}throw new Error("裁剪和涂鸦不能同时使用");case 5:return s=(cordova&&cordova.require("cordova/plugin_list")||{}).metadata||{},o=s["com.mysoft.mimagepicker"]>"1.3.3",n=f({ratio:Object(r["c"])()?60:80,mode:"fix",rotateEnable:!1,reqWidth:768,reqHeight:1024,edit:!0,editConfig:{limits:o?["doodle","text","crop"]:[0,1,2],autoSelected:o?"doodle":0},savePath:t},n),c=p["a"].getString(h["a"].SELECT_PICTURE_FROM_ALBUM,p["a"].level.user),n.fromAlbum?(a=t.split(),i="openAlbum","on"===c&&(n.customMode=!0)):(i="openCamera",n.photoConfig={edit:!0,editConfig:{limits:o?["doodle","text","crop"]:[0,1,2],autoSelected:o?"doodle":0}},"on"===c&&(n.photoConfig.customCamera=!0)),i=window.MImagePicker[i],e.next=13,v(i,a,n).catch((function(e){throw e}));case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function v(e,t,n){var i=n.savePath;return new Promise((function(a,s){e(t,(function(e){e?MImagePicker.imageProcess(i,(function(e){console.error(e+": 添加水印成功"),console.log("takePhoto: OK",i),a(i)}),(function(e){console.error("拍照添加水印失败:",i,e),s("拍照添加水印失败")}),{watermarkConfig:{textBackground:"#40000000",textAlignment:"right",textColumns:[{text:n.text,textColor:"#FFFFFF"}]}}):(console.error(funcName+": savedPath为空"),s("拍照路径异常"))}),(function(e){if(1100===e.errCode){var t="",i="智慧客服",a=d["a"].isIOS();t=a&&n.fromAlbum?"请在iPhone的“设置-隐私”选项中，允许".concat(i,"访问你的相册"):a&&!n.fromAlbum?"请在iPhone的“设置-隐私”选项中，允许".concat(i,"访问你的相机"):!a&&n.fromAlbum?"请在设置-应用-".concat(i,"-权限中开启相册权限"):"请在设置-应用-".concat(i,"-权限中开启相机权限"),l["a"].alert({message:t})}s(e?999===e.errCode?{cancel:1}:1100===e.errCode?{notAllow:1}:e.errMsg||e:"拍照异常")}),n)}))}u["default"].use(l["a"]);var k=n("c2c1"),x=n("a740"),w=n("f809"),I=n("265f"),y=n("6554"),S=n("516c"),A={name:"ImageUpload",model:{prop:"imgList",event:"change"},props:{imgList:{type:Array,default:function(){return[]}},max:{type:Number,default:3},autoUpload:{type:Boolean,default:!1}},data:function(){return{fromAlbum:"off"}},computed:{fixImgList:function(){var e=this.imgList.map((function(e){return"object"===Object(a["a"])(e)?e.path||e.preview:e}));return console.log(e),Object(r["c"])()&&(e=e.map((function(e){return e.replace("file://","http://".concat(window.location.hostname,":").concat(window.location.port))}))),console.log(e),e},bigImgList:function(){var e=this.imgList.map((function(e){return"object"===Object(a["a"])(e)?e.path||e.preview:e}));return e}},activated:function(){this.fromAlbum=I["a"].getAlbumSetting()},methods:{showLargeImg:function(e){k["a"].openImageBrowser(this.bigImgList,e)},getRemarkText:function(){var e=Object(x["j"])();return e.user_name+Object(w["a"])(new Date,"yyyy-MM-dd hh:mm")+"上传"},addImage:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(o["b"])(),e.next=4,g(Object(s["b"])("".concat(n,".jpg")),{withGraffiti:!0,customCamera:!0,fromAlbum:t,text:this.getRemarkText(),num:this.max});case 4:if(i=e.sent,!this.autoUpload){e.next=15;break}return Object(S["b"])(),e.next=9,Object(y["a"])(i);case 9:a=e.sent,Object(S["a"])(),r=Array.isArray(a)?a[0]:a,this.imgList.push(r),e.next=16;break;case 15:this.imgList.push(i);case 16:this.$emit("change",this.imgList),e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](0),console.error("outer-error",e.t0),this.$emit("error",e.t0);case 23:case"end":return e.stop()}}),e,this,[[0,19]])})));function t(t){return e.apply(this,arguments)}return t}(),deleteImg:function(e){this.imgList.splice(e,1)}}},j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"img-list"},[e._l(e.fixImgList,(function(t,i){return n("li",{key:t,staticClass:"img-item",on:{click:function(t){return e.showLargeImg(i)}}},[n("img",{attrs:{src:t,alt:""}}),e._v(" "),n("i",{staticClass:"delete-icon",on:{click:function(t){return t.stopPropagation(),e.deleteImg(i)}}})])})),e._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:e.imgList.length<e.max,expression:"imgList.length < max"}],staticClass:"add-icon",on:{click:function(t){return e.addImage("")}}}),e._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:e.imgList.length<e.max&&"on"===e.fromAlbum,expression:"imgList.length < max && fromAlbum === 'on'"}],staticClass:"add-icon album",on:{click:function(t){return e.addImage("fromAlbum")}}})],2)},D=[],C=n("d082");function N(e){n("4aaf")}var z=!1,L=N,J="data-v-33cf74e8",_=null,P=Object(C["a"])(A,j,D,z,L,J,_);t["a"]=P.exports}}]);