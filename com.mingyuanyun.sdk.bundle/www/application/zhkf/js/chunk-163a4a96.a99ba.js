(window["webpackJsonp_module_entry_zhkf_"]=window["webpackJsonp_module_entry_zhkf_"]||[]).push([["chunk-163a4a96"],{"0523":function(t,e,n){"use strict";n("6d57");var o=n("c6e3"),i=n("fd50"),a=n("a654"),r=n("c2c1"),s=n("8ae6"),c=function(t){return o["a"].getRoomBaseInfo(t)},l=function(t){return o["a"].getRoomCustomer(t)},u=function(t,e,n){var o,i={batch_unit_id:t,unit_list:[]},a="0";(_.isEmpty(e)||1===e.length&&""===e[0])&&(o=!0,e=[a]);var r={unit:[""],floor_list:[],status_counter:{all:0}};i.unit_list.push(r);for(var s=0;s<e.length;s++){var c=e[s],l={floor:c,room_list:[]};r.floor_list.push(l);for(var u=0;u<n.length;u++){var f=n[u];!o&&f.floor!=c||f.batch_unit_id!=t||(f.floor=o?a:f.floor,l.room_list.push(f),r.status_counter["all"]+=1,f.room_status in r.status_counter?r.status_counter[f.room_status]+=1:r.status_counter[f.room_status]=1)}}return i},f=function(t){return o["a"].getRoomIsReviewed(t)},d=function(t){return o["a"].getRoomTypeDiagram(t).then((function(t){if(!t)return!1;var e=i["a"].when(!1);return t.forEach((function(t){e=e.then((function(e){return e?i["a"].resolve(!0):r["a"].checkFileIsExists(Object(s["e"])()+t.path)}))})),e}))},m=function(t){return o["a"].getDiagramById(t).then((function(t){if(t){if("dev"==window.ZHKF_GLOBAL_ENV.VUE_APP_ENV)return t.url;var e=Object(s["e"])()+t.path;return console.log(e,"========================"),r["a"].checkFileIsExists(e).then((function(t){return t?e:null}))}return null}))},h=function(t){try{return d(t).catch((function(){return!1})).then((function(t){return!!t}))}catch(e){return console.error(e),i["a"].when(!1)}},p=function(t){return a["a"].existsDesignChange(t)},b=function(t){return a["a"].getDesignChange(t)},g=function(t,e){return a["a"].addDesignChangeProblem(t,e)},v=function(t){return c(t).then((function(t){return t.building_name+(t.unit?t.unit+(t.unit.indexOf("单元")>-1?"":"单元"):"")+(-1==t.floor.indexOf("层")&&-1==t.floor.indexOf("楼")&&-1==t.floor.indexOf("公共区域")?t.floor+"楼":t.floor)+(-1!==t.room_no.indexOf("公共区域")?t.floor+"层 公共区域":t.room_no)}))};e["a"]={getRoomBaseInfo:c,getRoomCustomer:l,buildRoomListData:u,getRoomIsReviewed:f,getRoomTypeImageFileIsExists:d,getRoomTypeImageFileIsExistsIgnoreError:h,existsRoomDesignChange:p,getRoomDesignChange:b,addRoomDesignChangeProblem:g,getRoomTitle:v,getDiagramFullPathById:m,getBatchRoomList:function(t,e){return o["a"].getBatchRoomList(t,e)}}},"19cf":function(t,e,n){e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .color-green[data-v-6429680a] {\n  color: #74c913;\n}\n.zhkf .color-orange[data-v-6429680a] {\n  color: #ff8100;\n}\n.zhkf .cutomer-info[data-v-6429680a] {\n  padding: 20px 15px;\n  font-size: 15px;\n  background: #ffffff;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  border-radius: 6px;\n  margin-bottom: 10px;\n}\n.zhkf .cutomer-info .info-column[data-v-6429680a] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: row;\n            flex-direction: row;\n    line-height: 1;\n}\n.zhkf .cutomer-info .info-column .right-item[data-v-6429680a] {\n      margin-bottom: 20px;\n}\n.zhkf .cutomer-info .info-column .right-item[data-v-6429680a]:last-child {\n        margin-bottom: 0;\n}\n.zhkf .cutomer-info .info-column[data-v-6429680a]:not(:first-child) {\n    margin-top: 18px;\n}\n.zhkf .cutomer-info .item-left[data-v-6429680a] {\n    color: #a0a0a0;\n}\n.zhkf .cutomer-info .item-right[data-v-6429680a] {\n    margin-left: 20px;\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n}\n.zhkf .cutomer-info .item-right span[data-v-6429680a] {\n      color: #a0a0a0;\n}\n.zhkf .cutomer-info .item-right a[data-v-6429680a] {\n      color: #0099ff;\n}\n.zhkf .cutomer-info .item-right > div[data-v-6429680a]:not(:first-child) {\n      margin-top: 20px;\n}\n.zhkf .cutomer-info .icon-tip[data-v-6429680a] {\n    color: #ff8100;\n}\n",""])},3374:function(t,e,n){var o=n("5454");e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .container[data-v-0bb71ace] {\n  padding: 10px 10px 30px;\n  background-color: #f4f4f4;\n  overflow: hidden;\n  overflow-y: auto;\n}\n.zhkf .list[data-v-0bb71ace] {\n  background: #fff;\n  padding: 30px 0;\n  border-radius: 6px;\n}\n.zhkf .list .item[data-v-0bb71ace] {\n    padding: 0px 15px 33px 0px;\n    position: relative;\n    margin-left: 45px;\n}\n.zhkf .list .item .item-tail[data-v-0bb71ace] {\n      position: absolute;\n      left: -21px;\n      top: 9px;\n      height: 100%;\n      width: 1px;\n}\n.zhkf .list .item .item-tail[data-v-0bb71ace]:after {\n        content: '';\n        display: inline-block;\n        border-radius: 1px;\n        height: 100%;\n        width: 1px;\n        background: #ebebeb;\n}\n.zhkf .list .item .item-icon[data-v-0bb71ace] {\n      position: absolute;\n}\n.zhkf .list .item .icon-success[data-v-0bb71ace] {\n      top: 8px;\n      left: -28px;\n      width: 16px;\n      height: 16px;\n      background-repeat: no-repeat;\n      background-size: 100% 100%;\n      background-image: url("+o(n("e16e"))+");\n}\n.zhkf .list .item .icon-error[data-v-0bb71ace] {\n      top: 8px;\n      left: -28px;\n      width: 16px;\n      height: 16px;\n      background-repeat: no-repeat;\n      background-size: 100% 100%;\n      background-image: url("+o(n("edf3"))+");\n}\n.zhkf .list .item .icon-node[data-v-0bb71ace] {\n      width: 10px;\n      height: 10px;\n      border-radius: 50px;\n      background: #bbbbbb;\n      top: 10px;\n      left: -25px;\n}\n.zhkf .list .item .icon-bufuhe[data-v-0bb71ace] {\n      color: #e62e34;\n}\n.zhkf .list .item .icon-guohao[data-v-0bb71ace] {\n      color: #e7a746;\n}\n.zhkf .list .item .icon-jiedian[data-v-0bb71ace] {\n      color: #dddddd;\n      top: 48px;\n      left: -52px;\n      font-size: 12px;\n}\n.zhkf .list .item .item-content .top[data-v-0bb71ace] {\n      font-size: 16px;\n      color: #202020;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      -webkit-box-pack: justify;\n          -ms-flex-pack: justify;\n              justify-content: space-between;\n      margin-bottom: 5px;\n}\n.zhkf .list .item .item-content .top .top-right[data-v-0bb71ace] {\n        display: inline-block;\n        vertical-align: middle;\n        padding: 0 12px;\n        border: 1px solid #ddd;\n        font-size: 14px;\n        color: #bbb;\n        height: 30px;\n        line-height: 30px;\n        border-radius: 15px;\n}\n.zhkf .list .item .item-content .top .top-right.btn-blue[data-v-0bb71ace] {\n          border-color: #0099ff;\n          color: #0099ff;\n}\n.zhkf .list .item .item-content .top .top-right.btn-orange[data-v-0bb71ace] {\n          border-color: #ff8100;\n          color: #ff8100;\n}\n.zhkf .list .item .item-content .top .top-right.btn-disabled[data-v-0bb71ace] {\n          border-color: #ddd;\n          color: #bbb;\n}\n.zhkf .list .item .item-content .top .icon-shangchuan[data-v-0bb71ace] {\n        vertical-align: middle;\n        display: inline-block;\n        margin-right: 20px;\n        color: #ff8100;\n        font-size: 30px;\n}\n.zhkf .list .item .item-content .bottom ul[data-v-0bb71ace] {\n      font-size: 13px;\n}\n.zhkf .list .item .item-content .bottom ul li[data-v-0bb71ace] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: justify;\n            -ms-flex-pack: justify;\n                justify-content: space-between;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        margin-bottom: 11px;\n        color: #a0a0a0;\n}\n.zhkf .list .item .item-content .bottom ul li[data-v-0bb71ace]:last-child {\n          margin-bottom: 0;\n}\n.zhkf .list .item .item-content .bottom ul li .iconfont[data-v-0bb71ace] {\n          font-size: 10px;\n          margin-right: 35px;\n}\n.zhkf .list .item .item-content .bottom ul li .icon-CombinedShapeCopy[data-v-0bb71ace] {\n          color: #ff8100;\n}\n.zhkf .list .item .item-content .bottom ul li .icon-querencopy[data-v-0bb71ace] {\n          color: #74c913;\n}\n.zhkf .list .item:first-child .item-tail[data-v-0bb71ace] {\n      padding-top: 10px;\n}\n.zhkf .list .item:last-child .item-tail[data-v-0bb71ace] {\n      height: 0px;\n}\n.zhkf .flow-box[data-v-0bb71ace] {\n  display: block;\n  padding: 0 15px;\n  margin-bottom: 10px;\n  border-radius: 6px;\n  background-color: #fff;\n}\n.zhkf .flow-box .flow-head[data-v-0bb71ace] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    padding: 18px 0;\n}\n.zhkf .flow-box .flow-head .flow-title[data-v-0bb71ace] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      font-size: 15px;\n      color: #303030;\n}\n.zhkf .flow-box .flow-head .flow-title[data-v-0bb71ace]::before {\n        content: '';\n        display: inline-block;\n        width: 3px;\n        height: 15px;\n        background: -webkit-gradient(linear, left top, left bottom, from(#0085ff), to(#00bbff));\n        background: linear-gradient(180deg, #0085ff 0%, #00bbff 100%);\n        border-radius: 2px;\n        margin-right: 8px;\n}\n.zhkf .flow-box .flow-head .icon-new_xialai[data-v-0bb71ace] {\n      font-size: 10px;\n      color: #d2d2d7;\n      -webkit-transition: -webkit-transform ease 0.3s;\n      transition: -webkit-transform ease 0.3s;\n      transition: transform ease 0.3s;\n      transition: transform ease 0.3s, -webkit-transform ease 0.3s;\n}\n.zhkf .flow-box .flow-head .icon-new_xialai.active[data-v-0bb71ace] {\n        -webkit-transform: rotate(-180deg);\n                transform: rotate(-180deg);\n}\n.zhkf .flow-box .flow-body[data-v-0bb71ace] {\n    padding: 20px 0;\n    border-top: 1px solid #ebebeb;\n}\n.zhkf .flow-box .flow-body .flow-item[data-v-0bb71ace] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      -webkit-box-pack: justify;\n          -ms-flex-pack: justify;\n              justify-content: space-between;\n}\n.zhkf .flow-box .flow-body .flow-item[data-v-0bb71ace]:not(:last-child) {\n        margin-bottom: 20px;\n}\n.zhkf .flow-box .flow-body .flow-item .item-title[data-v-0bb71ace] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        -webkit-box-pack: justify;\n            -ms-flex-pack: justify;\n                justify-content: space-between;\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n        font-size: 15px;\n        color: #303030;\n}\n.zhkf .flow-box .flow-body .flow-item .item-extra[data-v-0bb71ace] {\n        color: #ff984c;\n        font-size: 12px;\n}\n.zhkf .flow-box .flow-body .flow-item .item-extra.done[data-v-0bb71ace] {\n          color: #74c913;\n}\n.zhkf .flow-box .flow-body .flow-item .icon-new_xialai[data-v-0bb71ace] {\n        font-size: 10px;\n        color: #d2d2d7;\n        -webkit-transform: rotate(-90deg);\n                transform: rotate(-90deg);\n}\n",""])},"447b":function(t,e,n){"use strict";n("ed63");var o=n("fd50"),i=n("dfb1"),a=n("07a4"),r={getDeliveryBatchUnitList:function(t){var e=a["a"].state.projectList.currentItem.id,n=["online_delivery","online_delivery_center"],o=n.includes(t)?"在线交付":"交付";return i["a"].getDeliveryBatchUnitList(e,o)},getDeliveryBatchRoomData:function(t){var e=[i["a"].getDeliveryBatchRoomCount(t),i["a"].getDeliveryBatchRoomList(t)];return o["a"].all(e).then((function(t){var e={count:t[0],list:t[1]};return e}))},getDeliveryBatchRoomList:function(t){return i["a"].getDeliveryBatchRoomList(t)}};e["a"]=r},4514:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACk0lEQVRYR8WXTUhUURiGnw8Xbdz0Qw0RiJCFhQuhMlpEoUQZURJkhbPKTRL0s6iEtBkdiFpUi7DN2MaJwSIMApMwkBbSLy2kJJSSFlkRswi3w4kzZ7Rm5t57zh2VZjvne9/nfc85d+YKZXxUJ6tZwWWExvz4KIqExPgdVk7CDqgYEYRxoLpodhpFg8TIhNEsB+A+wklPEyEl3USXDUD1UotiAkWFD0AWoU66mHSFCNWA6iGN4rhFPC1XfRryGHQGsKafFxdCteAO4JZ+HsO5BScA5/RltOAG4JX+xDDUHDCWU08h3Vy8w04tWAF80x8dhK3HjOmHB/CotRDA8SzYAfz2/lAS6k8Z0/f98KTd63JYWwgECNz7fbdg5zlj+vI2PDtfCuDQQjBA0Mnf0wu7rxjTFwkY6/J7PAS24AtgPfm7LkLTdWM6egnGb3gDWFrwB7Dd+22nobnPmA53wNu7QQ9I3xY8AazptVVdG7QMGNOhKEyk/AECWvAGsKXXVpuPQOuQMR1sgU+PgxrQ33m2UALglF7LVTdCdNSYDjTBl+fBAD4tlAK4pNdW63dA+ytjmmyAb69tDXi2UADgnF5LramFjo/GtG8L/HL4C+DRQiGAa3ptWhmBtvwWpJpg7rtLAyUtLACESu9q5bWuqIW/AGHSa+FIPexNGIuxbph9FwZr4UbkAMpKf2YKVm00pplpuFPjDvBPCwYgbHo9dOEHVK41pnM/4eY6dwCzMteClJVej286DAf1o1hg5CxMPgwHMN+CipME8j/s4TQWvVq4J6qHz6iSt5xFazsKzIiKMwNUOQ4s9bIcwP/bAugXFWMDwht9s5c6nkVvlgq2m2uYoIos1xD2o1i5zCAZhBGydEqcr38AauX4Yt+eyXwAAAAASUVORK5CYII="},4902:function(t,e,n){e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .v-enter[data-v-27e0fc45],\n.zhkf .v-leave-to[data-v-27e0fc45] {\n  opacity: 0;\n}\n.zhkf .v-enter-active[data-v-27e0fc45],\n.zhkf .v-leave-active[data-v-27e0fc45] {\n  -webkit-transition: opacity 0.1s;\n  transition: opacity 0.1s;\n}\n",""])},"58c8":function(t,e,n){var o=n("4902");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("85cb").default;i("edfcbe0a",o,!0,{})},6013:function(t,e,n){"use strict";var o=n("07a4"),i=n("dfb1"),a=n("81ad"),r=n("c6e3"),s=n("9430"),c=n("a14a"),l=n.n(c),u={getDeliveryNodeList:function(){return i["a"].getDeliveryNodeList(o["a"].state.projectList.currentItem.id)},getTodoDeliveryDetail:function(t){return i["a"].getTodoDeliveryDetail(t)},uploadDeliveryConfirmInfo:function(t,e,n){return a["a"].uploadFiles(t,"deliveryProcess",e.room_id).then((function(t){console.log(t),t=l.a.uniq(t);var o={child_process:[{id:n,status:1,imgs:t}],reason:"",remark:""};return o=l.a.extend(o,e),i["a"].uploadProcessData(o)}))},uploadProcessData:function(t){return i["a"].uploadProcessData(t)},getProcessOperateLog:function(t){return i["a"].getProcessOperateLog(t)},getDeliveryConfirmInfo:function(t,e,n){return i["a"].getDeliveryConfirmInfo(t,e,n)},getRoomData:function(t,e){return r["a"].getBatchRoom(t,e)},assistSignIn:function(t){return i["a"].assistSignIn(t)},hasUploadData:function(t){return s["a"].existsBatchRoomUploadData(t)}};e["a"]=u},6583:function(t,e,n){"use strict";n("5ab2"),n("6d57"),n("e44b"),n("e10e");var o=n("28f8"),i=(n("163d"),{name:"FadeAnimation"}),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",[t._t("default")],2)},r=[],s=n("d082");function c(t){n("58c8")}var l=!1,u=c,f="data-v-27e0fc45",d=null,m=Object(s["a"])(i,a,r,l,u,f,d),h=m.exports,p=n("f2de");function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v={components:{FadeAnimation:h},props:{show:{type:Boolean,default:!1},message:{type:String,default:""},icon:{type:String,default:""},iconWidth:{type:Number,default:16},iconHeight:{type:Number,default:16},color:{type:String,default:"#ffffff"},background:{type:String,default:"rgba(0,0,0,0.9)"},duration:{type:Number,default:0}},data:function(){return{timer:null}},computed:g({},Object(p["e"])({isIOS:function(t){return t.app.global.isIOS}})),watch:{show:{handler:function(t,e){var n=this;this.duration&&t&&(this.timer=setTimeout((function(){n.$emit("clearTip")}),this.duration))}}},beforeDestory:function(){clearTimeout(this.timer),this.timer=null}},y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("fade-animation",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"top-tip",style:{background:t.background,color:t.color,top:t.isIOS?"66px":"46px"}},[t.icon?n("img",{style:{width:t.iconWidth+"px",height:t.iconHeight+"px"},attrs:{src:t.icon}}):t._e(),t._v(" "),n("span",[t._v(t._s(t.message))])])])},x=[];function _(t){n("813f")}var w=!1,k=_,A="data-v-43a25133",I=null,D=Object(s["a"])(v,y,x,w,k,A,I);e["a"]=D.exports},"6f5e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACTElEQVRYR82XP0wUQRTGvzfneUu4XGG8C42NMcEECY0RS0JCgXAY423UHrWwoUGjhSEWErChoUDtNVkSIwYpTIglEBqiJpoYGxpyixaXu3DnefPMHCxZ1v0nOTJstztvvvfb9+a9mSHEfIqmmU5gZ0hK6ifiHgadBZDZm14i8A9m2hCClxtoW8xZVjmONEUZFc2Rc8T8AMAtAO1R9nvjFQCvmGgqZy18D5sTCMCDg6nt9uQTAo8xcDKm4wNmBPxm0MzpSv0xLS3V/DR8AYrmlQ4g8YYYlw/j2DuHCStA41rOer/lHfsH4Jd5tVtKuciEM61w7mgQY1MIMXTKevvJrXsAQP25kIm1Vjt3Q0jRuOSOxD6AyrmdPvGxVWEPip5KR7b8p89ZE/sAdmFkCuD7rQx7sBZNZ+cXVGWhCaBKTTB/Oexq/19oVR2SqEuVaBPALuRfABgNFTIMJC/0oL6+GmqWvNiL+ucNoFqN4nqZnX93m1SHI66q8ghuMoaBzKMJJDvPozw3i9ryB1/xVP8A0nfvof7tK0pPJ6IgKkxGB/00h29IptdhuOqvMuMPQUKApfSFcJw7NqVnk5HREsQ3yb6enwPhTlS8vA7ckQgbC9VlPKftwvAKg3qjANS4nyP1XYU9LDpB2gReJbuQLwLIxgHwg2iWUkhqInRtBaCWayougBdCvQetixiatWMBoDcF+heh7jLU3oi0t2Ltm9Gx2I53o6DxQNLsZrqPZLup0Hgodfq21mO5A6H1YuJAaL2aubdRbZdT715+VNfzv4N4yB4T0T9vAAAAAElFTkSuQmCC"},"813f":function(t,e,n){var o=n("acb0");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("85cb").default;i("718fa394",o,!0,{})},"971a":function(t,e,n){"use strict";n.r(e);n("5ab2"),n("6d57"),n("e44b"),n("e10e"),n("f0e6"),n("cc57");var o=n("28f8"),i=n("c42d"),a={props:{customers:{type:Array,default:function(){return[]}},qualification:{type:String,default:""},reason:{type:String,default:""},checkroomType:{type:String,default:""},showCheckMode:{type:Boolean,default:!1}}},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cutomer-info"},[n("div",{staticClass:"info-column"},[n("div",{staticClass:"item-left"},[t._v("业主姓名")]),t._v(" "),n("div",{staticClass:"item-right"},t._l(t.customers,(function(e,o){return n("div",{key:o,staticClass:"right-item"},[t._v("\n        "+t._s(e.customerName)+"\n        "),e.canDialTelphonee?t._e():n("span",[t._v(t._s(e.customerPhone))]),t._v(" "),e.canDialTelphonee?n("a",{attrs:{href:"tel:"+e.customerPhone}},[t._v(t._s(e.customerPhone))]):t._e(),t._v(" "),e.hasTag?n("i",{staticClass:"iconfont icon-xiaolian icon-tip"}):t._e()])})),0)]),t._v(" "),n("div",{staticClass:"info-column"},[n("div",{staticClass:"item-left"},[t._v("交付资格")]),t._v(" "),n("div",{staticClass:"item-right flex",class:"符合"===t.qualification?"color-green":"color-orange"},[t._v(t._s(t.qualification))])]),t._v(" "),"不符合"===t.qualification?n("div",{staticClass:"info-column"},[n("div",{staticClass:"item-left"},[t._v("具体原因")]),t._v(" "),n("div",{staticClass:"item-right flex"},[t._v(t._s(t.reason))])]):t._e(),t._v(" "),t.showCheckMode?n("div",{staticClass:"info-column"},[n("div",{staticClass:"item-left"},[t._v("验房方式")]),t._v(" "),n("div",{staticClass:"item-right flex"},[t._v(t._s(t.checkroomType))])]):t._e()])},s=[],c=n("d082");function l(t){n("a51e")}var u=!1,f=l,d="data-v-6429680a",m=null,h=Object(c["a"])(a,r,s,u,f,d,m),p=h.exports,b=n("db55"),g=n("f2de"),v=n("07a4"),y=n("438a"),x=n("6583"),_=n("6013"),w=n("b6fa"),k=n("9229");function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var D={components:{OnlineDeliveryCustomer:p,EmptyPage:y["a"],TopTip:x["a"]},data:function(){return{loading:!1,model:{baseInfo:{}},hasNetwork:!1,info:{},hasMember:!1,uploading:!1,currRoom:{},roomLength:2,tipMsg:"存在上传任务，请稍候...",tipIcon:n("4514"),isShowTip:!1,flowVisible:!1,forbiddenDeliveryWhenUnqualified:!1}},computed:I({},Object(g["e"])({currentMenuType:function(t){return t.app.global.currentMenuType},currentBatchType:function(t){return t.app.global.currentBatchType},processList:function(){return this.model.baseInfo.appointment_process_list||[]},isOnlineDelivery:function(){return"online_delivery_center"===this.currentBatchType},forbiddenDelivery:function(){return this.currRoom&&"不符合"===this.model.baseInfo.delivery_qualification&&this.forbiddenDeliveryWhenUnqualified}})),activated:function(){var t=this,e=this.$route.name;if(e.indexOf("todoDeliveryProcessRoom")>-1){var n={delivery:"deliveryprocess",online_delivery:"online_delivery_center"};v["a"].commit("app/APP",{currentBatchType:n[this.currentBatchType]||this.currentBatchType})}else v["a"].commit("app/APP",{currentBatchType:e.indexOf("online_delivery_centerRoom")>-1?"online_delivery_center":"deliveryprocess"});i["a"].getHasNetwork().then((function(e){t.hasNetwork=e,e&&t.initData()}))},methods:{initData:function(){var t=this;this.loading=!0,b["a"].init().then((function(){t.handleData()})).finally((function(){t.loading=!1})).catch((function(t){console.error(t)}))},handleData:function(){var t=this;this.model=b["a"].model,this.info={nodeList:this.model.nodeList,no:this.model.no,moreRoom:this.model.roomInfo.room_list.length>1},this.currRoom=this.model.roomInfo.room_list[this.model.currRoomIndex],this.roomLength=this.model.roomInfo.room_list.length,this.model.baseInfo.customers.length>0&&(this.hasMember=!0),k["a"].getForbiddenToDeliveryRoomWhenUnqualified().then((function(e){t.forbiddenDeliveryWhenUnqualified=e}))},back:function(){if(this.uploading)return this.setTipStatus();this.$router.go(-1)},assistSignIn:function(){var t=this;this.$toast.loading({duration:0,forbidClick:!0,loadingType:"spinner",message:"正在协助签到中..."}),_["a"].assistSignIn({room_id:this.currRoom.room_id,batch_id:this.model.roomInfo.batchId}).then((function(e){t.$toast.clear(),t.$toast("协助签到成功",1e3),t.loading=!0,w["a"].updateList(),b["a"].load().then((function(){t.handleData()})).catch((function(t){console.error(t)})).finally((function(){t.loading=!1}))}),(function(e){t.$toast.clear(),console.error(e),e.errmsg&&t.$toast(e.errmsg)}))},transacted:function(t){if(!this.info.no)return this.$toast("请先协助签到取号");console.log(["[delivery-process-room] - transacted","交付资格",this.model.baseInfo.delivery_qualification,"禁止收楼开关",this.forbiddenDeliveryWhenUnqualified]),"不符合"===this.model.baseInfo.delivery_qualification?"交付确认"===t.name&&this.forbiddenDeliveryWhenUnqualified?this.showForbiddenDialog(t):this.showUnqualifiedDialog(t):this.handler(t)},showUnqualifiedDialog:function(t){var e=this;this.$dialog.confirm({title:"温馨提示",message:"当前房间不符合交付资格，确认要继续办理收楼手续吗？",confirmButtonText:"继续办理",cancelButtonText:"放弃办理"}).then((function(){e.handler(t)})).catch((function(){return!1}))},showForbiddenDialog:function(t){this.$dialog.alert({title:"温馨提示",message:"该房间不符合交付资格",confirmButtonText:"我知道了"}).catch((function(){return!1}))},handler:function(t){return this.info.no?"交付确认"===t.name?this.$router.push({path:"/checkroom/".concat(this.currentMenuType||this.currentBatchType,"-confirmed"),query:{nodeId:t.id,nodeName:t.name,childNodeId:t.child_node[0].id}}):"验房"===t.name?b["a"].gotoCheckRoom():this.$router.push({path:"/checkroom/".concat(this.currentMenuType||this.currentBatchType,"-room-transacted"),query:{nodeId:t.id,type:t.type}}):this.$toast("请先协助签到取号")},uploadRoomData:function(t){var e=this;return console.log("上传数据",t),this.uploading=!0,this.$toast.loading({duration:0,forbidClick:!1,mask:!0,message:"正在上传数据"}),b["a"].uploadRoomData(t).then((function(){e.setTipStatus("success")})).catch((function(t){console.log(t),e.setTipStatus("error")})).finally((function(){console.log("上传完成"),e.$toast.clear(),e.uploading=!1}))},nextRoom:function(){var t=this;if(this.uploading)return this.setTipStatus();this.loading=!0,b["a"].gotoNextRoom().then((function(){t.info={nodeList:t.model.nodeList,no:t.model.no,moreRoom:t.model.roomInfo.room_list.length>1},t.currRoom=t.model.roomInfo.room_list[t.model.currRoomIndex],t.model.baseInfo.customers.length>0&&(t.hasMember=!0)})).finally((function(){t.loading=!1}))},setTipStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uploading";switch(t){case"success":this.tipMsg="上传成功！",this.tipIcon=n("d315"),this.isShowTip=!0;break;case"error":this.tipMsg="上传失败，请重新上传！",this.tipIcon=n("6f5e"),this.isShowTip=!0;break;default:this.tipMsg="存在上传任务，请稍候...",this.tipIcon=n("4514"),this.isShowTip=!0}}}},C=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"delivery-process-room yf-comp-wrapper"},[o("cus-nav-bar",{attrs:{title:t.currRoom.room_name,"left-arrow":"","right-text":t.info.moreRoom&&t.currRoom.ans<t.roomLength-1?"下个房间":"",border:!1,"use-click-left":""},on:{"click-left":t.back,"click-right":t.nextRoom}}),t._v(" "),o("top-tip",{attrs:{message:t.tipMsg,icon:t.tipIcon,duration:3e3,show:t.isShowTip},on:{clearTip:function(e){t.isShowTip=!1}}}),t._v(" "),o("empty-page",{attrs:{"show-empty":!t.hasNetwork,"empty-msg":"当前网络异常，请稍后重试","empty-img-src":n("6233")}}),t._v(" "),o("empty-page",{attrs:{"show-empty":t.loading,"loading-page":!0,"empty-msg":"正在加载数据，请稍等"}}),t._v(" "),t.hasNetwork&&!t.loading?o("div",{staticClass:"container"},[t.model.baseInfo?o("online-delivery-customer",{attrs:{customers:t.model.baseInfo.customers,qualification:t.model.baseInfo.delivery_qualification,reason:t.model.baseInfo.delivery_unqualified_reason,"checkroom-type":t.model.baseInfo.checkroom_type,"show-check-mode":t.isOnlineDelivery}}):t._e(),t._v(" "),t.processList.length>0&&t.isOnlineDelivery?o("div",{staticClass:"flow-box"},[o("div",{staticClass:"flow-head",on:{click:function(e){t.flowVisible=!t.flowVisible}}},[o("span",{staticClass:"flow-title"},[t._v("线上流程完成情况")]),t._v(" "),o("span",{class:["iconfont icon-new_xialai",{active:t.flowVisible}]})]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.flowVisible,expression:"flowVisible"}],staticClass:"flow-body"},[t._l(t.processList,(function(e){return[o("div",{key:e.business_code,staticClass:"flow-item"},[o("div",{staticClass:"item-title"},[o("span",[t._v(t._s(e.show_name))]),t._v(" "),o("span",{class:["item-extra",{done:e.is_completed}]},[t._v(t._s(e.status))])])])]}))],2)]):t._e(),t._v(" "),t.info?o("div",{staticClass:"list"},[o("div",{staticClass:"item"},[o("div",[o("div",{staticClass:"item-tail"}),t._v(" "),o("div",{class:t.info.no?"item-icon icon-success":"item-icon icon-node"}),t._v(" "),o("div",{staticClass:"item-content"},[o("div",{staticClass:"top"},[o("p",{staticClass:"top-left"},[t._v("扫码签到")]),t._v(" "),!t.info.no&&t.hasMember&&t.$checkRight("assist_sign_in",t.currentBatchType)?o("div",{staticClass:"top-right btn-blue",on:{click:t.assistSignIn}},[t._v("\n                协助签到\n              ")]):t._e()]),t._v(" "),t.info.no?o("div",{staticClass:"bottom"},[o("ul",[o("li",[o("span",[t._v("排队号码："+t._s(t.info.no))]),t._v(" "),o("span",{staticClass:"iconfont icon-querencopy"})])])]):t._e()])])]),t._v(" "),t._l(t.info.nodeList,(function(e,n){return o("div",{key:n,staticClass:"item"},[o("div",[o("div",{staticClass:"item-tail"}),t._v(" "),o("div",{staticClass:"item-icon",class:{"icon-node":0==e.status,"icon-success":1==e.status&&e.showStatus,"icon-error":1==e.status&&!e.showStatus}}),t._v(" "),o("div",{staticClass:"item-content"},[o("div",{staticClass:"top"},[o("p",{staticClass:"top-left"},[t._v(t._s(e.name))]),t._v(" "),o("div",["验房"==e.name&&!t.uploading&&e.hasUpload?o("i",{staticClass:"iconfont icon-shangchuan",on:{click:function(n){return t.uploadRoomData(e)}}}):t._e(),t._v(" "),e.authRight&&0==e.status&&t.hasMember?o("div",{staticClass:"top-right",class:[t.info.no?"top-right btn-blue":"top-right","交付确认"===e.name&&t.forbiddenDelivery?"btn-disabled":""],on:{click:function(n){return t.transacted(e)}}},[t._v("\n                  开始办理\n                ")]):t._e(),t._v(" "),e.authRight&&0!==e.status&&t.hasMember?o("div",{staticClass:"top-right",class:[t.info.no?"top-right btn-orange":"top-right","交付确认"===e.name&&t.forbiddenDelivery?"btn-disabled":""],on:{click:function(n){return t.transacted(e)}}},[t._v("\n                  重新办理\n                ")]):t._e()])]),t._v(" "),o("div",{staticClass:"bottom"},[o("ul",t._l(e.child_node,(function(e,n){return o("li",{key:n},[o("span",[t._v(t._s(e.name))]),t._v(" "),o("span",{staticClass:"iconfont",class:{"icon-querencopy":1==e.status,"icon-CombinedShapeCopy":2==e.status}})])})),0)])])])])}))],2):t._e()],1):t._e()],1)},z=[];function R(t){n("bd5c")}var O=!1,T=R,E="data-v-0bb71ace",B=null,j=Object(c["a"])(D,C,z,O,T,E,B);e["default"]=j.exports},a51e:function(t,e,n){var o=n("19cf");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("85cb").default;i("49a8f279",o,!0,{})},a654:function(t,e,n){"use strict";var o=n("1834"),i=n("0938");e["a"]={existsDesignChange:function(t){var e="select 1 from room_design_change a inner join batch_room b on a.room_id = b.room_id where b.id = ?";return o["a"].queryOne(e,[t]).then((function(t){return!_.isEmpty(t)}))},getDesignChange:function(t){var e="select a.id, a.location, a.content, a.remark, a.sort from room_design_change a inner join batch_room b on a.room_id = b.room_id where b.id = ? order by a.sort";return o["a"].query(e,[t])},addDesignChangeProblem:function(t,e){if(t&&e){var n=i["a"].uuid();o["a"].insert("room_design_change_problem",["id","design_change_id","checkroom_problem_id"],[n,e,t])}}}},acb0:function(t,e,n){e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .top-tip[data-v-43a25133] {\n  width: 100%;\n  height: 40px;\n  line-height: 40px;\n  font-size: 15px;\n  text-align: center;\n  position: absolute;\n  left: 0;\n  right: 0;\n  z-index: 999;\n}\n.zhkf .top-tip > img[data-v-43a25133] {\n    display: inline-block;\n    vertical-align: middle;\n    margin-right: 10px;\n}\n",""])},b6fa:function(t,e,n){"use strict";n("cc57"),n("6d57");var o=n("447b");e["a"]=function(){var t={display_rooms:[],tabs:[{name:"全部",key:"all_room_count",dot:""},{name:"待交付",key:"to_delivery_room_count",dot:"room-type1"},{name:"交付中",key:"",dot:"room-type2"},{name:"已交付",key:"deliveried_room_count",dot:"room-type4"}],filter:{current:{name:"全部",count:0},selectStatus:!1,options:[{name:"全部",count:0},{name:"扫码签到",count:0},{name:"交付资料审核",count:0},{name:"财务手续办理",count:0},{name:"物业手续办理",count:0},{name:"验房",count:0},{name:"领取礼品",count:0},{name:"暂不收楼",count:0}]},status_sel:"全部",count:{}},e={load:function(e,n){return o["a"].getDeliveryBatchRoomList({batch_unit_id:t.buildingId,status:e,name:n}).then((function(t){for(var e=[],n={"待交付":"room-type1","交付中":"room-type2","已交付":"room-type4"},o=0;o<t.length;o++){for(var i={floor:t[o].floor,room_list:[]},a=0;a<t[o].room_list.length;a++)i.room_list.push({room_no:t[o].room_list[a].room_no,room_status_class:n[t[o].room_list[a].status],id:t[o].room_list[a].room_id});e.push(i)}return e}))}};return{model:t,init:function(e){var n=this;return e&&(t.buildingId=e),t.status_sel="全部",t.filter.current={name:"全部",count:0},o["a"].getDeliveryBatchRoomData({batch_unit_id:t.buildingId,status:"全部"}).then((function(e){for(var o={count:e.count,list:[]},i={"待交付":"room-type1","交付中":"room-type2","已交付":"room-type4"},a=0;a<e.list.length;a++){for(var r={floor:e.list[a].floor,room_list:[]},s=0;s<e.list[a].room_list.length;s++)r.room_list.push({room_no:e.list[a].room_list[s].room_no,room_status_class:i[e.list[a].room_list[s].status],id:e.list[a].room_list[s].room_id});o.list.push(r)}return t.display_rooms=o.list,t.count=o.count,n.initFilter(),o}))},initFilter:function(){var e=t.count.deliveying_room_count.process_count;t.filter.options.forEach((function(n){"全部"==n.name?n.count=t.count.deliveying_room_count.count:n.count=e[n.name]})),t.filter.current.count=t.count.deliveying_room_count.count},updateList:function(){var e=this;this.load(t.status_sel).then((function(){e.initFilter()}))},load:function(n,o){return e.load(n,o).then((function(e){t.display_rooms=e}))}}}()},bd5c:function(t,e,n){var o=n("3374");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("85cb").default;i("677be026",o,!0,{})},d315:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADr0lEQVRYR8VXbUhTURh+zu7c3EfTtpYry0DWuljZj0JD+lH9KehHFGGFFX35QSAUaP6LCApsUEEQfdl3lGEpiEifRIG0IZT2QWum1NI+htrKTZ2798S9tpvTza212Pl373nP8zzve877vucQxDgOvjJqvT5uDYCVlJJFALJBoBOXU/wA0EkIbQPwSKNmmg4ucA/EAk2iGe1rMZrlDFdFQTYD0ESz/z3vJaA3AhxTfbzA3THZmogCyp1QpvYZDlFC94ISRYzEoWaE+gklJ4b0vQdOzsVwOIywAirtRhNP+XoCLI2LeNwiCjyTEdk6a577y3i8CQKqWjMWclygCcDsRJCPwXAxjHxN9ZKvL8fihggQPKeUt/8H8iCnixBZ3thISAKEPVf0GR4nKuyRoidsh1/fuzx4JiQBlTZDNQX2JzjsYeEIcNSa31slTIoChFRj5NzruE97GBqlTIst5hrc77bio7d1QnZwAWa+kKKigEqb/hwF2Z0o71VMGnbPu4Us7WIMBjw4/XYdenztIfAE9Lw1v6+YCBVuwMsL6RFrkZlUp1quR/G8OszS5Ep2Ts8TnHWsH7/Oq9XITKTSrt9IKbmZCO+1ciNK2NuYoc6R4D5523DOsQG+QP8ECkLoJkHAGUpJyb8K0KWYUMLeQYbKIkG5Bp6L5IOcJ/xhJPQsqbAZngHI/xcB6YpMlLL1mJaaLcF8GGjFeUchhjihT0UcNkHANwDGeAXolVkiuV45R4Lo+mlHjaMQw3zUhugmFXbDECiU4QSkpcxEnrEI93usYfVNU2aL5OnKTGm+80cLat5thp/3RveJYDiiAG2KEXvYRhhVZjz5fAqNrgMhgNNTLShl70CnMEn/OzxPccFZhBHeF518tAoNR9yCUrYBZt0yCehB9zHc7T4ifptUOShlb0MQGRzvPI9xybkVI/xgbOSjVu6Ih3CmOhdlbD1U8jQJsNl1GA7PQxSzddDI9dL/t98f4rJzGwI0bMuf/BBOloZZmiUoYeugZLQSiJ/zQcGope83/fdwpWM7OOr/G89FWyKkYbRClD2lALsstVAwqgkEr/ubcbVjJzg68tfkvwVsiqkUW3QrsMNyDXLZn2Rp72vE9ffF4GkgLnIAo6VYWB1LM8pJX41t5otgZCl40duAG+/LwCNuckjNSBAQazvOnboWOemrUNtVDgouXs8BQv0h7Xg0Ckm8kAgCkn4lE6OQzEtpcEOTei0PikjqwyQoIqlPs7H5lbTH6fgk/1/P818zvaR0VoItfQAAAABJRU5ErkJggg=="},db55:function(t,e,n){"use strict";n("5ab2"),n("e10e");var o=n("28f8"),i=(n("e697"),n("6d57"),n("e44b"),n("cc57"),n("fd50")),a=n("07a4"),r=n("a18c"),s=n("6013"),c=n("0523"),l=n("ca33"),u=n("a593");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e["a"]=function(){var t={},e={},n={review_material:"delivery_review_material",handle_finance:"delivery_handle_finance",handle_property:"delivery_handle_property",check_room:"delivery_check_room",give_gift:"delivery_receive_gift",delivery_confirm:"delivery_confirm"};return e.getConditions=function(){return{batchId:t.roomInfo.batchId,roomId:t.roomInfo.room_list[t.currRoomIndex].room_id}},e.gotoNextRoom=function(){var n=t.roomInfo.room_list.length;return t.currRoomIndex<n-1?(t.currRoomIndex+=1,t.currRoom=t.roomInfo.room_list[t.currRoomIndex],e.load()):i["a"].resolve()},e.load=function(){var o=e.getConditions();return s["a"].getTodoDeliveryDetail(o).then((function(o){t.nodeList=[],t.baseInfo.delivery_qualification=o.delivery_qualification,t.baseInfo.appointment_process_list=o.appointment_process_list||[],t.baseInfo.checkroom_type=o.checkroom_type,t.baseInfo.delivery_unqualified_reason=o.delivery_unqualified_reason,t.baseInfo.hasTag=!1,t.baseInfo.room_name=t.roomInfo.room_list[t.currRoomIndex].room_name,t.baseInfo.customers=[],t.no="",_.each(o.customer_list,(function(e){t.baseInfo.customers.push({customerName:e.customer_name,customerPhone:e.customer_phone,canDialTelphonee:-1===e.customer_phone.indexOf("*"),hasTag:e.has_tag}),1==e.has_tag&&(t.baseInfo.hasTag=!0)})),o.no&&(t.no=o.no),o.signin_id&&(t.roomInfo.signin_id=o.signin_id);var i=a["a"].state.app.global.currentBatchType;_.each(t.sourseData,(function(e,a){var r={name:e.name,id:a,child_node:[],type:n[e.function_code],status:o.process[a]&&1==o.process[a].status?o.process[a].status:0,authRight:u["default"].prototype.$checkRight("view_room",i)&&u["default"].prototype.$checkRight(e.function_code,i)};_.each(e.child_process,(function(t,e){var n={name:t.name,type:t.type,remark:t.remark,id:e};o.process[a]&&1==o.process[a].status&&o.process[a].child_process[e]&&o.process[a].child_process[e].status?n["status"]=o.process[a].child_process[e].status:n["status"]=0,r.child_node.push(n)})),t.nodeList.push(r)}));for(var r=0;r<t.nodeList.length;r++){for(var s=!1,c=0;c<t.nodeList[r].child_node.length;c++)1==t.nodeList[r].child_node[c].status&&(s=!0);t.nodeList[r]["showStatus"]=s}return e.updateCheckroomNode().then((function(){return t.nodeList}))}))},e.updateCheckroomNode=function(){var e=i["a"].when();return t.currRoom.batchRoomId||(e=c["a"].getBatchRoomList(t.roomInfo.batchId,[t.currRoom.room_id]).then((function(e){return!_.isEmpty(e)&&(t.currRoom.batchRoomId=e[0].id,!0)}))),e.then((function(e){if(!1!==e)return s["a"].hasUploadData(t.currRoom.batchRoomId).then((function(e){if(_.isEmpty(e))return i["a"].resolve();var n=_.find(t.nodeList,{type:"delivery_check_room"});if(n){var o=!1;e.forEach((function(t){n.child_node.forEach((function(e){("问题"===t.type&&"登记问题"===e.name||"房间"===t.type&&"登记问题"!==e.name)&&(e.status=1),o=o||1==e.status}))})),n.showStatus=o,n.status=1,n.hasUpload=!0}}))}))},{model:t,initModel:function(e){t.roomInfo=e,t.currRoomIndex=0,t.currRoom=t.roomInfo.room_list[0],t.baseInfo={customers:[]};for(var n=t.roomInfo.room_list.length,o=0;o<n;o++)t.roomInfo.room_list[o].ans=o},init:function(){return s["a"].getDeliveryNodeList().then((function(n){return t.sourseData=n,_.each(t.sourseData,(function(t,e){_.each(t.child_process,(function(t,e){t.type=t.type.substr(0,t.type.length-1)}))})),e.load()}))},gotoNextRoom:function(){return e.gotoNextRoom()},gotoCheckRoom:function(){var e=a["a"].state.app.global.currentBatchType,n={deliveryprocess:{name:"正式交付",type:"交付",batch_type:"delivery",from:"deliveryprocess"},online_delivery_center:{name:"在线交房",type:"在线交付",batch_type:"online_delivery",from:"online_delivery_center"}},o=n[e]["batch_type"];return s["a"].getRoomData(t.roomInfo.batchId,t.currRoom.room_id).then((function(i){if(!_.isEmpty(i)){var s={batchRoomId:i.id,roomId:i.room_id,building_id:i.building_id,batch_unit_id:i.batch_unit_id,type:o,fitment_standard:i.fitment_standard,roomTitle:i.building_name+i.room_no,menuType:a["a"].state.app.global.currentMenuType,batch_id:t.roomInfo.batchId};return c["a"].getRoomTypeImageFileIsExists(i.id).then((function(t){t?(s.mode="0",s.isImageExists=!0):s.from=e,console.log("/checkroom/".concat(o,"-roomdetail")),r["a"].push({path:"/checkroom/".concat(o,"-roomdetail"),query:d(d({},s),{},{from:e})})}))}return a["a"].commit("app/APP",{currentBatchType:o}),r["a"].push({path:"/checkroom/".concat(o,"-batch-unit"),query:n[e]})}))},load:function(){return e.load()},uploadRoomData:function(e){return s["a"].getRoomData(t.roomInfo.batchId,t.currRoom.room_id).then((function(t){return l["a"].uploadData(t.batch_unit_id,t.id).then((function(){e.hasUpload=!1}))}))}}}()},e16e:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFUElEQVRYR6VXf2xTVRT+zuuvrSubU7p1PwrdKAkCE4nJROMfCH+YMAMBzDb8ESUOY0xAEhMhMZIGNXEIBgGNwIIJCpuLBhMzDSFZIBDSoaIIDHRzm2sG3QoosHZbu/eOafv62r729TXz/tXed+73ffecc889l5Dn8Fyx24IhNAC8AsxLQFQLcHF8Od0D8wCILgHUXWRFl2dxYDwfaNIz2n7e7oaRt0nABgBFevYxOYQgMdoxTa0fPhnoz7VGU8DmPlhs/87eCcJWZjLnQ6y2IeIwCHvHi2/t2D8fU9kwsgrwXLA7wgKdAHjZTIgzhZA3LPLaj+oD/oxv6ol3fy+v4wi6AHZqkTPLX2T5iV2oppXl0XkC+ciEhvceGb2cipvmAc8Vu0MMCxcAaJLHYqxSliDW8xYBPsEs1XsWJz2hYO3rg+VO0HGaJV4WzaKcQ3FBuieS0rQlEcH7YNHo8i1yTihMO39ztDLj7fip0tuL/F1v6xo4BOza8ah/m0Ll+aXabTCKV8HInu0qIDUvZUwAZsGGdXMO4uzoHoyELsrlIrExCovTkUWexwL9MegPLlcehoSWJE4WxBSnJCKkjkTCcwVCCZprjqHKuhST4l0cG2jE6OQVQIaNJaWAtnfqbmyiaIWzSCY/5ywyemmX/F5oKEWz6zgc1jpF8tD4ObQPNqXFNVqspijioF29lU2SSB15Rj2nmdU4G02udpQVPKzY+Scuo3PoeUyI/2SsFQzcTLuuVh8E47X/K8BmLEfj3A48VOBWoG6GLuGb4RcwId7NntuEQ7S71+kF4/GohV5SKymkUmszVqLR1YFSs0v5ciN0Ed8Ov4Qp6X6KdToDgXro42vOMWbY0zHVtU1NnQQqMTnx3JwOlJiTtWsk9DNO+F5GOI0808dECNDea3MnGWzJFgKbsQKLSprQc/uTrP55wOTC+jntmGWqVJaPhHrwnW8jIhzUjSqBpmjfddcksywgJdmtRjvWV3+NUkstfr3ThrOB99MAS81urHMeR5GxTJn3Bc/j+5FXMc0TuuTxIkRTtP8P1xgQD4HiWGasdbaj2vqEAvTT7QPw3t4T+z/bvABrqr9ENOsTYzh4Dl03NmGaJzPIMw6xXECIKEAH/qzxAhxLwtRhtyzGmqpjsBjkpgeA99ZuDIfOYHXVURQYSlPIz+DHm6+nkGvlkJqFeuiz/prkMVQdg/KCpXi26ijMQrIRikgTMAmFCtLfwW6c9L8BkcOZx0jrTknwCDhEnw+6miAK6YUoRUhFYT1WVRyBMYU0wT4UPIVT/s2QOJI95nqOIKmZPh2z20z3Z/nBlNHvJXRUFz6FZyoOwkDJwzI4fhLdY29C4umM+qHNm9xZtBRHZt13xGwPD8w7DEZLrtSda12JleUHIJAJA+NdOB14K0Y+00FEbS21/ZtiAtr657kFg3CVmXM2nzVFq+AsfBpnb20HQ5wpd/TSDEsSL2px/xW/jqPjyOD8VoLckMwYOr+F0YbklZq+ZEMSXbavz20pNtFpAEonnIxl/FdmUufuGzTkeO9GpOVb5vfH2vQ0zC8GXQ6DwXyBON6UpqSMjJXvdaVBTfCJYrh+Y82Q0p5nbOor34I6AnexLCI/p+pbEcHHoIYXnde12/IETOfYQoc4xSdY62Gi9TDQ0MGA12QR1jaW9eo/TBIYP/S5Lfespp1gbAXizarWwyPH/mNPs+JQZMcqOeYZxVjPeZ2+hW4WaBvAGwCOFytVKqifEQwKAtxOErU2Ontn9jhVC+scW2gzSEIDS9IKZiwBoZaA2E3FwD0wBohwiQTuFgXqaizrzet5/h+nmd/Api2ULwAAAABJRU5ErkJggg=="},edf3:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEvUlEQVRYR61XW2xUVRRd69zbTmlHDNFqozah7cSoBNFqH5po2n4B/SD4amskEQMmxkT5UPCVio2PtPqBJsYAjZgALRSQ8DHAV6kx0WkLKBr/SjGpiQ3VEGtLp9O5Z5t7Z+Z2Xnd623g/79n7rLX3WXuffQifn3yJ4JyBVouqhZANAlRTZLXtLuQ0gXGCVyh6cJWFMF/FjJ+tuZTRP70IKcvYQ6JDBGVL2dvrJGZF0K8Ns/vWHfNjhXw8CcgXCMyWFHeBsguCYj/A2TYkYiLcVxaNdfI1zOfbIy+BmUNlFRK3ThPSuBLgHCJgRExja3D77GTuWtaf+UNl6+Nah0VQ6Rc8FYUUcCAxYSrVGtg++2u6WUYG7MiVYGQ54H5JJrUxoYn69Ey4BOwzn7tl9ZDI/5N2T2JkpPTf6aaUJlwCN79Z0y2idztMlxOWXYZZ9l7+KTtS9ZS+eGOPixU9XB4SHf9NVqj2ZfK1yzRGZa4r2TY15pCdO3z7QdGyo+BGRUEYFU/AmjhX0Myo3ARr8ntgIa0P5VEpFXtXbftrJ2WgPBiNclIgZV5qZlEQRc19UHfUYyHyBvTYkbwkVOgFFDV+Bj01ioXBDpdEviOym1UggArOH7mzTQuOFQpLVW5E0ZNfg1QQ0VgYfhN67GiaC2GEnofZ8OmizXcvQf9xvmC2FNHO6NG79wPystPTU+Z5Ctqo6YDZ0OMCxId3w7ra53gYNTZ4vrXsnGbKk5QDnO+7JyKChvxUM5kom0R99yKJEUfIWf/egr7a70uXJIYZ7a+8DmG5Lw8AqqYdZt0nLolEg0kcTXz0bejxY7l16bU5OcXY8bVRrRFI2CQiplcnSGaQVW0w6z52gB0vB/wd6PHjSX8/+QSUwjxjA9VRcQl4UM3qLKrqORiPfpRBwLr4LvT4QGKDpS6HVCB0CISui8D/EVQ/C+ORD/MegXXpPejxE7lReBAiMcXYiXtdEXr2geSWrLLBu1xw63Knc2oZ/y51Qq5lkvBs1bYIYyfv2w/AKcOcpp5e6VXPwKj9IA38fci1k4mMF1grJG5FHGD81P1tAjqNyKsP8K4WGI2fp4Hvhfx+yt3bzhzXPg1Vu9e10ZHXof8cTNd2DhdFaacMPBC0DDUpKDDvmaVQj38F3vYQ9E9dGeDpuzokHu6E/P0z9A+vAPGbhRIwa1q6wjn2+LcPHhSg8GVkloLlDZDJC95HRYAVzZCp4aXA7ULpNZ/6ZadDIHqmNmSKdq9jz3kgeyF5Zt7zQKasJVV+QCxOta5ky+XEdWx/C2dquylwBpKcQvYA9szvEuVEqB5jy8XFgcQR4NlQwFpYMwQ/kzCTCNmq9QROsycihnmjiZvHnDE9IzYJ11WI5ogWJifiZGv2AkylIOfMMgnKYoufUIauZ+uoO57nuEr4sfWiJSywx3Kfuc8hmGKWTBEJUiYItrL1R++x3HWzM4Hi0yJIPEw8eWReXqlIXYdF0UWI2Nb0yD2T55I4uykAzHQBskvAxNPMS+4e/wmJAdwHBDu5+Zz/p1m6uuV8UwgitmI73Ga1xBxOYBZAP8hubhxa2eM0u8TkQlMQMbQCbIFgAyDVgHKe5xCZBjEOwRUoGUQxwmwe8vU8/w93sQm9/fCTmAAAAABJRU5ErkJggg=="}}]);