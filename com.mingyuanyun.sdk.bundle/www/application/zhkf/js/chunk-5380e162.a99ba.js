(window["webpackJsonp_module_entry_zhkf_"]=window["webpackJsonp_module_entry_zhkf_"]||[]).push([["chunk-5380e162"],{"08ec":function(t,e,n){var i=n("41be");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("85cb").default;a("6772140b",i,!0,{})},"243c":function(t,e){var n=Object.prototype,i=n.toString;function a(t){return i.call(t)}t.exports=a},"2b38":function(t,e,n){var i=n("5454");e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .as-wrapper[data-v-d9b1840a] {\n  background-color: rgba(0, 0, 0, 0.3);\n  overflow: hidden;\n  z-index: 9999;\n  position: absolute;\n  bottom: 0;\n}\n.zhkf .as-wrapper .as-inner[data-v-d9b1840a] {\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  left: 0;\n  font-size: 14px;\n  background-color: #fff;\n  max-height: 400px;\n  overflow-y: auto;\n}\n.zhkf .as-wrapper .as-inner .as-item[data-v-d9b1840a] {\n  position: relative;\n  height: 45px;\n  padding: 0 15px;\n  line-height: 45px;\n  color: #606060;\n}\n.zhkf .as-wrapper .as-inner .as-item[data-v-d9b1840a]:after {\n  content: '';\n  position: absolute;\n  display: none;\n  width: 13px;\n  height: 10px;\n  top: 50%;\n  right: 15px;\n  margin-top: -7px;\n  background: url("+i(n("fdbc"))+") no-repeat;\n  background-size: contain;\n}\n.zhkf .as-wrapper .as-inner .as-item.current[data-v-d9b1840a] {\n  color: #0085ff;\n}\n.zhkf .as-wrapper .as-inner .as-item.current[data-v-d9b1840a]:after {\n  display: block;\n}\n.zhkf .as-wrapper .as-inner .as-item.disabled[data-v-d9b1840a] {\n  color: #bbb;\n}\n.zhkf .as-wrapper .as-inner .as-item.disabled[data-v-d9b1840a]:after {\n  display: none;\n}\n.zhkf .actionsheet-float-enter[data-v-d9b1840a],\n.zhkf .actionsheet-float-leave-active[data-v-d9b1840a] {\n  -webkit-transform: translate3d(-50%, 100%, 0);\n          transform: translate3d(-50%, 100%, 0);\n}\n",""])},"2f08":function(t,e,n){var i=n("89b9");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("85cb").default;a("99dbe3d2",i,!0,{})},3804:function(t,e,n){var i=n("b6b5"),a=function(){return i.Date.now()};t.exports=a},"3dee":function(t,e,n){var i=n("c6c0");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("85cb").default;a("701e8be0",i,!0,{})},"412e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABEtJREFUWAnNmU1ME0EYhne2FKG2JPgDEexJEmP4E4stSNSYeEeJxKM3D6AnTbgYDYaLiZ40HLx5NBiQu4nRRIFaRP5iTPCEYMAfEttApWnH993uNstSwNIu7RyY7s7M9z77zezMfh9C2WUJhaaPxWKxdgz3CaFUoa6SUqsVXC/iehHXrMedTudwc3P9V/zOuIhMRkxOTlasrcVvSCkvY1ydZWxUCPGd99B+BFWJpX0G7UOlpY4njY2Ny5a2LS//C3B2dtYdiazfSiTkbci7YS0OsXfw0LAQ8pXHU/Kttrb2t1kFYw6Ew9GjUoqL8Gg7oNvQ7lAUEVFV8dDtLn6EMRHzmHS/dwQcGRnvAEw/BCoh9EcI9YHD4Xra3Hz8ZzqDW90Lhb4cisdXr0uZ6MGDlcHmEmx2tbb6Brcaw/tbAmKwCAY/3UV9D/1i8Fy/EK6+QODEr+0M7tQ2Nvb5oJSrd9CvG/JFAO31+0/eRy3TjU0LOD8/X7qw8OMZ4Dr5pJiSDr+/6X06A7u9FwxOnMGSGYQGZkYMVFcfvub1etes9lTrDXrOgEPbhKo6T+cajpq0SdvUoCN0zU0O2wSoT2snB7pcRWf9/vp5GrSj0DY1YFuDpLZVZwOx/kK8QKflpOfsgzODBIPT3kQi9gH3KuDNK+YXJwXIrSQc/juHTuVYcxfsmFYzlPW3viZf4/6Kx7OvxtiCUlPMfY4Llm/rXsMRNqkpte2MLMYDaICTOCG4CSf3OVef0bjXNbcxMpCFTNTXAHF83eQJwU04230um4eiNhnIwiM1BYipvYSLOE+IbARyMVZniIOJ570ikl8l63PYLN+2tJw6nwuRbG2Mjn58A8BzTmdxjap/MuELRBnO1nCuxhssZOMa9NEwv0pyJZCtHROLT8Vbw49NxeVy2nZiZApssJCNHiRgtKGhYSVTQ3b111miZFMx31V4QbQvYbsEd2OXTGSDB1EVbJESa5CkWgxRUJhkIhvXICOvEsYQhUKoszDoWuQaJKDCAKdQAA0WstGD4wRj9FUogCaWcZVBNcGw5zAIL4hisJBN1SP+GSzKNoaG+SYkA1nAMUM2TjG8J16icjBu5XU+i87gANMQOTRApCMeAzPCoJpxa74AkzFzoocsTJGkAJkrYToCb02ZHlTnhZHaZCCLkb/RPEga5krg1iXQdzGA2WtCXbObDGQx9FOAjKKwOLvQ4GTEz1DQ6GR3nQw7JXI0oogMRkRH3RQgLxiP4gl60akyHl8fRuCyn/ftLNSgFjWpbY6JqZuKiw0IdBRjYxPPUWvZBYejuN2u7AI9RzhoNwFuIBBouop6w8fLBg9qxOjARA4HcCAjfjvWZDJQ17IJGpyuuQFO4+GfdIWetDf9JrT1zmnNOP1mBi7YBKYZknmb7VLAjCGsIcPU1FT56mrMy4OfZytmxJ4UsBmU6QhmISDGQL/O3Ibf+UuiW0C0y736N8Q/8XRt1IPI8H8AAAAASUVORK5CYII="},"41be":function(t,e,n){e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .app-toast[data-v-1b84d5c4] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  text-align: center;\n  z-index: 999999;\n}\n.zhkf .app-toast .app-toast-message[data-v-1b84d5c4] {\n  display: inline-block;\n  min-width: 160px;\n  max-width: 80%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  padding: 10px;\n  color: #fff;\n  border-radius: 4px;\n  font-size: 14px;\n  line-height: 21px;\n  background: rgba(51, 51, 51, 0.5);\n  -webkit-transform: translate(-50%, -50%) translateZ(0);\n          transform: translate(-50%, -50%) translateZ(0);\n}\n",""])},"45bd":function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var i=n("3dd2"),a=function(t){return function(){if(!t){var e=window.cordova&&window.cordova.file;e&&(t=Object(i["c"])()?e.documentsDirectory:e.externalApplicationStorageDirectory)}return t||""}}(),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(i["c"])()?a()+"/default/com.hackemist.SDWebImageCache.default/"+t:a()+t},o=function(t){return function(e){return t.exec(e)||""}}(/[^/]+$/)},4923:function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},"496a":function(t,e,n){var i=n("5454");e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .img-list[data-v-33cf74e8] {\n  padding: 15px 15px 0;\n  overflow: hidden;\n}\n.zhkf .img-list > li[data-v-33cf74e8] {\n  position: relative;\n  float: left;\n  width: 60px;\n  height: 60px;\n  margin: 0 20px 15px 0;\n}\n.zhkf .img-list > li.img-item img[data-v-33cf74e8] {\n  display: block;\n  width: 100%;\n  height: 100%;\n  border-radius: 3px;\n}\n.zhkf .img-list > li.img-item .delete-icon[data-v-33cf74e8] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 20px;\n  height: 20px;\n  margin: -10px -10px 0 0;\n  background: url("+i(n("61d1"))+") no-repeat;\n  background-size: contain;\n  border-radius: 50%;\n}\n.zhkf .img-list > li.add-icon[data-v-33cf74e8] {\n  background: url("+i(n("5b0d"))+") no-repeat;\n  background-size: contain;\n}\n.zhkf .img-list > li.add-icon.album[data-v-33cf74e8] {\n  background: url("+i(n("a159"))+") no-repeat;\n  background-size: contain;\n}\n",""])},"4aaf":function(t,e,n){var i=n("496a");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("85cb").default;a("25d0e84f",i,!0,{})},"4bf0":function(t,e,n){var i=n("2b38");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("85cb").default;a("be1cca3c",i,!0,{})},5133:function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));n("5ab2"),n("6d57"),n("e44b"),n("e10e");var i=n("28f8");n("e204");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var o="PROBLEM_SELECT_SCOPE";e["a"]={state:{scopeList:[],scopeText:"",detailData:{},hasChangeScope:!1},mutations:{updateScopeList:function(t,e){var n=t.scopeList.findIndex((function(t){return t.buildingId===e.buildingId}));-1===n?t.scopeList.push(e):t.scopeList.splice(n,1,e)},clearScopeList:function(t){t.scopeList=[]},updateScopeText:function(t,e){t.scopeText=e},updateDetailData:function(t,e){t.detailData=r(r({},t.detailData),e)},updateHasChangeScope:function(t,e){t.hasChangeScope=e}}}},"516c":function(t,e,n){"use strict";n.d(e,"b",(function(){return I})),n.d(e,"a",(function(){return j}));var i=n("a593"),a=n("3e83"),r=(n("5f54"),{name:"Loading",model:{prop:"show",event:"change"},props:{show:Boolean,text:String,position:String,transition:{type:String,default:"vux-mask"}},watch:{show:function(t){this.$emit("update:show",t)}}}),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.transition}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-loading_toast vux-loading",class:t.text?"":"vux-loading-no-text"},[n("div",{staticClass:"weui-mask_transparent"}),t._v(" "),n("div",{staticClass:"weui-toast",style:{position:t.position}},[n("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),t.text?n("p",{staticClass:"weui-toast__content"},[t._v("\n        "+t._s(t.text)),t._t("default")],2):t._e()])])])},s=[],c=n("d082");function u(t){n("2f08")}var l,p,d=!1,f=u,h=null,g=null,m=Object(c["a"])(r,o,s,d,f,h,g),b=m.exports,v=null,k=function(t,e){var n={};for(var i in t.$options.props)"value"!==i&&(n[i]=t.$options.props[i].default);var a=Object.assign({},n,e);for(var r in a)t[r]=a[r]},w={install:function(t,e){var n=t.extend(b);l||(l=new n({el:document.createElement("div")}),document.body.appendChild(l.$el));var i={show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p&&p(),"string"===typeof t?l.text=t:"object"===Object(a["a"])(t)&&k(l,t),("object"===Object(a["a"])(t)&&t.onShow||t.onHide)&&(p=l.$watch("show",(function(e){e&&t.onShow&&t.onShow(l),!1===e&&t.onHide&&t.onHide(l)}))),v&&clearTimeout(v),v=setTimeout((function(){l.show=!0}),t.delay||0)},hide:function(){v&&(clearTimeout(v),v=null),l.show=!1},isVisible:function(){return l.show}};t.$comComps?t.$comComps.loading=i:t.$comComps={loading:i},t.mixin({created:function(){this.$comComps=t.$comComps}})}},x=w,y=(w.install,void 0);i["default"].use(x);var A=i["default"].$comComps.loading,S=[],I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.title,n=t.mask,i=void 0!==n&&n,a=t.success,r=t.fail,o=t.complete,s=y,c=function(){try{a&&a.bind(s)()}catch(t){r&&r.bind(s)()}o&&o.bind(s)()};S.splice(0,1/0,c);var u={text:e,isShowMask:i};A.show(u)},j=function(){A.hide();while(S.length){var t=S.shift();"function"===typeof t&&t()}}},"536d":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return r}));n("2b45"),n("edd1");function i(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}window.rAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)};function a(){var t=window.navigator?window.navigator.connection:{},e=t.type;return e}function r(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}},"5b0d":function(t,e,n){t.exports=n.p+"img/img-add-icon.7c09f3e7.png"},"5fef":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAYlJREFUSA3t1b1OwzAQAGBfS8gTsID4ERIJqlJmZlYkNkYQPwNCPA5DxYL4kXgDRmY2hroNAaqKFcQLUFk1dwFHHUKoz+6Gh56b6O6zI+ciBGOkaX8xTV/WGalFSq2YjTmRsjev1GdPKXUv5eOl1tq6BlHWSfW6nsG8KUrWWux2Ok8XHNwabjRWHgCgRTANRHc4uDVMWJLEJ4if0ZwGB4fvVPtfxAB32sJ4ZLJxMde4qD2MQ3Ptt8iGqWA5Lq6SZHX/L9wJdsGdYS7uBebg3mBb3Ctsg3uHK/BbPO1b5rSzGggVrxpYXOP7fIxxpMmIzW73+dzkTQSm4oRjL7/DWdFMtB4uGThv9uaPz9huZ9vYYm6w5s/m4D0MawfGmMiOR9B8YwAiBZhei6Kob2Dvh6sMFSLcaDaX3wxK0Ss8LuoVtkG9wbaoF5iDOsNc1Al2QdmwK8qCsyybHQz0KyYHeQFsDmXvKd2rGtadSymYw4JOKC2I1UCkzA7xG7AQBLXTOI4/qnb2f888gS+RN/3dVWeOIQAAAABJRU5ErkJggg=="},"61d1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAvdJREFUWAnNmc9rE0EUx+fNVpJCBWmDQq4tnrz5fySpdMlJvBc96dlSz3oT7+IprFjT/8Obx/ZaaUmL0EK7yOb5vtNM2CY7STaZbnYg2d358d5n3mRm33shNWf5225tJv1+kxU/V6zqTFQXUfignBDziSK5KvoVaN191Pl5fNuU75vydL98uf345jp5TcTbzOpZnrFE6jczHVRXg88Pvx2czTp2JkAOw7ULjt/2Sb1TzGuzCs/sR3SlWX1cp8oniqKrzD6pyqmAvXbjBffVFwF7khq3+C3RKWm1W+sc/pgkTLsaWdbjfKexpxL+7h0OSjFhkQ0d0OXiyGyQJV095/irbIDQNdBnvWykaIMqr2TJr0fljlnQWK5AOADBEMYgGZYcA7wIm++LslzaWtAJ3ek63N9ZYmwI/C54pH500H09CwyrgHbSG2cIiKOkp+Kje9kQeWYku7umKlv2CBouMc65pcNhIrK7DctgUsaC5g1xkxxL42KHcB5LTeorh3m1GmzijWMsGMfJm9LAAVwMhVcqbm+XmLmFhzIVvO/BQ/BK/iXJUZngLMuDINjScJlsRdmuYBPHQvy5khawaTibJeXDsV1fMZ6weJ+uUosOXU1e6nthwykHbNjF5bWgsGmShXZOYckNYNPiKv5ZModTPdhWEH2JCZ+6ek36jbjG+KoHm0Zo6EugdznCphG3ehfsSSDYNIJqT/K8iwGbRsSPoNq79AUFgglsxptBxL+gPO/DLZMBRDpCiZPoXcu8AuGwgkmKATSeq6Qj5pXnexxSIzZ/YwChALkSseKpb2W55QmDYRkMHAIiikKuxIR+uaX6GQDdhiGVVBoCQgXiUTl79v2oyy8FutMxMSSYqC4tyqQ+wmZH3tOF5GWsboGLNqJumyQYsXW43rEgKtDBJHJkAJ6LKAYOyaMROOges6AFgiUHeZo9mZKzn+0/z1WEisNC++tR90MWHGROVbzsBOZUQMyi1ClgANqCFMkgC9EqVRLdAqavRf0N8R/l0lWtDBMhSgAAAABJRU5ErkJggg=="},6554:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n("6d57");var i=n("b23b"),a=(n("6a61"),n("2e91")),r=n("85ad"),o=n("45bd"),s=n("c2c1"),c=n("6e0d");function u(t){return l.apply(this,arguments)}function l(){return l=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a,r,s,u,l,d,f,h,g=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=g.length>1&&void 0!==g[1]?g[1]:{},!(window.MAliyunOSS&&e&&e.length)){t.next=14;break}return t.next=4,Object(c["a"])("kf");case 4:if(a=t.sent,!a){t.next=14;break}return r={endPoint:a.endPoint,federationAuthUrl:a.stsUrl,type:a.type,data:[]},s=n.folder,u=void 0===s?"images":s,l=n.onStart,d=n.onProgress,f=Object(i["a"])(n,["folder","onStart","onProgress"]),Array.isArray(e)||(e=[e]),e.forEach((function(t){r.data.push({bucket:a.bucketName,objectKey:[a.parentDir,u,Object(o["a"])(t)].join("/"),objectLocalPath:t})})),t.next=12,p(r,{start:l,progress:d,domain:a.customDomain,config:f});case 12:return h=t.sent,t.abrupt("return",h);case 14:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function p(t,e){return new Promise((function(n,i){var a=[],o=function(){n(a.length<2?a[0]:a)},c=function(t,e){Object(r["b"])(e,t)||i(e)},u=function(t,n,i){e.progress&&e.progress(t,n,i),console.log(t,e,"上传图片-kf"),a.push({url:"".concat(e.domain,"/").concat(t.objectKey),path:t.objectLocalPath})},l=t.type;console.log(JSON.stringify(t),"上传参数"),delete t.type,s["a"].getUploadPlugin(l).putObjects(t,{start:e.start,finish:o,progress:u,error:c})}))}},6658:function(t,e,n){"use strict";n.r(e);var i=n("4c09"),a=(n("6a61"),n("2e91")),r=(n("cc57"),n("e697"),n("6d57"),n("f548"),n("721f")),o=n("ed7b"),s=n("c421"),c={name:"ActionSheet",model:{prop:"show",event:"changeVisible"},props:{actions:{type:Array,default:function(){return[]}},current:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1},mutiple:{type:Boolean,default:!0}},data:function(){return{currentArr:[]}},watch:{show:function(t){console.log("watch"),t&&(this.currentArr=this.current.slice())}},mounted:function(){console.log("mounted"),this.currentArr=this.current.slice()},methods:{emitHide:function(){this.$emit("changeVisible",!1)},itemClick:function(t,e){t.disabled||this.setCurrent(t.id)},setCurrent:function(t){var e=this.currentArr.indexOf(t);-1===e?this.currentArr.push(t):this.currentArr.splice(e,1),console.log("setCurrent",this.currentArr)},confirm:function(){this.$emit("change",this.currentArr),this.emitHide()}}},u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"actionsheet-float"}},[t.show?n("div",{staticClass:"as-wrapper x-abs x-box"},[n("div",{staticClass:"as-inner"},[n("div",{staticClass:"as-inner-content"},t._l(t.actions,(function(e,i){return n("div",{key:e.id,staticClass:"as-item bdbt",class:[t.currentArr.indexOf(e.id)>-1?"current":"",e.disabled?"disabled":""],on:{click:function(n){return n.stopPropagation(),t.itemClick(e,i)}}},[t._v("\n          "+t._s(e.name)+"\n          "),t._t("default",null,null,e)],2)})),0),t._v(" "),n("bottom-btn",{attrs:{"show-sec":""},on:{secclick:t.emitHide,mainclick:t.confirm}},[n("span",[t._v("确认")]),t._v(" "),n("span",{attrs:{slot:"secondary"},slot:"secondary"},[t._v("取消")])])],1)]):t._e()])},l=[],p=n("d082");function d(t){n("b2c5")}var f=!1,h=d,g="data-v-10b8d058",m=null,b=Object(p["a"])(c,u,l,f,h,g,m),v=b.exports,k=n("516c"),w=n("6554"),x=n("ba8f"),y=n("5133"),A=n("a5be"),S={components:{appToast:r["a"],imageUpload:o["a"],actionSheet:s["a"],actionSheets:v},mixins:[Object(x["a"])({name:y["b"],state:["scopeText","scopeList","detailData","hasChangeScope"],mutations:["updateScopeText","updateHasChangeScope"]})],data:function(){return{maxLength:200,subject:"",imgList:[],checkAtionsShow:!1,checkActions:[{id:"1",name:"整改中"},{id:"2",name:"正常关闭",hasSuffix:!0,childCompleteCount:0,childTotal:0,disabled:!1},{id:"3",name:"非正常关闭",hasSuffix:!0,childCompleteCount:0,childTotal:0,disabled:!1}],checkActionsCurrent:[],riskStageShow:!1,riskStage:[],riskStageCurrent:[],riskTypeShow:!1,riskType:[],riskTypeCurrent:[],riskLevelShow:!1,riskLevel:[],riskLevelCurrent:[],expectMoney:"",actualMoney:"",checkScope:!0,toast:"",isSumiting:!1,prevId:""}},computed:{query:function(){return this.$route.query},checkActionsName:function(){return this.createName(this.checkActions,this.checkActionsCurrent)},riskStageName:function(){return console.log(this.riskStageCurrent),this.createName(this.riskStage,this.riskStageCurrent)},riskTypeName:function(){return this.createName(this.riskType,this.riskTypeCurrent)},riskLevelName:function(){return this.createName(this.riskLevel,this.riskLevelCurrent)},scopeValue:function(){return this.scopeText},placeholder:function(){var t="";switch(this.checkActionsName){case"整改中":t="请输入处理进展";break;case"正常关闭":t="请输入整改结果";break;case"非正常关闭":t="请输入非正常关闭原因";break;default:t="请输入处理进展";break}return t}},watch:{$route:function(t,e){/repair-progress$/.test(t.path)&&/repair-detail$/.test(e.path)&&this.initPage()}},mounted:function(){this.initPage()},activated:function(){},methods:{goBack:function(){this.$router.go(-1)},navToScope:function(){this.$router.push({path:"repair-scope",query:{id:this.query.taskBatchId}})},uploadErrorHanlder:function(t){t.notAllow},showSheet:function(t){this["".concat(t,"Show")]=!0},changeSheet:function(t,e){this["".concat(e,"Current")]=t},expectInputHandler:function(t){var e=this,n=t.target.value;this.expectMoney=this.filterMoney(n),this.$nextTick((function(){t.target.value=e.expectMoney}))},actualInputHandler:function(t){var e=this,n=t.target.value;this.actualMoney=this.filterMoney(n),this.$nextTick((function(){t.target.value=e.actualMoney}))},filterMoney:function(t){t=t.replace(/[^0-9.]/g,""),t=t.replace(".","$").replace(/\./g,"").replace("$",".");var e=t.indexOf(".");return-1!==e&&(t=t.slice(0,e+3)),t},createName:function(t,e){var n=[];return e.forEach((function(e){var i=t.find((function(t){return t.id===e}));i&&n.push(i.name)})),n.join(",")},setDefaultByName:function(t,e,n){if(!n)return"";var i=t.find((function(t){return t.name===n}));return i&&i.id&&this.changeSheet([i.id],e),n},checkPostData:function(){var t="";return this.checkActionsName?this.riskStageCurrent.length?this.riskTypeCurrent.length?this.riskLevelCurrent.length?this.checkScope&&!this.scopeValue?"请选择影响范围":this.subject?t:this.placeholder:"请选择问题等级":"请选择风险类型":"请选择风险阶段":"请选择整改情况"},createPostData:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,i,a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=[],i=0;case 2:if(!(i<this.imgList.length)){t.next=12;break}return a=this.imgList[i],t.next=6,Object(w["a"])(a);case 6:r=t.sent,o=Array.isArray(r)?r[0]:r,n.push(o.url);case 9:i++,t.next=2;break;case 12:return e={id:this.query.id,status:this.checkActionsName,risk_stage:this.riskStageCurrent[0],risks_type:this.riskTypeCurrent,risk_level:this.riskLevelCurrent[0],expect_pay_fee:this.expectMoney||"0",pay_fee:this.actualMoney||"0",remark:this.subject,images:n},this.hasChangeScope?(e.scopeChange=this.scopeText,e.scopes=this.createScopes()):(e.scopeChange="",e.scopes=[]),t.abrupt("return",e);case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),submitHandler:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isSumiting){t.next=2;break}return t.abrupt("return",!1);case 2:if(this.isSumiting=!0,e=this.checkPostData(),!e){t.next=8;break}return this.toast=e,this.isSumiting=!1,t.abrupt("return",!1);case 8:return Object(k["b"])({title:"正在提交",mask:!0}),t.prev=9,t.next=12,this.createPostData();case 12:n=t.sent,console.log("======>postData",n),t.t0=this.checkActionsName,t.next="整改中"===t.t0?17:"正常关闭"===t.t0?21:"非正常关闭"===t.t0?25:29;break;case 17:return t.next=19,Object(A["c"])(n);case 19:return i=t.sent,t.abrupt("break",30);case 21:return t.next=23,Object(A["b"])(n);case 23:return i=t.sent,t.abrupt("break",30);case 25:return t.next=27,Object(A["a"])(n);case 27:return i=t.sent,t.abrupt("break",30);case 29:return t.abrupt("break",30);case 30:console.log(i),this.submitSucess(),t.next=37;break;case 34:t.prev=34,t.t1=t["catch"](9),this.submitFail(t.t1);case 37:case"end":return t.stop()}}),t,this,[[9,34]])})));function e(){return t.apply(this,arguments)}return e}(),submitFail:function(t){this.isSumiting=!1,console.error(t),this.toast=t.errmsg,Object(k["a"])()},submitSucess:function(){var t=this;this.isSumiting=!1,this.toast="提交成功",Object(k["a"])(),setTimeout((function(){t.resetPage(),t.goBack()}),1e3)},getRooms:function(t){var e=[],n=[];return t.forEach((function(t){return t.floors.forEach((function(t){return t.rooms.forEach((function(t){e.push(t),t.selected&&n.push(t)}))}))})),{rooms:e,selectedRooms:n}},createScopes:function(){for(var t=[],e=0,n=this.scopeList.length;e<n;e++){var i=this.scopeList[e],a=this.getRooms(i.list),r=a.rooms,o=a.selectedRooms,s=o.length;if(s||i.selected){var c={},u=void 0;c.building_id=i.buildingId,c.sub_proj_id=i.subProjId,u=s===r.length?[]:o.map((function(t){return t.id})),c.rooms=u,t.push(c)}}return t},getCheckActionsList:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Object(k["b"])(),t.prev=1,t.next=4,Object(A["f"])({problemId:this.query.id});case 4:e=t.sent,n=this.checkActions.filter((function(t){return"整改中"!==t.name})),n.forEach((function(t){var n=parseInt(e.childCompleteCount),i=parseInt(e.childTotal);t.childCompleteCount=n,t.childTotal=i,0!==i&&n!==i?n<i&&(t.disabled=!0):t.disabled=!1})),Object(k["a"])(),console.log(e),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](1),Object(k["a"])(),console.error(t.t0);case 15:case"end":return t.stop()}}),t,this,[[1,11]])})));function e(){return t.apply(this,arguments)}return e}(),getRiskStageList:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(A["i"])();case 3:e=t.sent,this.riskStage=e,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),getRiskTypeList:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(A["j"])();case 3:e=t.sent,this.riskType=e,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),getRiskLevelList:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(A["h"])();case 3:e=t.sent,this.riskLevel=e,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),initPage:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.prevId=this.query.id,this.checkActionsCurrent.splice(0,1,this.checkActions[0].id),this.riskStageCurrent=this.detailData.risk_stage_id?[this.detailData.risk_stage_id]:[],this.riskTypeCurrent=this.detailData.risks_type?Object(i["a"])(this.detailData.risks_type):[],this.riskLevelCurrent=this.detailData.risk_level_id?[this.detailData.risk_level_id]:[],this.expectMoney=this.detailData.expect_pay_fee,this.actualMoney=this.detailData.expect_pay_fee,console.log("detailData2",this.detailData),t.next=10,Object(A["k"])({checkTaskBatchId:this.detailData.check_task_batch_id,checkTaskProblemId:this.detailData.id});case 10:e=t.sent,this.checkScope=e.length>0,this.imgList=[],this.updateScopeText(this.detailData.effect_scope||""),this.updateHasChangeScope(!1),this.getCheckActionsList(),this.getRiskStageList(),this.getRiskTypeList(),this.getRiskLevelList();case 19:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),resetPage:function(){this.updateScopeText(""),this.subject="",this.checkActionsCurrent=[],this.riskStageCurrent=[],this.riskTypeCurrent=[],this.riskLevelCurrent=[],this.expectMoney="",this.actualMoney="",this.scopes=[],this.imgList=[]}}},I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-view x-rel x-col"},[n("cus-nav-bar",{attrs:{title:"汇报进展","left-arrow":"",border:!1,"use-click-left":""},on:{"click-left":t.goBack}}),t._v(" "),n("div",{staticClass:"detail-wrapper x-flex x-rel ovhd"},[n("div",{staticClass:"scroll-container x-abs x-box"},[n("div",{staticClass:"progress-info"},[n("div",{staticClass:"info-item x-row has-arrow must",on:{click:function(e){return t.showSheet("checkAtions")}}},[n("span",{staticClass:"label"},[t._v("整改情况")]),t._v(" "),n("span",{staticClass:"txt"},[t._v(t._s(t.checkActionsName))])])]),t._v(" "),n("p",{staticClass:"progress-line"},[t._v("相关信息")]),t._v(" "),n("div",{staticClass:"progress-info"},[n("div",{staticClass:"info-item x-row has-arrow must bdbt",on:{click:function(e){return t.showSheet("riskStage")}}},[n("span",{staticClass:"label"},[t._v("风险阶段")]),t._v(" "),n("span",{staticClass:"txt"},[t._v(t._s(t.riskStageName))])]),t._v(" "),n("div",{staticClass:"info-item x-row has-arrow must bdbt",on:{click:function(e){return t.showSheet("riskType")}}},[n("span",{staticClass:"label"},[t._v("风险类型")]),t._v(" "),n("span",{staticClass:"txt"},[t._v(t._s(t.riskTypeName))])]),t._v(" "),n("div",{staticClass:"info-item x-row has-arrow must bdbt",on:{click:function(e){return t.showSheet("riskLevel")}}},[n("span",{staticClass:"label"},[t._v("问题等级")]),t._v(" "),n("span",{staticClass:"txt"},[t._v(t._s(t.riskLevelName))])]),t._v(" "),t.checkScope?n("div",{staticClass:"info-item x-row has-arrow must bdbt",on:{click:t.navToScope}},[n("span",{staticClass:"label"},[t._v("影响范围")]),t._v(" "),n("span",{staticClass:"txt"},[t._v(t._s(t.scopeValue))])]):t._e(),t._v(" "),"整改中"===t.checkActionsName?n("div",{staticClass:"info-item x-row bdbt"},[n("span",{staticClass:"label"},[t._v("预估整改金额(元）")]),t._v(" "),n("div",{staticClass:"inp-wrapper x-flex x-rel"},[n("textarea",{attrs:{placeholder:"0.00"},domProps:{value:t.expectMoney},on:{input:t.expectInputHandler}})])]):n("div",{staticClass:"info-item x-row bdbt"},[n("span",{staticClass:"label"},[t._v("实际整改金额(元）")]),t._v(" "),n("div",{staticClass:"inp-wrapper x-flex x-rel"},[n("textarea",{attrs:{placeholder:"0.00"},domProps:{value:t.actualMoney},on:{input:t.actualInputHandler}})])])]),t._v(" "),n("div",{staticClass:"edit-wrapper x-rel bdbt"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.subject,expression:"subject"}],staticClass:"edit",attrs:{placeholder:t.placeholder,maxlength:t.maxLength},domProps:{value:t.subject},on:{input:function(e){e.target.composing||(t.subject=e.target.value)}}}),t._v(" "),n("i",{staticClass:"num"},[t._v(t._s(t.maxLength-t.subject.length))])]),t._v(" "),n("div",{staticClass:"img-wrapper"},[n("image-upload",{on:{error:t.uploadErrorHanlder},model:{value:t.imgList,callback:function(e){t.imgList=e},expression:"imgList"}})],1)])]),t._v(" "),n("bottom-btn",{staticClass:"opreate-btn save-btn",nativeOn:{click:function(e){return t.submitHandler(e)}}},[t._v("确认")]),t._v(" "),n("action-sheet",{attrs:{actions:t.checkActions,current:t.checkActionsCurrent},on:{change:function(e){return t.changeSheet(e,"checkActions")}},scopedSlots:t._u([{key:"default",fn:function(e){return[e.hasSuffix&&e.childTotal>0?n("span",[t._v("(子任务完成 "+t._s(e.childCompleteCount)+" / "+t._s(e.childTotal)+")")]):t._e()]}}]),model:{value:t.checkAtionsShow,callback:function(e){t.checkAtionsShow=e},expression:"checkAtionsShow"}}),t._v(" "),n("action-sheet",{attrs:{actions:t.riskStage,current:t.riskStageCurrent},on:{change:function(e){return t.changeSheet(e,"riskStage")}},model:{value:t.riskStageShow,callback:function(e){t.riskStageShow=e},expression:"riskStageShow"}}),t._v(" "),n("action-sheets",{attrs:{actions:t.riskType,current:t.riskTypeCurrent,mutiple:!0},on:{change:function(e){return t.changeSheet(e,"riskType")}},model:{value:t.riskTypeShow,callback:function(e){t.riskTypeShow=e},expression:"riskTypeShow"}}),t._v(" "),n("action-sheet",{attrs:{actions:t.riskLevel,current:t.riskLevelCurrent},on:{change:function(e){return t.changeSheet(e,"riskLevel")}},model:{value:t.riskLevelShow,callback:function(e){t.riskLevelShow=e},expression:"riskLevelShow"}}),t._v(" "),n("app-toast",{model:{value:t.toast,callback:function(e){t.toast=e},expression:"toast"}})],1)},j=[];function C(t){n("3dee")}var N=!1,O=C,D="data-v-717fa7c7",z=null,M=Object(p["a"])(S,I,j,N,O,D,z);e["default"]=M.exports},6973:function(t,e,n){var i=n("82d7"),a=n("7de4"),r=NaN,o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;function p(t){if("number"==typeof t)return t;if(a(t))return r;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var n=c.test(t);return n||u.test(t)?l(t.slice(2),n?2:8):s.test(t)?r:+t}t.exports=p},"721f":function(t,e,n){"use strict";n("163d");var i={name:"app-toast",props:{message:{type:String,default:""},duration:{type:Number,default:2e3}},model:{prop:"message",event:"hide"},computed:{show:function(){var t=this;return!!this.message&&(setTimeout((function(){return t.$emit("hide","")}),this.duration),!0)}}},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"app-toast"},[n("span",{staticClass:"app-toast-message"},[t._v(t._s(t.message))])]):t._e()},r=[],o=n("d082");function s(t){n("08ec")}var c=!1,u=s,l="data-v-1b84d5c4",p=null,d=Object(o["a"])(i,a,r,c,u,l,p);e["a"]=d.exports},"7de4":function(t,e,n){var i=n("9822"),a=n("4923"),r="[object Symbol]";function o(t){return"symbol"==typeof t||a(t)&&i(t)==r}t.exports=o},"7dff":function(t,e,n){var i=n("5454");e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .as-wrapper[data-v-10b8d058] {\n  background-color: rgba(0, 0, 0, 0.3);\n  overflow: hidden;\n  z-index: 100;\n}\n.zhkf .as-wrapper .as-inner-content[data-v-10b8d058] {\n  padding-bottom: 59px;\n  max-height: 400px;\n  overflow-y: auto;\n}\n.zhkf .as-wrapper .as-inner[data-v-10b8d058] {\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  left: 0;\n  font-size: 14px;\n  background-color: #fff;\n}\n.zhkf .as-wrapper .as-inner .as-item[data-v-10b8d058] {\n  position: relative;\n  height: 45px;\n  padding: 0 50px;\n  line-height: 45px;\n  color: #606060;\n}\n.zhkf .as-wrapper .as-inner .as-item[data-v-10b8d058]:before {\n  content: '';\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  top: 50%;\n  left: 15px;\n  margin-top: -10px;\n  background: url("+i(n("412e"))+") no-repeat;\n  background-size: contain;\n}\n.zhkf .as-wrapper .as-inner .as-item.current[data-v-10b8d058] {\n  color: #2567ff;\n}\n.zhkf .as-wrapper .as-inner .as-item.current[data-v-10b8d058]:before {\n  content: '';\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  top: 50%;\n  left: 15px;\n  margin-top: -10px;\n  background: url("+i(n("d098"))+") no-repeat;\n  background-size: contain;\n}\n.zhkf .as-wrapper .as-inner .as-item.disabled[data-v-10b8d058] {\n  color: #bbb;\n}\n.zhkf .as-wrapper .as-inner .as-item.disabled[data-v-10b8d058]:after {\n  display: none;\n}\n.zhkf .as-wrapper .as-inner .as-inner-footer[data-v-10b8d058] {\n  font-size: 0;\n}\n.zhkf .as-wrapper .as-inner .as-inner-footer a[data-v-10b8d058] {\n  width: 50%;\n  display: inline-block;\n  text-align: center;\n  font-size: 16px;\n  color: #2567ff;\n  padding: 12px 0;\n}\n.zhkf .as-wrapper .as-inner .as-inner-footer a.active[data-v-10b8d058] {\n  background: #2567ff;\n  color: #fff;\n}\n.zhkf .actionsheet-float-enter[data-v-10b8d058],\n.zhkf .actionsheet-float-leave-active[data-v-10b8d058] {\n  -webkit-transform: translate3d(-50%, 100%, 0);\n          transform: translate3d(-50%, 100%, 0);\n}\n",""])},"82d7":function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},"89b9":function(t,e,n){e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .weui-mask {\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n}\n.zhkf .weui-mask_transparent {\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n}\n.zhkf .weui-toast {\n  position: fixed;\n  z-index: 5001;\n  width: 7.6em;\n  min-height: 7.6em;\n  top: 50%;\n  left: 50%;\n  margin-left: -3.8em;\n  background: rgba(17, 17, 17, 0.7);\n  text-align: center;\n  border-radius: 5px;\n  color: #ffffff;\n}\n.zhkf .weui-icon_toast {\n  margin: 22px 0 0;\n  display: block;\n}\n.zhkf .weui-icon_toast.weui-icon-success-no-circle:before {\n  color: #ffffff;\n  font-size: 55px;\n}\n.zhkf .weui-icon_toast.weui-loading {\n  margin: 30px 0 0;\n  width: 38px;\n  height: 38px;\n  vertical-align: baseline;\n}\n.zhkf .weui-toast__content {\n  margin: 0 0 15px;\n}\n.zhkf .weui-loading {\n  width: 20px;\n  height: 20px;\n  display: inline-block;\n  vertical-align: middle;\n  -webkit-animation: weuiLoading 1s steps(12, end) infinite;\n          animation: weuiLoading 1s steps(12, end) infinite;\n  background: transparent url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgxMDB2MTAwSDB6Ii8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTlFOUU5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTMwKSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iIzk4OTY5NyIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgzMCAxMDUuOTggNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjOUI5OTlBIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDYwIDc1Ljk4IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0EzQTFBMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA2NSA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNBQkE5QUEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDU4LjY2IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0IyQjJCMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjQkFCOEI5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA1MCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDMkMwQzEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1MCA0NS45OCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDQkNCQ0IiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTEyMCA0MS4zNCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNEMkQyRDIiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDM1IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0RBREFEQSIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgtNjAgMjQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTJFMkUyIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKC0zMCAtNS45OCA2NSkiLz48L3N2Zz4=') no-repeat;\n  background-size: 100%;\n}\n.zhkf .weui-loading.weui-loading_transparent {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMjAnIGhlaWdodD0nMTIwJyB2aWV3Qm94PScwIDAgMTAwIDEwMCc+PHBhdGggZmlsbD0nbm9uZScgZD0nTTAgMGgxMDB2MTAwSDB6Jy8+PHJlY3QgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjU2KScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwIC0zMCknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjUpJyByeD0nNScgcnk9JzUnIHRyYW5zZm9ybT0ncm90YXRlKDMwIDEwNS45OCA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjQzKScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSg2MCA3NS45OCA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjM4KScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSg5MCA2NSA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjMyKScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSgxMjAgNTguNjYgNjUpJy8+PHJlY3Qgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHg9JzQ2LjUnIHk9JzQwJyBmaWxsPSdyZ2JhKDI1NSwyNTUsMjU1LC4yOCknIHJ4PSc1JyByeT0nNScgdHJhbnNmb3JtPSdyb3RhdGUoMTUwIDU0LjAyIDY1KScvPjxyZWN0IHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyB4PSc0Ni41JyB5PSc0MCcgZmlsbD0ncmdiYSgyNTUsMjU1LDI1NSwuMjUpJyByeD0nNScgcnk9JzUnIHRyYW5zZm9ybT0ncm90YXRlKDE4MCA1MCA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjIpJyByeD0nNScgcnk9JzUnIHRyYW5zZm9ybT0ncm90YXRlKC0xNTAgNDUuOTggNjUpJy8+PHJlY3Qgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHg9JzQ2LjUnIHk9JzQwJyBmaWxsPSdyZ2JhKDI1NSwyNTUsMjU1LC4xNyknIHJ4PSc1JyByeT0nNScgdHJhbnNmb3JtPSdyb3RhdGUoLTEyMCA0MS4zNCA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjE0KScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSgtOTAgMzUgNjUpJy8+PHJlY3Qgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHg9JzQ2LjUnIHk9JzQwJyBmaWxsPSdyZ2JhKDI1NSwyNTUsMjU1LC4xKScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSgtNjAgMjQuMDIgNjUpJy8+PHJlY3Qgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHg9JzQ2LjUnIHk9JzQwJyBmaWxsPSdyZ2JhKDI1NSwyNTUsMjU1LC4wMyknIHJ4PSc1JyByeT0nNScgdHJhbnNmb3JtPSdyb3RhdGUoLTMwIC01Ljk4IDY1KScvPjwvc3ZnPgo=');\n}\n@-webkit-keyframes weuiLoading {\n0% {\n    -webkit-transform: rotate3d(0, 0, 1, 0deg);\n            transform: rotate3d(0, 0, 1, 0deg);\n}\n100% {\n    -webkit-transform: rotate3d(0, 0, 1, 360deg);\n            transform: rotate3d(0, 0, 1, 360deg);\n}\n}\n@keyframes weuiLoading {\n0% {\n    -webkit-transform: rotate3d(0, 0, 1, 0deg);\n            transform: rotate3d(0, 0, 1, 0deg);\n}\n100% {\n    -webkit-transform: rotate3d(0, 0, 1, 360deg);\n            transform: rotate3d(0, 0, 1, 360deg);\n}\n}\n.zhkf .weui-icon_toast.weui-loading {\n  margin: 30px 0 0;\n  width: 38px;\n  height: 38px;\n  vertical-align: baseline;\n  display: inline-block;\n}\n.zhkf .vux-mask-enter,\n.zhkf .vux-mask-leave-active,\n.zhkf .vux-mask-leave-active,\n.zhkf .vux-mask-enter-active {\n  position: relative;\n  z-index: 1;\n}\n.zhkf .vux-mask-enter,\n.zhkf .vux-mask-leave-active {\n  opacity: 0;\n}\n.zhkf .vux-mask-leave-active,\n.zhkf .vux-mask-enter-active {\n  -webkit-transition: opacity 300ms;\n  transition: opacity 300ms;\n}\n.zhkf .vux-loading-no-text .weui-toast {\n  min-height: 98px;\n}\n",""])},"8c18":function(t,e,n){var i=n("b6b5"),a=i.Symbol;t.exports=a},9822:function(t,e,n){var i=n("8c18"),a=n("fe3c"),r=n("243c"),o="[object Null]",s="[object Undefined]",c=i?i.toStringTag:void 0;function u(t){return null==t?void 0===t?s:o:c&&c in Object(t)?a(t):r(t)}t.exports=u},a159:function(t,e,n){t.exports=n.p+"img/img-add-album.59d88451.png"},a59e:function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n("0288"))},a5be:function(t,e,n){"use strict";n.d(e,"o",(function(){return a})),n.d(e,"m",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"n",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return p})),n.d(e,"h",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return g})),n.d(e,"k",(function(){return m})),n.d(e,"l",(function(){return b})),n.d(e,"g",(function(){return v}));var i=n("1961");function a(t){return Object(i["a"])({url:"check-task-api/check-task-problem-list/list",method:"post",data:t})}function r(t){return Object(i["a"])({url:"api/corner-mark/index",params:t})}function o(){return Object(i["a"])({url:"check-task-api/check-task-problem-list/check-node-list"})}function s(t){return Object(i["a"])({url:"check-task-api/check-task-problem-detail/master-detail",params:t})}function c(t){return Object(i["a"])({url:"check-task-api/check-task-problem-activate/activate",method:"post",data:t})}function u(t){return Object(i["a"])({url:"check-task-api/check-task-problem-progress/get-child-problem-count",params:t})}function l(){return Object(i["a"])({url:"check-task-api/check-parameter/get-risk-stage-list"})}function p(){return Object(i["a"])({url:"check-task-api/check-parameter/get-risk-type-list"})}function d(){return Object(i["a"])({url:"check-task-api/check-parameter/get-risk-level-list"})}function f(t){return Object(i["a"])({url:"check-task-api/check-task-problem-progress/create-master-progress-handing",method:"post",data:t})}function h(t){return Object(i["a"])({url:"check-task-api/check-task-problem-progress/create-master-progress-close",method:"post",data:t})}function g(t){return Object(i["a"])({url:"check-task-api/check-task-problem-progress/create-master-abnormal-close",method:"post",data:t})}function m(t){return Object(i["a"])({url:"check-task-api/check-task-problem-scope/get-problem-scope-building",params:t})}function b(t){return Object(i["a"])({url:"check-task-api/check-task-problem-scope/get-problem-scope-rooms",params:t})}function v(t){return Object(i["a"])({url:"check-task-api/check-right/get-right-list",params:t})}},b2c5:function(t,e,n){var i=n("7dff");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("85cb").default;a("406cbe74",i,!0,{})},b6b5:function(t,e,n){var i=n("a59e"),a="object"==typeof self&&self&&self.Object===Object&&self,r=i||a||Function("return this")();t.exports=r},ba8f:function(t,e,n){"use strict";n("5ab2"),n("6d57"),n("e44b"),n("e10e");var i=n("28f8"),a=(n("cc57"),n("f2de")),r=n("e048");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e["a"]=function(t){var e=t.name,n=void 0===e?"app":e,i=t.store,o=t.state,c=t.getters,u=t.mutations,l=t.actions,p={};return i&&(p.beforeCreate=function(){return Object(r["a"])(n,s({namespaced:!0},i))}),o&&(p.computed=Object(a["e"])(n,o)),c&&(p.computed=Object(a["c"])(n,c)),u&&(p.methods=Object(a["d"])(n,u)),l&&(p.methods=Object(a["b"])(n,l)),p}},c421:function(t,e,n){"use strict";var i={name:"ActionSheet",model:{prop:"show",event:"changeVisible"},props:{actions:{type:Array,default:function(){return[]}},current:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1},mutiple:{type:Boolean,default:!1}},methods:{emitHide:function(){this.$emit("changeVisible",!1)},itemClick:function(t,e){this.mutiple||this.emitHide(),t.disabled||(this.setCurrent(t.id),this.$emit("change",this.current),this.$emit("itemclick",t))},setCurrent:function(t){if(this.mutiple){var e=this.current.indexOf(t);-1===e?this.current.push(t):this.current.splice(e,1)}else this.current.splice(0,1,t)}}},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"actionsheet-float"}},[t.show?n("div",{staticClass:"as-wrapper x-abs x-box",on:{click:t.emitHide}},[n("div",{staticClass:"as-inner"},t._l(t.actions,(function(e,i){return n("div",{key:e.id,staticClass:"as-item bdbt",class:[t.current.indexOf(e.id)>-1?"current":"",e.disabled?"disabled":""],on:{click:function(n){return n.stopPropagation(),t.itemClick(e,i)}}},[t._v("\n        "+t._s(e.name)+"\n        "),t._t("default",null,null,e)],2)})),0)]):t._e()])},r=[],o=n("d082");function s(t){n("4bf0")}var c=!1,u=s,l="data-v-d9b1840a",p=null,d=Object(o["a"])(i,a,r,c,u,l,p);e["a"]=d.exports},c6c0:function(t,e,n){var i=n("5454");e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .app-view[data-v-717fa7c7] {\n  padding-bottom: 58px;\n}\n.zhkf .progress-line[data-v-717fa7c7] {\n  height: 45px;\n  padding: 0 15px;\n  line-height: 45px;\n  font-size: 15px;\n  color: #bbb;\n}\n.zhkf .progress-info[data-v-717fa7c7] {\n  background-color: #fff;\n}\n.zhkf .progress-info .info-item[data-v-717fa7c7] {\n  position: relative;\n  min-height: 50px;\n  padding: 12px 15px;\n  font-size: 14px;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.zhkf .progress-info .info-item .label[data-v-717fa7c7] {\n  min-width: 9em;\n  color: #808080;\n}\n.zhkf .progress-info .info-item .txt[data-v-717fa7c7] {\n  color: #202020;\n}\n.zhkf .progress-info .info-item .txt[data-v-717fa7c7]:empty:before {\n  content: '\\9009\\586B';\n  color: #bbb;\n}\n.zhkf .progress-info .info-item.has-arrow[data-v-717fa7c7] {\n  padding-right: 32px;\n}\n.zhkf .progress-info .info-item.has-arrow[data-v-717fa7c7]:after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  right: 14px;\n  width: 15px;\n  height: 15px;\n  margin-top: -7px;\n  background: url("+i(n("5fef"))+") no-repeat;\n  background-size: contain;\n}\n.zhkf .progress-info .info-item.must .txt[data-v-717fa7c7]:empty:before {\n  content: '\\5FC5\\586B';\n}\n.zhkf .progress-info .info-item.d_must .txt[data-v-717fa7c7]:empty:before {\n  content: '\\9009\\586B';\n}\n.zhkf .progress-info .info-item .inp-wrapper[data-v-717fa7c7] {\n  text-align: right;\n}\n.zhkf .progress-info .info-item .inp-wrapper > input[data-v-717fa7c7] {\n  position: absolute;\n  width: 100%;\n  height: 50px;\n  top: 0;\n  left: 0;\n}\n.zhkf .progress-info .info-item .inp-wrapper > span[data-v-717fa7c7]:empty:before {\n  content: '0.00';\n  color: #bbb;\n}\n.zhkf .progress-info .info-item .inp-wrapper > textarea[data-v-717fa7c7] {\n  width: 100%;\n  height: 25px;\n  text-align: right;\n  line-height: 25px;\n  resize: none;\n  vertical-align: top;\n  background-color: transparent;\n}\n.zhkf .edit-wrapper[data-v-717fa7c7] {\n  position: relative;\n  background-color: #fff;\n}\n.zhkf .edit-wrapper .edit[data-v-717fa7c7] {\n  width: 100%;\n  height: 110px;\n  padding: 13px 15px;\n  border: none;\n  resize: none;\n  font-size: 14px;\n  color: #202020;\n}\n.zhkf .edit-wrapper .num[data-v-717fa7c7] {\n  position: absolute;\n  bottom: 7px;\n  right: 12px;\n  font-size: 14px;\n  color: #a0a0a0;\n}\n.zhkf .img-wrapper[data-v-717fa7c7] {\n  background-color: #fff;\n}\n/* .save-btn {\n  height: 45px;\n  line-height: 45px;\n  text-align: center;\n  color: @white;\n  font-size: 16px;\n  background-color: @blue-color;\n} */\n",""])},d098:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA3JJREFUWAnNmTtoFEEYx/+7xBdeISgeXGNxwSppPAQLCwsRu+ip2BlEsAim8FElh7mTaBoVBFE7UUEQRbFQu7SCEC20sDCWF06wO5AkeuP337l1H5e9fdzungOXnd2Zb77f/mfn9cVA0lRTZShMyK8CAyW5lqwr21NoSr7ZvS5J/jXmjeUkroxYRnW1G79xAR0cF7uxWLbAF5h4hRHcRd34EdU2GmBdFbCGy6LEFVGlELXxDesZaEsbN7EZtwS0vWEd18NwwJqqimL3xKbosksj2xJFp6TrX/ZrzAwsVMrAjJoTuBdSJ204ui1abdMHfQWkjQtuq234iUfSFacC7NJ9bOA5dmISl4xf/oZ7FeTb5AlHIgph+exVshdwFldzU84tFyHp25e8XawHBL8573OfUYa3SgbOSffAcUD0VPJNnGcxIOK8U0umoFF7CnK6mPPc8OH4IkVrzu2+klaQK8Q6luXbG2wS7jY68IWT+SaUueJoBdcxnQfcuHw87yaBHVtDXoFCcUmVpAEVjoWYDFxMuMVzwNG9wOyhCM3p9V5GK3clHXBwZJZsuF3bgTdfgRNPgdU/EdyZGB2Rrp2IUDVxFT9cVeDWosDRo7CZ8qeS2HuI4UBwGrBiSieXQvwkKh4Yjl6FjQqmDpgKHAGFLXUFU4NzKaiYD0rn9wMH9wSVep+nCsemFRTnwRWvG+fucBl4IGOck2sYZOpwGmOFXdx0kLy5xe/Ak09AYUt/yIzgOEiaHCSBgB3p/LNyYnj8MRgyMzhqJWxUcMmrm/euH2SmcMQQtshLnSn7nodV4Mw+oL0KXHwLLBwB7OUr1grh1SD4TpY6vd2aUZ+l1lhwTV3ihrTrcm3NBI4H/RvGuN7N8MQfIbm7m9UzhOM+y2JKtGGlktMHgPsfYiz8EQT4V6Vnw8pYCcMREROVvPM+IzgykKUbv9FdzIeMlQAtZoeceGgii5UcQAZyGCsh//ASj51T9omOGA4g73Qgp8HskFLDfSYmgx4kbhqGPmp4JjrmE5exfTM+M4/TMAxPD3oVtJClAgM5NMgr2cEjH5yFE8hAJXWsZE7q9CodaBirgGo1cB3X/MrZrYQ7/m8DmPYrcOAwVgLURcfQkK1tFnjVbdStNkOiq2wjXEG3Jx0iYRSCB/3QtdttKvkMg+g+T9ZtTv+G+AsihExcNz2i8gAAAABJRU5ErkJggg=="},e048:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));n("cc57");var i=n("07a4");function a(t,e){return i["a"].registerModule(t,e)}function r(t){i["a"].state[t]&&i["a"].unregisterModule(t)}},ed7b:function(t,e,n){"use strict";n("6a61");var i=n("2e91"),a=(n("f548"),n("3e83")),r=(n("163d"),n("45bd")),o=n("3dd2"),s=n("536d"),c=(n("5ab2"),n("6d57"),n("e44b"),n("e10e"),n("9a33"),n("28f8")),u=(n("1181"),n("2941")),l=n("a593"),p=n("fe6f"),d=n("cb6b"),f=n("5e7d");function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t){return b.apply(this,arguments)}function b(){return b=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n,i,a,r,s,c,u=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:{},!window.MImagePicker||!e){t.next=14;break}if(a=e,!n.withGraffiti||!n.isCrop){t.next=5;break}throw new Error("裁剪和涂鸦不能同时使用");case 5:return r=(cordova&&cordova.require("cordova/plugin_list")||{}).metadata||{},s=r["com.mysoft.mimagepicker"]>"1.3.3",n=g({ratio:Object(o["c"])()?60:80,mode:"fix",rotateEnable:!1,reqWidth:768,reqHeight:1024,edit:!0,editConfig:{limits:s?["doodle","text","crop"]:[0,1,2],autoSelected:s?"doodle":0},savePath:e},n),c=d["a"].getString(f["a"].SELECT_PICTURE_FROM_ALBUM,d["a"].level.user),n.fromAlbum?(a=e.split(),i="openAlbum","on"===c&&(n.customMode=!0)):(i="openCamera",n.photoConfig={edit:!0,editConfig:{limits:s?["doodle","text","crop"]:[0,1,2],autoSelected:s?"doodle":0}},"on"===c&&(n.photoConfig.customCamera=!0)),i=window.MImagePicker[i],t.next=13,v(i,a,n).catch((function(t){throw t}));case 13:return t.abrupt("return",e);case 14:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}function v(t,e,n){var i=n.savePath;return new Promise((function(a,r){t(e,(function(t){t?MImagePicker.imageProcess(i,(function(t){console.error(t+": 添加水印成功"),console.log("takePhoto: OK",i),a(i)}),(function(t){console.error("拍照添加水印失败:",i,t),r("拍照添加水印失败")}),{watermarkConfig:{textBackground:"#40000000",textAlignment:"right",textColumns:[{text:n.text,textColor:"#FFFFFF"}]}}):(console.error(funcName+": savedPath为空"),r("拍照路径异常"))}),(function(t){if(1100===t.errCode){var e="",i="智慧客服",a=p["a"].isIOS();e=a&&n.fromAlbum?"请在iPhone的“设置-隐私”选项中，允许".concat(i,"访问你的相册"):a&&!n.fromAlbum?"请在iPhone的“设置-隐私”选项中，允许".concat(i,"访问你的相机"):!a&&n.fromAlbum?"请在设置-应用-".concat(i,"-权限中开启相册权限"):"请在设置-应用-".concat(i,"-权限中开启相机权限"),u["a"].alert({message:e})}r(t?999===t.errCode?{cancel:1}:1100===t.errCode?{notAllow:1}:t.errMsg||t:"拍照异常")}),n)}))}l["default"].use(u["a"]);var k=n("c2c1"),w=n("a740"),x=n("f809"),y=n("265f"),A=n("6554"),S=n("516c"),I={name:"ImageUpload",model:{prop:"imgList",event:"change"},props:{imgList:{type:Array,default:function(){return[]}},max:{type:Number,default:3},autoUpload:{type:Boolean,default:!1}},data:function(){return{fromAlbum:"off"}},computed:{fixImgList:function(){var t=this.imgList.map((function(t){return"object"===Object(a["a"])(t)?t.path||t.preview:t}));return console.log(t),Object(o["c"])()&&(t=t.map((function(t){return t.replace("file://","http://".concat(window.location.hostname,":").concat(window.location.port))}))),console.log(t),t},bigImgList:function(){var t=this.imgList.map((function(t){return"object"===Object(a["a"])(t)?t.path||t.preview:t}));return t}},activated:function(){this.fromAlbum=y["a"].getAlbumSetting()},methods:{showLargeImg:function(t){k["a"].openImageBrowser(this.bigImgList,t)},getRemarkText:function(){var t=Object(w["j"])();return t.user_name+Object(x["a"])(new Date,"yyyy-MM-dd hh:mm")+"上传"},addImage:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n,i,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=Object(s["b"])(),t.next=4,m(Object(r["b"])("".concat(n,".jpg")),{withGraffiti:!0,customCamera:!0,fromAlbum:e,text:this.getRemarkText(),num:this.max});case 4:if(i=t.sent,!this.autoUpload){t.next=15;break}return Object(S["b"])(),t.next=9,Object(A["a"])(i);case 9:a=t.sent,Object(S["a"])(),o=Array.isArray(a)?a[0]:a,this.imgList.push(o),t.next=16;break;case 15:this.imgList.push(i);case 16:this.$emit("change",this.imgList),t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](0),console.error("outer-error",t.t0),this.$emit("error",t.t0);case 23:case"end":return t.stop()}}),t,this,[[0,19]])})));function e(e){return t.apply(this,arguments)}return e}(),deleteImg:function(t){this.imgList.splice(t,1)}}},j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"img-list"},[t._l(t.fixImgList,(function(e,i){return n("li",{key:e,staticClass:"img-item",on:{click:function(e){return t.showLargeImg(i)}}},[n("img",{attrs:{src:e,alt:""}}),t._v(" "),n("i",{staticClass:"delete-icon",on:{click:function(e){return e.stopPropagation(),t.deleteImg(i)}}})])})),t._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length<t.max,expression:"imgList.length < max"}],staticClass:"add-icon",on:{click:function(e){return t.addImage("")}}}),t._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length<t.max&&"on"===t.fromAlbum,expression:"imgList.length < max && fromAlbum === 'on'"}],staticClass:"add-icon album",on:{click:function(e){return t.addImage("fromAlbum")}}})],2)},C=[],N=n("d082");function O(t){n("4aaf")}var D=!1,z=O,M="data-v-33cf74e8",J=null,L=Object(N["a"])(I,j,C,D,z,M,J);e["a"]=L.exports},edd1:function(t,e,n){var i=n("82d7"),a=n("3804"),r=n("6973"),o="Expected a function",s=Math.max,c=Math.min;function u(t,e,n){var u,l,p,d,f,h,g=0,m=!1,b=!1,v=!0;if("function"!=typeof t)throw new TypeError(o);function k(e){var n=u,i=l;return u=l=void 0,g=e,d=t.apply(i,n),d}function w(t){return g=t,f=setTimeout(A,e),m?k(t):d}function x(t){var n=t-h,i=t-g,a=e-n;return b?c(a,p-i):a}function y(t){var n=t-h,i=t-g;return void 0===h||n>=e||n<0||b&&i>=p}function A(){var t=a();if(y(t))return S(t);f=setTimeout(A,x(t))}function S(t){return f=void 0,v&&u?k(t):(u=l=void 0,d)}function I(){void 0!==f&&clearTimeout(f),g=0,u=h=l=f=void 0}function j(){return void 0===f?d:S(a())}function C(){var t=a(),n=y(t);if(u=arguments,l=this,h=t,n){if(void 0===f)return w(h);if(b)return clearTimeout(f),f=setTimeout(A,e),k(h)}return void 0===f&&(f=setTimeout(A,e)),d}return e=r(e)||0,i(n)&&(m=!!n.leading,b="maxWait"in n,p=b?s(r(n.maxWait)||0,e):p,v="trailing"in n?!!n.trailing:v),C.cancel=I,C.flush=j,C}t.exports=u},f809:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("9dd9"),n("f548");function i(t){return t<10?"0".concat(t):t}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss",n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var a in/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(-RegExp.$1.length))),n)if(new RegExp("("+a+")").test(e)){var r=n[a]+"",o=RegExp.$1.length<r.length?r.length:RegExp.$1.length;r=i(r),e=e.replace(RegExp.$1,r.substr(-o))}return/(S+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getMilliseconds()+"").substr(0,RegExp.$1.length))),e}},fdbc:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAUCAYAAACTQC2+AAAAAXNSR0IArs4c6QAAAfpJREFUSA21lDFII1EQhv/ZJIWgaGNhYbsncnAEKyFWJwTBxkbP0kY9T4urLF2r08LuXLRV0EpFvObU0tZYSTRX2ImFVwTllEh2nJfzxWE3Bk3iwvJm/zdvvv1n31vgnS53ghfcSfZsebJBo0bPY2fzCn7AmDA1iTCfWyGvoaCeVU7cZLDOwIh+cQOLa6GeuPc7N/09wZZABirUuW+Io55Zbr3JY48ZfSEIC2A6t0p+3aDkDLffPuA3GMkQpCgtG5Pvs270ukAfp7izEOBAnHzQEClakMpfBLJj9ZpBXd/YLRZxKE46bbGn8V8shqEzn/a1XhOoe5KTDyi1q10XkzhPMQzmfDoK6c+ts4fL7Plwkn52pzjFRfwSrVXr8sbXsTjS2WXKaN3GJUcGIn2eM6I9YDZBj+5XHpC8LWlXk9ZlzSU76P/jU1brOnY0xEwYoHWnE8XJCALsRiDABcWRqgYxdRxdzMZhmDgZ5wAbchgTNseM4iRLCaTOf9KF1ivFkdbpJNNGue+CAAtaf4oz1Ix0bomuK8xFpPKuC7cwkqkEWXTU0obB40XKK7lqWG5d6Q8rDqpm/5/cb+lA+i0Qs6zsyAKqOZPk7UQHRk89Ktj8145lR3bBS87IwdqnzxiuBWJqRxxZoHYmScvnK5ghItl473AZmNw/GlH6ERvBt4QU5V0QAAAAAElFTkSuQmCC"},fe3c:function(t,e,n){var i=n("8c18"),a=Object.prototype,r=a.hasOwnProperty,o=a.toString,s=i?i.toStringTag:void 0;function c(t){var e=r.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(c){}var a=o.call(t);return i&&(e?t[s]=n:delete t[s]),a}t.exports=c}}]);