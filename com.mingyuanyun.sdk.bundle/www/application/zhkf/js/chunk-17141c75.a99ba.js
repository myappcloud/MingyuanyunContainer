(window["webpackJsonp_module_entry_zhkf_"]=window["webpackJsonp_module_entry_zhkf_"]||[]).push([["chunk-17141c75"],{"0a37":function(e,t,n){var o=n("1c4e");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("85cb").default;i("76d9ba51",o,!0,{})},"1c4e":function(e,t,n){t=e.exports=n("690e")(!1),t.push([e.i,"\n.zhkf .tip[data-v-829243a6] {\n  width: 250px;\n  text-align: center;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n.zhkf .tip img[data-v-829243a6] {\n    width: 200px;\n}\n.zhkf .tip p[data-v-829243a6] {\n    color: #a0a0a0;\n    line-height: 20px;\n    font-size: 14px;\n    margin: 0 auto;\n    text-align: center;\n    margin-top: 3px;\n}\n",""])},"26eb":function(e,t,n){e.exports=n.p+"img/search.37f508c9.png"},2985:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAADIklEQVRYR82ZTUhUURTHf3fKUqKkD0r7wEVQEUVCH7oSggiskMASF0EQlBW2DHQRDLQw2irZuAiKIFIXFVhIC4kKgmqlVBYuAnO0JkSMcpj0xvXN0+eb92beffMm3lsNc+/5nx/3cM85916Bny8qI5RzEDiMYD+SnUA5sDotNw3EEQwjeQ8MEOctUTGn605oGdyVW5ihGTgDbNWyhVHgPsV0cFZ882rrDbBDrqeI68A5YKVXcZd5SeAOKa7RLH7m0soN2CUbkbQDG3KJaY4niNDMefEwm507YFQuZzPtSC5qOtabLrjNGFeIir9Ohs6A3bKESXqA43refM/uYy2naRB/7AqZgGrlynn0H+FMpj7inLSvZCZgl+wseFjdFlqF+4K4ZB1eCmhsiAe+AxWEYYRG68ZZBDRSyacC7FZd7AQpdpkpaBEwJm8BS5ZXVznA+Z00ictKzwA0KsRIAEnYE+OaIrhZBXvXQewj3PuSYZakmO2q4hiAMdkGtHhSz3NS6QroPwZVGw2hWQm7u+HzVIbwDZpEq8Ao/F991FZtVDucKVDzBF6OZ8iNEqdCEJNVwBttb5oGbnADY3CkD+ako2C1AlShVSEu2OcG92ocap/Br5Sr61YF2AvUu03Ztgq+z0By1h9/HnBqC/cqwEFgj919RMDjo3CiAiZ+Q/1zeD2hB5kXnOFqSAH+cErONWXwom4RaDoFtU+9QwYAp5wnFOCMU/7bUQofGmCZpRh6hQwITgEmXQHV6NV9RkK1frkgA4RbAHQMsQnVUglth7xBBgy3EGLHTWJF8gJZADiFMCjokj1ITuXan9kghyaXli9Ty0Oey+42nWY8J2o3yJEpqLQdqfKGM9DnE7VWqXOCtC9DQHBKttpXs5ANMkC4dLOgOH20W06QAcIpqnS7pX76bFhVnlQpSCVz1ZXU9Wct/Ln2oXXc1rAaq+ir5VcVZ1OJUQJdWiYdMHOureVXf4f+0KQgQ33sNBc31Ad3BRn6qw8FGerLIzPUob5+syaG0F5gWiFDfQVsBQ3tJbq9FlifIeAAzD9DlNmeIdRdwTDwLp9niH+Lfm97gO/iCQAAAABJRU5ErkJggg=="},"45df":function(e,t,n){var o=n("cbd6");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("85cb").default;i("730e1862",o,!0,{})},"5c1b":function(e,t,n){"use strict";n("f0e6");var o=n("bbed"),i=n("fa1b"),r=n("07a4"),a=n("fd50");function c(){var e=function(e){e&&e.fitment_standard&&("毛坯"===e.fitment_standard?e.is_for_rough=1:"精装"===e.fitment_standard&&(e.is_for_decorated=1),delete e.fitment_standard)},t=function(e,t,n,i,r){return o["a"].getCheckItemLeaf(e,t,i,r).then((function(e){if(_.isEmpty(e))return[];var t=[];return _.each(e,(function(e){t.push(e.id)})),o["a"].getCheckItemAll(t.join("','"),n,i,r)}))};return{getCheckItemList:function(e,n,i,c,s){var l="毛坯"==c,h=a["a"].when(),d=["全部"];return d.push(1==s?"公区":"房间"),d="('"+d.join("','")+"')",h=r["a"].state.app.global.isUseProjectItem?o["a"].getProjectCheckItemList(e,n,i,l,d):t(e,n,i,l,d),h.then((function(e){return e}))},hasProjectCheckitem:function(e){return o["a"].hasProjectCheckitem(e)},searchCheckItemWithProject:function(t,n,i,r){return e(i),r?o["a"].searchProjectCheckItem(r,t,n,i):o["a"].searchCheckItem(t,n,i)},searchCheckItem:function(t,n,i,r){return console.log("searchCheckItem: ",t,n,i),console.time("searchCheckItem"),e(i),o["a"].hasProjectCheckitem(r).then((function(e){return e?o["a"].searchProjectCheckItem(r,t,n,i):o["a"].searchCheckItem(t,n,i).finally((function(){console.timeEnd("searchCheckItem")}))}))},getHigherLevelTreeListByCheckItemId:function(t,n,i){return console.log("getHigherLevelTree: ",t,n,i),console.time("getHigherLevelTree"),e(i),o["a"].getHigherLevelTreeListByCheckItemId(t,n,i).finally((function(){console.timeEnd("getHigherLevelTree")}))},getCheckItemLevel:function(e,t){return o["a"].getCheckItemLevel(e,t)},getPositionItemByRoom:function(e,t,n){var i=a["a"].when(),c=["全部"];return c.push(1==n?"公区":"房间"),c="('"+c.join("','")+"')",i=r["a"].state.app.global.isUseProjectItem?o["a"].getProjectPositionItemByRoom(e,t,c):o["a"].getPositionItemByRoom(e,c),i.then((function(e){return e}))},setIsUseProjectItemOfBatchUnit:function(e){return o["a"].getProjectItemOfBatchUnit(e).then((function(e){var t=!1;e&&(t=!0),r["a"].commit("app/APP",{isUseProjectItem:t})}))},getBatchCheckItem:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return i["a"].getCheckItemList(e,t,n,r["a"].state.app.global.isUseProjectItem).then((function(e){return console.log("BatchCheckItem",e),a["a"].resolve(e)}))}}}t["a"]=c()},"5cf9":function(e,t,n){"use strict";var o={props:{isShow:{type:Boolean,default:!0},imgUrl:{type:String,required:!0},tipCont:{type:String,default:"系统繁忙请稍后重试"}}},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"tip"},[n("img",{attrs:{src:e.imgUrl,alt:"tip"}}),e._v(" "),e.tipCont?n("p",{domProps:{innerHTML:e._s(e.tipCont)}}):e._e()])},r=[],a=n("d082");function c(e){n("0a37")}var s=!1,l=c,h="data-v-829243a6",d=null,m=Object(a["a"])(o,i,r,s,l,h,d);t["a"]=m.exports},"882e":function(e,t,n){"use strict";n("cc57"),n("6d57");var o=n("fd50"),i=n("07a4"),r=n("bad1"),a=n("5c1b"),c=n("dd0a"),s=n("b643"),l=n("964e"),h=n("0938"),d=n("3fa2"),m=n("a593"),u=n("a14a"),p=n.n(u),f=n("bbed");function g(){var e={problem:{}},t=null,n="";function u(){if(t=null,e.positionItems={},e.cacheIntersectItems=[],e.diagramUrl="",e.allPositions=[],e.problemReasons=[],e.fitmentStandard=d["a"].room.fitmentStandard||"毛坯",e.points=[],e.checkItems=[],e.checkItemTree=null,e.checkItemMap=null,e.problem={},e.problem.batchRoomId="",e.problem.positions=[],e.problem.selectedItem=null,e.problem.selectedDesc=null,e.problem.problemImages=[],e.problem.remark="",e.problem.isPassedWhenAdd=0,e.problem.emergencyDegree="一般",e.problem.contractor=null,e.problem.responsibleCompany=null,e.problem.topItemId="",i["a"].state.app.global.enableProblemReason)return s["a"].getReasonConfig().then((function(t){e.problemReasons=e.problemReasons.concat(t)}))}function g(e,t){var n=[];return e.forEach((function(e){for(var o=t.length,i=0;i<o;i++)if(e.item_id===t[i].item_id){n.push(e);break}})),n}return{model:e,setRoomPosition:function(t){var o=m["default"].prototype.$toast.loading({duration:0,forbidClick:!0,loadingType:"spinner",message:"户型图加载中"});u(),e.roomTitle=t.roomTitle,e.diagramUrl=t.diagramUrl,e.allPositions=t.position,e.problem.batchUnitId=t.unitId,e.problem.batchRoomId=n=t.roomId,this.getPositionItem().then((function(){setTimeout((function(){o.clear(),console.log("关闭---------------")}),200)})).catch((function(e){return console.log(e)}))},getPositionItem:function(){return a["a"].getPositionItemByRoom(n,d["a"].room.projectId,d["a"].room.isVirtual).then((function(t){t.forEach((function(t){e.positionItems[t.position_id]||(e.positionItems[t.position_id]=[]),h["a"].getObjectFromArrayByProperty(e.positionItems[t.position_id],"item_id",t.item_id,!1)||e.positionItems[t.position_id].push({item_id:t.item_id,item_name:t.item_name,parent_item_id:t.parent_item_id,level:t.level})}))}))},checkPositionItem:function(t){if(!t)return null;e.problem.selectedItem=null;var n=e.positionItems[t];if(!n||!n.length)return!1;if(!e.cacheIntersectItems.length)return e.cacheIntersectItems.push(n),e.checkItems=n,e.checkItemTree=null,!0;var o=g(n,e.checkItems);return!(!o.length||!this.hasEndItem(o,t))&&(e.cacheIntersectItems.push(o),e.checkItems=o,e.checkItemTree=null,!0)},hasEndItem:function(t,n){for(var o=0;o<t.length;o++){for(var i=e.positionItems&&e.positionItems[n],r=i&&i.length,a=!0,c=0;c<r;c++)if(i[c].parent_item_id===t[o].item_id){a=!1;break}if(!0===a)return!0}return!1},getIntersectCheckItem:function(t,n,o){var i=[];if(t)for(var r=0;r<e.checkItems.length;r++)e.checkItems[r].parent_item_id===t&&i.push(e.checkItems[r]);else for(var a=0;a<e.checkItems.length;a++)1===e.checkItems[a].level&&i.push(e.checkItems[a]);return i.slice(n*o,(n+1)*o)},cancelPoint:function(){var t=e.cacheIntersectItems.length;t&&(e.cacheIntersectItems.pop(),e.checkItems=e.cacheIntersectItems[t-2]||[],e.problem.selectedItem=null,e.checkItemTree=null)},createRoomPosition:function(){var t={},n=[],o=e.allPositions,i=[];return e.points.forEach((function(e){var r=e.positionId,a={x:e.coordinate.x,y:e.coordinate.y,diagramId:e.diagramId},c=o.length,s=0;if(t[r])return t[r].points.push(a);for(;s<c;s++)if(r===o[s].id)return t[r]={positionId:r,positionName:"",points:[a]},i.push(r),n.push(t[r])})),e.problem.positions=n,this.setPositionName(i)},setPositionName:function(t){return t&&t.length?r["a"].getPositionByIds("'"+t.join("','")+"'").then((function(t){t&&t.length&&e.problem.positions.forEach((function(e){for(var n=t.length,o=0;o<n;o++)if(t[o].id===e.positionId){e.positionName=t[o].name;break}}))})):o["a"].resolve()},createCheckItemTree:function(){var t,n=[],o={};e.checkItems.forEach((function(e){var t,i=e.item_id,r=e.level>1?e.parent_item_id:"",a=p.a.assign({},e);return i in o?a=p.a.assign(o[i],a):o[i]=a,r?r in o?(t=o[r],void(t.children?t.children.push(a):t.children=[a])):(o[r]={item_id:r,children:[a]},o[r]):n.push(a)})),function e(n,o){n.forEach((function(t){t.item_full_name=o?o+"-"+t.item_name:t.item_name,t.children&&e(t.children,t.item_full_name)})),null!==t&&(t=1===n.length?n[0]:null)}(n),e.checkItemTree=n,e.checkItemMap=o,e.selectedItem=t},update:function(t){p.a.assign(e,t)},save:function(){t={points:e.points.slice(0),positions:e.problem.positions.slice(0),checkItems:e.checkItems.slice(0),cacheIntersectItems:e.cacheIntersectItems.slice(0)}},restore:function(){t&&(e.points=t.points,e.problem.positions=t.positions,e.checkItems=t.checkItems,e.cacheIntersectItems=t.cacheIntersectItems,t=null)},clearStore:function(){t=null},clear:function(){return u()},updateRemark:function(t){e.problem.remark=t},updateCheckItem:function(t){e.problem.selectedItem=t,e.problem.selectedDesc=null,e.problem.contractor=null,e.problem.responsibleCompany=null,e.problem.topItemId=function t(n){return n.parent_item_id&&n.level>1?t(e.checkItemMap[n.parent_item_id]):n.item_id}(t)},updateDesc:function(t){m["default"].prototype.$set(e.problem,"selectedDesc",t),e.problem.contractor=null,c["a"].getContractor(n,e.problem.selectedItem.item_id,e.problem.selectedDesc.map((function(e){return e.id})).join(";")).then((function(t){"length"in t||(t=[t]),e.problem.contractor=t,e.problem.responsibleCompany=t,m["default"].prototype.$eventBus.$emit("app.batchAddProblem:updateContractor")}))},submit:function(){var t=[],i=e.problem.problemImages.map((function(e){return{img_localpath:e.img_local_path}})),r=e.problem.selectedDesc.map((function(e){return e.id})).join(";"),a=e.problem.contractor.map((function(e){return e.contractor_id})).join(";"),c=e.problem.responsibleCompany.map((function(e){return e.contractor_id})).join(";"),s=0,h=[];e.problemReasons.forEach((function(e){e.selected&&h.push(e.id)}));for(var u=0;u<e.problem.positions.length;u++)for(var p=e.problem.positions[u],g=0;g<p.points.length;g++){var b=l["a"].batchAddProblem({problem_images:i,batch_room_id:n,position_id:p.positionId,item_id:e.problem.selectedItem.item_id,top_item_id:e.problem.topItemId,desc_id:r,contractor_id:a,responsible_company_id:c,roomtype_diagram_id:p.points[g].diagramId,coordinate:[{x:p.points[g].x,y:p.points[g].y}],emergency_degree:e.problem.emergencyDegree,remark:e.problem.remark,is_passed_when_add:e.problem.isPassedWhenAdd?1:0},!1,"",h);t.push(b),s++}return o["a"].all(t).then((function(){return f["a"].updateCheckItemUseTimes(e.problem.selectedItem.item_id,s)})).then((function(){return f["a"].updateItemDescUseTimes(r,s)})).then((function(){d["a"].room.hasProblem=!0,m["default"].prototype.$eventBus.$emit("app.roomdetail:statusChange")}))}}}t["a"]=g()},a65e:function(e,t,n){"use strict";n.r(t);n("5ab2"),n("e44b"),n("e10e"),n("f548"),n("9dd9"),n("ed63"),n("8cf2"),n("6d57");var o,i,r,a,c=n("28f8"),s=n("f2de"),l=n("882e"),h=n("dd0a"),d=n("5cf9");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(c["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=!1,f={name:"ContractorSelect",components:{tip:d["a"]},data:function(){return{actionType:"",title:"",rightText:"",isMulti:!1,currId:"",batchRoomId:"",contractorList:[],loading:!1,canMultiSelect:!1,topCont:"",tipCont:"输入关键字进行搜索",searchMode:!1,searchLoading:!1,contractors:[],searchResult:[],searchNodata:!1,keyword:""}},computed:u({},Object(s["e"])({isIOS:function(e){return e.app.global.isIOS}})),watch:{keyword:function(e){this.doSearch()}},created:function(){var e=this;o=l["a"].model.problem,i=o.batchRoomId,a="",this.contractorList=[],this.actionType=this.$route.query.actionType||"contractor",this.canMultiSelect="responsibleCompany"===this.actionType,this.title="responsibleCompany"===this.actionType?"选择责任单位":"选择承建商",this.topCont="responsibleCompany"===this.actionType?"责任单位":"承建商",r=o[this.actionType],this.canMultiSelect?(this.isMulti=!1,this.rightText="多选",r&&r.length&&(r.length>1&&(this.isMulti=!0,this.rightText="取消多选"),a=r.map((function(e){return e.contractor_id})).join("|"),a=["|",a,"|"].join(""))):(this.isMulti=!1,this.rightText="",r&&r.length&&(a=r.map((function(e){return e.contractor_id})).join("|"),a=["|",a,"|"].join(""))),console.log("=== batchRoomId ===",i),h["a"].getContractorList(i).then((function(t){var n=t||[];console.log("=== contractorList ===",t),a&&n.forEach((function(e){-1!==a.indexOf("|".concat(e.contractor_id,"|"))&&(e.selected=!0)})),e.contractorList=n}))},methods:{selectContractor:function(e,t){if(this.isMulti){var n=this.searchMode?this.searchResult:this.contractorList;this.$set(n,t,u(u({},e),{},{selected:!e.selected}))}else this.selectCallback(e)},multiSelect:function(){if(!this.canMultiSelect)return!1;if(this.isMulti){var e=this.searchMode?this.searchResult:this.contractorList;e.forEach((function(e){e.selected=!1})),this.isMulti=!1,this.rightText="多选"}else this.isMulti=!0,this.rightText="取消多选"},changeToSearchMode:function(){this.searchMode=!0;var e=this.$refs.searchInput.querySelector('input[type="search"]');console.log(e),setTimeout((function(){e.focus()}),300)},clearInput:function(){this.keyword="",p=!1,this.searchNodata=!1,this.searchLoading=!1,this.searchResult=[],this.tipCont="输入关键字进行搜索!"},doSearch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t&&(this.keyword=t),""===_.trim(this.keyword))return this.clearInput(),void(this.tipCont="输入关键字进行搜索");p||(p=!0,this.searchLoading=!0,this.searchResult=[],h["a"].getContractorList(o.batchRoomId).then((function(t){e.searchResult=[],p=!1,e.searchLoading=!1,""!==e.keyword&&(t.length?(e.searchNodata=!1,e.searchResult=[],t.forEach((function(t){if(a&&-1!==a.indexOf("|".concat(t.contractor_id,"|"))&&(t.selected=!0),t.contractor_name.toLowerCase().includes(e.keyword.toLowerCase())){var n=new RegExp(e.keyword,"ig");t.color_name=t.contractor_name.replace(n,(function(){return'<span class="color-blue">'+arguments[0]+"</span>"})),e.searchResult.push(t)}})),console.log("承建商=======",e.searchResult),e.searchResult.length||(e.searchWord=e.keyword,e.searchNodata=!0,e.searchResult=[],e.tipCont='抱歉没有找到与“<span style="color:#0099FF;">'+e.searchWord+"</span>”相关的结果")):(e.searchWord=e.keyword,e.searchNodata=!0,e.searchResult=[],e.tipCont="没有可以选择的"+e.topCont))})).catch((function(){console.error(err),p=!1,e.searchLoading=!1})))},changeToListMode:function(){this.searchMode=!1},selectCallback:function(e){if(e)this.$set(o,this.actionType,[e]),this.$set(o,"responsibleCompany",[e]);else{var t=this.searchMode?this.searchResult:this.contractorList;o[this.actionType]=t.filter((function(e){return e.selected}))}this.$router.go(-1)}}},g=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"batch-contractor-select",class:{isBgWhite:!e.loading&&!e.contractorList.length}},[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.searchMode,expression:"!searchMode"}],staticClass:"select-content"},[o("cus-nav-bar",{attrs:{title:e.title,"left-arrow":"",border:!1,"right-text":e.canMultiSelect?e.rightText:""},on:{"click-right":e.multiSelect}}),e._v(" "),o("div",{on:{click:e.changeToSearchMode}},[o("van-search",{attrs:{placeholder:"搜索"+e.topCont,disabled:"true"}},[o("i",{staticClass:"iconfont icon-chazhao",attrs:{slot:"left-icon"},slot:"left-icon"})])],1),e._v(" "),e.contractorList.length?o("section",{staticClass:"contractor-content item-list"},e._l(e.contractorList,(function(t,i){return o("van-cell",{key:t.contractor_id,class:{active:t.selected},attrs:{"is-link":"",title:t.contractor_name},on:{click:function(n){return e.selectContractor(t,i)}}},[o("template",{slot:"right-icon"},[o("i",{directives:[{name:"show",rawName:"v-show",value:!e.isMulti&&t.selected,expression:"!isMulti && item.selected"}],staticClass:"iconfont icon-gou"}),e._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:e.isMulti&&t.selected,expression:"isMulti && item.selected"}],attrs:{src:n("2985"),alt:"selected",width:"20",height:"20"}}),e._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:e.isMulti&&!t.selected,expression:"isMulti && !item.selected"}],attrs:{src:n("f97d"),alt:"select",width:"20",height:"20"}})])],2)})),1):e._e(),e._v(" "),e.loading||e.contractorList.length?e._e():o("tip",{attrs:{"img-url":n("26eb"),"tip-cont":"没有可以选择的"+e.topCont}})],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.searchMode,expression:"searchMode"}],staticClass:"search"},[o("form",{staticClass:"search-form",class:{isIos:e.isIOS},attrs:{action:"/"}},[o("van-search",{ref:"searchInput",attrs:{placeholder:"搜索"+e.topCont,"show-action":"",background:"linear-gradient(90deg,rgba(28,176,253,1) 0%,rgba(0,153,255,1) 100%)"},on:{cancel:e.changeToListMode,search:e.doSearch,clear:e.clearInput},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[o("i",{staticClass:"iconfont icon-chazhao",attrs:{slot:"left-icon"},slot:"left-icon"})])],1),e._v(" "),o("section",{staticClass:"result"},[o("van-cell-group",e._l(e.searchResult,(function(t,i){return o("van-cell",{key:t.contractor_id,class:{active:t.selected},attrs:{"is-link":"",title:t.contractor_name},on:{click:function(n){return e.selectContractor(t,i)}}},[o("template",{slot:"title"},[t.color_name?o("span",{domProps:{innerHTML:e._s(t.color_name)}}):o("span",{domProps:{innerHTML:e._s(t.contractor_name)}})]),e._v(" "),o("template",{slot:"right-icon"},[o("i",{directives:[{name:"show",rawName:"v-show",value:!e.isMulti&&t.selected,expression:"!isMulti && item.selected"}],staticClass:"iconfont icon-gou"}),e._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:e.isMulti&&t.selected,expression:"isMulti && item.selected"}],attrs:{src:n("2985"),alt:"selected",width:"20",height:"20"}}),e._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:e.isMulti&&!t.selected,expression:"isMulti && !item.selected"}],attrs:{src:n("f97d"),alt:"select",width:"20",height:"20"}})])],2)})),1)],1),e._v(" "),e.searchLoading||!e.searchNodata&&e.keyword?e._e():o("div",{staticClass:"tipBox"},[o("tip",{attrs:{"img-url":n("26eb"),"tip-cont":e.tipCont}})],1)]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.isMulti,expression:"isMulti"}],staticClass:"btn",on:{click:function(t){return e.selectCallback()}}},[e._v("确认")])])},b=[],v=n("d082");function k(e){n("45df")}var I=!1,w=k,C="data-v-4b21d01a",y=null,A=Object(v["a"])(f,g,b,I,w,C,y);t["default"]=A.exports},b643:function(e,t,n){"use strict";var o=n("7ee1");t["a"]={getReasonConfig:function(){return o["a"].getList()},getProblemReason:function(e){return o["a"].getProblemReason(e)}}},bad1:function(e,t,n){"use strict";var o=n("97ba");t["a"]={getPositionList:function(e){return console.log("batchRoomId",e),o["a"].getPositionList(e).then((function(e){return e}))},getPositionByIds:function(e){return o["a"].getPositionByIds(e)},getPositionNameById:function(e){return o["a"].getPositionNameById(e)}}},cbd6:function(e,t,n){t=e.exports=n("690e")(!1),t.push([e.i,"\n.zhkf .batch-contractor-select[data-v-4b21d01a] {\n  height: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.zhkf .item-list[data-v-4b21d01a],\n.zhkf .result[data-v-4b21d01a] {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow: scroll;\n}\n.zhkf .icon-chazhao[data-v-4b21d01a] {\n  color: #bbbbbb;\n  font-size: 14px;\n}\n.zhkf .select-content[data-v-4b21d01a] {\n  height: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.zhkf .select-content .van-search[data-v-4b21d01a] {\n    background-color: #f4f4f4 !important;\n}\n.zhkf .select-content .van-search .van-search__content[data-v-4b21d01a] {\n      background-color: #ffffff;\n      border-radius: 4px;\n}\n.zhkf .isIos[data-v-4b21d01a] {\n  padding-top: 20px;\n}\n.zhkf .ios .search .van-search[data-v-4b21d01a] {\n  padding-top: 25px;\n}\n.zhkf .search-form[data-v-4b21d01a] {\n  z-index: 33;\n  background: -webkit-gradient(linear, left top, right top, from(#1cb0fd), to(#0099ff));\n  background: linear-gradient(90deg, #1cb0fd 0%, #0099ff 100%);\n}\n.zhkf .search-form[data-v-4b21d01a] .van-field__control {\n    color: #202020 !important;\n}\n.zhkf .search[data-v-4b21d01a] {\n  height: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.zhkf .search .van-cell[data-v-4b21d01a]:not(:last-child)::after {\n    left: 15px;\n}\n.zhkf .search .van-search[data-v-4b21d01a] {\n    background: none !important;\n}\n.zhkf .search .van-search__action[data-v-4b21d01a]:active {\n    background: none !important;\n}\n.zhkf .tipBox[data-v-4b21d01a] {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  background: #fff;\n}\n.zhkf .active[data-v-4b21d01a] {\n  color: #0085ff;\n}\n.zhkf .isBgWhite[data-v-4b21d01a] {\n  background: #fff;\n}\n.zhkf .icon-xuanzhong[data-v-4b21d01a] {\n  color: #0085ff;\n  font-size: 20px;\n}\n.zhkf .icon-duoxuan-weixuanzhuangtai[data-v-4b21d01a] {\n  color: #c7c8c7;\n  font-size: 20px;\n}\n.zhkf .icon-gou[data-v-4b21d01a] {\n  font-size: 15px;\n}\n.zhkf .btn[data-v-4b21d01a] {\n  height: 45px;\n  line-height: 45px;\n  color: #fff;\n  text-align: center;\n  font-size: 15px;\n  background: #0085ff;\n}\n",""])},f97d:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAADa0lEQVRYR9WZO2hUQRSG/zN7MYRgkRhEURRMoYKNGtGsEkj2TlLYCGrwVVn4IoplLIQFCy1FxaiFlQ+MKWwsNnNvAqIbwVehoCkUFEXRmBQh+GB3jhy9G9Y1utnNRscptpmdM989Z85jzhDKGMlkUjU1Na3xPK+FmVcz81Iims/Ms0UcEY0x81siGiKiB5lMZmBwcPBeMpm0pW5HpSwIw3CBtbaTmXcR0cJS1jLzayK6pJQ6k0gk3kx17ZQAgyCYw8zHAOwGUBUJfwEgBeA2gKdE9GpkZGRM5urq6mYz8yIAywFsANAOYEm07guAi0R01Pf9j8VAiwIGQbCNmU8DqAeQBdATaSFdTHj+fBiGcdE+gA4AMQDDRNTp+/61P8n5LeDAwICXyWQEbF90rkw2mz3U3t7+rBSwwv+mUqllsVjsFDPraO6c53kHW1paMpPJnRQwnU5Xj4+PXwewkYg+ATjs+/6F6YAVrg2CYA+Ak8xcDeBmTU3N1ng8Lnv9NH4BjDR3Q+AAvGfmjW1tbfcrCZeT1dfX10hENwHMFUjP8zYVavIXQGNMd2TW97FYrLm1tXVoJuByMvv7+5dms9lbEeQ5rfX+/P1+Aowc4qqY1VrbPFOaK/xg0aRS6paYm4i25TvOBGAUSsQB6olob6XPXDEryJlk5vORdy/LhaAJQGPMWQD7icj4vt9WTOBMzAdB0Bd5d7fW+sD36CE/UYZ4DsCz1q6YbigpF15CkFLqCYCMUqpBMs53QGPMcQBdAK5qrXeUu0El1hljrgDYDuCE1voISeKPx+MvJbcqpdYnEomSMkQloCbJOHckd6fT6cWUSqXWKqXuAnihtW6o9IblyDPGyHFbYq1dR2EYdllrxcQTB7McoZVck3NYpdQRMsb0AtgMYKfWWuz/z4cxRvzgMhH1CuBjACsArNJaP/rndD+cdiWAhwCeUBAEH5hZgnP9VOqzv/EBUdKQcmxYNPhZitDR0dGqjo6Or38DoNgePT09s2pra6Ww/eI+4P9gYped5LE4yXVm3uJsmHE+UDuf6pwvFpwvt/6LgjXSorslvwA6f2mKIKUP4+a1M5fAnb64C6TzrQ+BdLp5lDO10+23/ILS2QZmAaS7LeCCS7WbTfTCO0T+M4S1thGAPEPMK3iGeAdgSCl1fzrPEN8Ajn19wtuO19cAAAAASUVORK5CYII="},fa1b:function(e,t,n){"use strict";var o=n("1834");t["a"]={getCheckItemList:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[e],a="select bc.item_id, ci.full_name as item_full_name  from batch_checkitem bc  inner join check_item ci on ci.id = bc.item_id  where bc.batch_id = ? ";if(a+=t?" and ci.is_for_rough = 1 ":" and ci.is_for_decorated = 1 ",n){var c=i?"project_position_checkitem":"position_checkitem";a+=" and bc.item_id in                     (select item_id from "+c+" where position_id = ? )",r.push(n)}return a+=" order by ci.sort ",o["a"].query(a,r)}}}}]);