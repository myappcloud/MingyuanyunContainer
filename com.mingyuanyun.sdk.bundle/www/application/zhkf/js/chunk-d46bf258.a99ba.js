(window["webpackJsonp_module_entry_zhkf_"]=window["webpackJsonp_module_entry_zhkf_"]||[]).push([["chunk-d46bf258"],{"43ee":function(t,e,o){"use strict";o("c904");var n=o("fd50"),i=o("a14a"),r=o.n(i),a=o("d49d"),c=function(){var t={unitId:"",list:[],currRoom:{}},e={getRoomList:function(){return a["a"].getRoomList(t.unitId).then((function(e){var o=[];if(console.log(e),e){var n=r.a.groupBy(e,"floor");console.log(n),r.a.each(n,(function(t,e){var n={};n.floor=e,n.roomList=[],n.no=e,console.log(t),r.a.each(t,(function(t){n.roomList.push({id:t.id,room_no:t.room_no,count:t.count})})),n.roomList=n.roomList.sort((function(t,e){return e.room_no-t.room_no})),o.push(n)})),o=o.sort((function(t,e){return e.no-t.no})),t.list=o}}))}};return{model:t,initRoomList:function(o,i){return o||t.unitId?(t.list=[],o&&(t.unitId=o),i&&(t.currRoom={}),e.getRoomList()):n["a"].reject("无效的单元")},refresh:function(){return e.getRoomList()},checkHasUpload:function(t){return a["a"].checkHasUpload(t)}}};e["a"]=c()},"5c1b":function(t,e,o){"use strict";o("f0e6");var n=o("bbed"),i=o("fa1b"),r=o("07a4"),a=o("fd50");function c(){var t=function(t){t&&t.fitment_standard&&("毛坯"===t.fitment_standard?t.is_for_rough=1:"精装"===t.fitment_standard&&(t.is_for_decorated=1),delete t.fitment_standard)},e=function(t,e,o,i,r){return n["a"].getCheckItemLeaf(t,e,i,r).then((function(t){if(_.isEmpty(t))return[];var e=[];return _.each(t,(function(t){e.push(t.id)})),n["a"].getCheckItemAll(e.join("','"),o,i,r)}))};return{getCheckItemList:function(t,o,i,c,s){var l="毛坯"==c,d=a["a"].when(),u=["全部"];return u.push(1==s?"公区":"房间"),u="('"+u.join("','")+"')",d=r["a"].state.app.global.isUseProjectItem?n["a"].getProjectCheckItemList(t,o,i,l,u):e(t,o,i,l,u),d.then((function(t){return t}))},hasProjectCheckitem:function(t){return n["a"].hasProjectCheckitem(t)},searchCheckItemWithProject:function(e,o,i,r){return t(i),r?n["a"].searchProjectCheckItem(r,e,o,i):n["a"].searchCheckItem(e,o,i)},searchCheckItem:function(e,o,i,r){return console.log("searchCheckItem: ",e,o,i),console.time("searchCheckItem"),t(i),n["a"].hasProjectCheckitem(r).then((function(t){return t?n["a"].searchProjectCheckItem(r,e,o,i):n["a"].searchCheckItem(e,o,i).finally((function(){console.timeEnd("searchCheckItem")}))}))},getHigherLevelTreeListByCheckItemId:function(e,o,i){return console.log("getHigherLevelTree: ",e,o,i),console.time("getHigherLevelTree"),t(i),n["a"].getHigherLevelTreeListByCheckItemId(e,o,i).finally((function(){console.timeEnd("getHigherLevelTree")}))},getCheckItemLevel:function(t,e){return n["a"].getCheckItemLevel(t,e)},getPositionItemByRoom:function(t,e,o){var i=a["a"].when(),c=["全部"];return c.push(1==o?"公区":"房间"),c="('"+c.join("','")+"')",i=r["a"].state.app.global.isUseProjectItem?n["a"].getProjectPositionItemByRoom(t,e,c):n["a"].getPositionItemByRoom(t,c),i.then((function(t){return t}))},setIsUseProjectItemOfBatchUnit:function(t){return n["a"].getProjectItemOfBatchUnit(t).then((function(t){var e=!1;t&&(e=!0),r["a"].commit("app/APP",{isUseProjectItem:e})}))},getBatchCheckItem:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return i["a"].getCheckItemList(t,e,o,r["a"].state.app.global.isUseProjectItem).then((function(t){return console.log("BatchCheckItem",t),a["a"].resolve(t)}))}}}e["a"]=c()},"99ee":function(t,e,o){"use strict";o("c904");var n=o("fd50"),i=o("a14a"),r=o.n(i),a=o("ff29"),c=function(){var t={unitId:"",list:[],currRoom:{}},e={getRoomList:function(){return a["a"].getRoomList(t.unitId).then((function(e){var o=[];if(console.log(e),e){var n=r.a.groupBy(e,"floor");console.log(n),r.a.each(n,(function(t,e){var n={};n.floor=e,n.roomList=[],n.no=e,console.log(t),r.a.each(t,(function(t){n.roomList.push({id:t.id,room_no:t.room_no,count:t.count})})),n.roomList=n.roomList.sort((function(t,e){return e.room_no-t.room_no})),o.push(n)})),o=o.sort((function(t,e){return e.no-t.no})),t.list=o}}))}};return{model:t,initRoomList:function(o,i){return o||t.unitId?(t.list=[],o&&(t.unitId=o),i&&(t.currRoom={}),e.getRoomList()):n["a"].reject("无效的单元")},refresh:function(){return e.getRoomList()},checkHasUpload:function(t){return a["a"].checkHasUpload(t)}}};e["a"]=c()},a992:function(t,e,o){"use strict";o.r(e);o("5ab2"),o("e44b"),o("e10e"),o("6d57"),o("f0e6");var n=o("28f8"),i=o("438a"),r=o("f2de"),a=o("af4c"),c=o("5c1b"),s=o("0523"),l=o("0e1c"),d=o("cb6b"),u=o("99ee"),f=o("43ee"),m=o("ba1a");function h(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function p(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?h(Object(o),!0).forEach((function(e){Object(n["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var g={special_checkitem:"检查",simulate:"检查",opening:"接待",delivery:"交付",online_delivery:"交付",online_opening:"拍摄",feedback_remain_reply:"回复",problem_remain_reinspect:"复验"},b={components:{EmptyPage:i["a"]},data:function(){return{viewTitle:"",hasClicked:!1,loading:!0,showEmpty:!1,emptyImgSrc:o("5452"),emptyMsg:"尚无待办内容~",model:a["a"].model,isShowFloorList:!1,showRight:-180,currFloorIndex:0,wrapperScrollTop:0,offsetTopList:[]}},computed:p({},Object(r["e"])({currentBatchType:function(t){return t.app.global.currentBatchType},currentMenuType:function(t){return t.app.global.currentMenuType},contentHeight:function(t){return t.app.global.contentHeight},headerHeight:function(t){return t.app.global.headerHeight}})),activated:function(){if(!this.model.floorList.length&&!this.loading){this.showEmpty=!0;var t=this.$route.query.moduleType;this.emptyMsg="您已".concat(g[t],"完毕，请立即上传~")}this.$router.isForward?this.wrapperScrollTop=0:this.$refs.roomList.scrollTop=this.wrapperScrollTop,this.$forceUpdate()},created:function(){var t=this,e=m["a"].getDecodeQuery(this.$route.query),o=e.moduleType,n=e.unitName,i=e.unitId;this.viewTitle=n,this.moduleType=o,this.unitId=i,this.loading=!0,a["a"].init(i,o,!0).then((function(){c["a"].setIsUseProjectItemOfBatchUnit(i),0===t.model.floorList.length&&(t.showEmpty=!0,t.emptyMsg="您已".concat(g[o],"完毕，请立即上传~"))})).finally((function(){t.loading=!1}))},methods:{goRoom:function(t,e){if(this.wrapperScrollTop=this.$refs.roomList.scrollTop,!this.hasClicked)if(this.hasClicked=!0,this.model.currRoom=t,this.model.currFloor=e,"problem_remain_reinspect"===this.moduleType)u["a"].model.currRoom=t,u["a"].model.unitName=this.viewTitle,this.hasClicked=!1,this.$router.push({path:"/checkroom/".concat(this.currentMenuType||this.currentBatchType,"-reinspect-problem"),query:{unitId:this.unitId,moduleType:this.moduleType,title:this.viewTitle+"-"+t.room_no}});else if("feedback_remain_reply"===this.moduleType)f["a"].model.currRoom=t,f["a"].model.unitName=this.viewTitle,this.hasClicked=!1,this.$router.push({path:"/checkroom/".concat(this.currentMenuType||this.currentBatchType,"-reply-feedback"),query:{unitId:this.unitId,moduleType:this.moduleType,batchRoomId:t.id,title:this.viewTitle+"-"+t.room_no}});else{if("online_opening"!==this.moduleType)return this.gotoRoomDetail(t);this.hasClicked=!1;var o={batchRoomId:t.id,roomId:t.room_id,building_id:t.building_id,batch_unit_id:this.unitId,roomtype_diagram_id:t.diagram_id,fitment_standard:t.fitment_standard,batch_id:t.batch_id,room_type_id:t.room_type_id,type:this.moduleType,menuType:"todo",isSpecial:+("special_checkitem"===this.currentBatchType)};this.$router.push({path:"/checkroom/".concat(this.currentMenuType||this.currentBatchType,"-shooting-list"),query:p({},o)})}},gotoRoomDetail:function(t){var e=this,o={batchRoomId:t.id,roomId:t.room_id,building_id:t.building_id,batch_unit_id:this.unitId,roomtype_diagram_id:t.diagram_id,fitment_standard:t.fitment_standard,batch_id:t.batch_id,room_type_id:t.room_type_id,type:this.moduleType,menuType:"todo",isSpecial:+("special_checkitem"===this.currentBatchType)};s["a"].getRoomTypeImageFileIsExistsIgnoreError(t.id).then((function(n){e.hasClicked=!1;var i=e,r=function(e,n){o.from="roomlist",o.isImageExists=n,o.roomTitle=t.building_name+t.room_no,e&&(o.isSpecial=1),d["a"].remove(l["a"].HAS_LAYOUT_IMG,d["a"].level.user),d["a"].set(l["a"].FROM_PAGE,"roomList",d["a"].level.user),e?i.$router.push({path:"/checkroom/".concat(i.currentMenuType||i.currentBatchType,"-roomdetail-special"),query:p({},o)}):i.$router.push({path:"/checkroom/".concat(i.currentMenuType||i.currentBatchType,"-roomdetail"),query:p({},o)})},a="special_checkitem"===e.moduleType;n?(o.mode="0",o.roomTitle=t.building_name+t.room_no,a?(o.roomId=t.id,n&&(d["a"].set(l["a"].HAS_LAYOUT_IMG,"true",d["a"].level.user),e.$router.push({path:"/checkroom/".concat(e.currentMenuType||e.currentBatchType,"-roomdetail-special"),query:p({isImageExists:!0},o)}))):r(a,n)):(a&&(o.roomId=t.id),r(a,n))})).catch((function(t){return console.error(t)}))},showFloorList:function(){var t=this;window.$log("待办-房间列表悬浮球点击"),this.isShowFloorList=!0,this.showRight=0,setTimeout((function(){if(t.$refs.roomList.scrollTop){var e=document.getElementById("app").querySelectorAll(".room"),o=t.$refs.roomList.scrollTop+t.headerHeight;t.offsetTopList.length?t.offsetTopList.forEach((function(e){e.offsetTop-o<45&&(t.currFloorIndex=e.index)})):e.forEach((function(e,n){var i={};i["index"]=n,i["offsetTop"]=e.offsetTop,t.offsetTopList.push(i),e.offsetTop-o<45&&(t.currFloorIndex=n)}))}else t.currFloorIndex=0;var n=t.$refs.lcList_items[t.currFloorIndex].offsetTop;n&&t.currFloorIndex>10?t.$refs.lcList.scrollTop=n-t.headerHeight-45:t.$refs.lcList.scrollTop=0}),200)},hideFloorList:function(t){this.$refs.roomList.scrollTop=this.$refs.floors[t].offsetTop-this.headerHeight,this.isShowFloorList=!1,this.showRight=-180}}},y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"room-list"},[o("cus-nav-bar",{attrs:{title:t.viewTitle,"left-arrow":""}}),t._v(" "),o("div",{staticClass:"content"},[o("div",{ref:"roomList",staticClass:"wrapper",style:{height:t.contentHeight+"px"}},[o("empty-page",{attrs:{"show-empty":t.loading,"loading-page":!0,"empty-msg":"正在统计您的房间，请耐心等待"}}),t._v(" "),o("empty-page",{attrs:{"show-empty":t.showEmpty,"empty-msg":t.emptyMsg,"empty-img-src":t.emptyImgSrc}}),t._v(" "),o("ul",{directives:[{name:"show",rawName:"v-show",value:t.model.floorList.length>0&&!t.loading,expression:"model.floorList.length > 0 && !loading"}],staticClass:"rooms"},[t._l(t.model.floorList,(function(e){return o("li",{key:e.floor,ref:"floors",refInFor:!0,staticClass:"room van-hairline--bottom"},[o("div",{staticClass:"floor"},[o("span",{class:{f20:/^\w*$/.test(e.floor)}},[t._v(t._s(e.floor))]),t._v(" "),o("span",[t._v("F")])]),t._v(" "),o("ul",{staticClass:"floor-rooms"},t._l(e.roomList,(function(n){return o("li",{key:n.id,staticClass:"floor-room white",class:{red:n.has_problem,blue:n.has_material},attrs:{"data-event":"用户点击","data-log":n.room_no},on:{click:function(o){return t.goRoom(n,e)}}},[o("span",[t._v(t._s(n.room_no))]),t._v(" "),n.count&&"feedback_remain_reply"!==t.moduleType?o("span",{staticClass:"todo-room-count"},[t._v("("+t._s(n.count)+")")]):t._e()])})),0)])})),t._v(" "),o("li",{staticStyle:{height:"50px"}})],2)],1),t._v(" "),o("div",{staticClass:"lou-ceng",on:{click:function(e){return t.showFloorList()}}},[t._v("楼层")]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowFloorList,expression:"isShowFloorList"}],staticClass:"lc-mask",on:{click:function(e){t.isShowFloorList=!1}}},[o("div",{on:{click:function(t){t.stopPropagation()}}},[o("div",{staticClass:"lou-ceng-content",style:{top:t.headerHeight+"px",right:t.showRight+"px"}},[o("div",{staticClass:"list-title"},[t._v("楼层选择")]),t._v(" "),o("div",{ref:"lcList",staticClass:"lc-list",style:{height:t.contentHeight+"px"}},[t._l(t.model.floorList,(function(e,n){return o("div",{key:n,ref:"lcList_items",refInFor:!0,class:n==t.currFloorIndex?"active_div":"",on:{click:function(e){return t.hideFloorList(n)}}},[t._v("\n              "+t._s(e.floor)+"\n              ")])})),t._v(" "),o("div",{staticStyle:{height:"50px"}})],2)])])])])],1)},v=[],_=o("d082");function k(t){o("fda2")}var x=!1,I=k,L="data-v-4b70dd5f",w=null,T=Object(_["a"])(b,y,v,x,I,L,w);e["default"]=T.exports},af4c:function(t,e,o){"use strict";o("e697");var n=o("fd50"),i=o("a18c"),r=o("99ee"),a=o("43ee"),c=o("a14a"),s=o.n(c),l=o("c6e3"),d=function(){return{getNotCheckFloorAndRoom:function(t,e){return n["a"].all([l["a"].getTodoUnitFloors(t),l["a"].getTodoRoomByUnitId(t,e)]).then((function(t){var e,o=t[0],n=t[1],i="0";(s.a.isEmpty(o)||1===o.length&&""===o[0].floor)&&(e=!0,o=[{floor:i}]);for(var r=0;r<o.length;r++){o[r].roomList=[];for(var a=0;a<n.length;a++)(e||n[a].floor===o[r].floor)&&(n[a].floor=e?i:n[a].floor,o[r].roomList.push(n[a]))}return s.a.filter(o,(function(t){return t.roomList&&t.roomList.length>0}))}))},checkHasUpload:function(t,e){return l["a"].checkHasUpload(t,e).then((function(t){return t&&!!t["id"]}))},getRoomInfo:function(t,e){return l["a"].getTodoBatchRoomById(t,e)}}},u=d(),f=function(){var t={floorList:[]},e={},o={special_checkitem:"检查",simulate:"检查",opening:"接待",online_opening:"拍摄",feedback_remain_reply:"回复",delivery:"交付",online_delivery:"交付",problem_remain_reinspect:"复验"};return e.init=function(o,i,r){return r=r||!1,r||o!==t.batchUnitId||i!==t.moduleType?(t.floorList=[],t.batchUnitId=o,t.moduleType=i,t.currRoom=null,t.currFloor=null,t.tip="",e.getRoomList().then((function(e){console.log(e,"floorlist-----"),t.floorList=e}))):n["a"].resolve()},e.getRoomList=function(){return"problem_remain_reinspect"===t.moduleType?e.getReinspectRoomList():"feedback_remain_reply"===t.moduleType?e.getReplyRoomList():e.getCheckRoomList()},e.getCheckRoomList=function(){return u.getNotCheckFloorAndRoom(t.batchUnitId,t.moduleType).then((function(e){return s.a.isEmpty(e)&&u.checkHasUpload(t.batchUnitId,t.moduleType).then((function(e){e&&(t.tip="您已经"+o[t.moduleType]+"完毕，请立即上传~")})),e}))},e.getReinspectRoomList=function(){return r["a"].initRoomList(t.batchUnitId).then((function(){return s.a.isEmpty(r["a"].model.list)&&r["a"].checkHasUpload(t.batchUnitId).then((function(e){e&&(t.tip="您已经"+o[t.moduleType]+"完毕，请立即上传~")})),r["a"].model.list}))},e.getReplyRoomList=function(){return a["a"].initRoomList(t.batchUnitId).then((function(){return s.a.isEmpty(a["a"].model.list)&&a["a"].checkHasUpload(t.batchUnitId).then((function(e){e&&(t.tip="您已经"+o[t.moduleType]+"完毕，请立即上传~")})),a["a"].model.list}))},e.getRoomInfo=function(t,e){return u.getRoomInfo(t,e)},e.removeRoom=function(){var o=s.a.find(t.currFloor.roomList,{id:t.currRoom.id}),n=s.a.indexOf(t.currFloor.roomList,o);n>-1&&t.currFloor.roomList.splice(n,1),s.a.isEmpty(t.currFloor.roomList)&&(n=s.a.indexOf(t.floorList,t.currFloor),n>-1&&t.floorList.splice(n,1)),s.a.isEmpty(t.floorList)&&(e.init(t.batchUnitId,t.moduleType,!0),i["a"].go(-2))},{model:t,init:e.init,updateRoomList:function(i){return s.a.isEmpty(t)||!t.moduleType?n["a"].resolve():(i=i||!1,i?e.removeRoom():"problem_remain_reinspect"===t.moduleType?r["a"].refresh().then((function(){s.a.isEmpty(r["a"].model.list)&&r["a"].checkHasUpload(t.batchUnitId).then((function(e){e&&(t.tip="您已经"+o[t.moduleType]+"完毕，请立即上传~")})),t.floorList=r["a"].model.list})):"feedback_remain_reply"!==t.moduleType?e.getRoomInfo(t.currRoom.id,t.moduleType).then((function(o){if(s.a.isEmpty(o)||"已检查"===o.check_status)return e.removeRoom();for(var n=t.currFloor.roomList.length,i=0;i<n;i++)if(t.currFloor.roomList[i].id===o.id){t.currFloor.roomList[i]=o;break}})):(s.a.isEmpty(a["a"].model.list)&&a["a"].checkHasUpload(t.batchUnitId).then((function(e){e&&(t.tip="您已经"+o[t.moduleType]+"完毕，请立即上传~")})),void(t.floorList=a["a"].model.list)))}}};e["a"]=f()},d49d:function(t,e,o){"use strict";var n=o("fd50"),i=o("4325"),r=o("a14a"),a=o.n(r),c=function(){var t={},e={position:i["a"].getPositionFilter,checkItem:i["a"].getCheckItemFilter};return t.getRoomList=function(t){return i["a"].getReplyRooms(t)},t.getFeedbackListByBatchRoomId=function(t,e,o){return t.batchRoomId?i["a"].getFeedbackListByBatchRoomId(t,e,o).then((function(t){return t})):n["a"].reject("获取问题列表失败")},t.getFeedbackFilters=function(t,o){if(!t.batchRoomId)return n["a"].reject();var i=a.a.cloneDeep(e),r=[];return delete i[o],t.position||delete i.checkItem,a.a.each(i,(function(o,n){r.push(function(o){return e[n](t).then((function(t){return{type:o,options:t}}))}(n))})),n["a"].all(r).then((function(t){var e={};return a.a.each(t,(function(t){var o=0;a.a.each(t.options,(function(t){o+=t.count})),t.options.unshift({name:"全部",count:o,id:""}),e[t.type]=t.options})),e}))},t.hasMoreFeedback=function(t){return i["a"].getFeedbackCount(t).then((function(t){return t.count>0}))},t.getAllFeedbackIds=function(t){return i["a"].getAllFeedbackIds(t).then((function(t){return t}))},t.checkHasUpload=function(t){return i["a"].hasUploadData(t).then((function(t){return t&&!!t["id"]}))},t};e["a"]=c()},e059:function(t,e,o){e=t.exports=o("690e")(!1),e.push([t.i,"\n.zhkf .room-list[data-v-4b70dd5f] {\n  height: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.zhkf .content[data-v-4b70dd5f] {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.zhkf .wrapper[data-v-4b70dd5f] {\n  overflow: scroll;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.zhkf .toggleBtn[data-v-4b70dd5f] {\n  color: #202020;\n  white-space: nowrap;\n}\n.zhkf .white[data-v-4b70dd5f] {\n  border: 1px solid #ccc !important;\n}\n.zhkf .red[data-v-4b70dd5f] {\n  background: #eb544d;\n  color: #fff;\n  border-color: #eb544d !important;\n}\n.zhkf .blue[data-v-4b70dd5f] {\n  background: #0099ff;\n  color: #fff;\n  border-color: #0099ff !important;\n}\n.zhkf .green[data-v-4b70dd5f] {\n  background: #0bc666;\n  color: #fff;\n  border-color: #0bc666 !important;\n}\n.zhkf .rooms[data-v-4b70dd5f] {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.zhkf .rooms .room[data-v-4b70dd5f] {\n    padding: 4px 6px 19px 18px;\n    background: #fff;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n.zhkf .rooms .room .floor[data-v-4b70dd5f] {\n      padding-top: 20px;\n      width: 42px;\n      word-break: break-all;\n      text-align: center;\n      margin-right: 10px;\n      font-size: 14px;\n}\n.zhkf .rooms .room .floor span[data-v-4b70dd5f]:first-child {\n        font-size: 16px;\n}\n.zhkf .rooms .room .floor .f20[data-v-4b70dd5f] {\n        font-size: 20px;\n}\n.zhkf .rooms .room .floor-rooms[data-v-4b70dd5f] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-orient: horizontal;\n      -webkit-box-direction: normal;\n          -ms-flex-direction: row;\n              flex-direction: row;\n      -ms-flex-wrap: wrap;\n          flex-wrap: wrap;\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n}\n.zhkf .rooms .room .floor-rooms .floor-room[data-v-4b70dd5f] {\n        height: 32px;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        padding: 0 16px;\n        border-radius: 2px;\n        margin-right: 12px;\n        margin-top: 15px;\n        font-size: 14px;\n        border: 1px solid transparent;\n}\n.zhkf .rooms .room .floor-rooms .floor-room .todo-room-count[data-v-4b70dd5f] {\n          color: #a0a0a0;\n          font-size: 12px;\n}\n.zhkf .lou-ceng[data-v-4b70dd5f] {\n  position: fixed;\n  bottom: 30px;\n  right: 15px;\n  width: 40px;\n  height: 40px;\n  line-height: 40px;\n  border-radius: 50%;\n  font-size: 14px;\n  text-align: center;\n  color: #fff;\n  background: -webkit-gradient(linear, left top, left bottom, from(#02b8ff), to(#0085ff));\n  background: linear-gradient(to bottom, #02b8ff, #0085ff);\n}\n.zhkf .lc-mask[data-v-4b70dd5f] {\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.35);\n}\n.zhkf .lou-ceng-content[data-v-4b70dd5f] {\n  position: absolute;\n  width: 180px;\n  font-size: 16px;\n  background-color: #fff;\n  z-index: 11;\n}\n.zhkf .list-title[data-v-4b70dd5f] {\n  height: 45px;\n  line-height: 45px;\n  padding-left: 15px;\n  font-weight: 500;\n  color: #303030;\n  border-bottom: 1px solid #ebebeb;\n}\n.zhkf .lc-list[data-v-4b70dd5f] {\n  padding-bottom: 45px;\n  overflow: auto;\n  color: #909090;\n}\n.zhkf .lc-list div[data-v-4b70dd5f] {\n    height: 45px;\n    line-height: 45px;\n    padding-left: 15px;\n}\n.zhkf .lc-list .active_div[data-v-4b70dd5f] {\n    font-weight: 500;\n    color: #303030;\n    background-color: #efefef;\n}\n.zhkf .lc-list img[data-v-4b70dd5f] {\n    width: 13px;\n    height: 10px;\n    margin-left: 115px;\n}\n[data-v-4b70dd5f] .van-index-anchor {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0;\n}\n[data-v-4b70dd5f] .van-index-bar__sidebar {\n  display: none;\n}\n",""])},fa1b:function(t,e,o){"use strict";var n=o("1834");e["a"]={getCheckItemList:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[t],a="select bc.item_id, ci.full_name as item_full_name  from batch_checkitem bc  inner join check_item ci on ci.id = bc.item_id  where bc.batch_id = ? ";if(a+=e?" and ci.is_for_rough = 1 ":" and ci.is_for_decorated = 1 ",o){var c=i?"project_position_checkitem":"position_checkitem";a+=" and bc.item_id in                     (select item_id from "+c+" where position_id = ? )",r.push(o)}return a+=" order by ci.sort ",n["a"].query(a,r)}}},fda2:function(t,e,o){var n=o("e059");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=o("85cb").default;i("d1773326",n,!0,{})},ff29:function(t,e,o){"use strict";o("cc57"),o("e697"),o("9a33");var n=o("fd50"),i=o("4531"),r=o("760e"),a=o("a14a"),c=o.n(a),s=function(){var t={},e={position:i["a"].getPositionFilter,checkItem:i["a"].getCheckItemFilter,register:i["a"].getRegisterFilter};return t.getRoomList=function(t){return i["a"].getReinspectRooms(t)},t.getProblemListByBatchRoomId=function(t,e,o){return t.batchRoomId?i["a"].getProblemListByBatchRoomId(t,e,o).then((function(t){var e=[];return c.a.each(t,(function(t){t.desc=t.desc_id.split(";"),e=e.concat(t.desc)})),e=c.a.uniq(e),r["a"].getDescByIds(e).then((function(e){return c.a.each(t,(function(t){c.a.each(t.desc,(function(o,n){var i=c.a.find(e,{id:o});t.desc[n]=i?i.name:"无描述"})),t.desc=t.desc.join("；"),t.title=t.problem=t.position_name+"-"+t.item_name+"-"+t.desc+(t.remark?"；"+t.remark:"")})),t}))})):n["a"].reject("获取问题列表失败")},t.getProblemFilters=function(t,o){if(!t.batchRoomId)return n["a"].reject();var i=c.a.cloneDeep(e),r=[];return delete i[o],t.position||delete i.checkItem,c.a.each(i,(function(o,n){r.push(function(o){return e[n](t).then((function(t){return{type:o,options:t}}))}(n))})),n["a"].all(r).then((function(t){var e={};return c.a.each(t,(function(t){var o=0;c.a.each(t.options,(function(t){o+=t.count})),t.options.unshift({name:"全部",count:o,id:""}),e[t.type]=t.options})),e}))},t.hasMoreProblem=function(t){return i["a"].getProblemCount(t).then((function(t){return t.count>0}))},t.getAllProblemIds=function(t){return i["a"].getAllProblemIds(t).then((function(t){return t}))},t.checkHasUpload=function(t){return i["a"].hasUploadData(t).then((function(t){return t&&!!t["id"]}))},t};e["a"]=s()}}]);