(window["webpackJsonp_module_entry_zhkf_"]=window["webpackJsonp_module_entry_zhkf_"]||[]).push([["chunk-5c1f30a7"],{"06e1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAACg0lEQVRYR9WZPUwUQRTH//8Bc1pIw54fkcTCQgs7NVpi7d0h2d2EwspKDfZQWFFgjwEqKhNi9giCWEtpolZYSGFhghHZscFCLhz7zO555A64j113ddh25/3nlzd5H/OGSPAJoL7bQzd6FW5D5BqAy0I5D8HpSI74SeE3AOsgP1QDvDm7sPSOQBB3O8Yx0G7hQhBwlJR7AAfi2AKyIcLnSskzy1v52q1tV4Abw8P9ObU7AfI+gFy34i3WVSAyVwlOPBlYXPzRSasjoO+URgCZAmB1Eov5Xyuq0X5v6UU7u5aAMjjYq62+KUAexNw45nLOWnr7MVdXq0cZHgkorntKo+JB5E7M3ZItJ19byLn0vF8HBQ4BRp7L9738Z3B1ohDS37570JOHAH2nNJP9sbZyNGfz5eWHjX+bAP8ExHyyc0rHSlGNNAbOPmCUSnqqnzKI1rjkurLXe6WegvYBtV2YFrLJvXGVU1svMpNfWHlUK0oAwgohws8pJOG0GCukXAorTgS4ZRcnSYylpZ6Gjgienll4Nc6w8Gun8CV+bU0Do52GbFjllYvctIdu9jB4m/V2SfT3RN2idofGRILJJAJZ25BqnFt2sUzCznqzJPoEy9R2cU2Iq0kEsrah4CN9t+hDWrdSlrecKYd2S631CU3fKe60y3//FRCoHANA04/Y6CAB16idkicQJ9NISCheSzOmJ2rjS53xzYLx7daxaFhDSN8uTMPUlj8ENP7SFHmxNocx89pZz6VGX9xDSONHHxGkycOj+lEbPX5rrO3GDjAbIcMUdFLtTkhKI2CKzO2kNQJuBDV2iH6wnWt8hgiC4LoKnyEUzjU9QwTYDIB1pdT7v3mG+A2gi1T1vZPSFwAAAABJRU5ErkJggg=="},"1bf1":function(t,e,i){var h=i("6962");"string"===typeof h&&(h=[[t.i,h,""]]),h.locals&&(t.exports=h.locals);var a=i("85cb").default;a("11fa2308",h,!0,{})},2213:function(t,e,i){var h=i("e398");"string"===typeof h&&(h=[[t.i,h,""]]),h.locals&&(t.exports=h.locals);var a=i("85cb").default;a("7b019942",h,!0,{})},"2fa5":function(t,e,i){"use strict";i("163d");var h=i("a740"),a=i("0938"),n=i("c2c1"),o=i("8ae6"),A=i("265f"),s={name:"TakePhoto",model:{event:"change"},props:{imageList:{type:Array,default:function(){return[]}},batchUnitId:{type:String,default:a["a"].uuid()},batchRoomId:{type:String,default:a["a"].uuid()},folder:{type:String,default:""},disabled:{type:Boolean,default:!1},flag:{type:Boolean,default:!1},hasLog:{type:Boolean,default:!1},imgType:{type:String,default:"problem"},imgLimit:{type:Number,default:3}},data:function(){return{isCanSelectFromAlbum:!1}},created:function(){"on"==A["a"].getAlbumSetting()?this.isCanSelectFromAlbum=!0:this.isCanSelectFromAlbum=!1},methods:{getWatermarkText:function(){var t=Object(h["j"])().user_name,e=a["a"].getNowDate();return t+" "+e+" 拍摄"},showLargeImg:function(t){var e=this.imageList.map((function(t){return t.img_local_fullpath||t.localFullPath?t.img_local_fullpath?t.img_local_fullpath:t.localFullPath:t.fullPath}));n["a"].openImageBrowser(e,t)},removeImg:function(t){this.imageList.splice(t,1),this.$emit("reset",this.imageList)},takePhoto:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!this.disabled)if(this.imageList.length>3)this.$toast("最多只能上传3张图片");else{var i={withGraffiti:!0,text:this.getWatermarkText()};e&&"fromAlbum"==e&&(i.fromAlbum="fromAlbum");var h={};this.folder&&this.folder.length?h.folder=this.folder:(h.folder=this.batchUnitId+"/"+this.batchRoomId,h.imageId=a["a"].uuid()),h.type=this.imgType;var A=o["a"].getNewProblemImagePath(h);if(this.folder&&this.folder.length){var s=a["a"].uuid()+".jpg";A.full_path+=s,A.save_path+=s}n["a"].takePhoto(A.full_path,i).then((function(){t.$emit("change",A)}),(function(t){t.notAllow}))}}}},f=function(){var t=this,e=t.$createElement,h=t._self._c||e;return h("div",{attrs:{flag:t.flag}},[h("section",{staticClass:"photo"},[t._t("default"),t._v(" "),t._l(t.imageList,(function(e,a){return h("div",{key:a,staticClass:"img-wrapper"},[h("img",{attrs:{src:e.img_view_path||e.viewPath,alt:"problem-photo"},on:{click:function(e){return t.showLargeImg(a)}}}),t._v(" "),e.needDownload&&e._srcPath&&e._srcPath.includes("img_blank.png")?h("a",{staticClass:"downloadTip"},[t._v("点击下载")]):t._e(),t._v(" "),t.hasLog?t._e():h("img",{staticClass:"delete",attrs:{src:i("06e1"),alt:"delete"},on:{click:function(e){return t.removeImg(a)}}})])})),t._v(" "),h("img",{directives:[{name:"show",rawName:"v-show",value:!t.hasLog&&t.imageList&&t.imageList.length<t.imgLimit,expression:"!hasLog && imageList && imageList.length < imgLimit"}],attrs:{src:i("f4b5"),alt:"take-photo"},on:{click:t.takePhoto}}),t._v(" "),h("img",{directives:[{name:"show",rawName:"v-show",value:t.isCanSelectFromAlbum&&!t.hasLog&&t.imageList&&t.imageList.length<t.imgLimit,expression:"isCanSelectFromAlbum && !hasLog && imageList && imageList.length < imgLimit"}],attrs:{src:i("d807"),alt:"take-photo-fromAlbum"},on:{click:function(e){return t.takePhoto("fromAlbum")}}})],2)])},r=[],c=i("d082");function l(t){i("2213")}var m=!1,v=l,g="data-v-46bc9c5b",u=null,p=Object(c["a"])(s,f,r,m,v,g,u);e["a"]=p.exports},6962:function(t,e,i){e=t.exports=i("690e")(!1),e.push([t.i,"\n.zhkf .blank[data-v-79f830cf] {\n  height: 10px;\n}\n[data-v-79f830cf] .van-cell__value {\n  color: #202020;\n}\n.zhkf .img-content[data-v-79f830cf] {\n  overflow: auto;\n}\n.zhkf .img-content .img-cantain[data-v-79f830cf] {\n    background-color: #fff;\n}\n.zhkf .img-content .img-cantain .img-list .img-item[data-v-79f830cf] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      padding-left: 15px;\n      height: 90px;\n      font-size: 14px;\n      margin-bottom: 15px;\n}\n.zhkf .img-content .img-cantain .img-list .img-item .img[data-v-79f830cf] {\n        width: 60px;\n        position: relative;\n}\n.zhkf .img-content .img-cantain .img-list .img-item .reasions[data-v-79f830cf] {\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n        padding-left: 40px;\n}\n.zhkf .img-content .img-cantain .img-list .img-item .image[data-v-79f830cf] {\n        width: 60px;\n        height: 60px;\n}\n.zhkf .img-content .img-cantain .img-list .img-item .reasion-title[data-v-79f830cf] {\n        font-size: 16px;\n        height: 26px;\n        font-weight: bold;\n}\n.zhkf .img-content .img-cantain .img-list .img-item .pass[data-v-79f830cf] {\n        color: #4fcc6b;\n}\n.zhkf .img-content .img-cantain .img-list .img-item .nopass[data-v-79f830cf] {\n        color: #f7554c;\n}\n.zhkf .img-content .img-cantain .img-list .img-item .delete[data-v-79f830cf] {\n        position: absolute;\n        right: -10px;\n        top: -10px;\n        width: 20px;\n        height: 20px;\n}\n.zhkf .btn[data-v-79f830cf] {\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  height: 60px;\n  padding-top: 7px;\n  background: #fff;\n}\n.zhkf .app-button[data-v-79f830cf] {\n  margin: 0 10px;\n}\n",""])},d807:function(t,e){t.exports="data:image/png;base64,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"},e398:function(t,e,i){e=t.exports=i("690e")(!1),e.push([t.i,"\n.zhkf .photo[data-v-46bc9c5b] {\n  padding: 15px;\n  background: #fff;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.zhkf .photo .img-wrapper[data-v-46bc9c5b] {\n    display: inline-block;\n    position: relative;\n    padding-bottom: 5px;\n}\n.zhkf .photo img[data-v-46bc9c5b] {\n    display: inline-block;\n    width: 60px;\n    height: 60px;\n    margin-right: 20px;\n}\n.zhkf .photo .delete[data-v-46bc9c5b] {\n    position: absolute;\n    right: -10px;\n    top: -10px;\n    width: 20px;\n    height: 20px;\n}\n.zhkf .photo .downloadTip[data-v-46bc9c5b] {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%);\n    color: #606060;\n    width: 100%;\n    font-size: 12px;\n    text-align: center;\n}\n",""])},ed9a:function(t,e,i){"use strict";i.r(e);i("5ab2"),i("e44b"),i("e10e"),i("f548"),i("c904"),i("6d57");var h=i("28f8"),a=i("2fa5"),n=i("8ae6"),o=i("269c"),A=i("f2de"),s=(i("06a2"),i("57d1")),f=i("cb64"),r={saveShootRoom:function(t,e){return f["a"].saveShootRoom(t,e)},getPositionItemNoPassImages:function(t,e,i){return s["a"].getPositionItemNoPassImages(t,e,i)},getPositionItemLocalImages:function(t,e,i){return s["a"].getPositionItemLocalImages(t,e,i)}};function c(){var t={lastRoom:!1,newImageList:[]},e={};return{model:t,room:e,init:function(t,i,h){return e={curr_position_id:i,curr_checkItem_id:h,batchRoomId:t},Promise.all([r.getPositionItemNoPassImages(t,i,h),r.getPositionItemLocalImages(t,i,h)]).then((function(t){return t}))},saveShootRoom:function(t,e){return r.saveShootRoom(t,e)}}}var l=c(),m=i("f588"),v=i("af4c"),g=i("0a1d"),u=i("c2c1"),p=i("ba1a");function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(t);e&&(h=h.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,h)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){Object(h["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var k={name:"TakePicture",components:{TakePhoto:a["a"],appButton:o["a"]},data:function(){return{batchRoomId:"",batchUnitId:"",btnText:"提交并进入下一项",currPosition:"",currCheckItem:"",positionImgsList:[],newImageList:[],model:l.model,delete:0,deleteImgs:[],has_submit:!1,isBottom:!1}},computed:b(b({},Object(A["e"])({contentHeight:function(t){return t.app.global.contentHeight},currentMenuType:function(t){return t.app.global.currentMenuType},currentBatchType:function(t){return t.app.global.currentBatchType},headerHeight:function(t){return t.app.global.headerHeight}})),{},{imgLimit:function(){var t=3-this.positionImgsList.length;return t>0?t:0}}),watch:{$route:{handler:function(t){console.log(t,"======="),t.path.indexOf("take-picture")>-1&&this.init()},immediate:!0}},created:function(){},methods:{init:function(){var t=this,e=p["a"].getDecodeQuery(this.$route.query),i=e.currPosition,h=e.currCheckItem,a=e.batchRoomId;return this.currPosition=i.position_name,this.currCheckItem=h.full_name,this.isBottom=m["a"].getIsBottom(),this.isBottom?this.btnText="提交":this.btnText="提交并进入下一项",l.init(a,i.position_id,h.item_id).then((function(e){t.model=l.model,t.newImageList=e[1].map((function(t){return b(b({},t),{},{viewPath:n["a"].getImageRealPath(t.material_localpath),fullPath:n["a"].getImageRealPath(t.material_localpath)})}));var i=e[0];i.forEach((function(e){e.material_full_localpath=n["a"].getImageRealPath(e.material_localpath),t.positionImgsList.push(e)}))}))},updateImages:function(t){this.newImageList.push({localPath:t.save_path,fullPath:t.full_path,viewPath:t.view_path?t.view_path:n["a"].getImageWebViewPath(t.full_path)})},showBigImg:function(t){console.error("showBigImg",t),u["a"].openImageBrowser([t],0)},removeImg:function(t,e){this.delete++,this.positionImgsList.splice(t,1),this.deleteImgs.push(e)},nextCheck:function(){var t=this,e=this.newImageList;if(this.positionImgsList.length+e.length>3)return this.$toast("每个检查项最多只能拍摄3张"),!1;if(!e.length&&!this.positionImgsList.length)return this.$toast("请至少拍摄一张照片"),!1;var i=this.positionImgsList.some((function(t){return"不通过"===t.status}));if(i)return this.$toast("有审核不通过的图片，不能提交"),!1;var h=p["a"].getDecodeQuery(this.$route.query),a=h.currPosition,n=h.currCheckItem,o=h.batchRoomId,A=3;this.positionImgsList.length&&this.deleteImgs.length&&(this.positionImgsList.sort((function(t,e){return e.sort-t.sort})),A=this.positionImgsList[0].sort);var s={batchRoomId:o,position_id:a.position_id,item_id:n.item_id,maxSort:A};console.log(this.positionImgsList,e,"提交的图片");var f={new:this.positionImgsList.concat(e),deletes:this.deleteImgs};l.saveShootRoom(s,f).then((function(e){console.log("保存拍摄素材",e),t.$toast("提交成功",1e3);var i=t.currentMenuType||t.currentBatchType;"todo"===i?v["a"].updateRoomList():g["a"].updateRoomList(),t.isBottom?t.$router.go(-1):t.goNext()}))},goNext:function(){var t=p["a"].getDecodeQuery(this.$route.query),e=t.batchRoomId,i=m["a"].getNextCheckItem(),h=b({batchRoomId:e},i);this.$router.replace({path:"/checkroom/".concat(this.currentMenuType||this.currentBatchType,"-take-picture/").concat(i.currCheckItem.item_id),query:b({},h)})}}},I=function(){var t=this,e=t.$createElement,h=t._self._c||e;return h("div",{staticClass:"take-picter-view"},[h("cus-nav-bar",{attrs:{title:"拍摄素材","left-arrow":"",border:!1}}),t._v(" "),h("div",{directives:[{name:"scroll",rawName:"v-scroll"}],ref:"list",staticClass:"img-content",style:{height:t.contentHeight-t.headerHeight+"px"}},[h("div",{staticClass:"blank"}),t._v(" "),h("van-cell-group",[h("van-cell",{attrs:{title:"部位",value:t.currPosition}}),t._v(" "),h("van-cell",{attrs:{title:"检查项",value:t.currCheckItem}})],1),t._v(" "),h("div",{staticClass:"img-cantain"},[t.positionImgsList.length?h("div",{staticClass:"img-list"},t._l(t.positionImgsList,(function(e,a){return h("div",{key:a,staticClass:"img-item van-hairline--bottom"},[h("div",{staticClass:"img"},[h("img",{attrs:{src:e.material_full_localpath,width:"60",height:"60"},on:{click:function(i){return t.showBigImg(e.material_full_localpath)}}}),t._v(" "),"已通过"!=e.status?h("img",{staticClass:"delete",attrs:{src:i("06e1"),alt:"delete"},on:{click:function(i){return t.removeImg(a,e)}}}):t._e()]),t._v(" "),h("div",{staticClass:"reasions",class:"已通过"===e.status?"pass":"nopass"},[["已通过","不通过"].indexOf(e.status)>-1?h("div",{staticClass:"reasion-title"},[t._v(t._s("已通过"===e.status?"审核通过":"审核不通过"))]):t._e(),t._v(" "),"不通过"===e.status?h("div",[t._v("审核不通过原因："+t._s(e.review_reason+"-"+e.review_remark))]):t._e()])])})),0):t._e(),t._v(" "),t.positionImgsList.length<3?h("div",{staticClass:"take-photo"},[h("take-photo",{attrs:{"image-list":t.newImageList,"batch-unit-id":t.batchUnitId,"batch-room-id":t.batchRoomId,"img-limit":t.imgLimit,"img-type":"material"},on:{change:t.updateImages}})],1):t._e()])],1),t._v(" "),t.$checkRight("shooting_material","online_opening")?h("div",{staticClass:"btn"},[h("app-button",{on:{click:function(e){return t.nextCheck()}}},[t._v(t._s(t.btnText))])],1):t._e()],1)},x=[],y=i("d082");function L(t){i("1bf1")}var P=!1,w=L,C="data-v-79f830cf",S=null,O=Object(y["a"])(k,I,x,P,w,C,S);e["default"]=O.exports},f4b5:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAMAAAAKE/YAAAACMVBMVEVHcEwAh/8Ahf8Akf8Amf8Ahf8Ah/8Ag/8Ah/8AhP8Ahf8Ahv8Ahf8Ahv8Ahv8Ahf8Ah/8Ahf8Ahv8Ahf8Ah/8Ahf8Af/8Ahf8Ahv8Ahf8Ahf8Ahf8Ahv8Ahf8Ah/8Ahv8Ahv8Ah/8Ahf8Ahf8Ahv8Ahv8Ahv8Ahv8Ah/8Ahf8Ah/8Ahv8Ahf8Ahf8Aqv8Ahv8Ahf8Ahv8Ahv8A//8Ahf8Ahf8Ahf8Ahv8Ag/8Ahv8Ahf8Ahf8Ahf8Ahv8Aif8Ahf8Ahf8Ahf8Ahf8AkP8Ahv8Ahf8Ahv8Ahf8AhP8Ahv8Ahf8Ahv8AVf8Ahf8Ahv8Ahf8Aif8Ajf8Ai/8Ahf8Amf8Ahf8AiP8AAP8Ahv8Ahf8AhP8Aif8Ahf8Af/8Ahv8Ahf8Ahv8Ahv8AiP8Ahv8Ahv8Ahf8Alf8Aif8Ahv8Af/8Ahf8Ahv8Ahf8Ahv8Ajv8Ahv8Aif8AiP8Ah/8Ahv8Ah/8Ah/8Ahv8AgP8Ah/8Ahf8Ahv8Ahf8Ahv8Ah/8Ahf8Ahv8Ahf8Ahv8Ahv8Ahf8Ahv8Ahf8Ahv8Ag/8AiP8Ahv8Ahf8Ahf8Ahv8Ahv8Ahv8Ahf8Ahf8Ah/8Ahf8Ahv8Ahv8Ahf8Ahv8Ahf8Ahv8Ahv8Ahv8Ahv8Ahv8Ahv8Aif8Ah/8Ahv8Ah/8Ahf8Ahv8Ahf8Ahf8Ahf8AiP8AiP8Ah/8Ahv8Ahf8Ahv8Ahv8Ahv8Ahf8Ah/8Ahv8Ah/8A//8Ah/8Ah/8Ah/8Ahf8AhP8AhP8Ahf+mEkz6AAAAunRSTlMARP4HBf0ggLYff3z71X7iM3l09SKEAu5y3/b5nmIR3WNT8UFhj0wZo0NV0htvA/7sjVIBLMv87kgYqp3zuC3Hr3XwCzcj5/ghKIb6A5bcsAgUD9EK1zwB359dNMUEh/cm/CTha7wOMekSZPa0Ewa1KU4Mi2c6pwpkvpDOokptepIlOOaZ76BESVqC2MxUlBzlRu3EFax4gNSR9VCcQkNNu1lewtvISR5YNePqZUf0Lj6knwKdhn9xnu8CNJVBAAAIdElEQVR42u2d+VsaRxjHJ+JiqRg1CAa8TSJNa1GhxqiQ4InxRI3GGK3WatUcRvHWxBzVNGkTYxNzX6ax90Hv4/3ruosLEkGgs+MeT/f7w7Iqy/N51mU+M+/MAkJoOMveseIAOina6FS1iHeox40z0emIjtuuGSh4svfNmJiYd1VIJeadB9rEPmWJmz7PduvL5mgkjegsqKXaPoyuTH2LJBWzJgsZLdJiRs0DdrT2ucSgFct6pPnzhMSo+4cQ9UBizOjcFwhikPQiPeiEOAS7pQadSCHNfqlBxwDKipYgdBKSIPQ7ByUIHRUrNejMbAk2eelpslxkuchykeUiy0WWiywXknJxHomZL8pjSlhU9dqE0iQFudTMDcFmqIcLCvHLZdWmhteiWVTsZOtBQi7Rv8LWaBZMOwhNQi5vUwHQ8FApbrkovgxkBmpC3HJJWAkCDWvilktOcjDoahHKJWlv6dk3NjKvDgZNvREyZ0v34r+dsKBP9JY6gHMcT3txKraYctGZ44BI4sw63uTySTwQSvwnfMnl3HkglvPneJLLdQM5aMN1nuRyDQjmGk9yaSQJ3ciTXM6QhD7Dk1yAaHiSi8DQeHLhSNlxYfwXfR4+NJ5cuDGf7aswuRK+xIfGk0tEbGqDIWg/6uFtz2v0JXOBxpBLWOC61pO1ZadPl9WebK3b2ver7d54kUdcoDHkEgbZ2tCee9zTEdIdz21vsL7ewv3AvsgNLtAYcgmJXG479dpiDMspW7nfnw/dZ3ujidjQeHIJgZzX1hlQO1B0tm22FdDkWYOEWgqxoYnLJa6yPvD59ZV+3W9HmacgdZkSi1zy4oqDH1Ec53+ud41ePPuBaOTSVrndIZVtfk+LOsPJiGTlUt5Zv90h9Z3lxDROVi62EPU7hY0kNDm5WE+FOuiUlSA0Obk0hFwsZ2kgCE1MLnXtoY9qryMETVIurbmhj8ptJQRNUi4nj4c+6vhJEY5casMUi3S14hu5qMvCHVamJgNNUC6G0+EOO20QnVwMM+EOmzGITi78XR4k5cLbG5GkXHhr8v73cuFN40RHLnx1mIiOXPjqmpIdufA3CCA4cuFvuEWyLBbhwFZMI5dISwhikkuExRpxySXCspi45BJZAVKscy4hS73inXMJUVQXnVwimr4Qm1x4mpLboTmXHYcmP+fCAzTpOZedh/4fTegLvHQCTy4CL1LBkwvR5UBf8SQX4Rde4SxFFnyJG87aSWEXE+IuRSa0bLMUa9kmh6XIfgtksYK/QFa+z4XHyDdR8hL5JkoeoeWbKPmClm+ilOUiy0WWiywXWS6ikoticPKK34+uzLTAj7G7Okn6vlWOclFmwFt+P6rWYSBg0HcIDtDbioO7AoP5oXcc5bIF+kgKjKPg0L3V+YHBv9+ZIPQNgFvbQPet61eiYEjPZgggXq/HhOYoly3Qc+BY3QY6WqV61gNfqNhMAFSqVMLIZQt0F3ShbaDpHDPAYe8vzQC5AsjF1ELHrYcS+sGJ9hUxiYKUIjb9QaFtpWxmOUJjykWZ2tTUtKaB7+iHTsuurcWjPcxzVvsTExMpuEtvTR7o5Go2SxyhMeXi9rvBXaujoS/s9mWZhXbHUxQFkEdvFR7o/VVs+jlCY8qlqqmrq+umA76nHyYY6MObf3uPhT52tKOjAyCb3o54oK+b2NziAk1KLsGhR76uqamhIJXeWjzQJe+zsXOBJiWX4NABb0T/4EOTkkuE0AsJbMq4QJOSSwjoD7Zpp4/UHLktoFxOjOhCQFMeaJNrdV8PXDLvX4gdX5w6Hweg7/jukiAjFwbaWTV+YDr05aFbrXy5ubYm71CKoQcgfyX+viAjFxr6VcGH8Pd0yMsjNXNgrerV3YHz96ZSGw7U7i5b+OEygDnhWLogIxelHurUkJzZTUO/KvHF9vqZzv4JZk3Fxc3DLa5pZ7RnZiinqMgoxMjFaZz8Yx1ArS9Y9bwRg2gcda8OXqKvi+Qmd7qRzbSz2LtrxOya4svFvTzvaXe73tNttB5tR31p3YDWVdbOMmuubuZUoNhCNmM/z3p3CzFbPXy5/JhPn+W75ZtN3stiX/ZtQFvuqwGsAHP0fqn3X5A29o/v31HDt1yUhfOJxjDttLmx8N2WjSZv0MxkohoOG/dAYya9Pw4aF99y6R6sCCuX1cppr1xMk7309nlKsgtV3LFepffvwZTAI5ewGp/MWE9AaBHu0ftPmeHvbQe8EKYsFrnGf9ZHffxjn+PQDaYSYiiv6V6GdRU+NEe5RHim6w8+hIxZmGcajPQmsL8YUs85hSmL/YcOk250nRb4p8xnClhuLfXEUytugcpikUBT3l5e+xJYMz0Llbun6PYOv3NJcOTiq2moVJ8H65pesdFubJv02GGOht6P/V7iOHKpid+E9lWP9PoVP2hn3gb0laNALWZDIy2Ulqd0Jw/yyzh8diEutKu3Kqmfgste6GB9D1WVkh53f4pQxcU2SHlUcctKpVZcfQXUzZmbUVTJMTxsDiOXq+VDKxTkmb3Q9gJfLrDQJ+5V6x3geIGcBRroKWhG09prvdol6LmQhKqmeiDjGd9yUTCLueuWFV7onGhfBr1nOpZ5yu8tyKSFjDHmfjSXy/mI+n7mI+bKnFj67Gve5XL4m2/G+tjbFoxpaX5dNtfz5xviMI6NfdX3G1NMaPAV30cLvD3p0WfYTZ4858IXtDyhz0vkCX2+Ik/o89h6yBP6slxkuchykeUiy0WWiywXWS6yXGS54MuFkpxcLqlRfprEmHXax+jiiMSgmS/fve3ulhZ085od7dJflBb0aHYWGrbfeXJOJ5XrWfHRSNLiMPMl6T/Z/tIp3ma+jDw2B4l554G2oUSr8MxOD2fZPxvd57lBOSpZKeYd6rHe/sSC0L+F4RKwpP2h8gAAAABJRU5ErkJggg=="}}]);