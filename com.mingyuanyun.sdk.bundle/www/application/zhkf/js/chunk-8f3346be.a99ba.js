(window["webpackJsonp_module_entry_zhkf_"]=window["webpackJsonp_module_entry_zhkf_"]||[]).push([["chunk-8f3346be"],{"909f":function(e,t,a){"use strict";a.r(t);a("6a61");var n=a("2e91"),i=(a("cc57"),a("6d57"),a("bb66")),s=a("39bb"),r=a("e559"),c=a("51ee"),o=a("516c"),l=a("e5b6"),d=a("ba1a"),u={name:"ComponentName",components:{BottomBtn:i["a"],textBox:s["a"],cellSelector:r["a"],selectUser:c["a"]},data:function(){return{showSelectUser:!1,checked:!0,activeNames:[],checkedUser:[],checkedNames:"",params:{business_type:"升级催办",business_id:"",content:"",task_id:"",is_send_email:!1,receiver:[]}}},computed:{detail:function(){var e=d["a"].getDecodeQuery(this.$route.query);return e.data?JSON.parse(e.data):{}}},watch:{checkedUser:function(e){var t=[],a=[];e.forEach((function(e){t.push(e.name),a.push(e.id)})),this.checkedNames=t.join("、"),this.params.receiver=a}},activated:function(){document.title="任务催办"},methods:{goBack:function(){this.$router.go(-1)},urge:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.params.business_id=this.detail.upgrade_id,this.params.task_id=this.detail.task_id,this.params.content){e.next=4;break}return e.abrupt("return",this.$toast("请填写催办内容"));case 4:if(!this.params.is_send_email||this.params.receiver.length){e.next=6;break}return e.abrupt("return",this.$toast("请选择收件人"));case 6:return Object(o["b"])(),e.next=9,Object(l["b"])(this.params);case 9:t=e.sent,Object(o["a"])(),console.log(t),this.goBack();case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkChg:function(e,t){this.params.receiver=t},backFunc:function(){this.showSelectUser=!1}}},p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-view x-col upgrade-detail-wrapper"},[a("header",{staticClass:"app-header x-lock"},[a("i",{staticClass:"app-nav-left app-nav-back",on:{click:e.goBack}}),e._v(" "),a("span",{staticClass:"app-nav-title"},[e._v("任务催办")])]),e._v(" "),a("div",{staticClass:"page-content x-rel x-flex ovhd"},[a("div",{staticClass:"scroll-container x-abs x-box"},[a("div",{staticClass:"detail-top-content"},[a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-label"},[e._v("受理人")]),e._v(" "),a("span",{staticClass:"detail-text"},[e._v(e._s(e.detail.accept_operator_name))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-label"},[e._v("处理人")]),e._v(" "),a("span",{staticClass:"detail-text"},[e._v(e._s(e.detail.next_operator_name)+" ")])]),e._v(" "),a("split-line"),e._v(" "),a("text-box",{attrs:{placeholder:"请输入催办内容","max-length":100},model:{value:e.params.content,callback:function(t){e.$set(e.params,"content",t)},expression:"params.content"}})],1),e._v(" "),a("div",{staticClass:"urge-panel"},[a("van-switch-cell",{attrs:{title:"发送邮件"},model:{value:e.params.is_send_email,callback:function(t){e.$set(e.params,"is_send_email",t)},expression:"params.is_send_email"}}),e._v(" "),a("split-line"),e._v(" "),a("cell-selector",{directives:[{name:"show",rawName:"v-show",value:e.params.is_send_email,expression:"params.is_send_email"}],attrs:{label:"收件人",value:e.checkedNames},on:{change:e.checkChg},nativeOn:{click:function(t){e.showSelectUser=!0}}})],1),e._v(" "),a("p",{staticClass:"bottom-tip"},[e._v("默认发送给受理人和处理人，并且抄送给其他的升级提醒人")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showSelectUser,expression:"showSelectUser"}],staticClass:"select-user-wrapper"},[a("select-user",{attrs:{mutil:"",title:"选择收件人","back-action":e.backFunc},model:{value:e.checkedUser,callback:function(t){e.checkedUser=t},expression:"checkedUser"}})],1)]),e._v(" "),a("bottom-btn",{nativeOn:{click:function(t){return e.urge(t)}}},[a("span",[e._v("确认")])])],1)},h=[],f=a("d082");function b(e){a("ea72")}var v=!1,m=b,k="data-v-67b6c659",_=null,x=Object(f["a"])(u,p,h,v,m,k,_);t["default"]=x.exports},e5b6:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c})),a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"j",(function(){return d})),a.d(t,"i",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"h",(function(){return h}));var n=a("1961");function i(e){return Object(n["b"])("task-upgrade-api/index/list",e)}function s(e){return Object(n["b"])("task-upgrade-api/index/count-with-type",e)}function r(e){return Object(n["d"])("task-upgrade-api/reminder/add",e)}function c(e){return Object(n["d"])("task-upgrade-api/index/upgrade",e)}function o(e){return Object(n["b"])("task-upgrade-api/index/get-repair-level",e)}function l(e){return Object(n["b"])("task-upgrade-api/index/detail",e)}function d(e){return Object(n["b"])("task-warn-api/index/list",e)}function u(e){return Object(n["b"])("task-warn-api/index/count-with-type",e)}function p(e){return Object(n["d"])("task-warn-api/reminder/add",e)}function h(e){return Object(n["b"])("task-warn-api/index/detail",e)}},ea72:function(e,t,a){var n=a("eb02");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("85cb").default;i("651629c1",n,!0,{})},eb02:function(e,t,a){t=e.exports=a("690e")(!1),t.push([e.i,"\n@charset \"UTF-8\";\n.zhkf .x-box[data-v-67b6c659] {\n  bottom: 58px;\n}\n.zhkf .urge-panel[data-v-67b6c659] {\n  margin-top: 10px;\n  background: #fff;\n}\n.zhkf .detail-top-content[data-v-67b6c659] {\n  overflow: hidden;\n  background: #fff;\n}\n.zhkf .select-user-wrapper[data-v-67b6c659] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 9999;\n  background: #fff;\n  height: 100vh;\n  width: 100vw;\n}\n.zhkf .detail-item[data-v-67b6c659] {\n  font-size: 14px;\n  padding: 0 15px;\n  line-height: 26px;\n  margin: 10px 0;\n  line-height: 26px;\n  position: relative;\n}\n.zhkf .detail-item .detail-label[data-v-67b6c659] {\n    display: inline-block;\n    color: #a0a0a0;\n    position: absolute;\n}\n.zhkf .detail-item .detail-text[data-v-67b6c659] {\n    display: inline-block;\n    margin-left: 75px;\n    color: #202020;\n}\n.zhkf .detail-item .detail-text .reminder[data-v-67b6c659]::after {\n      content: '\\3001';\n}\n.zhkf .detail-item .detail-text .reminder[data-v-67b6c659]:last-child::after {\n      content: '';\n}\n.zhkf .to-detail[data-v-67b6c659] {\n  font-size: 14px;\n  font-weight: 400;\n  color: #0085ff;\n  line-height: 20px;\n  text-align: center;\n  padding: 12px 0;\n}\n.zhkf .upgrade-detail-wrapper[data-v-67b6c659] .edit {\n  height: 110px !important;\n}\n",""])}}]);