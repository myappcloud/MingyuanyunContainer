(window["webpackJsonp_module_entry_zhkf_"]=window["webpackJsonp_module_entry_zhkf_"]||[]).push([["chunk-cf718758"],{"1bdc":function(t,e,n){var a=n("dac6");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("85cb").default;i("fc1720da",a,!0,{})},"67f7":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("b23b");function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=window.MImageBrowser;return i?t&&t.length?new Promise((function(s,o){var l=n.onOpen,c=n.onDownloadImage,r=n.onSave,d=n.onExchange,m=n.onVideoDownload,f=Object(a["a"])(n,["onOpen","onDownloadImage","onSave","onExchange","onVideoDownload"]),v={onClose:s,onError:o,onOpen:l,onDownloadImage:c,onSave:r,onExchange:d,onVideoDownload:m};i.openWithCallback(t,e,v,f)})):Promise.reject("无效的图片地址"):Promise.reject("获取图片插件失败")}},"729b":function(t,e,n){e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .list-item[data-v-c624d65a] {\n  background: white;\n  border-radius: 6px;\n  padding: 20px 15px;\n  color: #606060;\n  font-size: 14px;\n  margin-bottom: 10px;\n}\n.zhkf .list-item .top[data-v-c624d65a] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    margin-bottom: 7px;\n}\n.zhkf .list-item .bottom[data-v-c624d65a] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    margin-top: 7px;\n}\n.zhkf .list-item .bottom .count[data-v-c624d65a] {\n      -webkit-box-flex: 1;\n          -ms-flex-positive: 1;\n              flex-grow: 1;\n      -ms-flex-negative: 0;\n          flex-shrink: 0;\n      margin-right: 8px;\n}\n.zhkf .list-item .title[data-v-c624d65a] {\n    font-size: 15px;\n    font-weight: 500;\n    color: #202020;\n    line-height: 22px;\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n}\n.zhkf .list-item.hasRead[data-v-c624d65a] {\n    color: #a0a0a0;\n}\n.zhkf .list-item.hasRead .title[data-v-c624d65a] {\n      color: #a0a0a0;\n}\n.zhkf .list-item .emergency[data-v-c624d65a] {\n    height: 16px;\n    margin-top: 3px;\n    margin-right: 6px;\n    border-radius: 2px;\n    padding: 0 4px;\n    font-size: 11px;\n    color: #fff;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.zhkf .list-item .emergency.status1[data-v-c624d65a] {\n      background: -webkit-gradient(linear, left top, right top, from(#ffe000), to(#ffbe00));\n      background: linear-gradient(90deg, #ffe000 0%, #ffbe00 100%);\n}\n.zhkf .list-item .emergency.status2[data-v-c624d65a] {\n      background: -webkit-gradient(linear, left top, right top, from(#ffb700), to(#ff8100));\n      background: linear-gradient(90deg, #ffb700 0%, #ff8100 100%);\n}\n.zhkf .list-item .emergency.status3[data-v-c624d65a] {\n      background: -webkit-gradient(linear, left top, right top, from(#f46b5f), to(#e63931));\n      background: linear-gradient(90deg, #f46b5f 0%, #e63931 100%);\n}\n.zhkf .lh24[data-v-c624d65a] {\n  line-height: 24px;\n}\n",""])},"903b":function(t,e,n){var a=n("729b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("85cb").default;i("8e7a354a",a,!0,{})},"9c9d":function(t,e,n){e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .count[data-v-2e73c9e0] {\n  position: absolute;\n  font-size: 14px;\n  right: 15px;\n  top: 17px;\n}\n.zhkf .content[data-v-2e73c9e0] {\n  overflow-y: scroll;\n}\n.zhkf .header[data-v-2e73c9e0] {\n  background: #fff;\n  padding: 0 15px;\n  padding-bottom: 21px;\n}\n.zhkf .header .item[data-v-2e73c9e0] {\n    margin-top: 15px;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    font-size: 14px;\n}\n.zhkf .header .item .item-label[data-v-2e73c9e0] {\n      color: #a0a0a0;\n      width: 92px;\n      -ms-flex-negative: 0;\n          flex-shrink: 0;\n      line-height: 20px;\n}\n.zhkf .header .item .item-content[data-v-2e73c9e0] {\n      color: #202020;\n      line-height: 20px;\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      word-break: break-all;\n}\n.zhkf .header .item .item-content .img[data-v-2e73c9e0] {\n        width: 60px;\n        height: 60px;\n        margin-right: 20px;\n}\n.zhkf .header .item .item-content .img img[data-v-2e73c9e0] {\n          width: 100%;\n          border-radius: 2px;\n}\n.zhkf .header .item .item-content a[data-v-2e73c9e0] {\n        text-decoration: underline;\n        color: #0085ff;\n}\n.zhkf .header .item .item-content a.disabled[data-v-2e73c9e0] {\n          text-decoration: none;\n          color: #202020;\n}\n.zhkf .tabs[data-v-2e73c9e0] {\n  margin-bottom: 10px;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  font-size: 14px;\n  height: 44px;\n  background: #fff;\n  font-weight: 500;\n  color: #606060;\n}\n.zhkf .tabs li[data-v-2e73c9e0] {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    position: relative;\n}\n.zhkf .tabs li.active[data-v-2e73c9e0] {\n      color: #202020;\n}\n.zhkf .tabs li.active[data-v-2e73c9e0]::after {\n        content: ' ';\n        display: block;\n        position: absolute;\n        background: -webkit-gradient(linear, right top, left top, from(#0085ff), to(#02b8ff));\n        background: linear-gradient(270deg, #0085ff 0%, #02b8ff 100%);\n        width: 24px;\n        height: 3px;\n        border-radius: 2px;\n        bottom: 0;\n        left: 50%;\n        -webkit-transform: translateX(-50%);\n                transform: translateX(-50%);\n        z-index: 100;\n}\n.zhkf .tabs li .name[data-v-2e73c9e0] {\n      position: relative;\n}\n.zhkf .list-item[data-v-2e73c9e0] {\n  background: #fff;\n  margin-top: 10px;\n  font-size: 14px;\n  line-height: 26px;\n  color: #606060;\n}\n.zhkf .list-item[data-v-2e73c9e0]:first-child {\n    margin-top: 0;\n}\n.zhkf .list-item .main[data-v-2e73c9e0] {\n    padding: 15px;\n}\n.zhkf .list-item .main .desc[data-v-2e73c9e0] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      color: #202020;\n      margin-bottom: 8px;\n      word-break: break-all;\n}\n.zhkf .list-item .main .desc[data-v-2e73c9e0]:last-child {\n        margin-bottom: 0;\n}\n.zhkf .list-item .main .desc .label[data-v-2e73c9e0] {\n        width: 90px;\n        -ms-flex-negative: 0;\n            flex-shrink: 0;\n        color: #a0a0a0;\n}\n.zhkf .list-item .top[data-v-2e73c9e0] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    padding: 7px 15px;\n    height: 40px;\n}\n.zhkf .list-item .top .icon-clock[data-v-2e73c9e0] {\n      width: 14px;\n      margin-right: 6px;\n}\n.zhkf .list-item .top .date[data-v-2e73c9e0] {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      line-height: normal;\n      color: #a0a0a0;\n}\n.zhkf .list-item .title[data-v-2e73c9e0] {\n    font-size: 16px;\n    font-weight: 500;\n    color: #202020;\n    line-height: 28px;\n}\n.zhkf .list-item .status[data-v-2e73c9e0] {\n    height: 16px;\n}\n.zhkf .article[data-v-2e73c9e0] {\n  padding: 17px 0;\n}\n.zhkf footer[data-v-2e73c9e0] {\n  height: 58px;\n  background: white;\n  -webkit-box-shadow: 0px -2px 4px 0px rgba(0, 0, 0, 0.05);\n          box-shadow: 0px -2px 4px 0px rgba(0, 0, 0, 0.05);\n  padding: 10px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.zhkf footer button[data-v-2e73c9e0] {\n    height: 44px;\n    background: #dbecfd;\n    border-radius: 4px;\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    font-size: 16px;\n}\n.zhkf footer button.up[data-v-2e73c9e0] {\n      color: #0085ff;\n      background: #fff;\n      border: 1px solid rgba(0, 133, 255, 0.5);\n}\n.zhkf footer button.next[data-v-2e73c9e0] {\n      color: #fff;\n      color: #0085ff;\n}\n.zhkf footer button[data-v-2e73c9e0]:first-child {\n      margin-right: 10px;\n}\n.zhkf footer button[data-v-2e73c9e0]:last-child {\n      margin-right: 0;\n}\n",""])},a7d0:function(t,e,n){"use strict";var a={name:"EmptyPage",props:{showEmpty:Boolean,emptyImgSrc:String,emptyMsg:String,loadingPage:{type:Boolean,default:!1}}},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.showEmpty,expression:"showEmpty"}],staticClass:"empty"},[t.emptyImgSrc&&!t.loadingPage?n("img",{staticClass:"error-img",attrs:{src:t.emptyImgSrc,alt:""}}):t._e(),t._v(" "),t._v("\n  "+t._s(t.emptyMsg||"")+"\n")])},s=[],o=n("d082");function l(t){n("1bdc")}var c=!1,r=l,d="data-v-427e70b2",m=null,f=Object(o["a"])(a,i,s,c,r,d,m);e["a"]=f.exports},bd35:function(t,e,n){t.exports=n.p+"img/icon_empty.0161e0a9.png"},da91:function(t,e,n){"use strict";n.r(e);n("6d57");var a=n("a7d0"),i=n("ea7a"),s=n("c3e6"),o=n("67f7"),l=n("cb7e"),c=n("a14a"),r=n.n(c),d=[{name:"案例详情",selected:!0,total:0,pageSize:10,page:1,id:0},{name:"相关问题",selected:!1,total:0,pageSize:10,page:1,id:1}],m={components:{EmptyPage:a["a"],ListItem:i["a"],appLoading:s["a"]},data:function(){return{detailData:{},activeNames:[],loadMore:!1,finished:!0,noMoreMsg:"",total:2,loading:!1,imgs:{"待整改":n("511c"),"整改中":n("f8b0"),"正常关闭":n("20f2"),"待确认":n("83d9"),"待指派":n("a0ef"),"待复验":n("e5f3"),"非正常关闭":n("263e"),"已作废":n("77d7")},tabs:[],activeItem:0,problemList:[],log_id:""}},activated:function(){this.init()},methods:{init:function(){var t=this;this.loading=!0,this.$checkKfRight("Tool","view_problem")?this.tabs=r.a.cloneDeep(d):this.tabs=[],this.activeItem=0,this.problemList=[];var e=this.$route.query.id;return Object(l["q"])({id:e}).then((function(e){t.loading=!1,console.log(e,"===="),t.detailData=e})).then((function(){return t.getProblem()}))},getProblem:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Object(l["s"])({check_case_id:this.$route.query.id,page:e,pageSize:n}).then((function(n){var a=n.items;t.problemList=e<=1?a:t.problemList.concat(a),t.setTab(n,1)}))},previewImages:function(t,e){var n=this,a=t.map((function(t){return t.original_image_url}));Object(o["a"])(a,e).catch((function(t){n.error=t.errMsg||"图片加载失败"}))},checkFinish:function(){var t=this.tabs[this.activeItem],e=t.total,n=t.page,a=void 0===n?1:n,i=t.pageSize;this.finished=Math.ceil((e-a*i)/i)<1},onLoad:function(){var t=this.tabs[this.activeItem].page;if(1===this.activeItem)return this.getProblem(t+1)},setTab:function(t,e){var n=t.page,a=void 0===n?1:n,i=t.total,s=void 0===i?0:i;this.tabs[e].page=a,this.tabs[e].total=s,this.loadMore=!1,this.checkFinish()},select:function(t,e){this.activeItem=e,this.tabs.forEach((function(t){return t.selected=!1})),t.selected=!0,this.checkFinish()}}},f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-view x-col"},[a("cus-nav-bar",{attrs:{title:"典型案例详情","left-arrow":"",border:!1,"use-click-left":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),t._v(" "),t.tabs.length>0?a("ul",{staticClass:"tabs van-hairline--bottom"},t._l(t.tabs,(function(e,n){return a("li",{key:n,class:{active:e.selected},on:{click:function(a){return t.select(e,n)}}},[a("span",{staticClass:"name"},[t._v("\n        "+t._s(e.name)+t._s("相关问题"===e.name?"("+e.total+")":"")+"\n        "),a("i",{staticClass:"red-dot pos"})])])})),0):t._e(),t._v(" "),t.loading?a("app-loading"):t._e(),t._v(" "),t.loading?t._e():a("section",{staticClass:"common-wrapper content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0===t.activeItem,expression:"activeItem === 0"}],staticClass:"header"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[t._v("案例主题")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v(t._s(t.detailData.subject))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[t._v("案例描述")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v(t._s(t.detailData.remark))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[t._v("处理方案")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v(t._s(t.detailData.scheme))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[t._v("相关图片")]),t._v(" "),a("div",{staticClass:"item-content"},t._l(t.detailData.images,(function(e,n){return a("div",{key:e.id,staticClass:"img",on:{click:function(e){return t.previewImages(t.detailData.images,n)}}},[a("img",{attrs:{src:e.preview_image_url,alt:""}})])})),0)]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[t._v("案例归属")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v(t._s(t.detailData.scope_name))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[t._v("缺陷分类")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v(t._s(t.detailData.defect_name))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[t._v("检查节点")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v(t._s(t.detailData.check_node_name))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[t._v("检查项分类")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v(t._s(t.detailData.check_item_full_name))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[t._v("检查项")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v(t._s(t.detailData.check_item_detail_name))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[t._v("重要程度")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v(t._s(t.detailData.case_level_value))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[t._v("登记人")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v(t._s(t.detailData.register_name))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"item-label"},[t._v("登记时间")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v(t._s(t.detailData.register_time))])])]),t._v(" "),a("empty-page",{attrs:{"show-empty":1===t.activeItem&&0===t.problemList.length,"empty-msg":"暂无相关问题","empty-img-src":n("bd35")}}),t._v(" "),a("van-list",{directives:[{name:"show",rawName:"v-show",value:t.problemList.length>0&&1===t.activeItem&&t.$checkKfRight("Tool","view_problem"),expression:"problemList.length > 0 && activeItem === 1 && $checkKfRight('Tool', 'view_problem')"}],attrs:{finished:t.finished,"finished-text":t.noMoreMsg},on:{load:t.onLoad},model:{value:t.loadMore,callback:function(e){t.loadMore=e},expression:"loadMore"}},[t.problemList.length>0?a("div",{staticClass:"list-wrapper"},t._l(t.problemList,(function(e){return a("div",{key:e.id,staticClass:"list-item"},[a("div",{staticClass:"top van-hairline--bottom"},[a("img",{staticClass:"icon-clock",attrs:{src:n("8a58"),alt:""}}),t._v(" "),a("div",{staticClass:"date"},[t._v("登记时间："+t._s(e.register_time))]),t._v(" "),a("img",{staticClass:"status",attrs:{src:t.imgs[e.status],alt:""}})]),t._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"desc"},[a("span",{staticClass:"label"},[t._v("问题描述")]),t._v("\n              "+t._s(e.subject)+"\n            ")]),t._v(" "),a("div",{staticClass:"desc"},[a("span",{staticClass:"label"},[t._v("检查项分类")]),t._v("\n              "+t._s(e.check_item_name)+"\n            ")]),t._v(" "),a("div",{staticClass:"desc"},[a("span",{staticClass:"label"},[t._v("检查项")]),t._v("\n              "+t._s(e.check_item_detail_name)+"\n            ")])])])})),0):t._e()])],1)],1)},v=[],p=n("d082");function b(t){n("ee04")}var h=!1,g=b,x="data-v-2e73c9e0",_=null,k=Object(p["a"])(m,f,v,h,g,x,_);e["default"]=k.exports},dac6:function(t,e,n){e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .empty[data-v-427e70b2] {\n  height: 100%;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  color: #a0a0a0;\n  font-size: 14px;\n  background: #fff;\n}\n.zhkf .loading[data-v-427e70b2] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.zhkf .loading .star[data-v-427e70b2] {\n    width: 16px;\n    height: 16px;\n    -webkit-animation: rotating-data-v-427e70b2 2s linear infinite;\n            animation: rotating-data-v-427e70b2 2s linear infinite;\n}\n.zhkf .loading .bg[data-v-427e70b2] {\n    width: 100px;\n}\n.zhkf .error-img[data-v-427e70b2] {\n  width: 280px;\n}\n@-webkit-keyframes rotating-data-v-427e70b2 {\nfrom {\n    -webkit-transform: rotate(0);\n            transform: rotate(0);\n}\nto {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n}\n}\n@keyframes rotating-data-v-427e70b2 {\nfrom {\n    -webkit-transform: rotate(0);\n            transform: rotate(0);\n}\nto {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n}\n}\n",""])},ea7a:function(t,e,n){"use strict";n("163d");var a={props:{item:Object,index:{type:Number,default:0}},data:function(){return{status:{"非常重要":"status3","重要":"status2","一般":"status1"}}},methods:{handleClick:function(){this.$emit("handleClick",this.item,this.index)}}},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-item",class:{hasRead:"0"==t.item.has_new},on:{click:t.handleClick}},[n("div",{staticClass:"top"},[n("div",{staticClass:"emergency",class:t.status[t.item.case_level_name]},[t._v("\n      "+t._s(t.item.case_level_name)+"\n    ")]),t._v(" "),n("div",{staticClass:"title"},[t._v("案例主题："+t._s(t.item.subject))])]),t._v(" "),n("div",{staticClass:"node lh24"},[t._v("检查节点："+t._s(t.item.check_node_name))]),t._v(" "),n("div",{staticClass:"classify lh24"},[t._v("检查项分类："+t._s(t.item.check_item_name))]),t._v(" "),n("div",{staticClass:"bottom"},[n("div",{staticClass:"count"},[t._v("相关问题数量："+t._s(t.item.problem_count))]),t._v(" "),n("div",{staticClass:"comp"},[t._v("案例归属："+t._s(t.item.scope_name))])])])},s=[],o=n("d082");function l(t){n("903b")}var c=!1,r=l,d="data-v-c624d65a",m=null,f=Object(o["a"])(a,i,s,c,r,d,m);e["a"]=f.exports},ee04:function(t,e,n){var a=n("9c9d");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("85cb").default;i("3530fcf7",a,!0,{})}}]);