(window["webpackJsonp_module_entry_zhkf_"]=window["webpackJsonp_module_entry_zhkf_"]||[]).push([["chunk-407e3490"],{"0523":function(t,e,n){"use strict";n("6d57");var o=n("c6e3"),i=n("fd50"),r=n("a654"),a=n("c2c1"),s=n("8ae6"),c=function(t){return o["a"].getRoomBaseInfo(t)},l=function(t){return o["a"].getRoomCustomer(t)},d=function(t,e,n){var o,i={batch_unit_id:t,unit_list:[]},r="0";(_.isEmpty(e)||1===e.length&&""===e[0])&&(o=!0,e=[r]);var a={unit:[""],floor_list:[],status_counter:{all:0}};i.unit_list.push(a);for(var s=0;s<e.length;s++){var c=e[s],l={floor:c,room_list:[]};a.floor_list.push(l);for(var d=0;d<n.length;d++){var u=n[d];!o&&u.floor!=c||u.batch_unit_id!=t||(u.floor=o?r:u.floor,l.room_list.push(u),a.status_counter["all"]+=1,u.room_status in a.status_counter?a.status_counter[u.room_status]+=1:a.status_counter[u.room_status]=1)}}return i},u=function(t){return o["a"].getRoomIsReviewed(t)},f=function(t){return o["a"].getRoomTypeDiagram(t).then((function(t){if(!t)return!1;var e=i["a"].when(!1);return t.forEach((function(t){e=e.then((function(e){return e?i["a"].resolve(!0):a["a"].checkFileIsExists(Object(s["e"])()+t.path)}))})),e}))},m=function(t){return o["a"].getDiagramById(t).then((function(t){if(t){if("dev"==window.ZHKF_GLOBAL_ENV.VUE_APP_ENV)return t.url;var e=Object(s["e"])()+t.path;return console.log(e,"========================"),a["a"].checkFileIsExists(e).then((function(t){return t?e:null}))}return null}))},h=function(t){try{return f(t).catch((function(){return!1})).then((function(t){return!!t}))}catch(e){return console.error(e),i["a"].when(!1)}},p=function(t){return r["a"].existsDesignChange(t)},g=function(t){return r["a"].getDesignChange(t)},b=function(t,e){return r["a"].addDesignChangeProblem(t,e)},v=function(t){return c(t).then((function(t){return t.building_name+(t.unit?t.unit+(t.unit.indexOf("单元")>-1?"":"单元"):"")+(-1==t.floor.indexOf("层")&&-1==t.floor.indexOf("楼")&&-1==t.floor.indexOf("公共区域")?t.floor+"楼":t.floor)+(-1!==t.room_no.indexOf("公共区域")?t.floor+"层 公共区域":t.room_no)}))};e["a"]={getRoomBaseInfo:c,getRoomCustomer:l,buildRoomListData:d,getRoomIsReviewed:u,getRoomTypeImageFileIsExists:f,getRoomTypeImageFileIsExistsIgnoreError:h,existsRoomDesignChange:p,getRoomDesignChange:g,addRoomDesignChangeProblem:b,getRoomTitle:v,getDiagramFullPathById:m,getBatchRoomList:function(t,e){return o["a"].getBatchRoomList(t,e)}}},"0a37":function(t,e,n){var o=n("1c4e");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("85cb").default;i("76d9ba51",o,!0,{})},"1c4e":function(t,e,n){e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .tip[data-v-829243a6] {\n  width: 250px;\n  text-align: center;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n.zhkf .tip img[data-v-829243a6] {\n    width: 200px;\n}\n.zhkf .tip p[data-v-829243a6] {\n    color: #a0a0a0;\n    line-height: 20px;\n    font-size: 14px;\n    margin: 0 auto;\n    text-align: center;\n    margin-top: 3px;\n}\n",""])},2297:function(t,e,n){"use strict";var o={name:"ProblemBtn",props:{showCheckbox:{type:Boolean,default:!0},selectText:{type:String,default:""},actionText:{type:String,required:!0},isSelected:{type:Boolean,default:!1},acitonDisabled:{type:Boolean,default:!1},className:{type:String,default:""}},methods:{select:function(){this.$emit("select")},action:function(){this.$emit("action")}}},i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"problem-btn van-hairline--top",class:t.className},[t.showCheckbox?o("div",{staticClass:"btn-select-all",on:{click:t.select}},[o("img",{directives:[{name:"show",rawName:"v-show",value:t.isSelected,expression:"isSelected"}],attrs:{src:n("2985"),alt:"selected",width:"20",height:"20"}}),t._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:!t.isSelected,expression:"!isSelected"}],attrs:{src:n("f97d"),alt:"select",width:"20",height:"20"}}),t._v(" "),o("span",[t._v(t._s(t.selectText))])]):t._e(),t._v(" "),o("div",{class:t.acitonDisabled?"btn-disabled btn-action":"btn-action",on:{click:t.action}},[t._v(t._s(t.actionText))])])},r=[],a=n("d082");function s(t){n("7740")}var c=!1,l=s,d="data-v-1c8fb56c",u=null,f=Object(a["a"])(o,i,r,c,l,d,u);e["a"]=f.exports},2405:function(t,e,n){var o=n("7826");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("85cb").default;i("e652a6ca",o,!0,{})},2985:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAADIklEQVRYR82ZTUhUURTHf3fKUqKkD0r7wEVQEUVCH7oSggiskMASF0EQlBW2DHQRDLQw2irZuAiKIFIXFVhIC4kKgmqlVBYuAnO0JkSMcpj0xvXN0+eb92beffMm3lsNc+/5nx/3cM85916Bny8qI5RzEDiMYD+SnUA5sDotNw3EEQwjeQ8MEOctUTGn605oGdyVW5ihGTgDbNWyhVHgPsV0cFZ882rrDbBDrqeI68A5YKVXcZd5SeAOKa7RLH7m0soN2CUbkbQDG3KJaY4niNDMefEwm507YFQuZzPtSC5qOtabLrjNGFeIir9Ohs6A3bKESXqA43refM/uYy2naRB/7AqZgGrlynn0H+FMpj7inLSvZCZgl+wseFjdFlqF+4K4ZB1eCmhsiAe+AxWEYYRG68ZZBDRSyacC7FZd7AQpdpkpaBEwJm8BS5ZXVznA+Z00ictKzwA0KsRIAEnYE+OaIrhZBXvXQewj3PuSYZakmO2q4hiAMdkGtHhSz3NS6QroPwZVGw2hWQm7u+HzVIbwDZpEq8Ao/F991FZtVDucKVDzBF6OZ8iNEqdCEJNVwBttb5oGbnADY3CkD+ako2C1AlShVSEu2OcG92ocap/Br5Sr61YF2AvUu03Ztgq+z0By1h9/HnBqC/cqwEFgj919RMDjo3CiAiZ+Q/1zeD2hB5kXnOFqSAH+cErONWXwom4RaDoFtU+9QwYAp5wnFOCMU/7bUQofGmCZpRh6hQwITgEmXQHV6NV9RkK1frkgA4RbAHQMsQnVUglth7xBBgy3EGLHTWJF8gJZADiFMCjokj1ITuXan9kghyaXli9Ty0Oey+42nWY8J2o3yJEpqLQdqfKGM9DnE7VWqXOCtC9DQHBKttpXs5ANMkC4dLOgOH20W06QAcIpqnS7pX76bFhVnlQpSCVz1ZXU9Wct/Ln2oXXc1rAaq+ir5VcVZ1OJUQJdWiYdMHOureVXf4f+0KQgQ33sNBc31Ad3BRn6qw8FGerLIzPUob5+syaG0F5gWiFDfQVsBQ3tJbq9FlifIeAAzD9DlNmeIdRdwTDwLp9niH+Lfm97gO/iCQAAAABJRU5ErkJggg=="},"2d3d":function(t,e,n){"use strict";n("e697"),n("6d57"),n("cc57");var o=n("fd50"),i=n("cb6b"),r=n("0e1c"),a=n("653b"),s=n("0523");e["a"]=function(){var t=20,e={},n={getConditions:function(){return i["a"].set(r["a"].DELIVERY_PROCESS_CONDITION,{batch:e.filterList[0].id,status:e.filterList[2].id},i["a"].level.user),{batchId:e.filterList[0].id,name:e.currType,status:e.filterList[2].name,page:e.currPage,pageSize:t,checkroomType:e.checkroomType,batchType:e.batchType}},load:function(){var i=n.getConditions();return i.batchId?a["a"].getTodoDeliveryList(i,e.search.keyword||"").then((function(n){return e.total=n.total,e.list=e.currPage?e.list.concat(n.list):n.list,0===e.currPage&&(e.search.lastKeyword=""),e.total*t>e.list.length&&e.currPage++,n.list})).then((function(t){return"delivery_check_room"===e.currType?n.setUploadStatus(t):t})):o["a"].reject("无效批次")},changeNumberStatus:function(t,n,o){var i=[];return t.room_list.forEach((function(t){i.push(t.room_id)})),a["a"].changeNumberStatus({batch_id:e.filterList[0].id,signin_id:t.signin_id,room_ids:i.join(","),operate_type:o,name:e.currType}).then((function(){e.list.splice(n,1)}))},setUploadStatus:function(t){t=t||e.list;var n=[],o=[];return t.forEach((function(t){t.room_list.forEach((function(t){n.push(t.room_id)}))})),s["a"].getBatchRoomList(e.filterList[0].id,n).then((function(t){return t.forEach((function(t){e.list.forEach((function(e){var n=_.find(e.room_list,{room_id:t.room_id});n&&(n.batchRoomId=t.id,o.push(t.id))}))})),a["a"].getHasUploadRoomList(o).then((function(t){_.isEmpty(t)||e.list.forEach((function(e){e.room_list.forEach((function(n){t.indexOf(n.batchRoomId)>-1&&(e.hasUpload=!0)}))}))}))}))}};return{model:e,init:function(t){var n=this,s=t.type,c=t.batchType;e.currType=s,e.batchType=c,e.checkroomType="全部",e.currPage=0,e.total=0,e.filterList=[{id:"",name:"",label:"批次",type:"batch",options:[]},{id:"",name:"",label:"验房类型",type:"checkroomType",options:[],hidden:!("online_delivery_center"===c)},{id:"",name:"",label:"办理状态",type:"status",options:[]}],e.currStatus="",e.search={keyword:"",lastKeyword:""},e.list=[];var l=i["a"].getObject(r["a"].DELIVERY_PROCESS_CONDITION,i["a"].level.user)||{};return a["a"].getBatchList(c).then((function(t){return t=t||[],t.length&&(e.filterList[0].options=t,e.filterList[1].options=[{id:"all",name:"全部"},{id:"offline_delivery",name:"现场验房"},{id:"online_delivery_center",name:"在线验房"}],e.filterList[2].options=[{id:1,name:"待办理"},{id:2,name:"已办理"},{id:3,name:"已过号"}],e.filterList.forEach((function(t){var e=l[t.type]||"",n=_.find(t.options,{id:e})||{};t.id=n.id||t.options[0].id,t.name=n.name||t.options[0].name})),e.currStatus=e.filterList[2].name),o["a"].resolve(!0)})).then((function(){return n.load()}))},load:function(){return e.currPage=0,n.load()},loadMore:function(){return n.load()},cross:function(t,e){return n.changeNumberStatus(t,e,"过号")},resetRecovery:function(t,e){return n.changeNumberStatus(t,e,"恢复排号")},removeItem:function(t,n,o){if(!_.isEmpty(e)&&!_.isEmpty(e.list)&&"已办理"!==e.filterList[2].name&&e.currType===o){var i=_.find(e.list,{signin_id:t}),r=!0;if(i&&(i.room_list.forEach((function(t){t.room_id===n&&(t.status=1),r&=!!t.status})),r)){var a=_.indexOf(e.list,i);a>-1&&e.list.splice(a,1)}}}}}()},"2efa":function(t,e,n){"use strict";n.r(e);n("5ab2"),n("e44b"),n("e10e"),n("f0e6"),n("6d57");var o=n("28f8"),i=n("2297"),r=n("9f72"),a=n("5cf9"),s=n("242a"),c=n("f2de"),l=n("c42d"),d=n("db55"),u=n("b4b9");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h=0,p=0,g={components:{Btn:i["a"],Tip:a["a"],Top:r["a"],checkbox:s["a"]},data:function(){return{hasNetwork:!0,model:{},info:{},nodeId:"",transactedAgain:!1,allSelected:!1,customers:[],roomName:"",submiting:!1}},computed:m({},Object(c["e"])({currentBatchType:function(t){return t.app.global.currentBatchType},currentMenuType:function(t){return t.app.global.currentMenuType}})),created:function(){var t=this;p=0,this.nodeId=this.$route.query.nodeId,this.model=u["a"].model;var e=d["a"].model.baseInfo;console.log(e.customers),this.customers=e.customers||[],this.roomName=e.room_name||"",l["a"].getHasNetwork().then((function(e){t.hasNetwork=e})),u["a"].init(this.nodeId),this.info=this.model.list,h=this.info.child_node.length,this.transactedAgain=!!this.info.status,this.model.list.child_node.forEach((function(e){e.selected?p+=1:t.allSelected=!1})),console.log("info ============ ",this.info)},methods:{toLog:function(){var t=u["a"].getConditions();this.$router.push({path:"".concat(this.currentMenuType||this.currentBatchType,"-room-log"),query:{batchId:t.batchId,roomId:t.roomId,processId:this.nodeId}})},showMark:function(t){this.$dialog.alert({title:"备注",message:t.remark,confirmButtonText:"知道了"})},select:function(t){console.log("==============",t),t.selected=!t.selected,t.selected?p+=1:p-=1,console.log(p,h),this.allSelected=p===h},selectAll:function(){var t=this;this.allSelected=!this.allSelected,p=this.allSelected?h:0,this.info.child_node.forEach((function(e){t.$set(e,"selected",t.allSelected)}))},submit:function(){var t=this;this.transactedAgain?this.$router.push({path:"".concat(this.currentMenuType||this.currentBatchType,"-retransacted-reason")}):this.submiting||(this.submiting=!0,u["a"].submit(this.$route.query.type).then((function(e){e.errcode?t.$toast("提交失败"):(t.$toast("提交成功",1e3),t.$router.go(-1))})).finally((function(){t.submiting=!1})))}}},b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"room-transacted"},[o("cus-nav-bar",{attrs:{title:t.info.name,"left-arrow":"",border:!1,"right-text":t.transactedAgain?"办理记录":""},on:{"click-right":t.toLog}}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasNetwork,expression:"!hasNetwork"}],staticClass:"tipBox"},[o("tip",{attrs:{"img-url":n("eac3"),"tip-cont":"当前网络异常，请稍后重试"}})],1),t._v(" "),o("top",{attrs:{customers:t.customers,"room-name":t.roomName}}),t._v(" "),o("div",{staticClass:"content-list"},t._l(t.info.child_node,(function(e,n){return o("van-cell",{key:n,staticClass:"list-item f15",on:{click:function(n){return t.select(e)}}},[o("template",{slot:"title"},[o("div",{staticStyle:{display:"flex"}},[o("checkbox",{attrs:{checked:e.selected,"icon-size":"21",name:e.name}}),t._v(" "),e.remark?o("i",{staticClass:"iconfont icon-beizhu item-remark",on:{click:function(n){return n.stopPropagation(),t.showMark(e)}}}):t._e()],1)]),t._v(" "),[e.selected?o("span",{staticClass:"item-tip f13"},[t._v("已"+t._s(e.type))]):t._e()]],2)})),1),t._v(" "),o("btn",{attrs:{"class-name":"content-btn","is-selected":t.allSelected,"select-text":"全选","action-text":t.transactedAgain?"重新提交":"提交","aciton-disabled":t.submiting},on:{select:t.selectAll,action:t.submit}})],1)},_=[],v=n("d082");function y(t){n("d6c9")}var x=!1,k=y,w="data-v-139dd5f0",I=null,A=Object(v["a"])(g,b,_,x,k,w,I);e["default"]=A.exports},"5cf9":function(t,e,n){"use strict";var o={props:{isShow:{type:Boolean,default:!0},imgUrl:{type:String,required:!0},tipCont:{type:String,default:"系统繁忙请稍后重试"}}},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"tip"},[n("img",{attrs:{src:t.imgUrl,alt:"tip"}}),t._v(" "),t.tipCont?n("p",{domProps:{innerHTML:t._s(t.tipCont)}}):t._e()])},r=[],a=n("d082");function s(t){n("0a37")}var c=!1,l=s,d="data-v-829243a6",u=null,f=Object(a["a"])(o,i,r,c,l,d,u);e["a"]=f.exports},6013:function(t,e,n){"use strict";var o=n("07a4"),i=n("dfb1"),r=n("81ad"),a=n("c6e3"),s=n("9430"),c=n("a14a"),l=n.n(c),d={getDeliveryNodeList:function(){return i["a"].getDeliveryNodeList(o["a"].state.projectList.currentItem.id)},getTodoDeliveryDetail:function(t){return i["a"].getTodoDeliveryDetail(t)},uploadDeliveryConfirmInfo:function(t,e,n){return r["a"].uploadFiles(t,"deliveryProcess",e.room_id).then((function(t){console.log(t),t=l.a.uniq(t);var o={child_process:[{id:n,status:1,imgs:t}],reason:"",remark:""};return o=l.a.extend(o,e),i["a"].uploadProcessData(o)}))},uploadProcessData:function(t){return i["a"].uploadProcessData(t)},getProcessOperateLog:function(t){return i["a"].getProcessOperateLog(t)},getDeliveryConfirmInfo:function(t,e,n){return i["a"].getDeliveryConfirmInfo(t,e,n)},getRoomData:function(t,e){return a["a"].getBatchRoom(t,e)},assistSignIn:function(t){return i["a"].assistSignIn(t)},hasUploadData:function(t){return s["a"].existsBatchRoomUploadData(t)}};e["a"]=d},7740:function(t,e,n){var o=n("812a");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("85cb").default;i("75ab064a",o,!0,{})},7826:function(t,e,n){e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .color-green[data-v-030d81df] {\n  color: #74c913;\n}\n.zhkf .color-orange[data-v-030d81df] {\n  color: #ff8100;\n}\n.zhkf .cutomer-info[data-v-030d81df] {\n  padding: 15px;\n  font-size: 15px;\n  background: #ffffff;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n}\n.zhkf .cutomer-info .info-column[data-v-030d81df] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: row;\n            flex-direction: row;\n    line-height: 1;\n}\n.zhkf .cutomer-info .info-column .right-item[data-v-030d81df] {\n      margin-bottom: 20px;\n}\n.zhkf .cutomer-info .info-column .right-item[data-v-030d81df]:last-child {\n        margin-bottom: 0;\n}\n.zhkf .cutomer-info .info-column[data-v-030d81df]:not(:first-child) {\n    margin-top: 18px;\n}\n.zhkf .cutomer-info .item-left[data-v-030d81df] {\n    color: #a0a0a0;\n}\n.zhkf .cutomer-info .item-right[data-v-030d81df] {\n    margin-left: 20px;\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n}\n.zhkf .cutomer-info .item-right span[data-v-030d81df] {\n      color: #a0a0a0;\n}\n.zhkf .cutomer-info .item-right a[data-v-030d81df] {\n      color: #0099ff;\n}\n.zhkf .cutomer-info .item-right > div[data-v-030d81df]:not(:first-child) {\n      margin-top: 20px;\n}\n.zhkf .cutomer-info .icon-tip[data-v-030d81df] {\n    color: #ff8100;\n}\n",""])},"812a":function(t,e,n){e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .problem-btn[data-v-1c8fb56c] {\n  height: 60px;\n  padding: 7px 11px;\n  line-height: 46px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  font-size: 16px;\n  background: #fff;\n}\n.zhkf .problem-btn .btn-select-all[data-v-1c8fb56c] {\n    background: #fff;\n    color: #909090;\n    padding: 0 20px;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n.zhkf .problem-btn .btn-select-all img[data-v-1c8fb56c] {\n      margin: 12px 8px 0 0;\n}\n.zhkf .problem-btn .btn-action[data-v-1c8fb56c] {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    background: -webkit-gradient(linear, right top, left top, from(#0085ff), to(#02b8ff));\n    background: linear-gradient(270deg, #0085ff 0%, #02b8ff 100%);\n    -webkit-box-shadow: 0px 2px 4px 0px rgba(0, 133, 255, 0.2);\n            box-shadow: 0px 2px 4px 0px rgba(0, 133, 255, 0.2);\n    color: #fff;\n    text-align: center;\n    border-radius: 23px;\n    -webkit-box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.08);\n            box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.08);\n}\n.zhkf .problem-btn .btn-disabled[data-v-1c8fb56c] {\n    background: rgba(0, 153, 255, 0.5);\n}\n",""])},"8a4c":function(t,e,n){e=t.exports=n("690e")(!1),e.push([t.i,"\n.zhkf .flex[data-v-139dd5f0] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.zhkf .tipBox[data-v-139dd5f0] {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  background: #fff;\n}\n.zhkf .room-transacted[data-v-139dd5f0] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.zhkf .room-transacted .content-list[data-v-139dd5f0] {\n    display: inline-block;\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    width: 100%;\n    overflow: scroll;\n    margin-top: 10px;\n    z-index: 0;\n}\n.zhkf .room-transacted .content-list .list-item[data-v-139dd5f0] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-orient: horizontal;\n      -webkit-box-direction: normal;\n          -ms-flex-direction: row;\n              flex-direction: row;\n      height: 51px;\n      line-height: 22px;\n      padding: 15px 15px 15px 10px;\n      background-color: #ffffff;\n}\n.zhkf .room-transacted .content-list .list-item .item-remark[data-v-139dd5f0] {\n        color: #a0a0a0;\n        font-size: 15px;\n        margin-left: 8px;\n}\n.zhkf .room-transacted .content-list .item-tip[data-v-139dd5f0] {\n      color: #74c913;\n}\n.zhkf .room-transacted .content-btn[data-v-139dd5f0] {\n    z-index: 0;\n}\n",""])},"9f72":function(t,e,n){"use strict";var o={props:{customers:{type:Array,default:function(){return[]}},roomName:{type:String,default:null},qualification:{type:String,default:""},reason:{type:String,default:""},showQualification:{type:Boolean,default:!1}}},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cutomer-info"},[n("div",{staticClass:"info-column"},[n("div",{staticClass:"item-left"},[t._v("业主姓名")]),t._v(" "),n("div",{staticClass:"item-right"},t._l(t.customers,(function(e,o){return n("div",{key:o,staticClass:"right-item"},[t._v("\n        "+t._s(e.customerName)+"\n        "),e.canDialTelphonee?t._e():n("span",[t._v(t._s(e.customerPhone))]),t._v(" "),e.canDialTelphonee?n("a",{attrs:{href:"tel:"+e.customerPhone}},[t._v(t._s(e.customerPhone))]):t._e(),t._v(" "),e.hasTag?n("i",{staticClass:"iconfont icon-xiaolian icon-tip"}):t._e()])})),0)]),t._v(" "),null!=t.roomName?n("div",{staticClass:"info-column"},[n("div",{staticClass:"item-left"},[t._v("房产名称")]),t._v(" "),n("div",{staticClass:"item-right flex"},[t._v(t._s(t.roomName))])]):t._e(),t._v(" "),t.showQualification?n("div",{staticClass:"info-column"},[n("div",{staticClass:"item-left"},[t._v("交付资格")]),t._v(" "),n("div",{staticClass:"item-right flex",class:"符合"===t.qualification?"color-green":"color-orange"},[t._v(t._s(t.qualification))])]):t._e(),t._v(" "),"不符合"===t.qualification&&t.showQualification?n("div",{staticClass:"info-column"},[n("div",{staticClass:"item-left"},[t._v("具体原因")]),t._v(" "),n("div",{staticClass:"item-right flex"},[t._v(t._s(t.reason))])]):t._e()])},r=[],a=n("d082");function s(t){n("2405")}var c=!1,l=s,d="data-v-030d81df",u=null,f=Object(a["a"])(o,i,r,c,l,d,u);e["a"]=f.exports},a654:function(t,e,n){"use strict";var o=n("1834"),i=n("0938");e["a"]={existsDesignChange:function(t){var e="select 1 from room_design_change a inner join batch_room b on a.room_id = b.room_id where b.id = ?";return o["a"].queryOne(e,[t]).then((function(t){return!_.isEmpty(t)}))},getDesignChange:function(t){var e="select a.id, a.location, a.content, a.remark, a.sort from room_design_change a inner join batch_room b on a.room_id = b.room_id where b.id = ? order by a.sort";return o["a"].query(e,[t])},addDesignChangeProblem:function(t,e){if(t&&e){var n=i["a"].uuid();o["a"].insert("room_design_change_problem",["id","design_change_id","checkroom_problem_id"],[n,e,t])}}}},b4b9:function(t,e,n){"use strict";n("6d57"),n("cc57");var o=n("fd50"),i=n("a593"),r=n("db55"),a=n("2d3d"),s=n("6013");e["a"]=function(){var t={},e={getConditions:function(){return{batchId:r["a"].model.roomInfo.batchId,roomId:r["a"].model.roomInfo.room_list[r["a"].model.currRoomIndex].room_id,signinId:r["a"].model.roomInfo.signin_id}},creatDataParam:function(){for(var n=e.getConditions(),o={signin_id:n.signinId,batch_id:n.batchId,room_id:n.roomId,process_id:t.list.id,process_name:t.list.name,process_status:1,child_process:[]},i=0;i<t.list.child_node.length;i++)o.child_process.push({id:t.list.child_node[i].id,status:t.list.child_node[i].selected?1:2,img:[]});return o},submit:function(t){var n=e.creatDataParam();return s["a"].uploadProcessData(n).then((function(e){return a["a"].removeItem(n.signin_id,n.room_id,t),o["a"].resolve(e)}))},submitAgain:function(t){var n=e.creatDataParam();return n["reason"]=t.reason||"",n["remark"]=t.remark||"",s["a"].uploadProcessData(n)}};return{model:t,init:function(e){var n=r["a"].model.nodeList;n.forEach((function(n){n.id==e&&(t.list=n)})),t.list.child_node.forEach((function(t){i["default"].prototype.$set(t,"selected",1==t.status)})),console.log("init finish")},submit:function(t){return e.submit(t)},submitAgain:function(t){return e.submitAgain(t)},getConditions:function(){return e.getConditions()}}}()},d6c9:function(t,e,n){var o=n("8a4c");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("85cb").default;i("8a0049d0",o,!0,{})},db55:function(t,e,n){"use strict";n("5ab2"),n("e10e");var o=n("28f8"),i=(n("e697"),n("6d57"),n("e44b"),n("cc57"),n("fd50")),r=n("07a4"),a=n("a18c"),s=n("6013"),c=n("0523"),l=n("ca33"),d=n("a593");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e["a"]=function(){var t={},e={},n={review_material:"delivery_review_material",handle_finance:"delivery_handle_finance",handle_property:"delivery_handle_property",check_room:"delivery_check_room",give_gift:"delivery_receive_gift",delivery_confirm:"delivery_confirm"};return e.getConditions=function(){return{batchId:t.roomInfo.batchId,roomId:t.roomInfo.room_list[t.currRoomIndex].room_id}},e.gotoNextRoom=function(){var n=t.roomInfo.room_list.length;return t.currRoomIndex<n-1?(t.currRoomIndex+=1,t.currRoom=t.roomInfo.room_list[t.currRoomIndex],e.load()):i["a"].resolve()},e.load=function(){var o=e.getConditions();return s["a"].getTodoDeliveryDetail(o).then((function(o){t.nodeList=[],t.baseInfo.delivery_qualification=o.delivery_qualification,t.baseInfo.appointment_process_list=o.appointment_process_list||[],t.baseInfo.checkroom_type=o.checkroom_type,t.baseInfo.delivery_unqualified_reason=o.delivery_unqualified_reason,t.baseInfo.hasTag=!1,t.baseInfo.room_name=t.roomInfo.room_list[t.currRoomIndex].room_name,t.baseInfo.customers=[],t.no="",_.each(o.customer_list,(function(e){t.baseInfo.customers.push({customerName:e.customer_name,customerPhone:e.customer_phone,canDialTelphonee:-1===e.customer_phone.indexOf("*"),hasTag:e.has_tag}),1==e.has_tag&&(t.baseInfo.hasTag=!0)})),o.no&&(t.no=o.no),o.signin_id&&(t.roomInfo.signin_id=o.signin_id);var i=r["a"].state.app.global.currentBatchType;_.each(t.sourseData,(function(e,r){var a={name:e.name,id:r,child_node:[],type:n[e.function_code],status:o.process[r]&&1==o.process[r].status?o.process[r].status:0,authRight:d["default"].prototype.$checkRight("view_room",i)&&d["default"].prototype.$checkRight(e.function_code,i)};_.each(e.child_process,(function(t,e){var n={name:t.name,type:t.type,remark:t.remark,id:e};o.process[r]&&1==o.process[r].status&&o.process[r].child_process[e]&&o.process[r].child_process[e].status?n["status"]=o.process[r].child_process[e].status:n["status"]=0,a.child_node.push(n)})),t.nodeList.push(a)}));for(var a=0;a<t.nodeList.length;a++){for(var s=!1,c=0;c<t.nodeList[a].child_node.length;c++)1==t.nodeList[a].child_node[c].status&&(s=!0);t.nodeList[a]["showStatus"]=s}return e.updateCheckroomNode().then((function(){return t.nodeList}))}))},e.updateCheckroomNode=function(){var e=i["a"].when();return t.currRoom.batchRoomId||(e=c["a"].getBatchRoomList(t.roomInfo.batchId,[t.currRoom.room_id]).then((function(e){return!_.isEmpty(e)&&(t.currRoom.batchRoomId=e[0].id,!0)}))),e.then((function(e){if(!1!==e)return s["a"].hasUploadData(t.currRoom.batchRoomId).then((function(e){if(_.isEmpty(e))return i["a"].resolve();var n=_.find(t.nodeList,{type:"delivery_check_room"});if(n){var o=!1;e.forEach((function(t){n.child_node.forEach((function(e){("问题"===t.type&&"登记问题"===e.name||"房间"===t.type&&"登记问题"!==e.name)&&(e.status=1),o=o||1==e.status}))})),n.showStatus=o,n.status=1,n.hasUpload=!0}}))}))},{model:t,initModel:function(e){t.roomInfo=e,t.currRoomIndex=0,t.currRoom=t.roomInfo.room_list[0],t.baseInfo={customers:[]};for(var n=t.roomInfo.room_list.length,o=0;o<n;o++)t.roomInfo.room_list[o].ans=o},init:function(){return s["a"].getDeliveryNodeList().then((function(n){return t.sourseData=n,_.each(t.sourseData,(function(t,e){_.each(t.child_process,(function(t,e){t.type=t.type.substr(0,t.type.length-1)}))})),e.load()}))},gotoNextRoom:function(){return e.gotoNextRoom()},gotoCheckRoom:function(){var e=r["a"].state.app.global.currentBatchType,n={deliveryprocess:{name:"正式交付",type:"交付",batch_type:"delivery",from:"deliveryprocess"},online_delivery_center:{name:"在线交房",type:"在线交付",batch_type:"online_delivery",from:"online_delivery_center"}},o=n[e]["batch_type"];return s["a"].getRoomData(t.roomInfo.batchId,t.currRoom.room_id).then((function(i){if(!_.isEmpty(i)){var s={batchRoomId:i.id,roomId:i.room_id,building_id:i.building_id,batch_unit_id:i.batch_unit_id,type:o,fitment_standard:i.fitment_standard,roomTitle:i.building_name+i.room_no,menuType:r["a"].state.app.global.currentMenuType,batch_id:t.roomInfo.batchId};return c["a"].getRoomTypeImageFileIsExists(i.id).then((function(t){t?(s.mode="0",s.isImageExists=!0):s.from=e,console.log("/checkroom/".concat(o,"-roomdetail")),a["a"].push({path:"/checkroom/".concat(o,"-roomdetail"),query:f(f({},s),{},{from:e})})}))}return r["a"].commit("app/APP",{currentBatchType:o}),a["a"].push({path:"/checkroom/".concat(o,"-batch-unit"),query:n[e]})}))},load:function(){return e.load()},uploadRoomData:function(e){return s["a"].getRoomData(t.roomInfo.batchId,t.currRoom.room_id).then((function(t){return l["a"].uploadData(t.batch_unit_id,t.id).then((function(){e.hasUpload=!1}))}))}}}()},f97d:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAADa0lEQVRYR9WZO2hUQRSG/zN7MYRgkRhEURRMoYKNGtGsEkj2TlLYCGrwVVn4IoplLIQFCy1FxaiFlQ+MKWwsNnNvAqIbwVehoCkUFEXRmBQh+GB3jhy9G9Y1utnNRscptpmdM989Z85jzhDKGMlkUjU1Na3xPK+FmVcz81Iims/Ms0UcEY0x81siGiKiB5lMZmBwcPBeMpm0pW5HpSwIw3CBtbaTmXcR0cJS1jLzayK6pJQ6k0gk3kx17ZQAgyCYw8zHAOwGUBUJfwEgBeA2gKdE9GpkZGRM5urq6mYz8yIAywFsANAOYEm07guAi0R01Pf9j8VAiwIGQbCNmU8DqAeQBdATaSFdTHj+fBiGcdE+gA4AMQDDRNTp+/61P8n5LeDAwICXyWQEbF90rkw2mz3U3t7+rBSwwv+mUqllsVjsFDPraO6c53kHW1paMpPJnRQwnU5Xj4+PXwewkYg+ATjs+/6F6YAVrg2CYA+Ak8xcDeBmTU3N1ng8Lnv9NH4BjDR3Q+AAvGfmjW1tbfcrCZeT1dfX10hENwHMFUjP8zYVavIXQGNMd2TW97FYrLm1tXVoJuByMvv7+5dms9lbEeQ5rfX+/P1+Aowc4qqY1VrbPFOaK/xg0aRS6paYm4i25TvOBGAUSsQB6olob6XPXDEryJlk5vORdy/LhaAJQGPMWQD7icj4vt9WTOBMzAdB0Bd5d7fW+sD36CE/UYZ4DsCz1q6YbigpF15CkFLqCYCMUqpBMs53QGPMcQBdAK5qrXeUu0El1hljrgDYDuCE1voISeKPx+MvJbcqpdYnEomSMkQloCbJOHckd6fT6cWUSqXWKqXuAnihtW6o9IblyDPGyHFbYq1dR2EYdllrxcQTB7McoZVck3NYpdQRMsb0AtgMYKfWWuz/z4cxRvzgMhH1CuBjACsArNJaP/rndD+cdiWAhwCeUBAEH5hZgnP9VOqzv/EBUdKQcmxYNPhZitDR0dGqjo6Or38DoNgePT09s2pra6Ww/eI+4P9gYped5LE4yXVm3uJsmHE+UDuf6pwvFpwvt/6LgjXSorslvwA6f2mKIKUP4+a1M5fAnb64C6TzrQ+BdLp5lDO10+23/ILS2QZmAaS7LeCCS7WbTfTCO0T+M4S1thGAPEPMK3iGeAdgSCl1fzrPEN8Ajn19wtuO19cAAAAASUVORK5CYII="}}]);