(window["webpackJsonp_module_entry_zhkf_"]=window["webpackJsonp_module_entry_zhkf_"]||[]).push([["chunk-53add0e9"],{"06e1":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAACg0lEQVRYR9WZPUwUQRTH//8Bc1pIw54fkcTCQgs7NVpi7d0h2d2EwspKDfZQWFFgjwEqKhNi9giCWEtpolZYSGFhghHZscFCLhz7zO555A64j113ddh25/3nlzd5H/OGSPAJoL7bQzd6FW5D5BqAy0I5D8HpSI74SeE3AOsgP1QDvDm7sPSOQBB3O8Yx0G7hQhBwlJR7AAfi2AKyIcLnSskzy1v52q1tV4Abw8P9ObU7AfI+gFy34i3WVSAyVwlOPBlYXPzRSasjoO+URgCZAmB1Eov5Xyuq0X5v6UU7u5aAMjjYq62+KUAexNw45nLOWnr7MVdXq0cZHgkorntKo+JB5E7M3ZItJ19byLn0vF8HBQ4BRp7L9738Z3B1ohDS37570JOHAH2nNJP9sbZyNGfz5eWHjX+bAP8ExHyyc0rHSlGNNAbOPmCUSnqqnzKI1rjkurLXe6WegvYBtV2YFrLJvXGVU1svMpNfWHlUK0oAwgohws8pJOG0GCukXAorTgS4ZRcnSYylpZ6Gjgienll4Nc6w8Gun8CV+bU0Do52GbFjllYvctIdu9jB4m/V2SfT3RN2idofGRILJJAJZ25BqnFt2sUzCznqzJPoEy9R2cU2Iq0kEsrah4CN9t+hDWrdSlrecKYd2S631CU3fKe60y3//FRCoHANA04/Y6CAB16idkicQJ9NISCheSzOmJ2rjS53xzYLx7daxaFhDSN8uTMPUlj8ENP7SFHmxNocx89pZz6VGX9xDSONHHxGkycOj+lEbPX5rrO3GDjAbIcMUdFLtTkhKI2CKzO2kNQJuBDV2iH6wnWt8hgiC4LoKnyEUzjU9QwTYDIB1pdT7v3mG+A2gi1T1vZPSFwAAAABJRU5ErkJggg=="},"1b3a":function(e,t,n){"use strict";n("f0e6"),n("e697");var o=n("fd50"),i=n("a18c"),a=n("a593"),r=n("43ee"),h=n("d49d"),c=n("af4c"),s=n("a14a"),f=n.n(s),l=function(){var e={},t={allSelected:!1,nextRoomId:"",nextRoom:{},roomName:"",currPage:0,totalPage:0,list:[],filterList:[]},n=!1,s={},l=20;return e.getConditions=function(){var e={batchRoomId:s.id};return f.a.each(t.filterList,(function(t){e[t.type]=t.id})),e.position||(e.checkItem=""),e},e.setFilter=function(e,t,n){var o=f.a.find(e,{id:t});o||(o={id:t,name:n,count:0},e.push(o)),o.count++},e.setAllFilter=function(e){var t=0;f.a.each(e,(function(e){t+=e.count})),e.unshift({id:"",name:"全部",count:t})},e.getFilter=function(n){var o=e.getConditions(),i=[];return!o[n]&&(n=""),h["a"].getFeedbackFilters(o,n).then((function(e){if(f.a.each(t.filterList,(function(o,a){if(e[o.type]||n===o.type){var r=t.filterList[a].value||"";if(o&&e[o.type]){var h=f.a.filter(e[o.type],{id:r});h&&h[0]&&i.push(h[0].count),t.filterList[a].options=e[o.type]}}else o.id="",o.name="",o.options=[]})),i.length){var o=Math.min.apply(null,i);t.totalPage=Math.ceil(o/l)}console.log(t.filterList)}))},e.getFeedbackList=function(n){var o=e.getConditions(),i=n?0:t.currPage*l;return h["a"].getFeedbackListByBatchRoomId(o,i,l).then((function(e){t.list=i?t.list.concat(e):e,t.currPage++}))},e.getNextRoom=function(){n=!1;var e=s.id,o=[];f.a.each(r["a"].model.list,(function(e){o=o.concat(e.roomList)}));var i=f.a.find(o,{id:e}),a=f.a.indexOf(o,i);a<0?(t.nextRoomId="",t.nextRoom=""):a==o.length-1?(t.nextRoomId="",t.nextRoom="",o[a-1]||(n=!0)):(t.nextRoomId=o[a+1].id,t.nextRoom=o[a+1])},e.init=function(n){return n=n||!1,!n&&r["a"].model.currRoom&&r["a"].model.currRoom.id===s.id?o["a"].resolve():(t.allSelected=!1,t.nextRoomId="",t.nextRoom={},t.roomName="",t.list=[],t.currPage=0,t.totalPage=0,t.filterList=[{id:"",name:"",label:"部位",type:"position",options:[]},{id:"",name:"",label:"检查项",type:"checkItem",options:[]}],s=r["a"].model.currRoom,e.getFeedbackList(!0).then((function(){return t.roomName=r["a"].model.unitName+"-"+s.room_no,t.roomName=t.roomName.length>16?"..."+t.roomName.substr(t.roomName.length-16,16):t.roomName,e.getNextRoom(),e.getFilter()})))},e.toNextRoom=function(){return r["a"].model.currRoom=t.nextRoom,t.roomName=r["a"].model.unitName+"-"+t.nextRoom.room_no,t.roomName=t.roomName.length>16?"..."+t.roomName.substr(t.roomName.length-16,16):t.roomName,a["default"].$comComps.toast.show("查验下一个房间 "+t.roomName,3e3),e.init()},e.refresh=function(n){!f.a.isArray(n)&&(n=[n]),console.log(n,"------ids====",t.list);var o=e.getConditions(),i=n.length;return t.list.length-i<=0||t.allSelected?e.init(!0):(t.allSelected=!1,f.a.each(n,(function(e){var n=f.a.find(t.list,{id:e});n&&(t.list=t.list.filter((function(e){return e!==n})))})),h["a"].getFeedbackFilters(o).then((function(e){f.a.each(e,(function(n,o){var i=f.a.find(t.filterList,{type:o});if(i){i.options=e[o];var a=f.a.find(i.options,{id:i.id});f.a.isEmpty(a)&&(i.id="",i.name="")}}))})))},e.resetPage=function(){t.currPage=0,t.totalPage=0,t.allSelected=!1},{model:t,currFeedback:{},init:e.init,getFeedbackList:e.getFeedbackList,getFilter:e.getFilter,getConditions:e.getConditions,resetPage:e.resetPage,toNextRoom:e.toNextRoom,refresh:function(r,f){var l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f=f||!1;var u=-1;return l&&u--,h["a"].hasMoreFeedback(s.id).then((function(h){if(!h&&t.nextRoomId)return i["a"].go(u),e.toNextRoom();if(h)return i["a"].go(u),e.refresh(r);if(c["a"].model.currFloor&&c["a"].model.currFloor.roomList.length-1){var s=c["a"].model,f=s.batchUnitId,l=s.moduleType;return c["a"].init(f,l,!0).finally((function(){u--,i["a"].go(u)}))}return u-=2,i["a"].go(u),n&&(a["default"].$comComps.toast.show("恭喜，该楼栋已回复完毕",2e3),e.init(!0)),o["a"].resolve()})).then((function(){f&&c["a"].updateRoomList()}))},loadMore:function(){return t.currPage<t.totalPage?e.getFeedbackList():o["a"].resolve()},getSelected:function(){var n=[],i=o["a"].defer();if(t.allSelected){var a=e.getConditions();h["a"].getAllFeedbackIds(a).then((function(e){f.a.each(e,(function(e){n.push(e.id)})),i.resolve(n)}))}else f.a.each(t.list,(function(e){e.selected&&n.push(e.id)})),i.resolve(n);return i.promise}}};t["a"]=l()},2213:function(e,t,n){var o=n("e398");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("85cb").default;i("7b019942",o,!0,{})},"269c":function(e,t,n){"use strict";var o={name:"AppButton",props:{disabled:Boolean,secondary:Boolean},computed:{buttonStyle:function(){return[this.disabled&&"disabled",this.secondary?"secondary":"primary"]}}},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",e._g({staticClass:"app-button",class:e.buttonStyle,attrs:{href:"javascript:void(0);"}},e.$listeners),[e._t("default")],2)},a=[],r=n("d082");function h(e){n("5c53")}var c=!1,s=h,f="data-v-44e13a4d",l=null,u=Object(r["a"])(o,i,a,c,s,f,l);t["a"]=u.exports},"2fa5":function(e,t,n){"use strict";n("163d");var o=n("a740"),i=n("0938"),a=n("c2c1"),r=n("8ae6"),h=n("265f"),c={name:"TakePhoto",model:{event:"change"},props:{imageList:{type:Array,default:function(){return[]}},batchUnitId:{type:String,default:i["a"].uuid()},batchRoomId:{type:String,default:i["a"].uuid()},folder:{type:String,default:""},disabled:{type:Boolean,default:!1},flag:{type:Boolean,default:!1},hasLog:{type:Boolean,default:!1},imgType:{type:String,default:"problem"},imgLimit:{type:Number,default:3}},data:function(){return{isCanSelectFromAlbum:!1}},created:function(){"on"==h["a"].getAlbumSetting()?this.isCanSelectFromAlbum=!0:this.isCanSelectFromAlbum=!1},methods:{getWatermarkText:function(){var e=Object(o["j"])().user_name,t=i["a"].getNowDate();return e+" "+t+" 拍摄"},showLargeImg:function(e){var t=this.imageList.map((function(e){return e.img_local_fullpath||e.localFullPath?e.img_local_fullpath?e.img_local_fullpath:e.localFullPath:e.fullPath}));a["a"].openImageBrowser(t,e)},removeImg:function(e){this.imageList.splice(e,1),this.$emit("reset",this.imageList)},takePhoto:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!this.disabled)if(this.imageList.length>3)this.$toast("最多只能上传3张图片");else{var n={withGraffiti:!0,text:this.getWatermarkText()};t&&"fromAlbum"==t&&(n.fromAlbum="fromAlbum");var o={};this.folder&&this.folder.length?o.folder=this.folder:(o.folder=this.batchUnitId+"/"+this.batchRoomId,o.imageId=i["a"].uuid()),o.type=this.imgType;var h=r["a"].getNewProblemImagePath(o);if(this.folder&&this.folder.length){var c=i["a"].uuid()+".jpg";h.full_path+=c,h.save_path+=c}a["a"].takePhoto(h.full_path,n).then((function(){e.$emit("change",h)}),(function(e){e.notAllow}))}}}},s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{flag:e.flag}},[o("section",{staticClass:"photo"},[e._t("default"),e._v(" "),e._l(e.imageList,(function(t,i){return o("div",{key:i,staticClass:"img-wrapper"},[o("img",{attrs:{src:t.img_view_path||t.viewPath,alt:"problem-photo"},on:{click:function(t){return e.showLargeImg(i)}}}),e._v(" "),t.needDownload&&t._srcPath&&t._srcPath.includes("img_blank.png")?o("a",{staticClass:"downloadTip"},[e._v("点击下载")]):e._e(),e._v(" "),e.hasLog?e._e():o("img",{staticClass:"delete",attrs:{src:n("06e1"),alt:"delete"},on:{click:function(t){return e.removeImg(i)}}})])})),e._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:!e.hasLog&&e.imageList&&e.imageList.length<e.imgLimit,expression:"!hasLog && imageList && imageList.length < imgLimit"}],attrs:{src:n("f4b5"),alt:"take-photo"},on:{click:e.takePhoto}}),e._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:e.isCanSelectFromAlbum&&!e.hasLog&&e.imageList&&e.imageList.length<e.imgLimit,expression:"isCanSelectFromAlbum && !hasLog && imageList && imageList.length < imgLimit"}],attrs:{src:n("d807"),alt:"take-photo-fromAlbum"},on:{click:function(t){return e.takePhoto("fromAlbum")}}})],2)])},f=[],l=n("d082");function u(e){n("2213")}var d=!1,A=u,m="data-v-46bc9c5b",p=null,v=Object(l["a"])(c,s,f,d,A,m,p);t["a"]=v.exports},3662:function(e,t,n){"use strict";var o=n("4325"),i=function(){var e={getFeedbackById:function(e){return o["a"].getFeedbackById(e)},getMaterialById:function(e){return o["a"].getMaterialById(e)},replyFeedback:function(e,t,n){return o["a"].replyFeedback(e,t,n)}};return e};t["a"]=i()},"43ee":function(e,t,n){"use strict";n("c904");var o=n("fd50"),i=n("a14a"),a=n.n(i),r=n("d49d"),h=function(){var e={unitId:"",list:[],currRoom:{}},t={getRoomList:function(){return r["a"].getRoomList(e.unitId).then((function(t){var n=[];if(console.log(t),t){var o=a.a.groupBy(t,"floor");console.log(o),a.a.each(o,(function(e,t){var o={};o.floor=t,o.roomList=[],o.no=t,console.log(e),a.a.each(e,(function(e){o.roomList.push({id:e.id,room_no:e.room_no,count:e.count})})),o.roomList=o.roomList.sort((function(e,t){return t.room_no-e.room_no})),n.push(o)})),n=n.sort((function(e,t){return t.no-e.no})),e.list=n}}))}};return{model:e,initRoomList:function(n,i){return n||e.unitId?(e.list=[],n&&(e.unitId=n),i&&(e.currRoom={}),t.getRoomList()):o["a"].reject("无效的单元")},refresh:function(){return t.getRoomList()},checkHasUpload:function(e){return r["a"].checkHasUpload(e)}}};t["a"]=h()},"5c53":function(e,t,n){var o=n("d048");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("85cb").default;i("67289221",o,!0,{})},"760e":function(e,t,n){"use strict";var o=n("1834"),i=function(e,t,n){var i="毛坯"===t?" and is_for_rough = 1 ":" and is_for_decorated = 1 ",a="select id, name, is_remark_required, sort from check_item_desc where check_item_id = ? "+i+" order by sort";return n&&(a="select desc.id, desc.name, desc.is_remark_required, desc.sort  from check_item_desc desc where check_item_id = ?"+i+" order by desc.sort"),o["a"].query(a,[e])},a=function(e,t){var n="毛坯"===t?" and is_for_rough = 1 ":" and is_for_decorated = 1 ",i="select desc.id, desc.name, desc.is_remark_required, desc.sort from check_item_desc desc left join desc_room_average_problem_num desc_num  on desc.id=desc_num.desc_id where check_item_id = ? "+n+" order by desc_num.num desc, desc.sort";return o["a"].query(i,[e])},r=function(e){var t="select distinct id.id,id.name from check_item_desc id inner join checkroom_problem cp on cp.item_id = id.check_item_id where cp.batch_room_id = ?";return o["a"].query(t,[e])};t["a"]={getRoomCheckListDescList:a,getCheckItemDescList:i,getDescByBathRoomId:r,getDescByIds:function(e){_.isArray(e)&&(e=e.join("','"));var t="select id,name,is_remark_required from check_item_desc where id in ('"+e+"')";return o["a"].query(t)},searchDesc:function(e,t){var n="select id,name,check_item_id as item_id from check_item_desc where check_item_id in ("+t+') and (lower(name) like "%" || ? || "%" or upper(name) like "%" || ? || "%") order by name';return o["a"].query(n,[e,e])}}},"99ee":function(e,t,n){"use strict";n("c904");var o=n("fd50"),i=n("a14a"),a=n.n(i),r=n("ff29"),h=function(){var e={unitId:"",list:[],currRoom:{}},t={getRoomList:function(){return r["a"].getRoomList(e.unitId).then((function(t){var n=[];if(console.log(t),t){var o=a.a.groupBy(t,"floor");console.log(o),a.a.each(o,(function(e,t){var o={};o.floor=t,o.roomList=[],o.no=t,console.log(e),a.a.each(e,(function(e){o.roomList.push({id:e.id,room_no:e.room_no,count:e.count})})),o.roomList=o.roomList.sort((function(e,t){return t.room_no-e.room_no})),n.push(o)})),n=n.sort((function(e,t){return t.no-e.no})),e.list=n}}))}};return{model:e,initRoomList:function(n,i){return n||e.unitId?(e.list=[],n&&(e.unitId=n),i&&(e.currRoom={}),t.getRoomList()):o["a"].reject("无效的单元")},refresh:function(){return t.getRoomList()},checkHasUpload:function(e){return r["a"].checkHasUpload(e)}}};t["a"]=h()},a215:function(e,t,n){t=e.exports=n("690e")(!1),t.push([e.i,"\n.zhkf .footer[data-v-514b9e13] {\n  padding: 20px 15px;\n  background: #f4f4f4;\n}\n.zhkf .footer button[data-v-514b9e13] {\n    background: -webkit-gradient(linear, left top, right top, from(#1cb0fd), to(#0099ff));\n    background: linear-gradient(90deg, #1cb0fd 0%, #0099ff 100%);\n    -webkit-box-shadow: 0px 2px 4px 0px rgba(0, 153, 255, 0.27);\n            box-shadow: 0px 2px 4px 0px rgba(0, 153, 255, 0.27);\n    border-radius: 4px;\n    width: 100%;\n    height: 45px;\n    border: none;\n    outline: none;\n    font-size: 16px;\n    color: #fff;\n}\n.zhkf .icon-gou[data-v-514b9e13] {\n  color: #0099ff;\n}\n.zhkf .problem-back[data-v-514b9e13] {\n  height: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.zhkf .content-wrapper[data-v-514b9e13] {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow: auto;\n}\n.zhkf .content[data-v-514b9e13] {\n  margin-top: 10px;\n  background: #fff;\n}\n.zhkf .content .title[data-v-514b9e13] {\n    font-size: 16px;\n    font-weight: 500px;\n    background: #f4f4f4;\n    font-weight: 500;\n    color: #606060;\n    height: 50px;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    border: none;\n    padding-left: 15px;\n}\n.zhkf .content .reasons[data-v-514b9e13] {\n    padding-left: 15px;\n    font-size: 15px;\n}\n.zhkf .content .reasons li[data-v-514b9e13] {\n      height: 50px;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n}\n.zhkf .content .reasons li[data-v-514b9e13]:last-child {\n        border: none;\n}\n.zhkf .content .reasons li.active[data-v-514b9e13] {\n        color: #0099ff;\n}\n.zhkf .content .reasons li span[data-v-514b9e13] {\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n}\n.zhkf .content .reasons li i[data-v-514b9e13] {\n        margin-right: 15px;\n}\n.zhkf .ipt[data-v-514b9e13] {\n  padding: 15px;\n  height: 110px;\n  position: relative;\n}\n.zhkf .ipt .less-words[data-v-514b9e13] {\n    position: absolute;\n    right: 15px;\n    bottom: 15px;\n    color: #a0a0a0;\n    font-size: 14px;\n}\n.zhkf .ipt textarea[data-v-514b9e13] {\n    border: none;\n    outline: none;\n    padding: 0;\n    width: 100%;\n    resize: none;\n    font-size: 14px;\n}\n.zhkf .imgs[data-v-514b9e13] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  position: relative;\n}\n.zhkf .imgs .img[data-v-514b9e13] {\n    width: 60px;\n    height: 60px;\n    border-radius: 2px;\n    margin-right: 20px;\n    margin-bottom: 10px;\n    overflow: hidden;\n    position: relative;\n}\n.zhkf .imgs .img img[data-v-514b9e13] {\n      width: 100%;\n}\n.zhkf .imgs .img .downloadTip[data-v-514b9e13] {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      -webkit-transform: translate(-50%, -50%);\n              transform: translate(-50%, -50%);\n      color: #606060;\n      width: 100%;\n      font-size: 12px;\n      text-align: center;\n}\n.zhkf .imgs .delete[data-v-514b9e13] {\n    position: absolute;\n    right: 1px;\n    top: -10px;\n    width: 20px;\n    height: 20px;\n    margin-right: 10px;\n}\n.zhkf .item[data-v-514b9e13] {\n  padding: 0 15px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  font-size: 14px;\n  padding-top: 20px;\n}\n.zhkf .item .name[data-v-514b9e13] {\n    color: #606060;\n    width: 90px;\n}\n.zhkf .item .name .builder[data-v-514b9e13] {\n      text-align: center;\n      width: 60px;\n}\n.zhkf .item .name .builder span[data-v-514b9e13] {\n        display: block;\n        font-size: 12px;\n}\n.zhkf .item .value[data-v-514b9e13] {\n    color: #202020;\n    line-height: 20px;\n}\n.zhkf .item .value.blue-color[data-v-514b9e13] {\n      color: #0099ff;\n}\n.zhkf .item .value.photo[data-v-514b9e13] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n",""])},af4c:function(e,t,n){"use strict";n("e697");var o=n("fd50"),i=n("a18c"),a=n("99ee"),r=n("43ee"),h=n("a14a"),c=n.n(h),s=n("c6e3"),f=function(){return{getNotCheckFloorAndRoom:function(e,t){return o["a"].all([s["a"].getTodoUnitFloors(e),s["a"].getTodoRoomByUnitId(e,t)]).then((function(e){var t,n=e[0],o=e[1],i="0";(c.a.isEmpty(n)||1===n.length&&""===n[0].floor)&&(t=!0,n=[{floor:i}]);for(var a=0;a<n.length;a++){n[a].roomList=[];for(var r=0;r<o.length;r++)(t||o[r].floor===n[a].floor)&&(o[r].floor=t?i:o[r].floor,n[a].roomList.push(o[r]))}return c.a.filter(n,(function(e){return e.roomList&&e.roomList.length>0}))}))},checkHasUpload:function(e,t){return s["a"].checkHasUpload(e,t).then((function(e){return e&&!!e["id"]}))},getRoomInfo:function(e,t){return s["a"].getTodoBatchRoomById(e,t)}}},l=f(),u=function(){var e={floorList:[]},t={},n={special_checkitem:"检查",simulate:"检查",opening:"接待",online_opening:"拍摄",feedback_remain_reply:"回复",delivery:"交付",online_delivery:"交付",problem_remain_reinspect:"复验"};return t.init=function(n,i,a){return a=a||!1,a||n!==e.batchUnitId||i!==e.moduleType?(e.floorList=[],e.batchUnitId=n,e.moduleType=i,e.currRoom=null,e.currFloor=null,e.tip="",t.getRoomList().then((function(t){console.log(t,"floorlist-----"),e.floorList=t}))):o["a"].resolve()},t.getRoomList=function(){return"problem_remain_reinspect"===e.moduleType?t.getReinspectRoomList():"feedback_remain_reply"===e.moduleType?t.getReplyRoomList():t.getCheckRoomList()},t.getCheckRoomList=function(){return l.getNotCheckFloorAndRoom(e.batchUnitId,e.moduleType).then((function(t){return c.a.isEmpty(t)&&l.checkHasUpload(e.batchUnitId,e.moduleType).then((function(t){t&&(e.tip="您已经"+n[e.moduleType]+"完毕，请立即上传~")})),t}))},t.getReinspectRoomList=function(){return a["a"].initRoomList(e.batchUnitId).then((function(){return c.a.isEmpty(a["a"].model.list)&&a["a"].checkHasUpload(e.batchUnitId).then((function(t){t&&(e.tip="您已经"+n[e.moduleType]+"完毕，请立即上传~")})),a["a"].model.list}))},t.getReplyRoomList=function(){return r["a"].initRoomList(e.batchUnitId).then((function(){return c.a.isEmpty(r["a"].model.list)&&r["a"].checkHasUpload(e.batchUnitId).then((function(t){t&&(e.tip="您已经"+n[e.moduleType]+"完毕，请立即上传~")})),r["a"].model.list}))},t.getRoomInfo=function(e,t){return l.getRoomInfo(e,t)},t.removeRoom=function(){var n=c.a.find(e.currFloor.roomList,{id:e.currRoom.id}),o=c.a.indexOf(e.currFloor.roomList,n);o>-1&&e.currFloor.roomList.splice(o,1),c.a.isEmpty(e.currFloor.roomList)&&(o=c.a.indexOf(e.floorList,e.currFloor),o>-1&&e.floorList.splice(o,1)),c.a.isEmpty(e.floorList)&&(t.init(e.batchUnitId,e.moduleType,!0),i["a"].go(-2))},{model:e,init:t.init,updateRoomList:function(i){return c.a.isEmpty(e)||!e.moduleType?o["a"].resolve():(i=i||!1,i?t.removeRoom():"problem_remain_reinspect"===e.moduleType?a["a"].refresh().then((function(){c.a.isEmpty(a["a"].model.list)&&a["a"].checkHasUpload(e.batchUnitId).then((function(t){t&&(e.tip="您已经"+n[e.moduleType]+"完毕，请立即上传~")})),e.floorList=a["a"].model.list})):"feedback_remain_reply"!==e.moduleType?t.getRoomInfo(e.currRoom.id,e.moduleType).then((function(n){if(c.a.isEmpty(n)||"已检查"===n.check_status)return t.removeRoom();for(var o=e.currFloor.roomList.length,i=0;i<o;i++)if(e.currFloor.roomList[i].id===n.id){e.currFloor.roomList[i]=n;break}})):(c.a.isEmpty(r["a"].model.list)&&r["a"].checkHasUpload(e.batchUnitId).then((function(t){t&&(e.tip="您已经"+n[e.moduleType]+"完毕，请立即上传~")})),void(e.floorList=r["a"].model.list)))}}};t["a"]=u()},d048:function(e,t,n){t=e.exports=n("690e")(!1),t.push([e.i,"\n.zhkf .app-button[data-v-44e13a4d] {\n  display: block;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  min-width: 120px;\n  padding: 0 40px;\n  border-radius: 23px;\n  font-size: 16px;\n  text-align: center;\n  text-decoration: none;\n}\n.zhkf .app-button.primary[data-v-44e13a4d] {\n    padding: 12px 0;\n    color: white;\n    background: -webkit-gradient(linear, left top, right top, from(#02b8ff), to(#0085ff));\n    background: linear-gradient(90deg, #02b8ff 0%, #0085ff 100%);\n    -webkit-box-shadow: 0px 2px 4px 0px rgba(0, 153, 255, 0.27);\n            box-shadow: 0px 2px 4px 0px rgba(0, 153, 255, 0.27);\n    -webkit-transition: opacity 0.3s ease-in-out;\n    transition: opacity 0.3s ease-in-out;\n}\n.zhkf .app-button.primary.disabled[data-v-44e13a4d] {\n      opacity: 0.5;\n}\n",""])},d49d:function(e,t,n){"use strict";var o=n("fd50"),i=n("4325"),a=n("a14a"),r=n.n(a),h=function(){var e={},t={position:i["a"].getPositionFilter,checkItem:i["a"].getCheckItemFilter};return e.getRoomList=function(e){return i["a"].getReplyRooms(e)},e.getFeedbackListByBatchRoomId=function(e,t,n){return e.batchRoomId?i["a"].getFeedbackListByBatchRoomId(e,t,n).then((function(e){return e})):o["a"].reject("获取问题列表失败")},e.getFeedbackFilters=function(e,n){if(!e.batchRoomId)return o["a"].reject();var i=r.a.cloneDeep(t),a=[];return delete i[n],e.position||delete i.checkItem,r.a.each(i,(function(n,o){a.push(function(n){return t[o](e).then((function(e){return{type:n,options:e}}))}(o))})),o["a"].all(a).then((function(e){var t={};return r.a.each(e,(function(e){var n=0;r.a.each(e.options,(function(e){n+=e.count})),e.options.unshift({name:"全部",count:n,id:""}),t[e.type]=e.options})),t}))},e.hasMoreFeedback=function(e){return i["a"].getFeedbackCount(e).then((function(e){return e.count>0}))},e.getAllFeedbackIds=function(e){return i["a"].getAllFeedbackIds(e).then((function(e){return e}))},e.checkHasUpload=function(e){return i["a"].hasUploadData(e).then((function(e){return e&&!!e["id"]}))},e};t["a"]=h()},d560:function(e,t,n){"use strict";n.r(t);n("cc57");var o=n("269c"),i=n("3662"),a=n("1b3a"),r=n("2fa5"),h=n("9229"),c={components:{TakePhoto:r["a"],appButton:o["a"]},data:function(){return{currReasonIndex:null,reasons:[{name:"您好，此问题会与您进一步核实，请耐心等待"},{name:"您好，此问题不属于质量问题"},{name:"其他"}],otherReason:"",sendBackImages:[],pageSubmitStatus:!0,replyReasonText:"",less:200}},watch:{otherReason:function(e){e.length>200&&(this.otherReason=e.slice(0,200)),this.less=200-e.length}},created:function(){var e=this;this.isBatch="todo"===this.$route.query.from,h["a"].getValueByKey("material_feedback_reply_reason").then((function(t){var n=JSON.parse(t);e.reasons=n.map((function(e){return{name:e}})),console.log(t,"=====回复口径")}))},methods:{selectReason:function(e,t){console.log("888888888",e),this.currReasonIndex=t,this.replyReasonText=e.name},onReplyFeedback:function(){var e=this;if(!this.pageSubmitStatus)return!1;if(!this.replyReasonText)return this.$comComps.toast.show("请选择退回原因",2e3),!1;if("其他"==this.replyReasonText&&!this.otherReason.trim())return this.$comComps.toast.show("请填写补充说明",2e3),!1;var t=this.replyReasonText+"；"+this.otherReason;this.pageSubmitStatus=!1;var n,o=this.$route.query,r=o.ids,h=o.batch_room_id,c=o.from;n=Array.isArray(r)?r:[r];var s=i["a"].replyFeedback(n,t,h);s.then((function(){e.$comComps.toast.show("回复成功",2e3),"todo"===c&&a["a"].refresh(r,!0,!Array.isArray(r)),e.pageSubmitStatus=!0}),(function(t){e.$comComps.toast.show(t,2e3),e.pageSubmitStatus=!0}))}}},s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"problem-back"},[n("cus-nav-bar",{attrs:{title:"选择回复口径","left-arrow":"",border:!1},on:{"click-left":function(t){return e.$router.go(-1)}}}),e._v(" "),n("div",{staticClass:"content-wrapper"},[n("div",{staticClass:"content"},[n("ul",{staticClass:"reasons van-hairline--bottom"},e._l(e.reasons,(function(t,o){return n("li",{key:o,staticClass:"notRepair van-hairline--bottom",class:{active:o===e.currReasonIndex},on:{click:function(n){return e.selectReason(t,o)}}},[n("span",[e._v(e._s(t.name))]),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:o===e.currReasonIndex,expression:"index === currReasonIndex"}],staticClass:"iconfont icon-gou"})])})),0),e._v(" "),n("div",{staticClass:"ipt van-hairline--bottom"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.otherReason,expression:"otherReason"}],attrs:{id:"",name:"reason",cols:"30",rows:"5",placeholder:"补充说明"},domProps:{value:e.otherReason},on:{input:function(t){t.target.composing||(e.otherReason=t.target.value)}}}),e._v(" "),n("span",{staticClass:"less-words"},[e._v(e._s(e.less))])]),e._v(" "),n("div",{staticClass:"footer"},[n("app-button",{on:{click:function(t){return e.onReplyFeedback()}}},[e._v("确认")])],1)])])],1)},f=[],l=n("d082");function u(e){n("f0a7")}var d=!1,A=u,m="data-v-514b9e13",p=null,v=Object(l["a"])(c,s,f,d,A,m,p);t["default"]=v.exports},d807:function(e,t){e.exports="data:image/png;base64,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"},e398:function(e,t,n){t=e.exports=n("690e")(!1),t.push([e.i,"\n.zhkf .photo[data-v-46bc9c5b] {\n  padding: 15px;\n  background: #fff;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.zhkf .photo .img-wrapper[data-v-46bc9c5b] {\n    display: inline-block;\n    position: relative;\n    padding-bottom: 5px;\n}\n.zhkf .photo img[data-v-46bc9c5b] {\n    display: inline-block;\n    width: 60px;\n    height: 60px;\n    margin-right: 20px;\n}\n.zhkf .photo .delete[data-v-46bc9c5b] {\n    position: absolute;\n    right: -10px;\n    top: -10px;\n    width: 20px;\n    height: 20px;\n}\n.zhkf .photo .downloadTip[data-v-46bc9c5b] {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%);\n    color: #606060;\n    width: 100%;\n    font-size: 12px;\n    text-align: center;\n}\n",""])},f0a7:function(e,t,n){var o=n("a215");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("85cb").default;i("4c9ceacb",o,!0,{})},f4b5:function(e,t){e.exports="data:image/png;base64,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"},ff29:function(e,t,n){"use strict";n("cc57"),n("e697"),n("9a33");var o=n("fd50"),i=n("4531"),a=n("760e"),r=n("a14a"),h=n.n(r),c=function(){var e={},t={position:i["a"].getPositionFilter,checkItem:i["a"].getCheckItemFilter,register:i["a"].getRegisterFilter};return e.getRoomList=function(e){return i["a"].getReinspectRooms(e)},e.getProblemListByBatchRoomId=function(e,t,n){return e.batchRoomId?i["a"].getProblemListByBatchRoomId(e,t,n).then((function(e){var t=[];return h.a.each(e,(function(e){e.desc=e.desc_id.split(";"),t=t.concat(e.desc)})),t=h.a.uniq(t),a["a"].getDescByIds(t).then((function(t){return h.a.each(e,(function(e){h.a.each(e.desc,(function(n,o){var i=h.a.find(t,{id:n});e.desc[o]=i?i.name:"无描述"})),e.desc=e.desc.join("；"),e.title=e.problem=e.position_name+"-"+e.item_name+"-"+e.desc+(e.remark?"；"+e.remark:"")})),e}))})):o["a"].reject("获取问题列表失败")},e.getProblemFilters=function(e,n){if(!e.batchRoomId)return o["a"].reject();var i=h.a.cloneDeep(t),a=[];return delete i[n],e.position||delete i.checkItem,h.a.each(i,(function(n,o){a.push(function(n){return t[o](e).then((function(e){return{type:n,options:e}}))}(o))})),o["a"].all(a).then((function(e){var t={};return h.a.each(e,(function(e){var n=0;h.a.each(e.options,(function(e){n+=e.count})),e.options.unshift({name:"全部",count:n,id:""}),t[e.type]=e.options})),t}))},e.hasMoreProblem=function(e){return i["a"].getProblemCount(e).then((function(e){return e.count>0}))},e.getAllProblemIds=function(e){return i["a"].getAllProblemIds(e).then((function(e){return e}))},e.checkHasUpload=function(e){return i["a"].hasUploadData(e).then((function(e){return e&&!!e["id"]}))},e};t["a"]=c()}}]);