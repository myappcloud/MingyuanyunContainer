(window["webpackJsonp_module_entry_gcxt_"]=window["webpackJsonp_module_entry_gcxt_"]||[]).push([["chunk-15d98e03"],{"4bba":function(t,a,e){a=t.exports=e("690e")(!1),a.push([t.i,".gcxt .contract-title[data-v-068e87ed]{background:#fff;padding-left:15px}.gcxt .contract-title .card-header[data-v-068e87ed]{padding-left:0}.gcxt .contract-title .iconfont[data-v-068e87ed]{font-size:36px;color:#3492e9;line-height:52px}.gcxt .contract-title .contract-name[data-v-068e87ed]{margin-left:.4rem;-webkit-box-flex:1;-ms-flex:1;flex:1}[data-v-068e87ed] .group .group-name{padding:10px 15px}",""])},8406:function(t,a,e){var o=e("4bba");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=e("85cb").default;n("7a538a6a",o,!0,{sourceMap:!1,shadowMode:!1})},d08c:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("business-edit-view",{attrs:{data:t.data,config:t.config,"biz-type":t.bizType,"change-type":t.changeType,mode:t.mode,comps:t.comps}},[e("div",{attrs:{slot:"FormCompView"},slot:"FormCompView"},[e("div",{staticClass:"contract-title"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"iconfont icon-icon_jiesuan"}),e("div",{staticClass:"contract-name"},[t._v(t._s(t.contract_name))])])]),e("form-detail",{attrs:{"sheet-id":t.sheetId,sheet:t.formViewData,"layout-arr":t.viewLayoutFormData.layoutArr,"group-info":t.viewLayoutFormData.groupInfo,"data-model":t.viewLayoutFormData.dataModel}})],1)])},n=[],i=(e("6d57"),e("de78"),e("225c")),c=e("7bce"),r=e("db68"),d=e("3ec3"),s=e("2655"),l=e("2bf9"),u=e("1f0e"),f=e("a262"),m=e("a783"),p=e("2d5c"),h={name:"ContractSettlementCommonEdit",components:{BusinessEditView:f["a"],FormComp:s["a"],FormDetail:l["a"]},data:function(){return{bizType:r["b"].store.getValueByKey("biz_type"),changeType:r["b"].store.getValueByKey("change_type")||"",data:null,comps:["ViewTemplate","FormCompView","FormComp","SubForms","UploadImages","Attachment","SelectPeople","UserSelector"],viewLayoutCode:"contract_settlement_contract_view",viewLayoutFormData:{},formViewData:null,contract_name:""}},computed:{sheetId:function(){return this.$route.query.id},mode:function(){return this.sheetId?"edit":"add"},config:function(){return d["a"][this.bizType]}},watch:{sheetId:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var t=this,a={},e=this.viewLayoutCode;return u["c"].getLayout(e).then((function(a){var o=a[e],n=u["c"].getLayoutData(e,o),i=n.dataModel,c=n.layoutArr,r=n.relations,d=n.groupInfo,s=n.relativeFlow;t.viewLayoutFormData={dataModel:i,layoutArr:c,relations:r,groupInfo:d,relativeFlow:s}})),i["a"].init({bizType:this.bizType,changeType:this.changeType,sheetId:this.sheetId,params:JSON.parse(this.$route.query.params||"null"),config:this.config,hooks:a}).then((function(a){var e=t.$route.query.contract_id;if(e){a.defaultSelectBizId="contract_id",a.formData.dataModel.contract_id={value:e,isSave:0,type:"hidden"};var o=a;t.data=o,Object(p["o"])({contract_id:e}).then((function(a){m["a"].contracts=a.data,t.formViewData=a.data[0],t.contract_name=a.data[0].contract_name;var e=Object.values(t.viewLayoutFormData.dataModel);t.fillFormData(e,m["a"].contracts[0])}))}else{a.defaultSelectBizId="contract_id",a.formData.dataModel.contract_id={value:a.detail.contract_info.contract_id,isSave:0,type:"hidden"},t.formViewData=a.detail.contract_info,t.contract_name=a.detail.contract_info.contract_name;var n=Object.values(t.viewLayoutFormData.dataModel);t.fillFormData(n,a.detail.contract_info),t.data=a,t.$nextTick((function(){m["a"].contracts=[a.detail.contract_info]}))}}))},fillFormData:function(t,a){t.forEach((function(t){var e=t.id;if("fq_date"!==e){var o=a[e];t=c["b"].formatFieldForEdit(t,o),"fq_company"===t.id&&(t.__selectedOption=a.fq_company_info)}}))}}},y=h,_=(e("f0d8"),e("c701")),v=Object(_["a"])(y,o,n,!1,null,"068e87ed",null);a["default"]=v.exports},f0d8:function(t,a,e){"use strict";e("8406")}}]);