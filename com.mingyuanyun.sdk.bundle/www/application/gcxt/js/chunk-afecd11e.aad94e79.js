(window["webpackJsonp_module_entry_gcxt_"]=window["webpackJsonp_module_entry_gcxt_"]||[]).push([["chunk-afecd11e"],{"17c1":function(t,e,a){"use strict";a("adc5")},"18c5":function(t,e,a){t.exports=a.p+"img/auth_sp_2.022bb3b1.png"},"1c66":function(t,e,a){e=t.exports=a("690e")(!1),e.push([t.i,".gcxt .content[data-v-1b24b228]{position:static}.gcxt .reason[data-v-1b24b228]{border:none;resize:none;background-color:#fff;padding:8px 15px;width:100%;height:100px}.gcxt .btn[data-v-1b24b228]{border:none;height:50px;line-height:50px;text-align:center;font-size:16px;width:50%}.gcxt .cancel[data-v-1b24b228]{background-color:#fff;color:#3492e9}.gcxt .confirm[data-v-1b24b228]{color:#fff;background-color:#3492e9}",""])},"24af":function(t,e,a){e=t.exports=a("690e")(!1),e.push([t.i,".gcxt[data-v-d18cc292] :export{colorPrimary:#2c5cf7;headerBackgroundColor:#fff;headerTextColor:#333}.gcxt .content-main[data-v-d18cc292]{position:absolute;left:0;top:0;bottom:50px;width:100%;overflow:auto}.gcxt .content-bottom[data-v-d18cc292]{position:absolute;left:0;bottom:0;width:100%;height:50px}.gcxt .contract-title[data-v-d18cc292]{font-size:13px;line-height:39px;color:#999;padding:0 14px}.gcxt .contract-item[data-v-d18cc292]{padding-left:14px;padding-top:8px;background-color:#fff;position:relative}.gcxt .contract-inner[data-v-d18cc292]{padding-bottom:16px;border-bottom:1px solid #f3f3f3}.gcxt .contract-inner .iconfont[data-v-d18cc292]{font-size:20px;position:absolute;width:20px;height:20px;right:20px;top:50%;margin-top:-10px}.gcxt .contract-inner .icon-selected[data-v-d18cc292]{color:#2c5cf7}.gcxt .contract-name[data-v-d18cc292]{font-size:16px;line-height:36px}.gcxt .contract-company[data-v-d18cc292],.gcxt .contract-no[data-v-d18cc292],.gcxt .contract-project[data-v-d18cc292]{font-size:13px;color:#999;line-height:23px}.gcxt .content-bottom[data-v-d18cc292]{padding-top:5px;padding-left:15px;padding-right:15px}",""])},"2cc8":function(t,e,a){"use strict";a("646d")},4388:function(t,e,a){var n=a("e9af");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=a("85cb").default;o("7897a643",n,!0,{sourceMap:!1,shadowMode:!1})},"44d2":function(t,e,a){e=t.exports=a("690e")(!1),e.push([t.i,'.gcxt[data-v-ab5ebd9c] :export{colorPrimary:#2c5cf7;headerBackgroundColor:#fff;headerTextColor:#333}.gcxt .content-main[data-v-ab5ebd9c]{position:absolute;left:0;top:0;bottom:50px;width:100%;overflow:auto}.gcxt .content-bottom[data-v-ab5ebd9c]{position:absolute;left:0;bottom:1px;width:100%;padding:5px 15px;border-top:1px solid #e7e7e7}.gcxt .contract-title[data-v-ab5ebd9c]{line-height:40px;padding-left:15px;color:#999;font-size:13px}.gcxt .contract-item[data-v-ab5ebd9c]{background-color:#fff;padding-left:15px;padding-top:16px;margin-bottom:15px}.gcxt .contract-item[data-v-ab5ebd9c]:last-child{margin-bottom:0}.gcxt .contract-row[data-v-ab5ebd9c]{line-height:14px;padding-bottom:16px}.gcxt .contract-row span[data-v-ab5ebd9c]{color:#666;padding-left:25px}.gcxt .contract-notMatch[data-v-ab5ebd9c]{border-top:1px solid #f3f3f3;text-align:center;color:#999;line-height:49px}.gcxt .contract-match[data-v-ab5ebd9c]{position:relative;padding:8px 80px 14px 14px;border-top:1px solid #f3f3f3}.gcxt .contract-match .name[data-v-ab5ebd9c]{font-size:16px;line-height:36px}.gcxt .contract-match .name[data-v-ab5ebd9c]:before{content:"";height:12px;border-left:4px solid #f90;position:absolute;left:0;top:20px}.gcxt .contract-match .company[data-v-ab5ebd9c],.gcxt .contract-match .number[data-v-ab5ebd9c],.gcxt .contract-match .project[data-v-ab5ebd9c]{font-size:13px;line-height:23px;color:#999}.gcxt .contract-subItem[data-v-ab5ebd9c]{padding-left:15px;position:relative}.gcxt .contract-child[data-v-ab5ebd9c]{line-height:44px;border-bottom:1px solid #f3f3f3;position:relative}.gcxt .contract .van-switch[data-v-ab5ebd9c]{position:absolute;right:20px;top:50%;margin-top:-12px;line-height:22px}.gcxt .temp-title[data-v-ab5ebd9c]{font-size:13px;line-height:39px;color:#999;padding:0 14px}.gcxt .temp-item[data-v-ab5ebd9c]{padding-left:14px;padding-top:8px;background-color:#fff;position:relative}.gcxt .temp-inner[data-v-ab5ebd9c]{padding-bottom:16px;border-bottom:1px solid #f3f3f3}.gcxt .temp-inner .iconfont[data-v-ab5ebd9c]{font-size:20px;position:absolute;width:20px;height:20px;right:20px;top:50%;margin-top:-10px}.gcxt .temp-inner .icon-selected[data-v-ab5ebd9c]{color:#2c5cf7}.gcxt .temp-name[data-v-ab5ebd9c]{font-size:16px;line-height:36px}.gcxt .temp-company[data-v-ab5ebd9c],.gcxt .temp-no[data-v-ab5ebd9c],.gcxt .temp-project[data-v-ab5ebd9c]{font-size:13px;color:#999;line-height:23px}.gcxt .add-contract[data-v-ab5ebd9c]{line-height:56px;margin-top:15px;margin-bottom:15px;background-color:#fff;padding-left:15px;color:#2c5cf7;font-size:16px}.gcxt .add-contract .iconfont[data-v-ab5ebd9c]{font-size:14px;margin-right:5px}.gcxt .btn-confirm[data-v-ab5ebd9c]{display:block;width:100%;height:50px;background-color:#3492e9;color:#fff;text-align:center;line-height:50px;border:none;font-size:16px}.gcxt .btn-confirm .iconfont[data-v-ab5ebd9c]{display:inline-block;margin-right:7px}',""])},"5b06":function(t,e,a){"use strict";a("b995")},"63bb":function(t,e,a){e=t.exports=a("690e")(!1),e.push([t.i,".gcxt .content[data-v-fa55d206]{position:static}.gcxt .content-main[data-v-fa55d206]{position:absolute;left:0;top:15px;bottom:50px;width:100%;overflow:auto}.gcxt .content-bottom[data-v-fa55d206]{position:absolute;left:0;bottom:1px;width:100%;height:50px;border-top:1px solid #e7e7e7}.gcxt .search-row[data-v-fa55d206]{background-color:#fff;padding-left:15px;height:55px;line-height:55px;border-top:1px solid #f3f3f3;display:-webkit-box;display:-ms-flexbox;display:flex}.gcxt .search-row[data-v-fa55d206]:first-child{border-top:none}.gcxt .search-row label[data-v-fa55d206]{width:40%;font-size:16px;color:#333}.gcxt .search-row input[data-v-fa55d206]{border:none;background-color:transparent}.gcxt .search-tools[data-v-fa55d206]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-top:14px;padding:0 15px}.gcxt .search-tools .btn[data-v-fa55d206]{border:none;outline:none;border-radius:5px;height:42px;line-height:40px;font-size:16px}.gcxt .search-tools .reset-btn[data-v-fa55d206]{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-preferred-size:38%;flex-basis:38%}.gcxt .search-tools .search-btn[data-v-fa55d206]{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-preferred-size:59%;flex-basis:59%}.gcxt .contract-title[data-v-fa55d206]{font-size:13px;line-height:39px;color:#999;padding:0 14px}.gcxt .contract-item[data-v-fa55d206]{padding-left:14px;padding-top:8px;background-color:#fff;position:relative}.gcxt .contract-inner[data-v-fa55d206]{padding-bottom:16px;border-bottom:1px solid #f3f3f3}.gcxt .contract-inner .iconfont[data-v-fa55d206]{font-size:20px;position:absolute;width:20px;height:20px;right:20px;top:50%;margin-top:-10px}.gcxt .contract-inner .icon-selected[data-v-fa55d206]{color:#3492e9}.gcxt .contract-name[data-v-fa55d206]{font-size:16px;line-height:36px}.gcxt .contract-company[data-v-fa55d206],.gcxt .contract-no[data-v-fa55d206],.gcxt .contract-project[data-v-fa55d206]{font-size:13px;color:#999;line-height:23px}.gcxt .btn-confirm[data-v-fa55d206]{display:block;width:100%;height:50px;background-color:#3492e9;color:#fff;text-align:center;line-height:50px;border:none;font-size:16px}.gcxt .btn-confirm .iconfont[data-v-fa55d206]{display:inline-block;margin-right:7px}.gcxt .bg-search-empty[data-v-fa55d206]:before{top:auto;margin-top:10px}.gcxt .content-main[data-v-fa55d206]{position:static}.gcxt .search-empty[data-v-fa55d206]{position:relative;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;overflow:hidden}",""])},"646d":function(t,e,a){var n=a("63bb");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=a("85cb").default;o("12c26bfe",n,!0,{sourceMap:!1,shadowMode:!1})},"72c4":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.user?n("div",{staticClass:"user"},[n("div",{staticClass:"user-info"},[n("span",{staticClass:"user-header"},[t.user.photo?n("img",{attrs:{src:t.user.photo,alt:""}}):n("img",{attrs:{src:a("e841"),alt:""}})]),n("div",{staticClass:"user-name",domProps:{textContent:t._s(t.user.name)}}),n("div",{staticClass:"user-phone",domProps:{textContent:t._s(t.user.phone)}}),t.user_id!==t.user.user_id?n("a",{staticClass:"iconfont icon-_lianxikefu",attrs:{href:"tel:"+t.user.phone}}):t._e()]),n("div",{staticClass:"user-row role"},[n("label",[t._v("认证身份")]),n("span",{domProps:{textContent:t._s(t.user.role_name)}})]),t.station?n("div",{staticClass:"user-row role"},[n("label",[t._v("认证岗位")]),n("span",{domProps:{textContent:t._s(t.user.station_name)}})]):t._e(),n("div",{staticClass:"user-row time"},[n("label",[t._v("发起时间")]),n("span",{domProps:{textContent:t._s(t.user.create_time)}})]),t.user.auth_count>0||t.user.contract&&t.user.contract.length?n("div",{staticClass:"sp-user"},[n("label",[t._v("审批人")]),n("span",{domProps:{textContent:t._s(t.user.sp_user_name+"("+t.user.sp_user_phone+")")}}),n("a",{staticClass:"iconfont icon-_lianxikefu",attrs:{href:"tel:"+t.user.sp_user_phone}})]):t._e(),1===t.user.sp_status?n("img",{staticClass:"identify-status",attrs:{src:a("e645"),alt:""}}):2===t.user.sp_status?n("img",{staticClass:"identify-status",attrs:{src:a("18c5"),alt:""}}):t._e()]):t._e(),t.user&&t.user.license_image&&t.user.license_image.length?n("upload-images",{staticClass:"license-image img-row",attrs:{value:t.user.license_image,editable:!1}}):t._e()],1)},o=[],c=a("a740"),r=a("7b41"),i={name:"IdentifyUser",components:{UploadImages:r["a"]},props:{user:Object,station:Boolean},data:function(){var t=Object(c["d"])();return{user_id:t.user_id}},methods:{}},s=i,d=(a("5b06"),a("c701")),p=Object(d["a"])(s,n,o,!1,null,"6c281c48",null);e["a"]=p.exports},"876e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-group"},[a("div",{staticClass:"page",class:{"page-current":!t.page}},[a("v-header",{attrs:{title:t.text_title}}),a("div",{staticClass:"content"},[a("div",{staticClass:"bar bar-tab content-bottom"},[t.user?a("app-button",{on:{click:t.confirm}},[t._v(t._s(t.text_button))]):t._e()],1),a("div",{staticClass:"content-main"},["1"===t.auth_type?a("div",[a("xt-wizard",{attrs:{wizard:t.wizard,current:t.current}})],1):t._e(),"2"===t.auth_type&&t.user?a("div",[a("identify-user",{attrs:{user:t.user}})],1):t._e(),a("div",{staticClass:"contract"},[a("div",{staticClass:"contract-title"},[t._v("根据申请人提交的信息，为您自动检索到以下合同")]),t._l(t.matchingList,(function(e,n){return a("div",{key:n,staticClass:"contract-item"},[e.project_name?a("div",{staticClass:"contract-row"},[a("label",{attrs:{for:""}},[t._v("所属项目")]),a("span",{domProps:{textContent:t._s(e.project_name)}})]):t._e(),a("div",{staticClass:"contract-row"},[a("label",{attrs:{for:""}},[t._v("合同信息")]),a("span",{domProps:{textContent:t._s(e.contract_no_keyword)}})]),e.contract.length||e.recommend_list.length?t._e():a("div",{staticClass:"contract-notMatch"},[t._v("\n              未匹配到合同，请手动添加\n            ")]),t._l(e.contract,(function(e){return a("div",{key:e.contract_id,staticClass:"contract-match"},[a("div",{staticClass:"name",domProps:{textContent:t._s(e.contract_name)}}),a("div",{staticClass:"number",domProps:{textContent:t._s(e.contract_no)}}),a("div",{staticClass:"company",domProps:{textContent:t._s(e.yf_company)}}),a("div",{staticClass:"project",domProps:{textContent:t._s(e.project_name)}}),a("van-switch",{staticClass:"w60 agree",attrs:{size:"22px"},model:{value:t.identify[e.contract_id],callback:function(a){t.$set(t.identify,e.contract_id,a)},expression:"identify[recommend.contract_id]"}})],1)})),!e.contract.length&&e.recommend_list.length?a("div",{staticClass:"contract-notMatch"},[t._v("\n              没有符合条件的合同，以下是匹配度较高的合同\n            ")]):t._e(),t._l(e.recommend_list,(function(e){return a("div",{key:e.contract.contract_id,staticClass:"contract-match"},[a("div",{directives:[{name:"highlight",rawName:"v-highlight",value:{text:e.contract.contract_name,match:e.match},expression:"{text: recommend.contract.contract_name, match: recommend.match}"}],staticClass:"name"}),a("div",{directives:[{name:"highlight",rawName:"v-highlight",value:{text:e.contract.contract_no,match:e.match},expression:"{text: recommend.contract.contract_no, match: recommend.match}"}],staticClass:"number"}),a("div",{directives:[{name:"highlight",rawName:"v-highlight",value:{text:e.contract.yf_company,match:e.match},expression:"{text: recommend.contract.yf_company, match: recommend.match}"}],staticClass:"company"}),a("div",{directives:[{name:"highlight",rawName:"v-highlight",value:{text:e.contract.project_name,match:e.match},expression:"{text: recommend.contract.project_name, match: recommend.match}"}],staticClass:"project"}),a("van-switch",{staticClass:"w60 agree",attrs:{size:"22px"},model:{value:t.identify[e.contract.contract_id],callback:function(a){t.$set(t.identify,e.contract.contract_id,a)},expression:"identify[recommend.contract.contract_id]"}})],1)}))],2)}))],2),t.tempContractList.length?a("div",[a("div",{staticClass:"temp-title",domProps:{textContent:t._s("我添加的合同("+t.tempContractList.length+")")}}),t._l(t.tempContractList,(function(e){return a("div",{key:e.contract_id,staticClass:"temp-item"},[a("div",{staticClass:"temp-inner",on:{click:function(a){t.toggleTemp(e)}}},[a("div",{staticClass:"temp-name",domProps:{textContent:t._s(e.contract_name)}}),a("div",{staticClass:"temp-no",domProps:{textContent:t._s(e.contract_no)}}),a("div",{staticClass:"temp-company",domProps:{textContent:t._s(e.yf_company)}}),a("div",{staticClass:"temp-project",domProps:{textContent:t._s(e.project_name)}}),t.tempContract[e.contract_id]?a("i",{staticClass:"iconfont icon-selected"}):a("i",{staticClass:"iconfont icon-redio-unselected"})])])}))],2):t._e(),a("div",{staticClass:"add-contract",on:{click:t.goSearch}},[a("i",{staticClass:"iconfont icon--jia"}),a("span",[t._v("添加更多合同")])])])])],1),a("identify-contract-search",{attrs:{pid:"search",page:t.page,"current-project":t.currentProject,"on-confirm":t.onSelectContract,"on-select-project":t.onSelectProject,"go-select-project":function(){return t.page="project"},"go-back":function(){return t.page=null}}}),a("authorize-project-list-yf",{attrs:{pid:"project",page:t.page,"project-list":t.project_list,"go-back":function(){return t.page="search"},select:t.onSelectProject}}),a("authorize-contract-list",{attrs:{pid:"contract",page:t.page,"contract-list":t.contractList,"go-back":function(){return t.page=""},"on-confirm":t.onSelectContract}}),a("identify-reject-reason",{attrs:{pid:"reason",page:t.page,reject:t.reject,"go-back":function(){return t.page=null}}})],1)},o=[],c=(a("e10e"),a("6d57"),a("cc57"),a("f548"),a("9dd9"),a("9a33"),a("9e76"),a("af0b")),r=a("a740"),i=a("72c4"),s=a("9423"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("popup-page",{directives:[{name:"phy-back",rawName:"v-phy-back",value:{status:"show",method:"goBack"},expression:"{status: 'show', method: 'goBack'}"}],attrs:{value:t.show}},[a("v-header",{attrs:{slot:"header",title:"选择合同","back-action":t.goBack},slot:"header"}),a("div",{staticClass:"search-form"},[a("div",{staticClass:"search-row",on:{click:t.goSelectProject}},[a("label",{attrs:{for:""}},[t._v("所属项目")]),t.project?t._e():a("input",{attrs:{disabled:"true",type:"text",placeholder:"请选择所属项目"}}),t.project?a("span",{domProps:{textContent:t._s(t.project.project_name)}}):t._e()]),a("div",{staticClass:"search-row"},[a("label",{attrs:{for:""}},[t._v("合同信息")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:"合同编号或名称关键字"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]),a("div",{staticClass:"search-row"},[a("label",{attrs:{for:""}},[t._v("乙方单位")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.yf_company,expression:"yf_company"}],attrs:{type:"text",placeholder:"请输入乙方单位关键字"},domProps:{value:t.yf_company},on:{input:function(e){e.target.composing||(t.yf_company=e.target.value)}}})]),a("div",{staticClass:"search-tools"},[a("app-button",{staticClass:"reset-btn",attrs:{plain:""},on:{click:t.reset}},[t._v("\n        重置\n      ")]),a("app-button",{staticClass:"search-btn",on:{click:t.search}},[t._v("\n        查找\n      ")])],1)]),t.contractList?[t.contractList.length?a("div",[a("div",{staticClass:"contract-title",domProps:{textContent:t._s("为您搜索到以下合同("+t.contractList.length+")")}}),t._l(t.contractList,(function(e){return a("div",{key:e.contract_id,staticClass:"contract-item"},[a("div",{staticClass:"contract-inner",on:{click:function(a){t.toggle(e)}}},[a("div",{staticClass:"contract-name",domProps:{textContent:t._s(e.contract_name)}}),a("div",{staticClass:"contract-no",domProps:{textContent:t._s(e.contract_no)}}),a("div",{staticClass:"contract-company",domProps:{textContent:t._s(e.yf_company)}}),a("div",{staticClass:"contract-project",domProps:{textContent:t._s(e.project_name)}}),t.selected[e.contract_id]?a("i",{staticClass:"iconfont icon-selected"}):a("i",{staticClass:"iconfont icon-redio-unselected"})])])}))],2):a("div",{staticClass:"search-empty"},[a("no-record",{attrs:{txt:"没有符合条件的结果",type:"search"}})],1)]:t._e(),t.contractList?a("app-button-group",{attrs:{slot:"footer"},slot:"footer"},[a("app-button",{on:{click:function(e){t.onConfirm(t.selected)}}},[t._v("确定")])],1):t._e()],2)},p=[],l=a("6485"),u=a("5782"),f={name:"IdentifyContractSearch",components:{AppButton:u["a"],noRecord:l["a"]},props:{pid:String,page:String,currentProject:Object,onConfirm:Function,onSelectProject:Function,goSelectProject:Function,goBack:{type:Function,default:function(){return function(){}}}},data:function(){return{project:null,keyword:"",yf_company:"",contractList:null,selected:{}}},computed:{show:function(){return this.pid===this.page}},watch:{page:function(t){t||(this.project=null,this.keyword="",this.yf_company="",this.contractList=null,this.selected={}),this.project=this.currentProject}},methods:{reset:function(){this.project=null,this.keyword="",this.yf_company="",this.contractList=null,this.selected={},this.onSelectProject(null)},search:function(){var t=this,e=this.project,a=this.keyword,n=this.yf_company;if(e)if(a||n){var o={project_id:e.project_id,keyword:a,yf_company:n,page_index:1,page_siez:100};Object(c["l"])(o).then((function(e){t.contractList=e.data}))}else this.sui.toast("请输入合同信息关键字或乙方单位关键字");else this.sui.toast("请选择所属项目")},toggle:function(t){var e=t.contract_id;this.selected[e]?this.$set(this.selected,e,null):this.$set(this.selected,e,t)}}},h=f,g=(a("2cc8"),a("c701")),x=Object(g["a"])(h,d,p,!1,null,"fa55d206",null),m=x.exports,b=a("9254"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.page===t.pid?a("div",{staticClass:"authorize-company-list page page-current"},[a("v-header",{attrs:{title:"添加更多合同","back-action":t.goBack}}),a("div",{staticClass:"content"},[a("div",{staticClass:" bar bar-tab content-bottom"},[a("app-button",{staticClass:"btn-confirm",on:{click:function(e){t.onConfirm(t.selected)}}},[t._v("确认")])],1),a("div",{staticClass:"content-main"},t._l(t.contractList,(function(e){return a("div",{key:e.contract_id,staticClass:"contract-item"},[a("div",{staticClass:"contract-inner",on:{click:function(a){t.toggle(e)}}},[a("div",{staticClass:"contract-name",domProps:{textContent:t._s(e.contract_name)}}),a("div",{staticClass:"contract-no",domProps:{textContent:t._s(e.contract_no)}}),a("div",{staticClass:"contract-company",domProps:{textContent:t._s(e.yf_company)}}),a("div",{staticClass:"contract-project",domProps:{textContent:t._s(e.project_name)}}),t.selected[e.contract_id]?a("i",{staticClass:"iconfont icon-selected"}):a("i",{staticClass:"iconfont icon-redio-unselected"})])])})))])],1):t._e()},v=[],y={name:"AuthorizeContractList",components:{AppButton:u["a"]},props:{page:String,pid:String,contractList:{type:Array,default:function(){return[]}},goBack:{type:Function,default:function(){return function(){}}},onConfirm:Function},data:function(){return{selected:{}}},methods:{toggle:function(t){var e=t.contract_id;this.selected[e]?this.$set(this.selected,e,null):this.$set(this.selected,e,t)}}},j=y,C=(a("e88f"),Object(g["a"])(j,_,v,!1,null,"d18cc292",null)),w=C.exports,k=a("8e4c"),O={name:"IdentifyContract",components:{IdentifyUser:i["a"],IdentifyRejectReason:s["a"],IdentifyContractSearch:m,AuthorizeProjectListYf:b["a"],AuthorizeContractList:w},directives:{highlight:function(t,e){var a=e.value,n=a.text,o=a.match,c=o.match_val.split(",");c=c.map((function(t){return".*+()$/?[]^{}-!<>".indexOf(t)>-1?"${code}":t})),c=c.join("|"),c="(".concat(c,")");var r=new RegExp(c,"g");t.innerHTML=n.replace(r,'<span style="color: #3492e9">$&</span>')}},props:{user:Object},data:function(){var t=this.$route.query.auth_type;return{wizard:k["b"],current:k["b"][1],auth_type:t,text_button:"2"===t?"完成":"授权并通过认证",text_title:"2"===t?"合同权限审批":"授权合同",tenant:Object(r["a"])(),page:"",matchingList:[],identify:{},project_list:[],contractList:[],currentProject:null,tempContractList:[],tempContract:{}}},watch:{},mounted:function(){var t=this,e=this.$route.query,a=e.auth_id,n=e.sp_user_id,o=e.role_code,i=this.tenant,s=Object(r["d"])();Object(c["r"])({auth_id:a,sp_user_id:n,role_code:o}).then((function(e){t.matchingList=e.data})),"1004"===i.role_code?Object(c["i"])({page_size:1e3,page_index:1}).then((function(e){t.contractList=e.data})):Object(c["n"])({tenant_code:i.tenant_code,jf_user_code:s.user_code}).then((function(e){t.project_list=e.data}))},methods:{toggle:function(t){var e=t.project_id,a=this.identify[e];this.$set(this.identify,e,!a)},toggleTemp:function(t){console.log(t);var e=t.contract_id,a=this.tempContract[e];this.$set(this.tempContract,e,!a)},confirm:function(){var t=this,e=this.auth_type,a=this.user,n=this.identify,o=this.tempContract,r=this.$route.query,i=r.auth_id,s=r.role_code,d=r.sp_user_id,p=[];for(var l in n)n[l]&&p.push(l);for(var u in o)o[u]&&!n[u]&&p.push(u);p.length?Object(c["g"])({auth_id:i,role_code:s,contract_id:p,sp_user_id:d}).then((function(e){t.$router.push({path:"/identify/result",query:{auth_id:i,role_code:s,sp_user_id:d}})})):"2"===e?this.sui.confirm("您未授权任何项目，是否确认拒绝".concat(a.name,"的申请？"),(function(){t.page="reason"})):this.sui.toast("请选择授权合同")},reject:function(t){var e=this,a=this.$route.query,n=a.auth_id,o=a.role_code,r=a.sp_user_id;Object(c["u"])({auth_id:n,role_code:o,sp_user_id:r,reason:t}).then((function(t){e.$router.push("/home/todo")}))},goSearch:function(){var t=this.tenant;this.currentProject=null,"1004"===t.role_code?this.page="contract":this.page="search"},onSelectContract:function(t){var e=this;Object.keys(t).forEach((function(a){if(t[a]&&t[a]){if(!(a in e.tempContract)){var n=t[a];e.tempContractList.push(n)}e.$set(e.tempContract,a,!0)}})),this.page=null},onSelectProject:function(t){this.currentProject=t,this.page="search"}}},P=O,z=(a("17c1"),Object(g["a"])(P,n,o,!1,null,"ab5ebd9c",null));e["default"]=z.exports},8865:function(t,e,a){"use strict";a("4388")},"8e4c":function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s}));var n,o=a("28f8"),c=a("f121"),r=[{name:"身份认证",route:"/identify/role"},{name:"选择项目授权",route:"/identify/project"}],i=[{name:"身份认证",route:"/identify/role"},{name:"选择合同授权",route:"/identify/contract"}],s=(n={},Object(o["a"])(n,c["b"].CONSULTANT,r),Object(o["a"])(n,c["b"].DATA_MNGER,r),Object(o["a"])(n,c["b"].CONTRACT_CLERK,r),Object(o["a"])(n,c["b"].JF_MNGER,r),Object(o["a"])(n,c["b"].JF_WORKER,r),Object(o["a"])(n,c["b"].SUPERVISOR,r),Object(o["a"])(n,c["b"].YF_MNGER,i),Object(o["a"])(n,c["b"].YF_WORKER,i),Object(o["a"])(n,c["b"].JF_CLY,r),Object(o["a"])(n,c["b"].YF_CLY,r),Object(o["a"])(n,c["b"].CLGYS,r),n)},9254:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.page===t.pid?a("div",{staticClass:"authorize-company-list page page-current"},[a("v-header",{attrs:{title:"选择项目","back-action":t.goBack}}),a("div",{staticClass:"content"},[a("div",{staticClass:"content-top"},[a("search-bar",{attrs:{placeholder:"搜索项目"},on:{search:t.change}})],1),a("div",{staticClass:"content-main"},t._l(t.filterProjectList,(function(e){return a("div",{key:e.project_id,staticClass:"project"},[a("div",{staticClass:"project-inner"},[t._v(t._s(e.project_name))]),t._l(e.children,(function(e){return a("div",{key:e.project_id,staticClass:"project"},[a("div",{staticClass:"project-inner",on:{click:function(a){t.select(e)}}},[a("span",[t._v(t._s(e.project_name))])])])}))],2)})))])],1):t._e()},o=[],c=(a("9e76"),a("4c09")),r={name:"AuthorizeProjectListYf",props:{page:String,pid:String,projectList:{type:Array,default:function(){return[]}},select:{type:Function,default:function(){return function(){}}},goBack:{type:Function,default:function(){return function(){}}}},data:function(){var t=this.projectList,e=void 0===t?[]:t;return{filterProjectList:Object(c["a"])(e)}},watch:{projectList:function(t){this.filterProjectList=Object(c["a"])(t)}},methods:{change:function(t){var e=this.projectList;t&&(e=JSON.parse(JSON.stringify(e)),e=e.filter((function(e){return!!e.project_name.match(t)||(e.children=e.children.filter((function(e){if(e.project_name.match(t))return!0})),!!e.children.length||void 0)}))),this.filterProjectList=e}}},i=r,s=(a("8865"),a("c701")),d=Object(s["a"])(i,n,o,!1,null,"08243e80",null);e["a"]=d.exports},9423:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("popup-page",{attrs:{value:t.pid===t.page}},[a("v-header",{attrs:{title:"审批意见","back-action":t.goBack}}),a("div",{staticClass:"content"},[a("div",{staticClass:"content-main"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"reason",attrs:{placeholder:"请输入拒绝原因（非必填）"},domProps:{value:t.reason},on:{input:function(e){e.target.composing||(t.reason=e.target.value)}}})])]),a("app-button-group",{attrs:{slot:"footer"},slot:"footer"},[a("app-button",{attrs:{plain:""},on:{click:t.goBack}},[t._v("取消")]),a("app-button",{on:{click:function(e){t.reject(t.reason)}}},[t._v("确定")])],1)],1)},o=[],c=a("e5b9"),r={name:"IdentifyRejectReason",components:{PopupPage:c["a"]},props:{page:String,pid:String,goBack:{type:Function,default:function(){return function(){}}},reject:Function},data:function(){return{reason:""}},watch:{page:function(){this.reason=""}}},i=r,s=(a("faef"),a("c701")),d=Object(s["a"])(i,n,o,!1,null,"1b24b228",null);e["a"]=d.exports},"97b3":function(t,e,a){var n=a("1c66");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=a("85cb").default;o("fd862b30",n,!0,{sourceMap:!1,shadowMode:!1})},abce:function(t,e,a){var n=a("24af");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=a("85cb").default;o("15eeec8f",n,!0,{sourceMap:!1,shadowMode:!1})},adc5:function(t,e,a){var n=a("44d2");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=a("85cb").default;o("4605d27a",n,!0,{sourceMap:!1,shadowMode:!1})},af0b:function(t,e,a){"use strict";a.d(e,"q",(function(){return s})),a.d(e,"e",(function(){return d})),a.d(e,"m",(function(){return l})),a.d(e,"n",(function(){return u})),a.d(e,"a",(function(){return f})),a.d(e,"p",(function(){return h})),a.d(e,"v",(function(){return g})),a.d(e,"c",(function(){return x})),a.d(e,"w",(function(){return m})),a.d(e,"b",(function(){return b})),a.d(e,"o",(function(){return _})),a.d(e,"t",(function(){return v})),a.d(e,"s",(function(){return y})),a.d(e,"d",(function(){return j})),a.d(e,"j",(function(){return C})),a.d(e,"k",(function(){return w})),a.d(e,"r",(function(){return k})),a.d(e,"f",(function(){return O})),a.d(e,"g",(function(){return P})),a.d(e,"u",(function(){return z})),a.d(e,"l",(function(){return L})),a.d(e,"i",(function(){return S})),a.d(e,"h",(function(){return p}));a("5ab2"),a("6d57"),a("e10e");var n=a("28f8"),o=a("ab3e"),c=a("da71");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function s(){return Object(o["a"])({url:c["a"].get_tenant})}function d(t){return Object(o["a"])({url:c["a"].auth_check_tenant,data:t})}function p(t){return Object(o["a"])({url:c["a"].get_role_with_level,data:t})}function l(t){return Object(o["a"])({url:c["a"].get_jf_new_manager_project,data:t})}function u(t){return Object(o["a"])({url:c["a"].get_jf_manager_project,data:t})}function f(t){return Object(o["a"])({url:c["a"].jf_apply_auth,data:i(i({},t),{},{error:!0})})}function h(t){return Object(o["a"])({url:c["a"].get_jf_users,data:t})}function g(t){return Object(o["a"])({url:c["a"].revoke_auth,data:t})}function x(t){return Object(o["a"])({url:c["a"].yf_manager_apply_auth,data:t})}function m(t){return Object(o["a"])({url:c["a"].check_user_role,data:t})}function b(t){return Object(o["a"])({url:c["a"].yf_engineer_apply_auth,data:t})}function _(){return Object(o["a"])({url:c["a"].get_jf_project})}function v(){return Object(o["a"])({url:c["a"].get_yf_user_project})}function y(t){return Object(o["a"])({url:c["a"].get_yf_user_contract,data:t})}function j(t){return Object(o["a"])({url:c["a"].check_project_has_manager,data:t})}function C(t){return Object(o["a"])({url:c["a"].get_auth_detail,data:t})}function w(t){return Object(o["a"])({url:c["a"].get_jf_auth_project,data:t})}function k(t){return Object(o["a"])({url:c["a"].get_yf_auth_contract,data:t})}function O(t){return Object(o["a"])({url:c["a"].empower_for_jf,data:t})}function P(t){return t=i(i({},t),{},{showLoading:!0}),Object(o["a"])({url:c["a"].empower_for_yf,data:t})}function z(t){return t=i(i({},t),{},{showLoading:!0}),Object(o["a"])({url:c["a"].reject_auth,data:t})}function L(t){return Object(o["a"])({url:c["a"].get_sync_jf_contracts,data:t})}function S(t){return Object(o["a"])({url:c["a"].get_sync_yf_contracts,data:t})}},b995:function(t,e,a){var n=a("d46d");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=a("85cb").default;o("22f7dfd6",n,!0,{sourceMap:!1,shadowMode:!1})},d46d:function(t,e,a){e=t.exports=a("690e")(!1),e.push([t.i,".gcxt .user[data-v-6c281c48]{background-color:#fff;padding:22px 0 8px 15px;margin-bottom:10px}.gcxt .user-info[data-v-6c281c48]{position:relative;padding-left:60px;padding-bottom:20px;margin-bottom:8px;border-bottom:1px solid #f3f3f3}.gcxt .user-header[data-v-6c281c48]{position:absolute;width:50px;height:50px;left:0;top:-7px}.gcxt .user-header img[data-v-6c281c48]{display:block;width:100%;height:100%}.gcxt .user-name[data-v-6c281c48]{font-size:16px}.gcxt .user-phone[data-v-6c281c48]{font-size:13px;color:#999}.gcxt .user .icon-_lianxikefu[data-v-6c281c48]{position:absolute;right:15px;top:7px;font-size:23px}.gcxt .user-row[data-v-6c281c48]{line-height:32px}.gcxt .user-row span[data-v-6c281c48]{color:#666;padding-left:25px}.gcxt .user .sp-user[data-v-6c281c48]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-top:8px;padding-top:8px;border-top:1px solid #e7e7e7;line-height:32px;position:relative}.gcxt .user .sp-user label[data-v-6c281c48]{white-space:nowrap}.gcxt .user .sp-user span[data-v-6c281c48]{color:#666;padding-left:38px;padding-right:40px;word-break:break-all}.gcxt .user .identify-status[data-v-6c281c48]{position:absolute;width:auto;height:90px;right:24px;top:45px}.gcxt .license-image.img-row[data-v-6c281c48]{margin-bottom:0}",""])},e645:function(t,e,a){t.exports=a.p+"img/auth_sp_1.17007aa7.png"},e841:function(t,e,a){t.exports=a.p+"img/head.754c7a6f.png"},e88f:function(t,e,a){"use strict";a("abce")},e9af:function(t,e,a){e=t.exports=a("690e")(!1),e.push([t.i,".gcxt .authorize-company-list .content-top[data-v-08243e80]{position:absolute;left:0;top:0;width:100%;height:44px}.gcxt .authorize-company-list .content-main[data-v-08243e80]{position:absolute;left:0;top:44px;bottom:0;width:100%;overflow:auto}.gcxt .authorize-company-list .content .project[data-v-08243e80]{padding-left:15px;background-color:#fff;position:relative}.gcxt .authorize-company-list .content .project-inner[data-v-08243e80]{border-bottom:1px solid #f5f5f5;line-height:43px;font-size:16px;position:relative}",""])},faef:function(t,e,a){"use strict";a("97b3")}}]);