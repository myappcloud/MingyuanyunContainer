(window["webpackJsonp_module_entry_gcxt_"]=window["webpackJsonp_module_entry_gcxt_"]||[]).push([["chunk-b9b24dac"],{"83ca":function(t,n,e){"use strict";e("9665")},9665:function(t,n,e){var a=e("f181");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("85cb").default;i("69af54d6",a,!0,{sourceMap:!1,shadowMode:!1})},d90a:function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("page",[e("v-header",{attrs:{slot:"header",title:"切换开发商","back-action":t.goBack},slot:"header"},[e("template",{slot:"right"},[t.showEditButton?e("a",{staticClass:"iconfont edit icon_header-action _ex-click",class:{show:t.ready},on:{click:function(n){t.edit()}}},[t._v(t._s(t.is_edit?"完成":"编辑"))]):t._e()])],2),e("div",{staticClass:"content",class:{show:t.ready}},[e("div",{staticClass:"block"},[e("div",{staticClass:"block_title"},[t._v("已认证开发商")]),e("div",{staticClass:"block_list"},t._l(t.authed_tenant_list,(function(n,a){return e("div",{key:a,staticClass:"list_item",on:{click:function(e){t.switch_tenant(n)}}},[e("i",{staticClass:"icon_kaifashang iconfont icon-_wo-kaifashang"}),e("div",{staticClass:"dev_name"},[t._v(t._s(n.tenant_name))]),e("div",{staticClass:"dev_option"},[t.current_tenant_id==n.tenant_id?e("span",{staticClass:"current_dev iconfont icon-_xuanzhong"}):t._e(),t.current_tenant_id!=n.tenant_id&&n.msg_count>0?e("span",{staticClass:"undo_msg_num"},[t._v(t._s(t._f("msgCountTransfer")(n.msg_count)))]):t._e(),t.is_edit?e("span",{staticClass:"tenant_edit iconfont icon-_shanchu-",class:{active:t.current_tenant_id!=n.tenant_id},on:{click:function(e){e.stopPropagation(),t.tenant_edit(n,a)}}}):t._e()])])})))]),t.showAuthIng?e("div",{staticClass:"block"},[e("div",{staticClass:"block_title"},[t._v("认证中开发商")]),e("div",{staticClass:"block_list"},t._l(t.not_authed_tenant_list,(function(n,a){return e("div",{key:a,staticClass:"list_item",on:{click:function(e){t.switch_tenant(n)}}},[e("i",{staticClass:"icon_kaifashang iconfont icon-_wo-kaifashang"}),e("span",{staticClass:"dev_name"},[t._v(t._s(n.tenant_name))]),e("div",{staticClass:"dev_option"},[e("span",{staticClass:"auth_status",class:{refused:"2"==n.auth_status}},[t._v(t._s(t.auth_map[n.auth_status]))]),t.is_edit?e("span",{staticClass:"tenant_edit iconfont icon-_shanchu-",class:{active:"2"==n.auth_status},on:{click:function(e){e.stopPropagation(),t.tenant_edit(n,a)}}}):t._e()])])})))]):t._e()]),e("app-button-group",{attrs:{slot:"footer"},slot:"footer"},[e("app-button",{attrs:{plain:""},on:{click:t.goApplyDevCode}},[e("i",{staticClass:"iconfont icon-plus"}),t._v("申请开发商认证")])],1)],1)},i=[],s=(e("ac67"),e("32ea"),e("1bc7"),e("34f5")),o=e("591a"),r=e("d3d0"),c=e("2530"),d=e("f2de"),u=e("933f"),_=e("e717"),l=e("5782");function f(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,a)}return e}function h(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?f(Object(e),!0).forEach((function(n){Object(s["a"])(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):f(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var p={name:"Info",components:{AppButton:l["a"],AppButtonGroup:_["a"]},filters:{msgCountTransfer:function(t){return t>99?"99+":t}},data:function(){return{userInfo:this.$store.state.userInfo,ready:!1,action_txt:"编辑",is_edit:!1,authed_tenant_list:[],not_authed_tenant_list:[],refused_authed_tenant_list:[],showEditButton:!1,auth_map:{0:"认证中",1:"已认证",2:"已拒绝"}}},computed:h(h({},Object(d["b"])({userinfo:function(t){return t.userInfo.data},current_tenant:function(t){return t.userInfo.tenantInfo},current_tenant_id:function(t){return t.userInfo.tenantInfo&&t.userInfo.tenantInfo.tenant_id||""}})),{},{role_code:function(t){return t.userInfo.tenantInfo.role_code},showAuthIng:function(){var t=this.not_authed_tenant_list;return 0!=t.length}}),created:function(){this.get_tenant()},mounted:function(){this.$store.commit(c["a"])},methods:{quit_tenant:function(t,n){var e=this,a=t.tenant_id;e.$store.dispatch(o["k"],{quit_tenant_id:a}).then((function(a){if("2"==t.auth_status){var i=e.not_authed_tenant_list;i.splice(n,1),e.not_authed_tenant_list=i}else{var s=e.authed_tenant_list;s.splice(n,1),e.authed_tenant_list=s}e.toast("删除成功"),e.$store.dispatch(r["a"])}))},switch_tenant:function(t){var n=this;if(!n.is_edit){if(t.tenant_id==n.current_tenant_id)return!1;switch(t.auth_status){case 0:this.$router.push({path:"/authorize/overview/process",query:{tenant_id:t.tenant_id}});break;case 2:this.$router.push({path:"/authorize/overview/process",query:{tenant_id:t.tenant_id}});break;default:u["a"].idkey(u["a"].idkeys.userSwitchTenantDone),n.$store.dispatch(o["p"],{switch_tenant_id:t.tenant_id,__from:"app"}).then((function(e){t?n.sui.toast("切换成功"):n.sui.toast("切换失败")}))}}},tenant_edit:function(t,n){var e=this,a=t.tenant_name;t.tenant_id!=e.current_tenant_id?"0"==t.auth_status?e.sui.modal({text:"<div><a>【"+a+"】</a>正在认证中，如需退出，请进入认证详情页撤销申请。</div>",title:"提示",buttons:[{text:"我知道了"}],extraClass:"bg_white"}):e.sui.modal({text:"<div>是否确认退出开发商<a>【"+a+"】</a>，退出后您将不能查看和操作该开发商下任何业务数据，且不可恢复！</div>",title:"提示",buttons:[{text:"取消"},{text:"退出",onClick:function(){e.quit_tenant(t,n)}}],extraClass:"bg_white"}):e.sui.modal({text:"<div><a>【"+a+"】</a>为当前正在登录的开发商，不可退出，如需退出，请先切换开发商。</div>",title:"提示",buttons:[{text:"我知道了"}],extraClass:"bg_white"})},edit:function(){this.is_edit=!this.is_edit},get_tenant:function(){var t=this;t.$store.dispatch(o["h"],{}).then((function(n){n.data&&n.data.tenant&&n.data.tenant.length&&(t.filter_tenant(n.data.tenant),(t.authed_tenant_list.length>1||t.refused_authed_tenant_list>0)&&(t.showEditButton=!0))}))},filter_tenant:function(t){var n=this;n.authed_tenant_list=[],n.not_authed_tenant_list=[],Array.isArray(t)&&t.forEach((function(t){"1"==t.auth_status?n.authed_tenant_list.push(t):(n.not_authed_tenant_list.push(t),"2"==t.auth_status&&n.refused_authed_tenant_list.push(t))})),n.ready=!0},goApplyDevCode:function(){this.$router.push("/authorize/tenant")},toast:function(t){this.sui.toast(t)},goBack:function(){this.$router.push("/home/me")}}},g=p,b=(e("83ca"),e("5d22")),v=Object(b["a"])(g,a,i,!1,null,"0bf704f1",null);n["default"]=v.exports},f181:function(t,n,e){n=t.exports=e("690e")(!1),n.push([t.i,".gcxt[data-v-0bf704f1] :export{colorPrimary:#0268b3;headerBackgroundColor:#fff;headerTextColor:#333}.gcxt .edit[data-v-0bf704f1]{position:relative;z-index:20;display:none}.gcxt .content[data-v-0bf704f1]{display:none;padding-bottom:2.5rem}.gcxt .show[data-v-0bf704f1]{display:block}.gcxt .block_title[data-v-0bf704f1]{padding:0 .75rem;font-size:14px;line-height:1.5rem;margin-top:.5rem;color:#8e8e93}.gcxt .list_item[data-v-0bf704f1]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#fff;padding:0 .75rem;margin-bottom:1px;line-height:2.5rem;overflow:hidden}.gcxt .list_item .dev_name[data-v-0bf704f1]{width:8rem;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;line-height:20px;padding:15px 0}.gcxt .list_item .dev_option[data-v-0bf704f1]{width:4.5rem;display:block;text-align:right}.gcxt .icon-png[data-v-0bf704f1]{display:inline-block;vertical-align:middle;margin:0 .2rem 0 .1rem;width:24px;height:24px;background-repeat:no-repeat;background-position:50%}.gcxt .icon_kaifashang[data-v-0bf704f1]{color:#0268b3;margin-right:6px}.gcxt .current_dev[data-v-0bf704f1]{margin-right:.5rem;color:#0268b3}.gcxt .undo_msg_num[data-v-0bf704f1]{height:16px;text-align:center;margin-right:.5rem;border-radius:8px;padding:0 5px;background:#ff3b30;color:#fff;line-height:16px;font-size:12px;min-width:16px}.gcxt .tenant_edit[data-v-0bf704f1],.gcxt .undo_msg_num[data-v-0bf704f1]{display:inline-block;vertical-align:middle}.gcxt .tenant_edit[data-v-0bf704f1]{width:.8rem;height:.8rem;border-radius:100%;font-size:14px;line-height:.8rem;padding-right:.1rem;color:#adadad}.gcxt .tenant_edit.active[data-v-0bf704f1]{color:#ff3b30}.gcxt .auth_status[data-v-0bf704f1]{margin-right:.5rem;color:#509afa}.gcxt .refused[data-v-0bf704f1]{color:#ff594d}.gcxt .content[data-v-0bf704f1]{position:static;padding-bottom:0}.gcxt .icon_header-action[data-v-0bf704f1]{color:#0268b3}",""])}}]);