(window["webpackJsonp_module_entry_gcxt_"]=window["webpackJsonp_module_entry_gcxt_"]||[]).push([["chunk-784eb991"],{"0937":function(e,t,o){var i=o("ce37"),a=o("b32a"),r=o("2cf0"),s="Expected a function",n=Math.max,c=Math.min;function l(e,t,o){var l,d,u,p,f,x,g=0,h=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError(s);function b(t){var o=l,i=d;return l=d=void 0,g=t,p=e.apply(i,o),p}function y(e){return g=e,f=setTimeout(_,t),h?b(e):p}function k(e){var o=e-x,i=e-g,a=t-o;return m?c(a,u-i):a}function w(e){var o=e-x,i=e-g;return void 0===x||o>=t||o<0||m&&i>=u}function _(){var e=a();if(w(e))return S(e);f=setTimeout(_,k(e))}function S(e){return f=void 0,v&&l?b(e):(l=d=void 0,p)}function C(){void 0!==f&&clearTimeout(f),g=0,l=x=d=f=void 0}function j(){return void 0===f?p:S(a())}function O(){var e=a(),o=w(e);if(l=arguments,d=this,x=e,o){if(void 0===f)return y(x);if(m)return f=setTimeout(_,t),b(x)}return void 0===f&&(f=setTimeout(_,t)),p}return t=r(t)||0,i(o)&&(h=!!o.leading,m="maxWait"in o,u=m?n(r(o.maxWait)||0,t):u,v="trailing"in o?!!o.trailing:v),O.cancel=C,O.flush=j,O}e.exports=l},"09fa":function(e,t,o){t=e.exports=o("690e")(!1),t.push([e.i,'.gcxt[data-v-1c1be6d1] :export{colorPrimary:#2c5cf7;headerBackgroundColor:#fff;headerTextColor:#333}.gcxt .flow-item[data-v-1c1be6d1]{display:-webkit-box;display:-ms-flexbox;display:flex;padding-top:8px;padding-bottom:7px;padding-right:15px;background-color:#fff}.gcxt .flow-item:last-of-type .status-icon[data-v-1c1be6d1]:after{display:none}.gcxt .flow-item:last-of-type .item-content[data-v-1c1be6d1],.gcxt .flow-item:last-of-type .item-content.use-divide[data-v-1c1be6d1]{padding-bottom:0}.gcxt .flow-item:last-of-type .item-content.use-divide[data-v-1c1be6d1]:before,.gcxt .flow-item:last-of-type .item-content[data-v-1c1be6d1]:before{display:none}.gcxt .flow-item .item-content[data-v-1c1be6d1]{width:calc(100% - 25px);padding-bottom:0}.gcxt .flow-item .item-content.use-divide[data-v-1c1be6d1]{padding-bottom:15px;position:relative}.gcxt .flow-item .item-content.use-divide[data-v-1c1be6d1]:before{bottom:0;content:" ";position:absolute;z-index:1;right:0;border-top:1px solid #c8c8c8;-webkit-transform:scaleY(.5);transform:scaleY(.5);left:0}.gcxt .status-icon[data-v-1c1be6d1]{display:block;font-size:16px;width:25px;padding-top:4px;line-height:1;position:relative}.gcxt .line[data-v-1c1be6d1]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.gcxt .line>.name[data-v-1c1be6d1]{color:#1b1b1b;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;width:calc(100% - 35px);word-break:break-word}.gcxt .line-name[data-v-1c1be6d1]{font-size:16px;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.gcxt .item-status[data-v-1c1be6d1]{color:#999;font-size:13px}.gcxt .line-status[data-v-1c1be6d1]{padding-top:6px}.gcxt .line-status>.time[data-v-1c1be6d1]{font-size:13px;color:#999}.gcxt .flow-item[data-v-1c1be6d1]{padding-top:10px;padding-bottom:0}.gcxt .flow-item.gray .line>.name[data-v-1c1be6d1]{color:#999}.gcxt .flow-item[data-v-1c1be6d1]:last-of-type{padding-bottom:15px}.gcxt .item-status[data-v-1c1be6d1]{-webkit-box-flex:inherit;-ms-flex-positive:inherit;flex-grow:inherit;margin-right:20px}.gcxt .icon-pending[data-v-1c1be6d1]{display:inline-block;width:8px;height:8px;border-radius:50%;background-color:red;vertical-align:middle}.gcxt .status-icon[data-v-1c1be6d1]{width:57px;text-align:center}.gcxt .icon-gongchengxietongtubiao0317_biaoqian-yujingfuben2[data-v-1c1be6d1]{color:#63b20d}.gcxt .icon-gongchengxietongtubiao0317_biaoqian-huibao[data-v-1c1be6d1]{color:#ff9800}.gcxt .report-list[data-v-1c1be6d1]{margin-bottom:10px}',""])},"116e":function(e,t,o){var i=o("ef16");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=o("85cb").default;a("7c264af6",i,!0,{sourceMap:!1,shadowMode:!1})},"184d":function(e,t,o){"use strict";o("f2e3")},"21d4":function(e,t,o){t=e.exports=o("690e")(!1),t.push([e.i,'.gcxt[data-v-acda12ee] :export{colorPrimary:#2c5cf7;headerBackgroundColor:#fff;headerTextColor:#333}.gcxt .header-wrapper[data-v-acda12ee]{position:relative}.gcxt .header-top[data-v-acda12ee]{display:-webkit-box;display:-ms-flexbox;display:flex;border-bottom:1px solid #ececec;background:#fff;padding-left:15px}.gcxt .header-top .user-selector--selected[data-v-acda12ee]{margin-right:6px}.gcxt .header-top .searchBar[data-v-acda12ee]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:100;flex-shrink:100;min-width:110px;padding-left:0}.gcxt .user-selector--selected[data-v-acda12ee]{display:-webkit-box;display:-ms-flexbox;display:flex;overflow-x:auto;background:#fff;padding:9px 0;white-space:nowrap;scroll-behavior:smooth}.gcxt .user-selector--selected-item[data-v-acda12ee]{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#f5f5f5;border:1px solid #f0f0f0;color:#333;font-size:13px;height:26px;line-height:26px;padding:0 6px;-ms-flex-negative:0;flex-shrink:0}.gcxt .user-selector--selected-item .text[data-v-acda12ee]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.gcxt .user-selector--selected-item .icon_close[data-v-acda12ee]{font-size:10px;color:#9b9b9b;margin-left:5px;-webkit-transform:scale(.7);transform:scale(.7)}.gcxt .user-selector--selected-item+.user-selector--selected-item[data-v-acda12ee]{margin-left:5px}.gcxt .p-body[data-v-acda12ee]{position:relative;overflow-y:scroll;height:100%}.gcxt .p-tabs[data-v-acda12ee]{display:-webkit-box;display:-ms-flexbox;display:flex;height:40px;width:100%;position:-webkit-sticky;position:sticky;top:0;z-index:99;background-color:#fff;-webkit-box-shadow:0 -1px #fff;box-shadow:0 -1px #fff}.gcxt .p-tabs__content[data-v-acda12ee]{min-height:100%;margin-bottom:20px}.gcxt .p-tabs.abs[data-v-acda12ee]{position:absolute;z-index:2;bottom:0;top:auto;-webkit-transform:translateY(100%);transform:translateY(100%)}.gcxt .recently[data-v-acda12ee]{z-index:1}.gcxt .user-selector--tabs[data-v-acda12ee]{min-height:100%}.gcxt .user-selector--tabs[data-v-acda12ee] .van-tabs{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:hidden}.gcxt .user-selector--tabs[data-v-acda12ee] .van-tabs .van-tabs__wrap{height:40px;position:relative}.gcxt .user-selector--tabs[data-v-acda12ee] .van-tabs .van-tabs__wrap:before{bottom:0;content:" ";position:absolute;z-index:1;right:0;border-top:1px solid #ececec;-webkit-transform:scaleY(.5);transform:scaleY(.5);left:0}.gcxt .user-selector--tabs[data-v-acda12ee] .van-tabs.tab-count-1 .van-tabs__wrap{display:none}.gcxt .user-selector--tabs[data-v-acda12ee] .van-tabs .van-tab--active{color:#2c5cf7}.gcxt .user-selector--tabs[data-v-acda12ee] .van-tabs .van-tabs__line{width:20px!important;height:2px;background:#2c5cf7;border-radius:3px;bottom:21px}.gcxt .user-selector--tabs[data-v-acda12ee] .van-tabs .van-tabs__content{-webkit-box-flex:1;-ms-flex:1;flex:1;background:#fff;overflow:hidden}.gcxt .user-selector--tabs[data-v-acda12ee] .van-tab--active{font-weight:400}.gcxt .border[data-v-acda12ee]{position:relative}.gcxt .border[data-v-acda12ee]:before{bottom:0;content:" ";position:absolute;z-index:1;right:0;border-top:1px solid #ececec;-webkit-transform:scaleY(.5);transform:scaleY(.5);left:0}.gcxt .user-selector--recently-list[data-v-acda12ee]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}.gcxt .user-selector--title[data-v-acda12ee]{background:#f5f5f5;height:34px;padding:6px 15px;font-size:14px;color:#666}.gcxt .user-selector--list[data-v-acda12ee]{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;background:#fff;height:100%;z-index:2}.gcxt .user-selector--list-item[data-v-acda12ee]{display:-webkit-box;display:-ms-flexbox;display:flex;min-height:64px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:15px}.gcxt .user-selector--list-item-avatar[data-v-acda12ee]{width:28px;height:28px;border-radius:50%;font-size:14px;color:#fff;line-height:28px;text-align:center}.gcxt .user-selector--list-item-content[data-v-acda12ee]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:16px;margin-left:15px;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.gcxt .user-selector--list-item-content .icon-selected[data-v-acda12ee]{font-size:22px;color:#2c5cf7}.gcxt .user-selector--list-item-content .icon-_xuanzhong[data-v-acda12ee]{font-size:18px;color:#2c5cf7}.gcxt .user-selector--list-item-content .icon-redio-unselected[data-v-acda12ee]{font-size:22px;color:#c8c8c8}.gcxt .user-selector--list-item-content-name[data-v-acda12ee]{-webkit-box-flex:1;-ms-flex:1;flex:1;max-width:90%}',""])},2499:function(e,t,o){var i=o("a955");function a(e,t,o){var a=null==e?void 0:i(e,t);return void 0===a?o:a}e.exports=a},"2cf0":function(e,t,o){var i=o("ce37"),a=o("77e3"),r=NaN,s=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;function u(e){if("number"==typeof e)return e;if(a(e))return r;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var o=c.test(e);return o||l.test(e)?d(e.slice(2),o?2:8):n.test(e)?r:+e}e.exports=u},"34e2":function(e,t,o){var i=o("ac2d"),a=o("3cd4"),r=o("936c"),s=o("d845");function n(e,t){return i(e)?e:a(e,t)?[e]:r(s(e))}e.exports=n},"35c5":function(e,t,o){var i=o("7d9f");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=o("85cb").default;a("646a24d9",i,!0,{sourceMap:!1,shadowMode:!1})},3903:function(e,t,o){var i=o("21d4");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=o("85cb").default;a("5df1b0d3",i,!0,{sourceMap:!1,shadowMode:!1})},"3b7a":function(e,t,o){t=e.exports=o("690e")(!1),t.push([e.i,'.gcxt[data-v-7edf5c77] :export{colorPrimary:#2c5cf7;headerBackgroundColor:#fff;headerTextColor:#333}.gcxt .flow-item[data-v-7edf5c77]{display:-webkit-box;display:-ms-flexbox;display:flex;padding-top:8px;padding-bottom:7px;padding-right:15px;background-color:#fff}.gcxt .flow-item:last-of-type .status-icon[data-v-7edf5c77]:after{display:none}.gcxt .flow-item:last-of-type .item-content[data-v-7edf5c77],.gcxt .flow-item:last-of-type .item-content.use-divide[data-v-7edf5c77]{padding-bottom:0}.gcxt .flow-item:last-of-type .item-content.use-divide[data-v-7edf5c77]:before,.gcxt .flow-item:last-of-type .item-content[data-v-7edf5c77]:before{display:none}.gcxt .flow-item .item-content[data-v-7edf5c77]{width:calc(100% - 25px);padding-bottom:0}.gcxt .flow-item .item-content.use-divide[data-v-7edf5c77]{padding-bottom:15px;position:relative}.gcxt .flow-item .item-content.use-divide[data-v-7edf5c77]:before{bottom:0;content:" ";position:absolute;z-index:1;right:0;border-top:1px solid #c8c8c8;-webkit-transform:scaleY(.5);transform:scaleY(.5);left:0}.gcxt .status-icon[data-v-7edf5c77]{display:block;font-size:16px;width:25px;padding-top:4px;line-height:1;position:relative}.gcxt .line[data-v-7edf5c77]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.gcxt .line>.name[data-v-7edf5c77]{color:#1b1b1b;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;width:calc(100% - 35px);word-break:break-word}.gcxt .line-name[data-v-7edf5c77]{font-size:16px;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.gcxt .item-status[data-v-7edf5c77]{color:#999;font-size:13px}.gcxt .line-status[data-v-7edf5c77]{padding-top:6px}.gcxt .line-status>.time[data-v-7edf5c77]{font-size:13px;color:#999}.gcxt .user-selector[data-v-7edf5c77]{margin:0 0 10px}.gcxt .user-selector[data-v-7edf5c77] .af-title{font-size:16px}.gcxt .user-selector[data-v-7edf5c77] .af-cell-value{max-height:87px;overflow:auto}.gcxt .user-selector--list[data-v-7edf5c77]{background:#fff;padding:12px 15px}.gcxt .user-selector--list-item[data-v-7edf5c77]{display:inline-block;height:34px;line-height:34px;padding:0 8px 0 0}.gcxt .user-selector--list-item-content[data-v-7edf5c77]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:24px;padding:2px 5px;background:#f5f5f5;position:relative}.gcxt .user-selector--list-item-content[data-v-7edf5c77]:after{content:"";bottom:0;-webkit-transform:scale(.5);transform:scale(.5);position:absolute;border:1px solid #f0f0f0;top:-50%;right:-50%;bottom:-50%;left:-50%;border-radius:4px}.gcxt .user-selector--list-item-name[data-v-7edf5c77]{-webkit-box-flex:1;-ms-flex:1;flex:1;white-space:nowrap;color:#69696e;font-size:13px;line-height:1.2}.gcxt .user-selector--list-item .iconfont[data-v-7edf5c77]{margin-left:5px;font-size:12px;-webkit-transform:scale(.7);transform:scale(.7);color:#9b9b9b}.gcxt .tip[data-v-7edf5c77]{margin:10px 1px;margin-left:15px;font-size:12px;color:#8e8e93}.gcxt .user-selector.-view[data-v-7edf5c77] .van-cell__title{font-size:16px}.gcxt .user-selector.-view[data-v-7edf5c77] .van-collapse-item__content{padding:0;position:relative}.gcxt .user-selector.-view[data-v-7edf5c77] .van-collapse-item__content:before{top:0;content:" ";position:absolute;z-index:1;right:0;border-top:1px solid #e1e1e1;-webkit-transform:scaleY(.5);transform:scaleY(.5);left:0}.gcxt .selecteds-text[data-v-7edf5c77]{font-size:14px;color:#000}.gcxt .user-selector .gray[data-v-7edf5c77]{color:#969799}.gcxt .icon-_daishenpi[data-v-7edf5c77]{color:#f90}.gcxt .icon-selected[data-v-7edf5c77]{color:#75c813}.gcxt .icon-_shenpitongguo[data-v-7edf5c77],.gcxt .icon-_tianjia[data-v-7edf5c77]{color:#74c913}.gcxt .icon-_zhuanjiao-flow[data-v-7edf5c77]{color:#74c913;position:relative}.gcxt .icon-_zhuanjiao-flow.line[data-v-7edf5c77]:after{position:absolute;top:20px;left:7px;height:100%;border-left:1px solid #e3e3e3;content:" ";-webkit-transform:scaleX(.5);transform:scaleX(.5)}.gcxt .icon-_dahui[data-v-7edf5c77],.gcxt .icon-baocuo[data-v-7edf5c77]{color:#f65e5e}.gcxt .icon--unstar[data-v-7edf5c77]:before{content:"";display:inline-block;background-color:#c9c9c9;border-radius:50%;width:16px;height:16px}.gcxt .station-name[data-v-7edf5c77]{font-size:14px;color:#666}.gcxt .action-button[data-v-7edf5c77]{margin-left:14px;width:20px;height:20px;font-size:20px;line-height:1;color:#3fa3ff}.gcxt .item-status[data-v-7edf5c77]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.gcxt .item-status.start[data-v-7edf5c77]{color:#4ecd00}.gcxt .item-status.pending[data-v-7edf5c77]{color:#ff9400}.gcxt .item-status.done[data-v-7edf5c77],.gcxt .item-status.transfer[data-v-7edf5c77]{color:#63b20d}.gcxt .action-label[data-v-7edf5c77]{margin-top:6px;margin-right:5px;font-size:12px;border-radius:2px;line-height:16px;display:inline-block}.gcxt .span-people-copy[data-v-7edf5c77]{color:#7d8fff}.gcxt .span-add-sign[data-v-7edf5c77]{color:#ddb984}.gcxt .span-timeout[data-v-7edf5c77]{color:#ff594d}.gcxt .span-contract_add[data-v-7edf5c77]{color:#53cc00}.gcxt .sp-flow[data-v-7edf5c77]{width:100%;color:#7b7b81;font-size:13px}.gcxt .line-remark[data-v-7edf5c77]{margin-top:6px;line-height:18px;font-size:13px;color:#999}',""])},"3cd4":function(e,t,o){var i=o("ac2d"),a=o("77e3"),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function n(e,t){if(i(e))return!1;var o=typeof e;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=e&&!a(e))||(s.test(e)||!r.test(e)||null!=t&&e in Object(t))}e.exports=n},4811:function(e,t,o){var i=o("5a29");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=o("85cb").default;a("416aceb8",i,!0,{sourceMap:!1,shadowMode:!1})},"4b22":function(e,t,o){var i=o("09fa");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=o("85cb").default;a("4a9f561c",i,!0,{sourceMap:!1,shadowMode:!1})},"4d61":function(e,t,o){var i=o("9c46");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=o("85cb").default;a("274cea73",i,!0,{sourceMap:!1,shadowMode:!1})},5450:function(e,t,o){var i=o("3b7a");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=o("85cb").default;a("722f7714",i,!0,{sourceMap:!1,shadowMode:!1})},"5a29":function(e,t,o){t=e.exports=o("690e")(!1),t.push([e.i,".gcxt .timeoutBox+.timeoutBox{margin-top:13px;padding-top:13px;border-top:1px dashed #ececec}.gcxt .timeoutBox .flex{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:5px}.gcxt .timeoutBox .flex>span:first-child{width:5em;min-width:5em}",""])},"5c7b3":function(e,t,o){"use strict";o("3903")},"6faf":function(e,t,o){"use strict";o("f219")},"77e3":function(e,t,o){var i=o("c20f"),a=o("2f85"),r="[object Symbol]";function s(e){return"symbol"==typeof e||a(e)&&i(e)==r}e.exports=s},"797f":function(e,t,o){var i=o("9b40");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=o("85cb").default;a("25a5db49",i,!0,{sourceMap:!1,shadowMode:!1})},"79b8":function(e,t,o){t=e.exports=o("690e")(!1),t.push([e.i,".gcxt[data-v-95cdf326] :export{colorPrimary:#2c5cf7;headerBackgroundColor:#fff;headerTextColor:#333}.gcxt .user-selector-item[data-v-95cdf326]{display:-webkit-box;display:-ms-flexbox;display:flex;min-height:54px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 15px;background-color:#fff}.gcxt .user-selector-item--avatar[data-v-95cdf326]{width:28px;height:28px;border-radius:50%;font-size:14px;color:#fff;line-height:28px;text-align:center;background-size:cover;background-position:50%}.gcxt .user-selector-item--content[data-v-95cdf326]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:16px;margin-left:15px;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.gcxt .user-selector-item--content .icon-_xuanzhong[data-v-95cdf326],.gcxt .user-selector-item--content .icon-selected[data-v-95cdf326]{font-size:18px;color:#2c5cf7}.gcxt .user-selector-item--content .icon-redio-unselected[data-v-95cdf326]{font-size:20px;color:#c8c8c8}.gcxt .user-selector-item--content .icon-redio-disabled[data-v-95cdf326]{border:1px solid #c7c7c7;background-color:#dbdbdb;width:18px;height:18px;border-radius:50%;margin-left:1px}.gcxt .user-selector-item--content-name[data-v-95cdf326]{-webkit-box-flex:1;-ms-flex:1;flex:1;max-width:90%}.gcxt .user-selector-item .icon-bianji[data-v-95cdf326]{color:#d6d6d6}",""])},"7d9f":function(e,t,o){t=e.exports=o("690e")(!1),t.push([e.i,'.gcxt [work-type="0"] .item-status[data-v-4e697160]{color:#ff9400}.gcxt [work-type="1"] .item-status[data-v-4e697160],.gcxt [work-type="2"] .item-status[data-v-4e697160],.gcxt [work-type="5"] .item-status[data-v-4e697160],.gcxt [work-type="11"] .item-status[data-v-4e697160],.gcxt [work-type="12"] .item-status[data-v-4e697160]{color:#75c813}.gcxt [work-type="10"] .item-status[data-v-4e697160]{color:#ddb984}.gcxt .-current[work-type="0"] .item-status[data-v-4e697160],.gcxt .current-step .step_desc[data-v-4e697160]{color:#f90}.gcxt [work-type="3"] .item-status[data-v-4e697160],.gcxt [work-type="4"] .item-status[data-v-4e697160],.gcxt [work-type="4"] .line-name .name[data-v-4e697160],.gcxt [work-type="4"] .line-name .station-name[data-v-4e697160]{color:#999}.gcxt [work-type="3"] .line-remark[data-v-4e697160]{color:#69696e}.gcxt [work-type="14"] .item-status[data-v-4e697160],.gcxt [work-type="15"] .item-status[data-v-4e697160],.gcxt [work-type="16"] .item-status[data-v-4e697160],.gcxt [work-type="17"] .item-status[data-v-4e697160]{color:#75c813}.gcxt [work-type="8"] .item-status[data-v-4e697160],.gcxt [work-type="9"] .item-status[data-v-4e697160],.gcxt [work-type="13"] .item-status[data-v-4e697160]{color:#f65e5e}.gcxt [work-type="6"] .item-status[data-v-4e697160]{color:#848484}.gcxt .flow-item.connected[data-v-4e697160]:before{content:"";width:1px;height:100%;position:absolute;background-color:#d9d9d9;left:0;margin-left:6px;top:26px;-webkit-transform:scaleX(.5);transform:scaleX(.5)}.gcxt .flow-item.connected[data-v-4e697160],.gcxt .flow-item.connected+div[data-v-4e697160]{padding-left:15px;position:relative}.gcxt .flow-item.connected+div .line-name[data-v-4e697160]:before,.gcxt .flow-item.connected .line-name[data-v-4e697160]:before{content:"";width:7px;height:7px;border-radius:50%;overflow:hidden;background-color:#d9d9d9;position:absolute;left:-12px;top:7px}.gcxt .approver-content[data-v-4e697160]{padding:12px 0}.gcxt .line[data-v-4e697160]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.gcxt .line>.name[data-v-4e697160]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;width:calc(100% - 35px)}.gcxt .line-name[data-v-4e697160]{font-size:14px;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;color:#1b1b1b;position:relative}.gcxt .station-name[data-v-4e697160]{font-size:14px;color:#000}.gcxt .action-button[data-v-4e697160]{margin-left:14px;width:20px;height:20px;font-size:20px;line-height:1;color:#3fa3ff}.gcxt .item-status[data-v-4e697160]{color:#999}.gcxt .line-status[data-v-4e697160]{-ms-flex-wrap:nowrap;flex-wrap:nowrap;padding-top:5px}.gcxt .line-status>.item-status[data-v-4e697160]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.gcxt .line-status>.time[data-v-4e697160]{margin-left:5px;font-size:13px;color:#8e8e93;white-space:nowrap}.gcxt .action-label[data-v-4e697160]{margin-top:5px;margin-right:5px;font-size:12px;border-radius:2px;line-height:16px;display:inline-block}.gcxt .span-people-copy[data-v-4e697160]{color:#7d8fff}.gcxt .span-timeout[data-v-4e697160]{color:#ff594d}.gcxt .report-btn[data-v-4e697160]{margin-top:10px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid #dcdcdc;padding:2px 7px;border-radius:20px}.gcxt .report-btn .icon-number-box[data-v-4e697160]{display:inline-block;width:16px;height:16px;line-height:16px;color:#fff;font-size:12px;background-color:#ff3b30;border-radius:50%;overflow:hidden;text-align:center;margin-right:3px;position:relative}.gcxt .report-btn .icon-number[data-v-4e697160]{-webkit-transform:scale(.9);transform:scale(.9);display:inline-block;margin:auto;width:100%;height:100%}.gcxt .report-btn .text[data-v-4e697160]{vertical-align:middle;color:#666;font-size:13px}.gcxt .report-btn .icon__arrow[data-v-4e697160]{font-size:10px;color:#999;margin-left:4px}',""])},"7eca":function(e,t,o){"use strict";o("4811")},"936c":function(e,t,o){var i=o("c2be"),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,s=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,o,i,a){t.push(i?a.replace(r,"$1"):o||e)})),t}));e.exports=s},"97b5":function(e,t,o){var i=o("0937"),a=o("ce37"),r="Expected a function";function s(e,t,o){var s=!0,n=!0;if("function"!=typeof e)throw new TypeError(r);return a(o)&&(s="leading"in o?!!o.leading:s,n="trailing"in o?!!o.trailing:n),i(e,t,{leading:s,maxWait:t,trailing:n})}e.exports=s},"98d9":function(e,t,o){var i=o("2bda"),a=o("e116"),r=o("ac2d"),s=o("77e3"),n=1/0,c=i?i.prototype:void 0,l=c?c.toString:void 0;function d(e){if("string"==typeof e)return e;if(r(e))return a(e,d)+"";if(s(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-n?"-0":t}e.exports=d},"9b40":function(e,t,o){t=e.exports=o("690e")(!1),t.push([e.i,".gcxt[data-v-4fdb33e0] :export{colorPrimary:#2c5cf7;headerBackgroundColor:#fff;headerTextColor:#333}.gcxt .user-selector-item[data-v-4fdb33e0]{display:-webkit-box;display:-ms-flexbox;display:flex;min-height:54px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 15px;background-color:#fff}.gcxt .user-selector-item--avatar[data-v-4fdb33e0]{width:28px;height:28px;border-radius:50%;font-size:14px;color:#fff;line-height:28px;text-align:center;background-size:cover;background-position:50%}.gcxt .user-selector-item--content[data-v-4fdb33e0]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:16px;margin-left:15px;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.gcxt .user-selector-item--content .icon-_xuanzhong[data-v-4fdb33e0],.gcxt .user-selector-item--content .icon-selected[data-v-4fdb33e0]{font-size:18px;color:#2c5cf7}.gcxt .user-selector-item--content .icon-redio-unselected[data-v-4fdb33e0]{font-size:20px;color:#c8c8c8}.gcxt .user-selector-item--content .icon-redio-disabled[data-v-4fdb33e0]{border:1px solid #c7c7c7;background-color:#dbdbdb;width:18px;height:18px;border-radius:50%;margin-left:1px}.gcxt .user-selector-item--content-name[data-v-4fdb33e0]{-webkit-box-flex:1;-ms-flex:1;flex:1;max-width:90%}.gcxt .user-selector-item .icon-bianji[data-v-4fdb33e0]{color:#d6d6d6}",""])},"9c46":function(e,t,o){t=e.exports=o("690e")(!1),t.push([e.i,".gcxt[data-v-5f755f1c] :export{colorPrimary:#2c5cf7;headerBackgroundColor:#fff;headerTextColor:#333}.gcxt .modify-group[data-v-5f755f1c] .van-field__label{color:#323233;word-break:break-all;font-size:16px;width:97px;margin-right:10px}.gcxt .user-selector--title[data-v-5f755f1c]{background:#f5f5f5;height:34px;padding:6px 15px 0;font-size:14px;color:#666}.gcxt .delete-button[data-v-5f755f1c]{width:64px;height:100%;background-color:#ff3b30;border-color:#ff3b30}",""])},a370:function(e,t,o){"use strict";o("35c5")},a72a:function(e,t,o){t=e.exports=o("690e")(!1),t.push([e.i,'[data-v-00c838a0] .van-collapse-item{margin-bottom:10px}[data-v-00c838a0] .van-collapse-item__content{padding:0;color:inherit}[data-v-00c838a0] .van-cell{padding:10px 0}[data-v-00c838a0] .van-cell__title{font-size:16px}[data-v-00c838a0] .van-icon{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1;font-size:18px;margin-left:0;width:44px;text-align:center;color:#b5b5b5}.gcxt .step-item-list[data-v-00c838a0]{padding:11px 0 15px}.gcxt .status-icon[data-v-00c838a0]{display:block;font-size:16px;width:43px;text-align:center;padding-top:15px;line-height:1;position:relative}.gcxt .status-icon[data-v-00c838a0]:after{content:"";width:1px;height:100%;position:absolute;background-color:#e6e6e6;left:50%;margin-left:-1px;top:31px}.gcxt .step-item[data-v-00c838a0]{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 15px 5px 0}.gcxt .step-item:last-of-type .status-icon[data-v-00c838a0]:after{display:none}.gcxt .icon-selected[data-v-00c838a0]{color:#75c813}.gcxt .icon-_daishenpi[data-v-00c838a0]{color:#f90}.gcxt .icon-_shenpitongguo[data-v-00c838a0],.gcxt .icon-_tianjia[data-v-00c838a0]{color:#74c913}.gcxt .icon-_zuofei[data-v-00c838a0]{color:#999}.gcxt .icon-_zhuanjiao-flow[data-v-00c838a0]{color:#74c913}.gcxt .icon-_dahui[data-v-00c838a0],.gcxt .icon-baocuo[data-v-00c838a0]{color:#f65e5e}.gcxt .gray[data-v-00c838a0]{color:#999}.gcxt .icon--unstar[data-v-00c838a0]:before{content:"";display:inline-block;background-color:#c9c9c9;border-radius:50%;width:16px;height:16px}.gcxt .item-content[data-v-00c838a0]{position:relative;width:calc(100% - 43px);padding:0 5px;background:#f5f5f5;border-radius:3px}.gcxt .item-content[data-v-00c838a0]:before{content:"";position:absolute;top:13px;left:-20px;border:10px solid transparent;border-right-color:#f5f5f5}.gcxt .step-point[data-v-00c838a0]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:10px 0;border-bottom:1px dashed #d9d9d9}.gcxt .step-point[task-status="1"] .step_desc[data-v-00c838a0]{color:#75c813}.gcxt .step-point[task-status="3"] .step_desc[data-v-00c838a0],.gcxt .step-point[task-status="7"] .step_desc[data-v-00c838a0]{color:#74c913}.gcxt .step-point[task-status="2"] .step_desc[data-v-00c838a0],.gcxt .step-point[task-status="6"] .step_desc[data-v-00c838a0]{color:#ff9400}.gcxt .step-point[task-status="5"]+.flow-item-list[data-v-00c838a0] .item-status,.gcxt .step-point[task-status="5"]+.flow-item-list[data-v-00c838a0] .name,.gcxt .step-point[task-status="5"]+.flow-item-list[data-v-00c838a0] .station-name,.gcxt .step-point[task-status="5"] .step_name[data-v-00c838a0]{color:#999}.gcxt .step-point .step_desc[data-v-00c838a0]{margin-right:10px;font-size:16px;color:#999}.gcxt .step-point .step_name[data-v-00c838a0]{font-size:16px;color:#666}',""])},a955:function(e,t,o){var i=o("34e2"),a=o("cef1");function r(e,t){t=i(t,e);var o=0,r=t.length;while(null!=e&&o<r)e=e[a(t[o++])];return o&&o==r?e:void 0}e.exports=r},b001:function(e,t,o){"use strict";o("797f")},b32a:function(e,t,o){var i=o("eb00"),a=function(){return i.Date.now()};e.exports=a},c2be:function(e,t,o){var i=o("c38e"),a=500;function r(e){var t=i(e,(function(e){return o.size===a&&o.clear(),e})),o=t.cache;return t}e.exports=r},c38e:function(e,t,o){var i=o("b4c2"),a="Expected a function";function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var o=function(){var i=arguments,a=t?t.apply(this,i):i[0],r=o.cache;if(r.has(a))return r.get(a);var s=e.apply(this,i);return o.cache=r.set(a,s)||r,s};return o.cache=new(r.Cache||i),o}r.Cache=i,e.exports=r},ce79:function(e,t,o){"use strict";o("4b22")},cef1:function(e,t,o){var i=o("77e3"),a=1/0;function r(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}e.exports=r},d845:function(e,t,o){var i=o("98d9");function a(e){return null==e?"":i(e)}e.exports=a},e116:function(e,t){function o(e,t){var o=-1,i=null==e?0:e.length,a=Array(i);while(++o<i)a[o]=t(e[o],o,e);return a}e.exports=o},e155:function(e,t,o){"use strict";o("5450")},ef16:function(e,t,o){t=e.exports=o("690e")(!1),t.push([e.i,'.gcxt[data-v-6a510341] :export{colorPrimary:#2c5cf7;headerBackgroundColor:#fff;headerTextColor:#333}.gcxt .cell[data-v-6a510341]{color:#2c5cf7;position:relative;padding:12px 15px}.gcxt .cell.after[data-v-6a510341]:before{content:" ";position:absolute;z-index:1;left:15px;right:0;bottom:0;height:1px;background-color:#ececec;-webkit-transform:scaleY(.5);transform:scaleY(.5)}.gcxt .cell .icon__plus[data-v-6a510341]{font-size:15px;width:16px;display:inline-block;text-align:center}.gcxt .cell .icon__item[data-v-6a510341],.gcxt .cell .icon__plus[data-v-6a510341]{margin-right:5px;color:#2c5cf7}.gcxt .cell[data-v-6a510341] .van-cell__value--alone{font-size:16px;color:#2c5cf7}.gcxt .cell .mode-edit[data-v-6a510341] .van-cell__value--alone{color:#2c5cf7}',""])},f219:function(e,t,o){var i=o("a72a");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=o("85cb").default;a("ade5794c",i,!0,{sourceMap:!1,shadowMode:!1})},f2e3:function(e,t,o){var i=o("79b8");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=o("85cb").default;a("50e42e45",i,!0,{sourceMap:!1,shadowMode:!1})},f67b:function(e,t,o){"use strict";o("cc57");var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",["edit"===e.mode?o("div",{staticClass:"user-selector -edit"},[o("cell",{attrs:{label:e.label,placeholder:e.selecteds.length?"":e.placeholder,value:e.cellText},on:{click:e.openSelector}}),e.tip.length?o("div",{staticClass:"tip"},[e._v(e._s(e.tip))]):e._e(),o("selector",{attrs:{selecteds:e.selecteds,list:e.list,"recently-list":e.recentlyList,multi:e.multi,"show-search-btn":e.showSearchBtn,title:e.selectorTitle,"need-group":e.needGroup,"work-group":e.workGroup,"use-work-group":e.useWorkGroup,"work-group-selecteds":e.workGroupSelecteds,sheet:e.sheet,project_id:e.project_id,"exclude-my-self":e.excludeMySelf},on:{confirm:e.selectorConfirm,"update-work-group":e.updateWorkGroup,"delete-work-group":e.deleteWorkGroup},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}})],1):"view"===e.mode?o("div",{staticClass:"user-selector -view"},[o("van-collapse",{model:{value:e.collapseOpening,callback:function(t){e.collapseOpening=t},expression:"collapseOpening"}},[o("van-collapse-item",{attrs:{name:"default",title:"任务状态"}},[o("role-list",{attrs:{"task-proc-group":e.taskProcGroup,sheet:e.sheet,"handler-display-reports":e.handlerDisplayReports}})],1)],1),o("reports",{attrs:{title:"汇报记录",show:e.useReports,sheet:e.sheet,data:e.cProgressList,"use-reply":e.useReply,"use-report":e.useReport},on:{close:e.handlerToggleReports}})],1):e._e()])},a=[],r=o("4c09"),s=(o("e697"),o("163d"),o("2499")),n=o.n(s),c=o("6bfd"),l=o("8935"),d=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("selector",e._b({ref:"selector",attrs:{"default-work-group":e.workGroupList,"work-group":e.workGroup},on:{close:e.close,confirm:e.confirm,"reset-selecteds":e.handleResetSelecteds}},"selector",Object.assign({},e.$attrs,e.$props),!1),[e.useWorkGroup?o("div",{attrs:{slot:"custom_parts"},slot:"custom_parts"},[o("van-tab",{key:"group",attrs:{title:"分组"}})],1):e._e(),e.useWorkGroup?o("div",{attrs:{slot:"custom_parts_duplicate"},slot:"custom_parts_duplicate"},[o("van-tab",{key:"group",attrs:{title:"分组"}})],1):e._e(),e.useWorkGroup?o("div",{attrs:{slot:"custom_content"},slot:"custom_content"},[o("work-group",{attrs:{groups:e.workGroup,sheet:e.sheet,list:e.list,multi:e.multi,project_id:e.project_id,selected:e.workGroupList},on:{"update-work-group":e.updateWorkGroup,"delete-work-group":e.deleteWorkGroup,"change-work-group":e.handleChangeWorkGroup,"reset-work-group":e.handleResetWorkGroup}})],1):e._e()])],1)},u=[],p=(o("e204"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("popup-page",{directives:[{name:"phy-back",rawName:"v-phy-back",value:{status:e.show,method:"close"},expression:"{ status: show, method: 'close' }"}],attrs:{value:e.show}},[o("template",{slot:"header"},[o("div",{staticClass:"header-wrapper"},[o("div",{ref:"header"},[o("v-header",{attrs:{"back-action":e.close,title:e.title}}),o("div",{staticClass:"header-top"},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.multi&&e.curSelecteds.length,expression:"multi && curSelecteds.length"}],ref:"SelectedBar",staticClass:"user-selector--selected"},[o("transition-group",{attrs:{name:"van-fade"}},e._l(e.curSelecteds,(function(t,i){return o("div",{key:i,staticClass:"user-selector--selected-item",on:{click:function(o){e.removeUser(t)}}},[o("span",{staticClass:"text"},[e._v(e._s(t.group_name||t.name))]),o("i",{staticClass:"icon_close iconfont icon-_guanbi"})])})))],1),o("search-bar",{attrs:{"enable-cancel":!e.multi},on:{search:e.onSearch},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1)],1),e.searchShow||!e.shouldFix||e.supportSticky?e._e():o("div",[o("div",{staticClass:"user-selector--tabs"},[o("van-tabs",{staticClass:"p-tabs abs",class:"tab-count-"+e.parts.length,model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[e._l(e.parts,(function(e,t){return o("van-tab",{key:t,attrs:{title:e}})})),e._t("custom_parts_duplicate")],2)],1)])])]),o("div",{ref:"receive-container",staticClass:"p-body"},[!e.searchShow&&e.recentlyUserList.length?o("div",{staticClass:"recently"},[o("div",{staticClass:"user-selector--recently-list"},[o("div",{staticClass:"user-selector--title"},[e._v("\n          最近选择\n        ")]),e._l(e.recentlyUserList,(function(t,i){return o("page-item",{key:i,attrs:{user:t,multi:e.multi,index:i,selected:!!e.curSelectedsMap[t.user_id]},on:{click:function(o){e.onItemClick(t,i)}}})}))],2),e.recentlyUserList.length?o("div",{staticClass:"user-selector--title"},[e._v("\n        全部人员\n      ")]):e._e()]):e._e(),!e.searchShow&&e.needGroup?o("div",{ref:"receive-content",staticClass:"user-selector--tabs"},[o("van-tabs",{staticClass:"p-tabs",class:"tab-count-"+e.parts.length,model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[e._l(e.parts,(function(e,t){return o("van-tab",{key:t,attrs:{title:e}})})),e._t("custom_parts")],2),o("div",{staticClass:"p-tabs__content"},[e.userList[e.active]?e._l(e.userList[e.active],(function(t,i){return o("page-item",{key:i,attrs:{user:t,multi:e.multi,index:i,selected:!!e.curSelectedsMap[t.user_id]},on:{click:function(o){e.onItemClick(t,i)}}})})):e._t("custom_content")],2)],1):e._e(),e.searchShow?o("div",{staticClass:"user-selector--list"},[e._l(e.searchResult,(function(t,i){return o("page-item",{key:i,attrs:{user:t,multi:e.multi,index:i,selected:!!e.curSelectedsMap[t.user_id]},on:{click:function(o){e.onSearchSelect(t,i)}}})})),e.searchResult.length?e._e():o("no-record",{attrs:{txt:"没有符合条件的结果",type:"search"}})],2):e._e()]),o("template",{slot:"footer"},[e._t("footer",[e.multi?o("app-button-group",{directives:[{name:"hide-by-keyboard",rawName:"v-hide-by-keyboard"}]},[o("app-button",{on:{click:e.confirm}},[e._v("确认("+e._s(e.curSelectedsCount)+")")])],1):e._e()])],2)],2)}),f=[],x=(o("5ab2"),o("28f8")),g=(o("9dd9"),o("de78"),o("e10e"),o("6d57"),o("97b5")),h=o.n(g),m=o("5d4f"),v=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"user-selector-item",on:{click:e.click}},[e.user.photo?o("div",{staticClass:"user-selector-item--avatar",style:{backgroundImage:"url("+e.parsePath(e.user.photo)+")"}}):o("div",{staticClass:"user-selector-item--avatar",style:e.getBackground()},[e._v("\n    "+e._s(e.user.name.substring(0,1))+"\n  ")]),o("div",{staticClass:"user-selector-item--content"},[o("div",{staticClass:"user-selector-item--content-name",class:{"user-selector-item--content-active":e.selected}},[e._v("\n      "+e._s(e.user.name+" "+(e.user.station_name?"（"+e.user.station_name+"）":""))+"\n    ")]),!e.multi&&e.selected?o("i",{staticClass:" iconfont icon-_xuanzhong"}):e._e(),e.multi&&!e.selected?o("i",{staticClass:" iconfont icon-redio-unselected"}):e._e(),e.multi&&e.selected?o("i",{staticClass:" iconfont icon-selected"}):e._e()])])},b=[],y={name:"UserSelectorItem",props:{user:{type:Object,default:function(){}},multi:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},index:{type:Number,default:0}},methods:{click:function(){this.$emit("click")},getBackground:function(){return"background: ".concat(this.user.avatarBg||this.user.avatar,";")},parsePath:function(e){return'"'+e+'"'}}},k=y,w=(o("b001"),o("c701")),_=Object(w["a"])(k,v,b,!1,null,"4fdb33e0",null),S=_.exports,C=o("e2c8"),j=o("6485"),O=o("a740"),z=o("933f"),G={model:{prop:"show",event:"close"},props:{show:{type:Boolean,default:!1},selecteds:{type:Array,default:function(){return[]}},list:{type:Array,default:function(){return[]}},recentlyList:{type:Array,default:function(){return[]}},title:{type:String,default:""},showSearchBtn:{type:Boolean,default:!1},multi:{type:Boolean,default:!1},needGroup:{type:Boolean,default:!1},searchPlaceholder:{type:String,default:""},excludeMySelf:{type:Boolean,default:!1},customTab:{type:Object,default:function(){return{suffix:[],suffixActive:[]}}}},methods:{close:function(){this.searchKey="",this.$emit("close",!1),this.active=0},confirm:function(e){z["a"].idkey(z["a"].idkeys.editClickCheckedCopyTo),this.$emit("confirm",e),this.close()}}};function B(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function T(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?B(Object(o),!0).forEach((function(t){Object(x["a"])(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):B(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var P={name:"UserSelectorPage",components:{AfHeader:m["a"],PageItem:S,SearchPage:C["a"],noRecord:j["a"]},mixins:[G],props:{defaultWorkGroup:{type:Array,default:function(){return[]}},workGroup:{type:Array,default:function(){return[]}}},data:function(){return{curSelecteds:[],active:0,searchKey:"",searchResult:[],history:[],stickyTop:0,shouldFix:!1,supportSticky:!1}},computed:{curSelectedsMap:function(){return this.curSelecteds.reduce((function(e,t){return t.user_id&&(e[t.user_id]=t),e}),{})},curSelectedsCount:function(){var e=this,t=0;return this.curSelecteds.forEach((function(o){var i=e.workGroup.find((function(e){return e.group_id===o.group_id})),a=Number(o.count||i&&i.count);a||0===a?t+=a:t++})),t},parts:function(){return Object.keys(this.groupList)},groupList:function(){var e=this,t=this.list.filter((function(e){return"1"!==e.is_virtual_phone}));if(!this.needGroup)return{};var o=[{roleName:"乙方",roleList:["1004","1005"],peopleList:[]},{roleName:"监理",roleList:["1003"],peopleList:[]},{roleName:"咨询",roleList:["998"],peopleList:[]},{roleName:"甲方",roleList:["1000","1001","1002"],peopleList:[]}],i={};t.forEach((function(t){e.excludeMySelf&&t.user_id===Object(O["d"])("user_id")||(i[t.role_code]?i[t.role_code].push(t):i[t.role_code]=[t])})),o.forEach((function(e){e.roleList.forEach((function(t){i[t]&&(e.peopleList=e.peopleList.concat(i[t]))}))})),o=o.filter((function(e){return e.peopleList.length>0}));var a={};return o.forEach((function(e){a[e.roleName]=e.peopleList})),a},userList:function(){var e=Object.values(this.groupList);return e.forEach((function(e){e.forEach((function(e,t){/^#/.test(e.avatar)&&(e.avatarBg=e.avatar,e.avatar="")}))})),e},searchShow:function(){return 0!==this.searchKey.length},recentlyUserList:function(){var e=this;return this.recentlyList.map((function(t){return t.avatar&&t.avatarBg||e.userList.some((function(e){return e.some((function(e){return e.user_id===t.user_id&&(t.avatar=e.avatar,t.avatarBg=e.avatarBg,!0)}))})),t}))},isWorkGroup:function(){return"workgroup"===this.$attrs.from||!this.userList[this.active]}},watch:{selecteds:function(){this.curSelecteds=Object(r["a"])(this.selecteds)},list:function(){},defaultWorkGroup:{handler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.curSelecteds.filter((function(e){return e.group_id})),o=[],i=[];e.forEach((function(e){var i=t.find((function(t){return t.group_id===e.group_id}));i||o.push(e)})),t.forEach((function(t){var o=e.find((function(e){return e.group_id===t.group_id}));o||i.push(t)}));var a=this.curSelecteds.filter((function(e){return!i.find((function(t){return t.group_id===e.group_id}))}));this.curSelecteds=[].concat(Object(r["a"])(a),o)},deep:!0},show:function(e){e?(this.curSelecteds=Object(r["a"])(this.selecteds),this.fn=h()(this.handleScroll,7),document.addEventListener("scroll",this.fn,!0)):document.removeEventListener("scroll",this.fn,!0)},active:function(){this.isWorkGroup&&z["a"].idkey(z["a"].idkeys.clickWorkGroup)}},mounted:function(){},methods:{resizeTop:function(){},onSearch:function(e){var t=this;this.isWorkGroup?z["a"].idkey(z["a"].idkeys.editSearchWorkGroupPeople):z["a"].idkey(z["a"].idkeys.editSearchReceive);var o,i=Object(O["d"])("user_id"),a=[];e?(o=new RegExp(e,"i"),this.list.forEach((function(e){(o.test(e.name)||o.test(e.pinyin)||o.test(e.role))&&(t.excludeMySelf&&e.user_id===i||a.push(e))}))):a=[],this.searchResult=a},deleteHistory:function(){this.history.splice(0,this.history.length)},onItemClick:function(e,t){this.handleItemClick(e),this.multi||(this.$emit("confirm",this.curSelecteds,t),this.close())},onSearchSelect:function(e,t){this.handleItemClick(e),this.multi||(this.$emit("confirm",this.curSelecteds,t),this.close())},handleItemClick:function(e){this.multi?this.toggleUser(e):this.curSelectedsMap[e.user_id]?this.removeUser(e):(this.curSelecteds.splice(0,this.selecteds.length),this.curSelecteds.push(e),this.selectedBarScrollEnd())},toggleUser:function(e){this.curSelectedsMap[e.user_id]?(this.isWorkGroup?z["a"].idkey(z["a"].idkeys.editClickDelWorkGroupPeople):z["a"].idkey(z["a"].idkeys.editClickDelReceive),this.removeUser(e)):(this.isWorkGroup?z["a"].idkey(z["a"].idkeys.editClickCheckedWorkGroupPeople):z["a"].idkey(z["a"].idkeys.editClickAddReceive),this.curSelecteds.push(e),this.selectedBarScrollEnd())},removeUser:function(e){var t=this.curSelecteds.findIndex((function(t){return t.user_id===e.user_id||e.group_id&&t.group_id===e.group_id}));this.curSelecteds.splice(t,1),this.$emit("reset-selecteds",this.curSelecteds)},confirm:function(){var e=[];this.curSelecteds.forEach((function(t){t.group_id?e.push(T(T({},t),{},{type:2})):e.push(T(T({},t),{},{type:1}))})),this.$emit("confirm",e),this.close()},selectedBarScrollEnd:function(){var e=this;this.$nextTick((function(){e.$refs.SelectedBar.scrollLeft=2e3}))},isSupportSticky:function(){for(var e=["","-o-","-webkit-","-moz-","-ms-"],t=document.head.style,o=0;o<e.length;o+=1)t.position="".concat(e[o],"sticky");return this.supportSticky=!!t.position,!!t.position},scrollToTop:function(){var e=this;this.shouldFix&&(this.$refs["receive-container"].scroll(0,this.$refs["receive-content"].offsetTop+1),this.$nextTick((function(){e.checkShouldFixed()})))},handleScroll:function(){this.checkShouldFixed()},checkShouldFixed:function(){if(this.$refs["receive-container"]&&this.$refs["receive-content"]){var e=Math.ceil(this.$refs["receive-container"].getBoundingClientRect().top)-Math.ceil(this.$refs["receive-content"].getBoundingClientRect().top)>=0;this.shouldFix=!!e}}}},R=P,$=(o("5c7b3"),Object(w["a"])(R,p,f,!1,null,"acda12ee",null)),L=$.exports,D=L,A=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("add-cell",{attrs:{txt:"添加分组",after:!0},on:{click:e.open}}),e._l(e.groups,(function(t){return o("work-group-item",{key:t.group_id,attrs:{group:t,multi:e.multi,selected:!!e.curSelectedsMap[t.group_id]},on:{change:function(o){e.handleChangeWorkGroup(t)},click:function(o){e.open(t)}}})})),o("modify-work-group",{attrs:{show:e.show,list:e.list,group:e.group,sheet:e.sheet,project_id:e.project_id},on:{close:e.close,update:e.handleUpdateWorkGroup,delete:e.handleDeleteWorkGroup}})],2)},W=[],E=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("popup-page",{directives:[{name:"phy-back",rawName:"v-phy-back",value:{status:e.show,method:"close"},expression:"{ status: show, method: 'close' }"}],attrs:{value:e.show}},[o("template",{slot:"header"},[o("v-header",{attrs:{"back-action":e.close,title:e.title}},[e.isEdit?o("div",{staticClass:"confirm-action",attrs:{slot:"right"},on:{click:e.confirm},slot:"right"},[e._v("\n        删除\n      ")]):e._e()])],1),o("div",{staticClass:"modify-group"},[o("van-field",{attrs:{label:"分组名称",clearable:"",maxlength:"15",placeholder:"必填，限15个字"},model:{value:e.groupName,callback:function(t){e.groupName=t},expression:"groupName"}}),o("div",{staticClass:"user-selector--title"},[e._v("\n      成员("+e._s(e.selecteds.length)+")\n    ")]),o("add-cell",{attrs:{txt:"添加成员",after:e.selecteds.length},on:{click:e.open}}),e._l(e.selecteds,(function(t,i){return o("van-swipe-cell",{key:i},[o("page-item",{attrs:{user:t}}),o("template",{slot:"right"},[o("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"},on:{click:function(o){e.removeSelected(t)}}})],1)],2)})),o("user-selector",{attrs:{selecteds:e.selecteds,list:e.canSelectList,multi:e.multi,"show-search-btn":e.showSearchBtn,title:e.selectorTitle,"need-group":e.needGroup,"use-work-group":!1,"exclude-my-self":e.excludeMySelf,from:"workgroup"},on:{confirm:e.selectorConfirm},model:{value:e.showSelector,callback:function(t){e.showSelector=t},expression:"showSelector"}})],2),o("app-button-group",{attrs:{slot:"footer"},slot:"footer"},[o("div",{on:{click:e.save}},[o("app-button",{attrs:{disabled:!e.groupName||!e.selecteds.length}},[e._v("保存")])],1)])],2)},M=[],N=o("e3ee"),I=(o("1736"),o("62df")),U=o("5e25"),F=o("fa63"),Y=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("van-cell",{staticClass:"cell",class:{after:e.after},attrs:{value:e.txt},on:{click:e.open}},[o("i",{staticClass:"icon__plus iconfont icon--jia",attrs:{slot:"icon"},slot:"icon"})])},K=[],q={name:"AddCell",model:{prop:"txt",event:"click"},props:{txt:{type:String,default:""},after:{type:Boolean,default:!1}},data:function(){return{}},methods:{open:function(){this.$emit("click")}}},H=q,X=(o("faec"),Object(w["a"])(H,Y,K,!1,null,"6a510341",null)),J=X.exports,V=o("5fe8"),Q=o("da71"),Z=o("ab3e"),ee=o("540c"),te={add:function(e){return Object(Z["a"])({url:Q["a"].create_work_group,data:e})},del:function(e){return Object(Z["a"])({url:Q["a"].delete_work_group,data:e})},update:function(e){return Object(Z["a"])({url:Q["a"].update_work_group,data:e})},select:function(e){return Object(Z["a"])({url:Q["a"].work_group_user,data:e}).then((function(e){return e.data=ee["a"].formatUsers(e.data),e}))}},oe=o("5bbb");function ie(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function ae(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(o),!0).forEach((function(t){Object(x["a"])(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ie(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var re=function(){return{selecteds:[],multi:!0,showSearchBtn:!0,selectorTitle:"分组设置",needGroup:!0,excludeMySelf:!1,showSelector:!1,groupName:""}},se={name:"ModifyWorkGroup",components:{AfHeader:m["a"],ApprovePopup:F["a"],AddCell:J,UserSelector:D,PageItem:S,VanButton:I["a"],VanField:U["a"]},model:{prop:"show",event:"close"},props:{project_id:[String,Array],show:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}},group:{type:Object,default:function(){return null}},sheet:{type:Object,default:function(){return{}}}},data:function(){return ae({selecteds:[],multi:!0,showSearchBtn:!0,selectorTitle:"分组设置",needGroup:!0,excludeMySelf:!1,showSelector:!1,groupName:"",cloneData:null},re())},computed:{title:function(){return this.isEdit?"编辑分组":"新增"},isEdit:function(){return!!this.group},canSelectList:function(){var e=this,t=this.list;return this.selecteds.length?t.filter((function(t){return e.selecteds.find((function(e){return!(t.user_id===e.user_id)}))})):t}},watch:{show:function(e){e?this.init():this.cloneData=null}},methods:{close:function(){var e=this,t=function(){e.sui.confirm({message:"是否保存当前分组设置？",confirmButtonText:"保存",cancelButtonText:"不保存"}).then((function(){e.save()})).catch((function(){e.$emit("close",!1)}))};if(this.cloneData){var o=!1;this.selecteds.length!==this.cloneData.selecteds.length?o=!0:this.selecteds.length&&(o=this.selecteds.some((function(t){return!e.cloneData.selecteds.find((function(e){return e.user_id===t.user_id}))}))),this.cloneData.groupName!==this.groupName||o?t():this.$emit("close",!1)}else this.groupName||this.selecteds&&this.selecteds.length?t():this.$emit("close",!1)},open:function(){z["a"].idkey(z["a"].idkeys.addWorkGroupPeople),this.showSelector=!0},removeSelected:function(e){z["a"].idkey(z["a"].idkeys.delWorkGroupPeople);var t=this.selecteds.findIndex((function(t){return t.user_id===e.user_id}));this.selecteds.splice(t,1)},selectorConfirm:function(e){this.selecteds=e},save:function(){var e={selected:this.selecteds,groupName:this.groupName};return e.groupName?e.selected.length?void this.$emit("update",e):this.sui.toast("成员不能为空"):this.sui.toast("分组名称不能为空")},confirm:function(){z["a"].idkey(z["a"].idkeys.delWorkGroup);var e=this.group.group_id,t={group_id:e};this.$emit("delete",t)},init:function(){var e=this;if(this.group){var t=this.group;this.groupName=t.group_name,this.initGroup(t.group_id)}else{var o=re();Object.entries(o).map((function(t){var o=Object(N["a"])(t,2),i=o[0],a=o[1];e.$set(e.$data,i,a)}))}},initGroup:function(e){var t=this,o=Array.isArray(this.project_id)?this.project_id:[this.project_id],i={project_id:o,group_id:e,biz_type:V["a"].TC_TASK_REPORT};te.select(i).then((function(e){t.selectorConfirm(e.data),t.cloneData=Object(oe["a"])({groupName:t.groupName,selecteds:e.data})}))}}},ne=se,ce=(o("fc74"),Object(w["a"])(ne,E,M,!1,null,"5f755f1c",null)),le=ce.exports,de=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"user-selector-item"},[o("div",{staticClass:"user-selector-item--edit",on:{click:e.click}},[o("i",{staticClass:" iconfont icon-bianji"})]),o("div",{staticClass:"user-selector-item--content",on:{click:e.change}},[o("div",{staticClass:"user-selector-item--content-name",class:{"user-selector-item--content-active":e.selected}},[e._v("\n      "+e._s(e.group.group_name+" ("+e.group.count+")")+"\n    ")]),!e.multi&&e.selected?o("i",{staticClass:" iconfont icon-_xuanzhong"}):e._e(),e.multi&&!Number(e.group.count)?o("i",{staticClass:"icon-redio-disabled"}):e.multi&&!e.selected?o("i",{staticClass:" iconfont icon-redio-unselected"}):e._e(),e.multi&&e.selected?o("i",{staticClass:" iconfont icon-selected"}):e._e()])])},ue=[],pe={name:"WorkGroupItem",props:{group:{type:Object,default:function(){}},multi:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},index:{type:Number,default:0}},methods:{click:function(){this.$emit("click")},change:function(){z["a"].idkey(z["a"].idkeys.pickWorkGroup),this.$emit("change")},getBackground:function(){return"background: ".concat(this.user.avatarBg||this.user.avatar,";")},parsePath:function(e){return'"'+e+'"'}}},fe=pe,xe=(o("184d"),Object(w["a"])(fe,de,ue,!1,null,"95cdf326",null)),ge=xe.exports;function he(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function me(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?he(Object(o),!0).forEach((function(t){Object(x["a"])(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):he(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var ve,be={name:"WorkGroup",components:{ModifyWorkGroup:le,AddCell:J,WorkGroupItem:ge},props:{project_id:[String,Array],multi:{type:Boolean,default:!1},groups:{type:Array,default:function(){return[]}},list:{type:Array,default:function(){return[]}},selected:{type:Array,default:function(){return[]}},sheet:{type:Object,default:function(){return{}}}},data:function(){return{show:!1,group:null}},computed:{curSelectedsMap:function(){return this.selected.filter((function(e){return e.group_id})).reduce((function(e,t){return e[t.group_id]=t,e}),{})}},methods:{close:function(){this.show=!1},open:function(e){e?z["a"].idkey(z["a"].idkeys.editWorkGroup):z["a"].idkey(z["a"].idkeys.addWorkGroup),e?this.group=e:(this.group=null,this.$emit("reset-work-group")),this.show=!0},handleChangeWorkGroup:function(e){Number(e.count)?this.$emit("change-work-group",e):this.sui.toast("所选项目下该分组无成员，不可选择")},handleUpdateWorkGroup:function(e){var t=this,o=e.selected,i=e.groupName,a={project_id:this.project_id,group_id:this.group&&this.group.group_id,group_name:i,group_user_id:o.map((function(e){return e.user_id})),biz_type:V["a"].TC_TASK_REPORT},r=te.add;this.group&&(r=te.update),r(a).then((function(e){var i={group_id:e.data.group_id,group_name:e.data.group_name,groupUser:o};t.$emit("update-work-group",i),t.close()})).catch((function(e){t.sui.toast(e.message)}))},handleDeleteWorkGroup:function(e){var t=this,o=me({project_id:this.project_id},e);this.sui.confirm({message:"确认删除当前分组吗？",confirmButtonText:"删除",cancelButtonText:"不删除",confirmButtonColor:"#ff3b30"}).then((function(){te.del(o).then((function(e){t.sui.toast(e.message),t.$emit("delete-work-group",o),t.close()})).catch((function(e){t.sui.toast(e.message)}))}))}}},ye=be,ke=Object(w["a"])(ye,A,W,!1,null,null,null),we=ke.exports,_e=we,Se={name:"EnhanceUserSelectorPage",components:{WorkGroup:_e,Selector:D},mixins:[G],props:{project_id:[String,Array],show:{type:Boolean,default:!1},workGroup:{type:Array,default:function(){return[]}},workGroupSelecteds:{type:Array,default:function(){return[]}},useWorkGroup:{type:Boolean,default:!1},multi:{type:Boolean,default:!1},sheet:{type:Object,default:function(){return{}}}},data:function(){return{workGroupList:[]}},watch:{workGroupSelecteds:function(e){this.workGroupList=Object(r["a"])(e)},show:function(e){e&&(this.workGroupList=Object(r["a"])(this.selecteds.filter((function(e){return e.group_id}))))}},methods:{close:function(){this.workGroupList=[],this.searchKey="",this.$emit("close",!1),this.active=0},handleResetSelecteds:function(e){this.workGroupList=e.filter((function(e){return e.group_id}))},updateWorkGroup:function(e){this.$emit("update-work-group",e)},deleteWorkGroup:function(e){this.$emit("delete-work-group",e)},handleChangeWorkGroup:function(e){var t=this.workGroupList.findIndex((function(t){return t.group_id===e.group_id}));t>-1?this.workGroupList.splice(t,1):(this.workGroupList.push(e),this.$refs.selector.selectedBarScrollEnd())},handleResetWorkGroup:function(){this.workGroupList=[]}}},Ce=Se,je=Object(w["a"])(Ce,d,u,!1,null,null,null),Oe=je.exports,ze=Oe,Ge=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"step-item-list"},e._l(e.taskProcGroup,(function(t,i){return o("div",{key:i,staticClass:"step-item"},[o("i",{staticClass:"status-icon iconfont",class:e.renderStatusClassName(t)}),o("div",{staticClass:"item-content"},[o("div",{staticClass:"step-point",attrs:{"task-status":t.task_status}},[o("div",{staticClass:"step_desc"},[e._v(e._s(e.renderStatusDes(t)))]),o("div",{staticClass:"step_name"},[e._v(e._s(t.title))])]),o("div",{staticClass:"flow-item-list"},[o("task-item",{attrs:{"task-list":t.task_list,sheet:e.sheet,"handler-display-reports":e.handlerDisplayReports}})],1)])])})))},Be=[],Te=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",e._l(e.taskList,(function(t,i){return o("div",{key:i,class:{"flow-item":t.visible,connected:t.is_connected},attrs:{"work-type":t.task_status}},[t.visible?o("div",{staticClass:"approver-content"},[o("div",{staticClass:"line line-name",class:{connected:t.is_connected}},[o("span",{staticClass:"name"},[e._v("\n          "+e._s(t.user_info.name)+"\n          "),o("span",{staticClass:"fz-14 station-name"},[e._v(e._s(e._f("station")(t.user_info)))])]),!e.isHideSms&&e.showTelSms&&t.user_info.user_id!==e.currentUserId&&e.TASK_STATUS.pending===t.task_status?o("i",{staticClass:"action-button action-sms iconfont icon-_faduanxin",on:{click:function(o){e.sendSms(t)}}}):e._e()]),o("div",{staticClass:"line line-status"},[o("div",{staticClass:"item-status"},[e._v(e._s(t.task_status_hint))]),o("div",{staticClass:"time"},[e._v(e._s(t.time))])]),o("div",{staticClass:"line line-label"},[t.sp_timeout?o("span",{staticClass:"span-timeout action-label",on:{click:function(o){e.handlerTimeoutReason(t)}}},[t.sp_timeout_reason.length?o("span",{staticClass:"iconfont icon-_biaoqian-chaoshiyuanyin"}):o("span",{staticClass:"iconfont icon-_biaoqian-chaoshi"})]):e._e(),t.cc_users&&t.cc_users.length?o("span",{staticClass:"span-people-copy action-label",on:{click:function(o){e.handlerPeopleCopy(t.user_info.name,t.cc_users)}}},[o("span",{staticClass:"iconfont icon-_biaoqian-caosong"})]):e._e()]),o("div",{staticClass:"line line-remark"},[e._v(e._s(t.task_status_desc))]),t.progress_list&&t.progress_list.length?o("div",{staticClass:"report-btn"},[t.unread_count?o("span",{staticClass:"icon-number-box"},[o("span",{staticClass:"icon-number"},[e._v(e._s(t.unread_count))])]):e._e(),o("span",{staticClass:"text",on:{click:function(o){e.handlerDisplayReports(t)}}},[e._v("汇报记录")]),o("i",{staticClass:"iconfont icon-1_you icon__arrow"})]):e._e(),e._t("default")],2):e._e()])})))},Pe=[],Re={report:0,reply:1},$e={done:0,pending:1},Le={pending:0,done:1,transfer:2,invalidate:3,waiting:4},De={start:"发起任务",pending:"待处理",done:"已完成",report:"汇报",reply:"回复",transfer:"已转交",waitingReview:"等待审核",pendingReview:"待审核",reviewed:"审核通过"},Ae={initiatorDone:1,receiverPending:2,receiverDone:3,receiverInvalidate:4,reviewerWaiting:5,reviewerPending:6,reviewerDone:7,reviewerInvalidate:8,systemInvalidate:9},We=(ve={},Object(x["a"])(ve,Ae.initiatorDone,"发起任务"),Object(x["a"])(ve,Ae.receiverPending,"待处理"),Object(x["a"])(ve,Ae.receiverDone,"已完成"),Object(x["a"])(ve,Ae.receiverInvalidate,"已作废"),Object(x["a"])(ve,Ae.reviewerWaiting,"等待审核"),Object(x["a"])(ve,Ae.reviewerPending,"待审核"),Object(x["a"])(ve,Ae.reviewerDone,"审核通过"),Object(x["a"])(ve,Ae.systemInvalidate,"已作废"),ve),Ee=o("f121"),Me=o("40e4"),Ne={name:"TaskItem",filters:{station:function(e){if(!e)return"";var t=e.role_code,o=e.station_list;return t===Ee["b"].SUPER_MNGER?"":Array.isArray(o)&&o.length?"（".concat(o.map((function(e){var t=e.station_name;return t})).join("、"),"）"):""}},props:{taskList:{type:Array,default:function(){return[]}},sheet:{type:Object,default:function(){return{}}},handlerDisplayReports:{type:Function}},data:function(){return{show:!1,useReports:!1,cProgressList:[],useReply:!1,useReport:!1,collapseOpening:["default"],TASK_STATUS:Le}},computed:{isHideSms:function(){return"1"===Object(O["b"])().hide_sms_urge_due},currentUserId:function(){return Object(O["d"])("user_id")},showTelSms:function(){return this.sheet.author===this.currentUserId&&"1"===this.sheet.check_status}},methods:{renderStatusClassName:function(e){var t=e.task_status,o=e.is_connected;switch(t){case Le.done:return"icon-selected";case Le.transfer:var i=o?" line":"";return"icon-_zhuanjiao-flow".concat(i);case Le.invalidate:return"icon-_zuofei";case Le.waiting:return"icon-_daishenpi gray";case Le.pending:default:return"icon-_daishenpi"}},renderReceiveStatusClassName:function(e){switch(e){case De.start:return"start";case De.pendingReview:case De.pending:return"pending";case De.done:case De.reviewed:return"done";case De.transfer:return"transfer";case De.waitingReview:return"gray"}},sendSms:function(e){var t=this,o=e.user_info.user_id,i=this.sheet.biz_id;Object(Me["a"])({recipient_id:o,biz_id:i}).then((function(o){1===o.success&&t._sendSms(e)})).catch((function(e){var o=e.message;t.sui.alert(o)}))},_sendSms:function(e){var t=this,o=e.user_info.user_id,i=this.sheet.biz_id;this.sui.confirm("确定发送短信催办吗？",(function(){return t.sui.showIndicator(),Object(Me["j"])({contract_id:"",project_id:t.sheet.project_id,recipient_id:o,biz_id:i,biz_type:t.bizType,change_overview:t.sheet.biz_title}).then((function(e){t.sui.hideIndicator(),t.sui.toast("催办成功")})).catch((function(e){t.sui.hideIndicator(),t.sui.toast(e.message)}))}))},handlerPeopleCopy:function(e,t){var o=t.map((function(e){return e.name})).join("，");this.sui.modal({title:"抄送详情",text:'                  <div class="cc-model-dev">                    <div class="left">抄送人：</div>                    <div class="right">'+e+'</div>                  </div>                  <div class="cc-model-dev">                    <div class="left">抄送对象：</div>                    <div class="right">'+o+"</div>                  </div>                ",buttons:[{text:"我知道了"}]})},handlerTimeoutReason:function(e){var t=e.sp_timeout_reason,o=e.task_status_hint;if(Array.isArray(t)&&t.length){var i=t.map((function(e,t){return'<div class="timeoutBox">\n<div class="flex"><span>超时原因：</span><span>'.concat(e.sp_timeout_reason,'</span></div>\n<div class="flex"><span>').concat(t||o!==De.done?"汇报时间":"完成时间","：</span><span>").concat(e.time,"</span></div>\n</div>")})).join("");this.sui.modal({title:"超时原因",text:i,buttons:[{text:"我知道了"}]})}}}},Ie=Ne,Ue=(o("a370"),Object(w["a"])(Ie,Te,Pe,!1,null,"4e697160",null)),Fe=Ue.exports,Ye={name:"RoleList",components:{TaskItem:Fe},props:{taskProcGroup:{type:Array,default:function(){return[]}},sheet:{type:Object,default:function(){return{}}},handlerDisplayReports:{type:Function}},data:function(){return{}},mounted:function(){},methods:{renderStatusClassName:function(e){var t=e.task_status;e.is_connected;switch(t){case Ae.initiatorDone:case Ae.receiverDone:case Ae.reviewerDone:return"icon-selected";case Ae.reviewerWaiting:return"icon-_daishenpi gray";case Ae.receiverPending:case Ae.reviewerPending:return"icon-_daishenpi";case Ae.receiverInvalidate:case Ae.reviewerInvalidate:case Ae.systemInvalidate:return"icon-_zuofei"}},renderStatusDes:function(e){var t=e.task_status;return We[t]}}},Ke=Ye,qe=(o("6faf"),Object(w["a"])(Ke,Ge,Be,!1,null,"00c838a0",null)),He=qe.exports,Xe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("popup-page",{directives:[{name:"phy-back",rawName:"v-phy-back",value:{status:e.show,method:"close"},expression:"{ status: show, method: 'close' }"}],attrs:{value:e.show}},[o("template",{slot:"header"},[o("v-header",{attrs:{"back-action":e.close,title:e.title}},[e.approveData.reportBtn?o("approve-popup",{attrs:{slot:"right","sp-config":e.approveData.reportBtn,"action-data":e.approveData.actionData,sheet:e.approveData.sheet},slot:"right",scopedSlots:e._u([{key:"default",fn:function(t){var i=t.handleClick;return[o("span",{on:{click:i}},[e._v("新建汇报")])]}}])}):e._e()],1)],1),o("div",{ref:"ReportList",staticClass:"report-list"},[o("div",{staticClass:"flow-item-list"},e._l(e.data,(function(t,i){return o("div",{key:i,staticClass:"flow-item",class:{gray:t.msg_status===e.MSG_STATUS.done}},[o("i",{staticClass:"status-icon iconfont",class:e.renderStatusClassName(t.task_type)}),o("div",{staticClass:"item-content"},[o("div",{staticClass:"line line-name"},[o("span",{staticClass:"name"},[t.msg_status===e.MSG_STATUS.pending?o("i",{staticClass:"iconfont icon-pending"}):e._e(),e._v("\n              "+e._s(t.task_status_desc)+"\n            ")])]),o("div",{staticClass:"line line-status"},[o("div",{staticClass:"item-status"},[e._v("\n              "+e._s(t.user_info.name)+"\n            ")]),o("div",{staticClass:"time"},[e._v(e._s(t.time))])]),e._t("default")],2)])})))]),e.approveData.replyBtn?o("app-button-group",{style:{dispaly:"block",background:e.isFixedBottom?"#fff":"inherit","margin-bottom":e.isFixedBottom?"0px":"20px"},attrs:{slot:e.isFixedBottom?"footer":"default"},slot:e.isFixedBottom?"footer":"default"},[o("approve-popup",{attrs:{"sp-config":e.approveData.replyBtn,"action-data":e.approveData.actionData,sheet:e.approveData.sheet}})],1):e._e()],2)},Je=[],Ve=o("5a1b"),Qe=o.n(Ve),Ze=o("a783"),et=o("3ec3"),tt={name:"UserSelectorPage",components:{AfHeader:m["a"],ApprovePopup:F["a"]},model:{prop:"show",event:"close"},props:{show:{type:Boolean,default:!1},title:{type:String,default:""},data:{type:Array,default:function(){return[]}},sheet:{type:Object,default:function(){}},useReply:{type:Boolean,default:!1},useReport:{type:Boolean,default:!1}},data:function(){return{bizType:Ze["a"].bizType,changeType:Ze["a"].changeType,approveData:{},MSG_STATUS:$e,isFixedBottom:!1}},watch:{show:function(e){var t=this;if(e){this.curBizConfig=et["a"][Ze["a"].bizType];var o={proc_type_id:this.curBizConfig.procTypeId||"",cur_step_id:"",biz_id:this.sheet[this.curBizConfig.sheetIdKey],biz_title:this.sheet.change_overview||this.sheet.subject,tpl_key:"",check_status:this.sheet.check_status,proc_action:"",sp_remark:"",approver_ids:[]};Array.isArray(this.data)&&this.data.forEach((function(e){e.task_type===Re.report&&(o.reply_id=e.reply_id,o.reply_user_id=n()(e,"user_info.user_id"))}));var i=this.useReport?{action:"taskReport",actionName:"新增进度汇报",data:[]}:null,a=this.useReply?{action:"taskReply",actionName:"回复",data:[]}:null;this.approveData=Qe()({sheet:this.sheet,reportBtn:i,replyBtn:a,actionData:o}),this.$nextTick((function(){if(t.$refs.ReportList){var e=t.$refs.ReportList.offsetHeight;t.isFixedBottom=e>window.outerHeight-200}}))}}},methods:{close:function(){this.data.forEach((function(e){e.msg_status=$e.done})),this.$emit("close",!1)},renderStatusClassName:function(e){return e===Re.report?"icon-gongchengxietongtubiao0317_biaoqian-huibao":"icon-gongchengxietongtubiao0317_biaoqian-yujingfuben2"}}},ot=tt,it=(o("ce79"),Object(w["a"])(ot,Xe,Je,!1,null,"1c1be6d1",null)),at=it.exports,rt=o("d50e"),st=o("14ba"),nt=o("0b53c"),ct=o("329b");ct["a"].use(rt["a"]).use(st["a"]).use(nt["a"]);var lt=at,dt={name:"ReceiveSelectorCell",components:{Cell:c["a"],Selector:ze,Reports:lt,RoleList:He},model:{prop:"selecteds",event:"onSubmit"},props:{label:String,project_id:[String,Array],placeholder:{type:String,default:"非必选"},selecteds:{type:Array,default:function(){return[]}},showSearchBtn:Boolean,selectorTitle:String,multi:Boolean,list:{type:Array,default:function(){return[]}},recentlyList:{type:Array,default:function(){return[]}},workGroup:{type:Array,default:function(){return[]}},useWorkGroup:{type:Boolean,default:!1},history:{type:Array,default:function(){return[]}},beforeEdit:{type:Function,default:function(){return!0}},tip:{type:String,default:""},needGroup:{type:Boolean,default:!0},excludeMySelf:{type:Boolean,default:!1},mode:{type:String,default:"edit"},sheet:{type:Object,default:function(){}},bizType:{type:Number,default:0},field:{type:String,default:"receive_users"}},data:function(){return{show:!1,useReports:!1,cProgressList:[],useReply:!1,useReport:!1,workGroupSelecteds:[],collapseOpening:["default"]}},computed:{taskProcGroup:function(){return this.sheet.task_proc_group},cellText:function(){return this.useWorkGroup?this.selecteds.map((function(e){return e.group_name||e.name})).join("；"):this.selecteds.map((function(e){return e.name})).filter((function(e){return e})).join("；")}},watch:{list:function(e){var t=this,o=this.selecteds.filter((function(o){return e.find((function(e){return o.user_id===e.user_id}))||t.workGroup.find((function(e){return e.group_id===o.group_id}))}));this.$emit("onSubmit",o)}},mounted:function(){if(n()(this,["sheet",this.field])){var e=this.sheet[this.field];Array.isArray(this.sheet.receive_work_groups)&&this.sheet.receive_work_groups.length&&(e=[].concat(Object(r["a"])(e),Object(r["a"])(this.sheet.receive_work_groups)),this.workGroupSelecteds=Object(r["a"])(this.sheet.receive_work_groups)),this.selectorConfirm(e)}},methods:{validateRequirement:function(){var e=Object(r["a"])(this.selecteds);return e.length?{flag:!0,msg:""}:{flag:!1,msg:"".concat(this.label||"责任人","为必选项")}},removeSelected:function(e,t){z["a"].idkey(z["a"].idkeys.editClickDelOutsideReceive);var o=Object(r["a"])(this.selecteds);o.splice(t,1),this.$emit("onSubmit",o)},openSelector:function(){this.beforeEdit()&&(this.show=!0)},selectorConfirm:function(e){this.$emit("onSubmit",e)},handlerToggleReports:function(e){this.useReports=e},handlerDisplayReports:function(e){var t=Object(O["d"])("user_id"),o=e.progress_list,i=e.user_info,a=void 0===i?{}:i,r=e.allow_reply;this.cProgressList=o,this.useReply=r,this.useReport=!(a.user_id!==t||!n()(this,"sheet.sp_action",[]).find((function(e){return e.action===l["b"].taskReport}))),this.handlerToggleReports(!0),e.unread_count=0},updateWorkGroup:function(e){this.$emit("update-work-group",e)},deleteWorkGroup:function(e){this.$emit("delete-work-group",e)}}},ut=dt,pt=(o("e155"),o("7eca"),Object(w["a"])(ut,i,a,!1,null,"7edf5c77",null)),ft=pt.exports;ft.install=function(e){e.component(ft.name,ft)};t["a"]=ft},faec:function(e,t,o){"use strict";o("116e")},fc74:function(e,t,o){"use strict";o("4d61")}}]);