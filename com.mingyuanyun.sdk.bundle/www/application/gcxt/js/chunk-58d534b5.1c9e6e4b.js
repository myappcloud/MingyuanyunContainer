(window["webpackJsonp_module_entry_gcxt_"]=window["webpackJsonp_module_entry_gcxt_"]||[]).push([["chunk-58d534b5"],{"2d11":function(e,t,o){"use strict";o("4cbe")},"4cbe":function(e,t,o){var a=o("6b1d");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=o("85cb").default;i("b503a104",a,!0,{sourceMap:!1,shadowMode:!1})},"4e28":function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"searchTool",class:{active:e.active}},[o("div",{staticClass:"searchTool-header"},[o("div",{staticClass:"searchTool-field"},[o("i",{staticClass:"iconfont icon-_sousuo icon__search"}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],staticClass:"searchTool-input",attrs:{type:"text",placeholder:"搜索"},domProps:{value:e.keyword},on:{focus:e.enter,input:function(t){t.target.composing||(e.keyword=t.target.value)}}}),o("i",{staticClass:"iconfont icon-baocuo",on:{click:e.clear}})]),o("button",{staticClass:"searchTool-btn-quit",attrs:{type:"button"},on:{click:e.quit}},[e._v("\n      取消\n    ")])]),o("div",{staticClass:"searchTool-body"},[e.user.length&&"member"===e.type?o("ul",{staticClass:"userList"},[o("li",{staticClass:"address-title"},[e._v("联系人")]),e._l(e.user,(function(t,a){return o("li",{key:a,staticClass:"userList-item",on:{click:function(o){e.selectuser(t,"PRIVATE")}}},[o("img",{staticClass:"userList-item-photo",attrs:{alt:"",src:t.photo?t.photo:e.defaultImage}}),o("div",{staticClass:"userList-item-name"},[o("span",[e._v(e._s(t.name))]),t.station_name?o("span",{staticClass:"position"},[e._v("\n            ("+e._s(t.station_name)+")\n          ")]):e._e()])])}))],2):e._e(),e.group.length&&"group"===e.type?o("ul",{staticClass:"searchResult-group"},[o("li",{staticClass:"address-title"},[e._v("群聊")]),e._l(e.group,(function(t,a){return o("li",{key:a,staticClass:"searchResult-group-item",on:{click:function(o){e.selectuser(t,"GROUP")}}},[e._m(0,!0),o("div",{staticClass:"searchResult-group-detail"},[o("div",{staticClass:"searchResult-group-name"},[e._v(e._s(t.group_name))]),o("include-user",{attrs:{user:t.members[0],keyword:e.keyword}})],1)])}))],2):e._e()])])},i=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"searchResult-group-icon"},[o("i",{staticClass:"iconfont icon-gongchengxietong-icon-34"})])}],r=(o("d91d"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"searchResult-group-include",domProps:{innerHTML:e.xss(e._s(e.filterText))}},[o("span",[e._v("包含:")]),o("span",[e._v("111")])])}),n=[],s=(o("8dee"),o("a450"),{name:"IncludeUser",props:{user:{type:Object,default:function(){return{}}},keyword:{type:String,default:function(){return""}}},data:function(){return{filterText:""}},created:function(){if(this.user){var e=this.user.name;this.filterText="<span>包含: </span>"+e.replace(this.keyword,'<span class="highlight">'+this.keyword+"</span>")}}}),c=s,l=o("5d22"),d=Object(l["a"])(c,r,n,!1,null,"197a5e54",null),f=d.exports,u=o("ddf0"),p=o("8c3a"),g=o.n(p),h=o("8b7b"),x=o("34ae"),v={name:"SearchTool",components:{includeUser:f},props:{type:{type:String,default:function(){return"member"}}},data:function(){return{keyword:"",active:!1,searchId:null,user:[],group:[],defaultImage:g.a,userInfo:{}}},watch:{keyword:function(e){var t=this;this.searchId&&clearTimeout(this.searchId),this.searchId=setTimeout((function(){t.search(e),this.searchId=null}),500)}},methods:{enter:function(){this.active=!0},quit:function(){this.keyword="",this.active=!1},clear:function(){this.keyword=""},search:function(e){var t=this;e?Object(u["f"])({keyword:e}).then((function(e){var o=e.data;t.group=o.group,t.user=o.user})):(this.group=[],this.user=[])},onSelectSearchUser:function(e,t){if(t===this.PRIVATE)this.createIm(e),this.userInfo[e.user_id]=e;else if(t===this.GROUP){var o={user_id:e.group_id,name:e.group_name,photo:null};Object(h["d"])(o,null,1),x["a"].__im_user=this.GROUP+":"+e.group_id,this.groupName[e.group_id]=e.group_name,this.current={conversationType:this.GROUP,targetId:e.group_id,group_name:e.group_name}}},selectuser:function(e,t){this.quit(),localStorage.IM_SelectedUser=JSON.stringify(e),this.$router.push("/message-im-personInfo")}}},b=v,m=(o("a333"),Object(l["a"])(b,a,i,!1,null,"5ae01f2f",null));t["a"]=m.exports},"6b1d":function(e,t,o){t=e.exports=o("690e")(!1),t.push([e.i,".gcxt[data-v-5b0de98c] :export{colorPrimary:#0268b3;headerBackgroundColor:#fff;headerTextColor:#333}.gcxt .relativeProject[data-v-5b0de98c]{list-style:none;margin:0;padding:0;background-color:#fff}.gcxt .relativeProject .icon-_xiangmu[data-v-5b0de98c]{position:absolute;font-size:25px;left:15px;top:12px;color:#0268b3;opacity:.7}.gcxt .relativeProject .icon-_fanui[data-v-5b0de98c]{position:absolute;font-size:18px;right:16px;top:16.5px;color:#c7c7cc;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.gcxt .relativeProject-item[data-v-5b0de98c]{border-bottom:1px solid #efefef;position:relative;padding-left:15px}.gcxt .relativeProject-item[data-v-5b0de98c]:last-child{border-bottom:none}.gcxt .subProject .relativeProject-item[data-v-5b0de98c]{border-bottom:1px solid #efefef}.gcxt .subProject:last-child .relativeProject-item[data-v-5b0de98c]:last-child{border-bottom:none}.gcxt .relativeProject-name[data-v-5b0de98c]{padding-left:39px;line-height:60px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:16px}.gcxt .userList[data-v-5b0de98c]{list-style:none;margin:0;padding:0;background-color:#fff}.gcxt .userList-title[data-v-5b0de98c]{height:25px;line-height:25px;font-size:13px;text-indent:15px;background-color:#f5f5f5}.gcxt .userList-item[data-v-5b0de98c]{height:60px;line-height:60px;padding-left:15px;position:relative}.gcxt .userList-item-photo[data-v-5b0de98c]{position:absolute;left:16px;top:10px;width:40px;height:40px;border:none}.gcxt .editGroupMode .userList-item-photo[data-v-5b0de98c]{left:52px}.gcxt .userList-item-name[data-v-5b0de98c]{padding-left:56px;border-bottom:1px solid #efefef}.gcxt .editGroupMode .userList-item-name[data-v-5b0de98c]{padding-left:92px}.gcxt .userList-item:last-child .userList-item-name[data-v-5b0de98c]{border-bottom:none}.gcxt #remove .selectMark[data-v-5b0de98c],.gcxt #selectUser .selectMark[data-v-5b0de98c]{border:1px solid #c7c7c7;position:absolute;width:20px;height:20px;font-size:12px;line-height:20px;border-radius:50%;text-align:center;color:#fff;left:16px;top:20px}.gcxt #remove .selectMark.icon-right1[data-v-5b0de98c],.gcxt #selectUser .selectMark.icon-right1[data-v-5b0de98c]{background-color:#509afa;border:1px solid #fff}.gcxt #selectUser .selectMark.lockActiveUser[data-v-5b0de98c]{background-color:#aaa}",""])},"8b7b":function(e,t,o){"use strict";o.d(t,"d",(function(){return T})),o.d(t,"a",(function(){return h})),o.d(t,"b",(function(){return x})),o.d(t,"c",(function(){return k}));o("a450"),o("0c84"),o("1bc7");var a=o("a740"),i=o("4360"),r=o("21aa"),n=o("a18c"),s=o("ddf0"),c=o("34ae"),l=o("d9d2"),d=function(){var e="";return function(){if(e)return e;var t=location.protocol+location.host+location.pathname;return e=t.substring(0,t.lastIndexOf("/")+1),e}}(),f=d()+"static/images/IM/back.png",u=d()+"static/images/IM/info.png",p=d()+"static/images/IM/groupInfo.png",g=d()+"static/images/IM/tel.png",h="GROUP",x="PRIVATE",v=[],b={},m={};function _(){return new Promise((function(e,t){window.RongCloudLibPlugin?window.RongCloudLibPlugin.getConversationList((function(t,o){t&&"success"===t.status&&(console.log("会话列表",t),e(t.result))})):e([])}))}function k(){return new Promise((function(e,t){_().then(P).then(j).then((function(){e(v)}))}))}function w(e){if(!e)return null;var t=m,o=v;return e.forEach((function(e){t[e.group_id]=e.group_name})),o.forEach((function(e,o){if(e.conversationType===h){var a=t[e.targetId];a&&(v[o].group_name=a)}})),e}function y(e){if(!e)return null;var t=b,o=v;return e.forEach((function(e){t[e.user_id]=e})),o.forEach((function(e,o){if(e.conversationType===x){var a=t[e.targetId];a&&(v[o].targetInfo=a)}})),e}function P(e,t){var o=b,a=m,i=[],r=[];return e.forEach((function(e){e.conversationType===x?o[e.targetId]?e.targetInfo=o[e.targetId]:i.push(e.targetId):e.conversationType===h&&(!o[e.senderUserId]&&i.indexOf(e.senderUserId)<0&&!isNaN(e.senderUserId)&&""!==e.senderUserId&&i.push(e.senderUserId),a[e.targetId]?e.group_name=a[e.targetId]:r.push(e.targetId))})),v=e,i.length||r.length?Promise.all([I(i),C(r)]):null}function I(e){return e&&e.length?new Promise((function(t,o){Object(s["b"])({user_ids:JSON.stringify(e)}).then((function(e){t(e.data)}))})):Promise.resolve()}function C(e){return e&&e.length?new Promise((function(t,o){Object(s["a"])({group_ids:e.join(",")}).then((function(e){t(e.data)}))})):Promise.resolve()}function j(e){if(e){var t=e[0],o=e[1];y(t),w(o)}}function T(e,t,o){if(window.MRongCloudCaigou){o=void 0===o?0:o;var s=Object(a["d"])(),d={userId:s.user_id,name:Object(a["a"])("xt_user_name"),portraitUri:s.photo},h={userId:e.user_id,name:e.name,portraitUri:e.photo},x={onOpenIMSuccess:function(){console.log("开启聊天")},onOpenIMError:function(){console.error(arguments),l["b"].toast("打开聊天失败"),c["a"].__im_user=void 0},onGoBack:function(){c["a"].__im_user=void 0,i["a"].commit(r["c"],null),n["a"].push("/home/message")},onClickBusInfo:function(e){console.log("点击businfo区域"),console.log(arguments)},onClickPortrait:function(e){console.log(e),console.log("点击了聊天用户头像"),c["a"].__im_user=void 0},onClickRightIcon:function(){}},v={isShowRightBtn:!0,conversationType:o,navBar:{leftIconPath:f,rightIconPath:p,barColor:"#3492e9",barTitleColor:"#ffffff"},closeOpenAnimation:!0,closeBackAnimation:!0};o||(v.navBar.rightIconPath=u,v.navBar.rightSubIconPath=g,v.navBar.rightSubParam={type:1,value:e.user_code}),v.busInfo=t,console.log(v,"----im");try{window.MRongCloudCaigou.openIm(d,h,x,v)}catch(b){console.log(b),c["a"].__im_user=void 0}}else console.warn("打开会话框失败，MRongCloudCaigou插件不存在，请检测打包配置。")}},"8c3a":function(e,t,o){e.exports=o.p+"img/defaultHeader.081b481c.png"},9768:function(e,t,o){t=e.exports=o("690e")(!1),t.push([e.i,".gcxt[data-v-5ae01f2f] :export{colorPrimary:#0268b3;headerBackgroundColor:#fff;headerTextColor:#333}.gcxt .relativeProject[data-v-5ae01f2f]{list-style:none;margin:0;padding:0;background-color:#fff}.gcxt .relativeProject .icon-_xiangmu[data-v-5ae01f2f]{position:absolute;font-size:25px;left:15px;top:12px;color:#0268b3;opacity:.7}.gcxt .relativeProject .icon-_fanui[data-v-5ae01f2f]{position:absolute;font-size:18px;right:16px;top:16.5px;color:#c7c7cc;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.gcxt .relativeProject-item[data-v-5ae01f2f]{border-bottom:1px solid #efefef;position:relative;padding-left:15px}.gcxt .relativeProject-item[data-v-5ae01f2f]:last-child{border-bottom:none}.gcxt .subProject .relativeProject-item[data-v-5ae01f2f]{border-bottom:1px solid #efefef}.gcxt .subProject:last-child .relativeProject-item[data-v-5ae01f2f]:last-child{border-bottom:none}.gcxt .relativeProject-name[data-v-5ae01f2f]{padding-left:39px;line-height:60px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:16px}.gcxt .userList[data-v-5ae01f2f]{list-style:none;margin:0;padding:0;background-color:#fff}.gcxt .userList-title[data-v-5ae01f2f]{height:25px;line-height:25px;font-size:13px;text-indent:15px;background-color:#f5f5f5}.gcxt .userList-item[data-v-5ae01f2f]{height:60px;line-height:60px;padding-left:15px;position:relative}.gcxt .userList-item-photo[data-v-5ae01f2f]{position:absolute;left:16px;top:10px;width:40px;height:40px;border:none}.gcxt .editGroupMode .userList-item-photo[data-v-5ae01f2f]{left:52px}.gcxt .userList-item-name[data-v-5ae01f2f]{padding-left:56px;border-bottom:1px solid #efefef}.gcxt .editGroupMode .userList-item-name[data-v-5ae01f2f]{padding-left:92px}.gcxt .userList-item:last-child .userList-item-name[data-v-5ae01f2f]{border-bottom:none}.gcxt #remove .selectMark[data-v-5ae01f2f],.gcxt #selectUser .selectMark[data-v-5ae01f2f]{border:1px solid #c7c7c7;position:absolute;width:20px;height:20px;font-size:12px;line-height:20px;border-radius:50%;text-align:center;color:#fff;left:16px;top:20px}.gcxt #remove .selectMark.icon-right1[data-v-5ae01f2f],.gcxt #selectUser .selectMark.icon-right1[data-v-5ae01f2f]{background-color:#509afa;border:1px solid #fff}.gcxt #selectUser .selectMark.lockActiveUser[data-v-5ae01f2f]{background-color:#aaa}.gcxt .searchTool[data-v-5ae01f2f]{position:absolute;left:0;top:2.2rem;width:100%;z-index:1110}.gcxt .xt-ios .searchTool[data-v-5ae01f2f]{top:2.9rem}.gcxt .searchTool+.content[data-v-5ae01f2f]{padding-top:44px}.gcxt .searchTool-header[data-v-5ae01f2f]{background-color:#fff;border-bottom:1px solid #ececec;height:44px;padding:7px 12px;width:100%;-webkit-transition:all .2s linear;transition:all .2s linear;position:absolute;top:0}.gcxt .searchTool-field[data-v-5ae01f2f]{background-color:#f7f8fa;border-radius:15px;height:30px;padding:0 28px 0 40px}.gcxt .searchTool-input[data-v-5ae01f2f]{display:block;background-color:transparent;width:100%;-webkit-appearance:none;-webkit-box-shadow:none;box-shadow:none;border:none;position:relative;z-index:15;text-align:center;font-size:14px;height:30px;padding:0}.gcxt .icon-_sousuo[data-v-5ae01f2f]{left:50%;margin-left:-30px;position:absolute;top:12px;color:#bdbdbd;font-size:14px}.gcxt .searchTool .icon-baocuo[data-v-5ae01f2f]{display:none;position:absolute;right:73px;top:13px;color:#c7c7cc;font-size:13px;z-index:15}.gcxt .searchTool-btn-quit[data-v-5ae01f2f]{display:none;position:absolute;background-color:transparent;-webkit-appearance:none;outline:none;border:none;padding:0;color:#000;font-size:15px;right:16px;top:11px}.gcxt .searchTool.active[data-v-5ae01f2f]{bottom:0}.gcxt .searchTool.active .searchTool-header[data-v-5ae01f2f]{z-index:100;background-color:#fff;padding-right:60px}.gcxt .searchTool.active .icon-_sousuo[data-v-5ae01f2f],.gcxt .searchTool.active .icon-baocuo[data-v-5ae01f2f],.gcxt .searchTool.active .searchTool-btn-quit[data-v-5ae01f2f]{display:block}.gcxt .searchTool.active .icon-_sousuo[data-v-5ae01f2f]{left:26px;margin-left:0}.gcxt .searchTool.active .searchTool-input[data-v-5ae01f2f]{text-align:left}.gcxt .searchTool-body[data-v-5ae01f2f]{position:absolute;width:0;height:0;overflow:hidden;background-color:#f5f5f9}.gcxt .searchTool.active .searchTool-body[data-v-5ae01f2f]{width:100%;height:100%;overflow-y:auto}.gcxt .address-title[data-v-5ae01f2f]{background-color:#f1f1f1;line-height:31px;padding-left:14px;font-size:13px;color:#69696e}.gcxt .searchResult-group[data-v-5ae01f2f]{list-style:none;margin:0;padding:0;background-color:#fff}.gcxt .searchResult-group-item[data-v-5ae01f2f]{position:relative;padding-left:15px;height:60px}.gcxt .searchResult-group-icon[data-v-5ae01f2f]{position:absolute;left:15px;top:10px;color:#fff;background-image:-webkit-gradient(linear,left bottom,left top,from(#8e72ff),to(#737dff));background-image:linear-gradient(0deg,#8e72ff,#737dff);width:40px;height:40px;border-radius:5px;text-align:center;line-height:40px}.gcxt .searchResult-group .iconfont[data-v-5ae01f2f]{font-size:25px}.gcxt .searchResult-group-detail[data-v-5ae01f2f]{height:60px;padding-left:56px;border-bottom:1px solid #efefef}.gcxt .searchResult-group-item:last-child .searchResult-group-detail[data-v-5ae01f2f]{border-bottom:none}.gcxt .searchResult-group-name[data-v-5ae01f2f]{font-size:16px;line-height:22px;padding-top:10px}.gcxt .searchResult-group-include[data-v-5ae01f2f]{font-size:13px;color:#8e8e93}.gcxt .searchResult-group-include[data-v-5ae01f2f],.gcxt .searchResult-group-name[data-v-5ae01f2f]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.gcxt .searchResult-group .highlight[data-v-5ae01f2f]{color:#8bc34a}",""])},a333:function(e,t,o){"use strict";o("e0d5")},a669:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.projectList.length<3&&1===e.level?e._l(e.projectList,(function(t,a){return o("ul",{key:a,staticClass:"relativeProject subProject"},e._l(t.children,(function(t,i){return o("li",{key:i,staticClass:"relativeProject-item",on:{click:function(t){e.reviewUser(a,i)}}},[o("i",{staticClass:"iconfont icon-_xiangmu"}),o("div",{staticClass:"relativeProject-name",domProps:{textContent:e._s(t.project_name)}}),o("i",{staticClass:"iconfont icon-_fanui"})])})))})):o("ul",{staticClass:"relativeProject"},e._l(e.projectList,(function(t,a){return o("li",{key:a,staticClass:"relativeProject-item",on:{click:function(t){e.reviewProject(a)}}},[o("i",{staticClass:"iconfont icon-_xiangmu"}),o("div",{staticClass:"relativeProject-name",domProps:{textContent:e._s(t.project_name)}}),o("i",{staticClass:"iconfont icon-_fanui"})])})))],2)},i=[],r=(o("e680"),{name:"ProjectList",props:{projectList:{type:Array,default:function(){return[]}},level:{type:Number,default:function(){return 1}}},data:function(){return{}},methods:{reviewUser:function(e,t){this.$emit("reviewUser",{projectIndex1:e,projectIndex2:t})},reviewProject:function(e){var t={};t["projectIndex"+this.level]=e,this.$emit("reviewProject",t)}}}),n=r,s=(o("2d11"),o("5d22")),c=Object(s["a"])(n,a,i,!1,null,"5b0de98c",null);t["a"]=c.exports},e0d5:function(e,t,o){var a=o("9768");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=o("85cb").default;i("614a81da",a,!0,{sourceMap:!1,shadowMode:!1})}}]);