(window["webpackJsonp_module_entry_gcxt_"]=window["webpackJsonp_module_entry_gcxt_"]||[]).push([["chunk-0e406c5e"],{a2bc:function(t,e,r){e=t.exports=r("690e")(!1),e.push([t.i,'.gcxt :export{colorPrimary:#0268b3;headerBackgroundColor:#fff;headerTextColor:#333}.gcxt .authorize-process{background-color:#fff}.gcxt .authorize-process-status{display:-webkit-box;display:-ms-flexbox;display:flex;padding:20px 12px;background-color:#fff;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.gcxt .authorize-process-status .iconfont{font-size:30px;line-height:30px;color:#0268b3}.gcxt .authorize-process-text{font-size:16px;line-height:20px;padding-left:10px}.gcxt .authorize-process-item{position:relative}.gcxt .authorize-process-item:before{position:absolute;left:27px;top:0;margin-top:-20px;content:"";height:100%;border-left:1px solid #dfdfdf}.gcxt .authorize-process-item:last-of-type:before{margin-top:-50px}.gcxt .authorize-process-item .icon-_daishenpi,.gcxt .authorize-process-item .icon-_shenpitongguo,.gcxt .authorize-process-item .icon-_zuofei{position:absolute;font-size:24px;left:15px;top:2px;z-index:15}.gcxt .authorize-process-item .icon-_daishenpi{color:#f90}.gcxt .authorize-process-item .icon-_shenpitongguo{color:#6ac20b}.gcxt .authorize-process-item .icon-_zuofei{color:#ff5f3e}.gcxt .authorize-process-item .arrow{position:absolute;left:45px;top:15px;z-index:10;width:11px;height:11px;background:#fff;border:1px solid #e5e5e5;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-top:none;border-right:none}.gcxt .authorize-process-item .wrapper{margin:20px 20px 0 50px;border-radius:5px;padding:10px;border:1px solid #e5e5e5;background-color:#fff;position:relative}.gcxt .authorize-process-item .user{font-size:16px;line-height:20px;color:#333;padding-right:28px}.gcxt .authorize-process-item .time{font-size:13px;color:#999;line-height:22px;float:right}.gcxt .authorize-process-item .status{padding-top:6px;font-size:13px;line-height:16px}.gcxt .authorize-process-item .status-0{color:#999}.gcxt .authorize-process-item .status-1{color:#6ac20b}.gcxt .authorize-process-item .status-2{color:#ff5f3e}.gcxt .authorize-process-item .phone{position:absolute;font-size:24px;line-height:24px;right:10px;top:50%;margin-top:-12px}.gcxt .authorize-process .btn-wrapper{margin:30px 20px 0}.gcxt .authorize-process .btn-rollback{border:none;outline:none;background-color:#3492e9;color:#fff;display:block;width:100%;height:42px;line-height:42px;font-size:17px;border-radius:5px}.gcxt .supplier{margin:5px 0}.gcxt .supplier .sup-row{display:-webkit-box;display:-ms-flexbox;display:flex}.gcxt .supplier .label{width:60px}.gcxt .supplier .text{color:#96959a}',""])},aa1d:function(t,e,r){var n=r("a2bc");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=r("85cb").default;a("dc1934dc",n,!0,{sourceMap:!1,shadowMode:!1})},af0b:function(t,e,r){"use strict";r.d(e,"q",(function(){return c})),r.d(e,"e",(function(){return u})),r.d(e,"m",(function(){return l})),r.d(e,"n",(function(){return f})),r.d(e,"a",(function(){return d})),r.d(e,"p",(function(){return h})),r.d(e,"v",(function(){return _})),r.d(e,"c",(function(){return g})),r.d(e,"w",(function(){return b})),r.d(e,"b",(function(){return x})),r.d(e,"o",(function(){return m})),r.d(e,"t",(function(){return j})),r.d(e,"s",(function(){return v})),r.d(e,"d",(function(){return O})),r.d(e,"j",(function(){return z})),r.d(e,"k",(function(){return w})),r.d(e,"r",(function(){return k})),r.d(e,"f",(function(){return y})),r.d(e,"g",(function(){return C})),r.d(e,"u",(function(){return P})),r.d(e,"l",(function(){return $})),r.d(e,"i",(function(){return D})),r.d(e,"h",(function(){return p}));r("ac67"),r("1bc7"),r("32ea");var n=r("34f5"),a=r("ab3e"),o=r("da71");function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(){return Object(a["a"])({url:o["a"].get_tenant})}function u(t){return Object(a["a"])({url:o["a"].auth_check_tenant,data:t})}function p(t){return Object(a["a"])({url:o["a"].get_role_with_level,data:t})}function l(t){return Object(a["a"])({url:o["a"].get_jf_new_manager_project,data:t})}function f(t){return Object(a["a"])({url:o["a"].get_jf_manager_project,data:t})}function d(t){return Object(a["a"])({url:o["a"].jf_apply_auth,data:s(s({},t),{},{error:!0})})}function h(t){return Object(a["a"])({url:o["a"].get_jf_users,data:t})}function _(t){return Object(a["a"])({url:o["a"].revoke_auth,data:t})}function g(t){return Object(a["a"])({url:o["a"].yf_manager_apply_auth,data:t})}function b(t){return Object(a["a"])({url:o["a"].check_user_role,data:t})}function x(t){return Object(a["a"])({url:o["a"].yf_engineer_apply_auth,data:t})}function m(){return Object(a["a"])({url:o["a"].get_jf_project})}function j(){return Object(a["a"])({url:o["a"].get_yf_user_project})}function v(t){return Object(a["a"])({url:o["a"].get_yf_user_contract,data:t})}function O(t){return Object(a["a"])({url:o["a"].check_project_has_manager,data:t})}function z(t){return Object(a["a"])({url:o["a"].get_auth_detail,data:t})}function w(t){return Object(a["a"])({url:o["a"].get_jf_auth_project,data:t})}function k(t){return Object(a["a"])({url:o["a"].get_yf_auth_contract,data:t})}function y(t){return Object(a["a"])({url:o["a"].empower_for_jf,data:t})}function C(t){return t=s(s({},t),{},{showLoading:!0}),Object(a["a"])({url:o["a"].empower_for_yf,data:t})}function P(t){return t=s(s({},t),{},{showLoading:!0}),Object(a["a"])({url:o["a"].reject_auth,data:t})}function $(t){return Object(a["a"])({url:o["a"].get_sync_jf_contracts,data:t})}function D(t){return Object(a["a"])({url:o["a"].get_sync_yf_contracts,data:t})}},b1f2:function(t,e,r){"use strict";r("aa1d")},bd2e:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("page",{staticClass:"-white"},[r("v-header",{attrs:{slot:"header",title:t.title,"back-action":t.goBack},slot:"header"}),r("div",{staticClass:"authorize-process"},[t.sp_node.length?r("div",{staticClass:"content"},[r("div",{staticClass:"authorize-process-status"},[1===t.auth_status?r("i",{staticClass:"iconfont icon-_xiangqing"}):r("i",{staticClass:"iconfont icon-_jinggao"}),r("div",{staticClass:"authorize-process-text"},[t._v(t._s(t.status_desc))])]),r("div",t._l(t.sp_node,(function(e,n){return r("div",{key:n,staticClass:"authorize-process-item"},[r("i",{staticClass:"iconfont",class:e.icon}),r("i",{staticClass:"arrow"}),r("div",{staticClass:"wrapper"},[r("div",{staticClass:"time"},[t._v(t._s(e.time))]),e.sp_user_name?r("div",{staticClass:"user"},[t._v("\n              "+t._s(e.role_name+" - "+e.sp_user_name)+"\n            ")]):r("div",{staticClass:"user"},[t._v("\n              "+t._s(e.role_name)+"\n            ")]),e.supplier_name?r("div",{staticClass:"supplier"},[r("div",{staticClass:"sup-row name-row"},[r("span",{staticClass:"label"},[t._v("供应商")]),r("span",{staticClass:"text"},[t._v(t._s(e.supplier_name))])])]):t._e(),r("div",{staticClass:"status",class:"status-"+e.auth_status},[t._v("\n              "+t._s(e.status_desc)+"\n            ")]),0===e.auth_status&&e.sp_user_phone?r("a",{staticClass:"phone iconfont icon-_lianxikefu",attrs:{href:"tel:"+e.sp_user_phone}}):t._e()])])}))),r("div",{staticClass:"btn-wrapper"},[t.enable_revoke?r("app-button",{on:{click:t.rollback}},[t._v("\n          撤销\n        ")]):r("app-button",{on:{click:t.launch}},[t._v("\n          重新认证\n        ")])],1)]):t._e()])],1)},a=[],o=r("af0b"),i=r("a740"),s=r("5782"),c={name:"AuthorizeOverviewProcess",components:{AppButton:s["a"]},props:{authDetail:Object,tenantId:String},data:function(){var t,e=this.authDetail||{},r=e.status_desc,n=void 0===r?null:r,a=e.sp_node,o=void 0===a?[]:a,s=e.enable_revoke,c=void 0!==s&&s,u=e.title,p=void 0===u?"":u,l=Object(i["a"])()||{},f=l.role_code;return t="1004"===f||"1005"===f?"/authorize/overview/contract":"/authorize/overview/project",{auth_status:"",status_desc:n,sp_node:o,enable_revoke:c,title:p,go_back_link:t}},watch:{authDetail:function(t){Array.isArray(t.sp_node)&&(this.auth_status=t.auth_status,this.status_desc=t.status_desc,this.sp_node=t.sp_node,this.enable_revoke=t.enable_revoke,this.title=t.title)}},methods:{goBack:function(){var t=Object(i["d"])(),e=this.$store.state.authInfo.tenant_code,r=t.tenant.some((function(t){return 1===t.auth_status}));r?e?this.$router.push("/me/switchCode"):this.$router.back():this.$router.push("/login")},rollback:function(){var t=this,e=Object(i["d"])(),r=this.tenantId;this.sui.confirm({message:"撤销后可以再次认证<br>确定要撤销认证吗？"}).then((function(){Object(o["v"])({__tenant_id:r,user_id:e.user_id}).then((function(r){var n=e.tenant.some((function(t){return 1===t.auth_status}));n?t.$router.back():t.$router.push("/authorize/entry")}))})).catch((function(){}))},launch:function(){this.$router.push({path:"/authorize/tenant"})}}},u=c,p=(r("b1f2"),r("5d22")),l=Object(p["a"])(u,n,a,!1,null,null,null);e["default"]=l.exports}}]);