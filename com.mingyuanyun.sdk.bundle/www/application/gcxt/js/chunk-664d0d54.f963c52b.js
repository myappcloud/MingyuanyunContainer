(window["webpackJsonp_module_entry_gcxt_"]=window["webpackJsonp_module_entry_gcxt_"]||[]).push([["chunk-664d0d54"],{"074b":function(t,e,a){"use strict";a("8918")},"3bb8":function(t,e,a){var r=a("77ca");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var s=a("85cb").default;s("10cf751e",r,!0,{sourceMap:!1,shadowMode:!1})},"43e2":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn-send-pin",class:{disabled:t.disabled},attrs:{type:"button",disabled:t.disabled},domProps:{textContent:t._s(t.name)},on:{click:t.getCaptcha}})},s=[],i=a("7555"),n=a("bdc9"),o=a.n(n),c={name:"Captcha",props:{check:{type:String,default:function(){return"1"}},flag:{type:String,default:function(){return""}},phone:{type:String,default:function(){return""}}},data:function(){return{name:"获取验证码",disabled:!1,captcha_timer:null,captcha_count:60,oneTime:60}},mounted:function(){window.captchaTest=this},beforeDestroy:function(){this.captcha_timer&&window.clearInterval(this.captcha_timer)},methods:{getCaptcha:function(){var t=this,e=/^\d{8,}$/;if(e.test(this.phone)){this.disabled=!0,this.captcha_timer&&window.clearInterval(this.captcha_timer);var a="gcxt2020_",r=o()(a+this.phone);Object(i["c"])({check:this.check,flag:this.flag,phone:this.phone,error:!0},{headers:{"x-gcxtcode":r}}).then((function(e){t.captcha_count=t.oneTime,t.name=t.captcha_count+"秒后重发",t.captcha_timer=window.setInterval((function(){t.captcha_count<1?(t.name="获取验证码",t.disabled=!1,window.clearInterval(t.captcha_timer)):t.name=t.captcha_count+"秒后重发",t.captcha_count--}),1e3)})).catch((function(){t.captcha_timer||(t.disabled=!1)}))}else this.sui.toast("请输入正确的手机号")}}},d=c,l=(a("074b"),a("c701")),p=Object(l["a"])(d,r,s,!1,null,"642b530c",null);e["a"]=p.exports},"480f":function(t,e,a){"use strict";a("3bb8")},"77ca":function(t,e,a){e=t.exports=a("690e")(!1),e.push([t.i,'.gcxt[data-v-0e67657c] :export{colorPrimary:#2c5cf7;headerBackgroundColor:#fff;headerTextColor:#333}.gcxt .agreement[data-v-0e67657c]{padding:0 .75rem}.gcxt .agreement h2[data-v-0e67657c]{font-size:.9rem;font-weight:400}.gcxt .agreement p[data-v-0e67657c]{font-size:.7rem;color:#555}.gcxt .content[data-v-0e67657c]{-webkit-transform:translateZ(0)}.gcxt .get_captcha[data-v-0e67657c]{border:none;border-radius:0;padding-left:15px;display:inline-block;width:100px}.gcxt .get_captcha[data-v-0e67657c]:before{content:"";position:absolute;left:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);border-right:1px solid #b9b9b9;height:.6rem}.gcxt .btn-toggle-pw[data-v-0e67657c]{position:absolute;right:0;top:0;bottom:0;line-height:2rem;border:none;padding:0;background-color:transparent;width:30px;text-align:center}.gcxt .btn-toggle-pw .iconfont[data-v-0e67657c]{line-height:2rem}.gcxt .btn-toggle-pw .icon-preview[data-v-0e67657c]{font-size:1.5rem}.gcxt .icon-selected[data-v-0e67657c]{color:#2c5cf7}.gcxt .content[data-v-0e67657c]{position:static;padding-bottom:0}',""])},8918:function(t,e,a){var r=a("bd71");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var s=a("85cb").default;s("e192c56a",r,!0,{sourceMap:!1,shadowMode:!1})},b953:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page",{staticClass:"-white"},[a("v-header",{attrs:{slot:"header",title:"注册"},slot:"header"}),a("div",{staticClass:"content"},[a("div",{staticClass:"list-block pl-15 pr-15",staticStyle:{"margin-top":"0px"}},[a("ul",[a("li",[a("div",{staticClass:"item-content border-bottom",staticStyle:{"padding-left":"0px"}},[a("div",{staticClass:"item-media"},[a("i",{staticClass:"iconfont icon-_denglushouji color-gray2"})]),a("div",{staticClass:"item-inner",staticStyle:{"margin-left":"0px","padding-right":"0px"}},[a("div",{staticClass:"item-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.registerData.user_code,expression:"registerData.user_code"}],staticClass:"color-default",attrs:{type:"tel",placeholder:"请输入手机号"},domProps:{value:t.registerData.user_code},on:{input:function(e){e.target.composing||t.$set(t.registerData,"user_code",e.target.value)}}})])])])]),a("li",[a("div",{staticClass:"item-content border-bottom",staticStyle:{"padding-left":"0px"}},[a("div",{staticClass:"item-media"},[a("i",{staticClass:"iconfont icon-_dengluyanzhengma color-gray2"})]),a("div",{staticClass:"item-inner",staticStyle:{"margin-left":"0px","padding-right":"0px"}},[a("div",{staticClass:"item-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.registerData.captcha,expression:"registerData.captcha"}],staticClass:"color-default",attrs:{type:"tel",placeholder:"请输入验证码"},domProps:{value:t.registerData.captcha},on:{input:function(e){e.target.composing||t.$set(t.registerData,"captcha",e.target.value)}}})])]),a("div",{staticClass:"item-media"},[a("captcha",{attrs:{flag:"REGISTER",check:t.registerData.check,phone:t.registerData.user_code}})],1)])]),a("li",[a("div",{staticClass:"item-content border-bottom",staticStyle:{"padding-left":"0px"}},[a("div",{staticClass:"item-media"},[a("i",{staticClass:"iconfont icon-_yonghu color-gray2"})]),a("div",{staticClass:"item-inner",staticStyle:{"margin-left":"0px","padding-right":"0px"}},[a("div",{staticClass:"item-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.registerData.name,expression:"registerData.name"}],staticClass:"color-default",attrs:{type:"text",placeholder:"请输入姓名"},domProps:{value:t.registerData.name},on:{input:function(e){e.target.composing||t.$set(t.registerData,"name",e.target.value)}}})])])])]),a("li",[a("div",{staticClass:"item-content border-bottom",staticStyle:{"padding-left":"0px"}},[a("div",{staticClass:"item-media"},[a("i",{staticClass:"iconfont icon-_denglu-mima color-gray2"})]),a("div",{staticClass:"item-inner",staticStyle:{"margin-left":"0px","padding-right":"0px"}},[a("div",{staticClass:"item-input"},["checkbox"===(t.isPassword?"password":"text")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.registerData.password,expression:"registerData.password"}],staticClass:"color-default",attrs:{placeholder:"请输入至少8位密码",type:"checkbox"},domProps:{checked:Array.isArray(t.registerData.password)?t._i(t.registerData.password,null)>-1:t.registerData.password},on:{change:function(e){var a=t.registerData.password,r=e.target,s=!!r.checked;if(Array.isArray(a)){var i=null,n=t._i(a,i);r.checked?n<0&&t.$set(t.registerData,"password",a.concat([i])):n>-1&&t.$set(t.registerData,"password",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.registerData,"password",s)}}}):"radio"===(t.isPassword?"password":"text")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.registerData.password,expression:"registerData.password"}],staticClass:"color-default",attrs:{placeholder:"请输入至少8位密码",type:"radio"},domProps:{checked:t._q(t.registerData.password,null)},on:{change:function(e){t.$set(t.registerData,"password",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.registerData.password,expression:"registerData.password"}],staticClass:"color-default",attrs:{placeholder:"请输入至少8位密码",type:t.isPassword?"password":"text"},domProps:{value:t.registerData.password},on:{input:function(e){e.target.composing||t.$set(t.registerData,"password",e.target.value)}}})])]),a("button",{staticClass:"btn-toggle-pw",attrs:{type:"button"},on:{click:t.checkPassword}},[a("i",{staticClass:"iconfont color-gray2",class:t.isPassword?"icon-_denglu-yinchang":"icon-_denglu-xianshi"})])])])]),a("p",{staticStyle:{"font-size":"12px"}},[t._v("\n        注：密码长度8位以上，包含大小写字母、数字、特殊字符\n      ")])]),a("div",{staticClass:"pl-15 pr-15"},[a("app-button",{on:{click:t.registerFn}},[t._v("注册")])],1),a("div",{staticClass:"row pl-15 pr-15  mt-10 fz-14"},[a("div",{staticClass:"col-100 ta-c",staticStyle:{color:"#ccc"}},[a("div",{staticStyle:{"font-size":"12px"},on:{click:t.privateAgreementFn}},[a("i",{staticClass:"iconfont private-agreement-icon",class:t.privateAgreement?"icon-selected":"icon-redio-unselected",staticStyle:{"font-size":"13px",padding:"10px 5px 10px 10px"}}),t._v("\n          已同意《"),a("a",{staticStyle:{"text-decoration":"underline",color:"#ccc"},attrs:{target:"_blank"},domProps:{textContent:t._s(t.yhxy)},on:{click:t.agreementBtn}}),t._v("》，并知晓《"),a("a",{staticStyle:{"text-decoration":"underline",color:"#ccc"},attrs:{target:"_blank"},domProps:{textContent:t._s(t.yssm)},on:{click:t.privateBtn}}),t._v("》\n        ")])])])])],1)},s=[],i=(a("5ab2"),a("6d57"),a("e10e"),a("28f8")),n=a("43e2"),o=a("7555"),c=a("d3d0"),d=a("0938"),l=a("5782");function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var g={name:"Register",components:{AppButton:l["a"],Captcha:n["a"]},data:function(){return{yhxy:"用户协议",yssm:"隐私声明",PRIVATE_AGREEMENT:"PRIVATE_AGREEMENT",privateAgreement:!1,isPassword:!0,registerData:{user_code:"",name:"",password:"",captcha:"",check:"0"}}},computed:{},mounted:function(){},methods:{openPrivateAgreement:function(t,e){var a=this,r=window.apiDomain.serverAddr+"/wx/app/private-agreement/index.html?urlFlag=";r+=t,window.MCordovaWebView&&window.MCordovaWebView.Show(r,null,(function(){a.sui.toast("打开远程链接失败！")}),{navBar:{barColor:"#3492e9",barTitle:e,barTitleColor:"#ffffff",barButtonColor:"#ffffff"}})},privateAgreementFn:function(){this.privateAgreement=!this.privateAgreement},agreementBtn:function(){this.openPrivateAgreement("yhxy",this.yhxy)},privateBtn:function(){this.openPrivateAgreement("yssm",this.yssm)},registerFn:function(){var t=this,e=this,a=this.registerData.password;if(this.privateAgreement)return d["d"].isPassword(a)?Object(o["j"])(u({},this.registerData)).then((function(e){var a=t.registerData,r=a.user_code,s=a.password;t.$store.dispatch(c["b"],{user_code:r,password:s}).then((function(e){t.loginAfterData=e.data,t.afterLogin(e)})).catch((function(e){var a=e.message;a&&t.sui.toast(a)}))})).catch((function(a){"2002"===a.code?t.sui.modal({title:"手机号已注册",buttons:[{text:"确定"},{text:"直接登录",onClick:function(){e.$router.push({path:"/login",query:{phone:e.registerData.user_code}})}}]}):t.sui.toast(a.message)})):this.sui.toast("注：密码长度8位以上，包含大小写字母、数字、特殊字符");this.sui.toast("请阅读并同意下方《用户协议》和《隐私声明》")},afterLogin:function(t){var e=t.data;e.tenant.length?(1===e.tenant.length&&this.selectTenantItem({tenant:e.tenant[0],index:0}),this.showSelectTenant=!0):this.$router.push({path:"/authorize/entry"})},goAgreement:function(){this.$router.push("/agreement")},checkPassword:function(){this.isPassword=!this.isPassword}}},h=g,m=(a("480f"),a("c701")),f=Object(m["a"])(h,r,s,!1,null,"0e67657c",null);e["default"]=f.exports},bd71:function(t,e,a){e=t.exports=a("690e")(!1),e.push([t.i,".gcxt[data-v-642b530c] :export{colorPrimary:#2c5cf7;headerBackgroundColor:#fff;headerTextColor:#333}.gcxt .btn-send-pin[data-v-642b530c]{-webkit-box-sizing:border-box;box-sizing:border-box;padding:1px 5px 1px 0;color:#2c5cf7;border:none;background-color:transparent;white-space:nowrap}.gcxt .btn-send-pin[data-v-642b530c]:disabled{color:#b9b9b9}",""])}}]);