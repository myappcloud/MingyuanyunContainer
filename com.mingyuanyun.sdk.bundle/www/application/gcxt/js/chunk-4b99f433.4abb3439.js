(window["webpackJsonp_module_entry_gcxt_"]=window["webpackJsonp_module_entry_gcxt_"]||[]).push([["chunk-4b99f433"],{6603:function(t,e,a){e=t.exports=a("690e")(!1),e.push([t.i,'.gcxt[data-v-2259b5c4] :export{colorPrimary:#0268b3;headerBackgroundColor:#fff;headerTextColor:#333}.gcxt .jzc-confirm-info[data-v-2259b5c4]{margin-bottom:10px}[data-v-2259b5c4] .van-cell{padding:12px 15px}[data-v-2259b5c4] .van-cell__value{font-size:16px}.gcxt .list-item[data-v-2259b5c4]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 15px;background:#fff;position:relative}.gcxt .list-item[data-v-2259b5c4]:before{bottom:0;content:" ";position:absolute;z-index:1;right:0;border-top:1px solid #ececec;-webkit-transform:scaleY(.5);transform:scaleY(.5);left:0}.gcxt .list-item .left[data-v-2259b5c4]{padding-right:10px;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.gcxt .list-item[data-v-2259b5c4]:before{left:15px}.gcxt .list-item .label[data-v-2259b5c4]{font-size:16px;color:#323233}.gcxt .list-item .subtext[data-v-2259b5c4]{margin-top:2px;font-size:12px;color:#999}.gcxt .list-item .icon_right-arrow[data-v-2259b5c4]{color:#999;font-size:14px}',""])},"90d2":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isEnable?a("sub-form",{ref:"subform",staticClass:"deduction-sub-form",attrs:{data:t.data,"bill-name":t.billName,"default-form":t.defaultForm,mode:"view",title:"关联扣款清单"}}):t._e()},n=[],o=(a("1bc7"),a("e680"),a("d785")),s=a("9a340"),l=a("69b8"),c={name:"DeductionList",components:{SubForm:l["a"]},props:{data:{type:Array,default:function(){return[]}},bizType:{type:Number}},data:function(){return{isEnable:!1,billName:"",defaultForm:null}},mounted:function(){var t=this,e=s["a"].handlerLayout(o,{bizType:this.bizType}),a=e.isEnable,i=e.billName,n=e.defaultForm;this.billName=i,this.defaultForm=n,this.isEnable=a,this.$nextTick((function(){if(t.$refs.subform&&t.$refs.subform.$refs.SubForm){var e=t.$refs.subform.$refs.SubForm.forms;e.forEach((function(e){var a=e.dataModel;if(a.deduct_state){var i=[];"已审核"===a.deduct_state.value?i=["passed"]:"审核中"===a.deduct_state.value&&(i=["pending"]),t.$set(a.deduct_state,"classNames",i)}}))}}))}},r=c,d=a("5d22"),u=Object(d["a"])(r,i,n,!1,null,null,null);e["a"]=u.exports},c43d:function(t,e,a){"use strict";a("f22f")},d785:function(t){t.exports=JSON.parse('{"groupName":"扣款清单","enable":{"payment":true,"outputvalue":true},"list":[{"id":"deduct_state","type":"text","isEdit":0,"label":"审核状态","text":"","value":""},{"id":"contract_name","type":"text","isEdit":0,"label":"应扣款合同名称","text":"","value":""},{"id":"name","type":"text","isEdit":0,"label":"款项名称","text":"","value":""},{"id":"total_amount","type":"money","isEdit":0,"label":"应扣金额(A)","text":"","value":"","units":{"text":"元"}},{"id":"yk_amount","type":"money","isEdit":0,"label":"已扣金额(B=B1+B2)","text":"","value":"","units":{"text":"元"}},{"id":"sf_amount","type":"money","isEdit":0,"label":"实付扣回金额(B1)","text":"","value":"","units":{"text":"元"}},{"id":"blyk_amount","type":"money","isEdit":0,"label":"补录扣款已扣金额(B2)","text":"","value":"","units":{"text":"元"}},{"id":"yyrkk_amount","type":"money","isEdit":0,"label":"已引入未实扣的金额(至上期)(C)","text":"","value":"","units":{"text":"元"}},{"id":"dk_amount","type":"money","isEdit":0,"label":"待扣金额(业务)(A-B-C)","text":"","value":"","units":{"text":"元"}},{"id":"kk_amount","type":"money","isEdit":0,"label":"本期建议扣款金额","text":"","value":"","units":{"text":"元"}}]}')},f22f:function(t,e,a){var i=a("6603");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("85cb").default;n("7c535d68",i,!0,{sourceMap:!1,shadowMode:!1})},f7f5:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("business-detail-view",{attrs:{data:t.data,config:t.config,"biz-type":t.bizType,"change-type":t.changeType,comps:t.comps}},[t.data&&t.data.sheetDetail.contract_deduction&&t.data.sheetDetail.contract_deduction.length?a("deduction-list",{attrs:{slot:"DeducitonList",data:t.data.sheetDetail.contract_deduction,"biz-type":t.bizType},slot:"DeducitonList"}):t._e()],1)},n=[],o=a("8e2f"),s=a("db68"),l=a("a23a"),c=a("2d5c"),r=a("7bce"),d=a("08eb"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jzc-confirm-info"},[a("van-cell",{staticClass:"cell",attrs:{value:t.cellLabel,"is-link":""},on:{click:t.open}}),a("popup-page",{directives:[{name:"phy-back",rawName:"v-phy-back",value:{status:t.show,method:"close"},expression:"{status: show, method: 'close'}"}],attrs:{value:t.show}},[a("v-header",{attrs:{slot:"header","back-action":t.close,title:t.title},slot:"header"}),t._l(t.list,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"list-item",on:{click:function(a){t.goDetail(e)}}},[a("div",{staticClass:"left"},[a("div",{staticClass:"label"},[t._v(t._s(e.confirm_no))]),e.ws_code?a("div",{staticClass:"subtext"},[t._v("申购单编号："+t._s(e.ws_code))]):t._e()]),a("i",{staticClass:"icon_right-arrow iconfont icon-1_you"})])])}))],2)],1)},f=[],b=a("cae8"),m=a("5fe8"),p={props:{list:{type:Array,default:function(){return[]}},title:{type:String,default:"收货确认单"}},data:function(){return{show:!1}},computed:{cellLabel:function(){return"收货确认单(".concat(this.list.length,")")}},methods:{open:function(){this.show=!0},close:function(){this.show=!1},goDetail:function(t){var e=t.confirm_id;this.$router.push({name:Object(b["b"])(m["a"].JZC_CONFIRM,"Detail"),query:{id:e}})}}},h=p,x=(a("c43d"),a("5d22")),v=Object(x["a"])(h,u,f,!1,null,"2259b5c4",null),y=v.exports,_=a("90d2"),g={name:"PaymentDetail",components:{BusinessDetailView:d["a"],JzcConfirmInfo:y,DeductionList:_["a"]},mixins:[l["a"]],data:function(){return{data:null,bizType:s["b"].store.getValueByKey("biz_type"),changeType:s["b"].store.getValueByKey("change_type"),comps:["RelativeInfo","CardHeader","FormDetail","RelativeFieldGroup","DeducitonList","SubForms","UploadImages","Attachment","PaymentProcess","Flow"]}},methods:{init:function(){var t=this;o["a"].init({bizType:this.bizType,changeType:this.changeType,sheetId:this.sheetId,config:this.config}).then((function(){t.data=o["a"].data})).then((function(){t.addJzcConfirmField(),t.setBankInfo(o["a"].data)})).catch((function(t){console.error(t)}))},setBankInfo:function(t){var e=t.contracts[0].contract_id,a=t.formData.dataModel;return Object(c["b"])({contract_id:e}).then((function(e){var i=e.data;for(var n in i)a[n]&&(a[n].value=a[n].text=i[n],r["b"].triggerRelation(a[n],t.formData))}))},addJzcConfirmField:function(){this.data.sheetDetail.jzc_confirms&&this.data.sheetDetail.jzc_confirms.length&&this.data.relative_doc.layouts.push({code:"relative_from_jzc_confirm",enable:{payment:!0},req:0,label:"收货确认单",title:"收货确认单"})}}},w=g,k=Object(x["a"])(w,i,n,!1,null,null,null);e["default"]=k.exports}}]);