(window["webpackJsonp_module_entry_gcxt_"]=window["webpackJsonp_module_entry_gcxt_"]||[]).push([["chunk-29ff57c6"],{"3d0e":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("5ab2"),n("6d57"),n("e10e"),n("28f8");var a=n("ab3e"),r=n("da71");var o=function(t){return Object(a["a"])({url:r["a"].get_approve_amount,method:"post",data:t})}},"3f0f":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("business-edit-view",{attrs:{data:t.data,config:t.config,"biz-type":t.bizType,"change-type":t.changeType,mode:t.mode},on:{"select-biz-change":t.selectBizChange,"form-change":t.onFormChanged}})},r=[],o=(n("5ab2"),n("6d57"),n("e10e"),n("e697"),n("28f8")),i=n("b23b"),c=n("225c"),u=n("7bce"),f=n("db68"),s=n("3ec3"),d=n("3d0e"),b=n("2655"),p=n("a262");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y={name:"OuputValueEdit",components:{BusinessEditView:p["a"]},data:function(){return{bizType:f["b"].store.getValueByKey("biz_type"),changeType:f["b"].store.getValueByKey("change_type")||"",data:null,accountInfo:{}}},computed:{sheetId:function(){return this.$route.query.id},mode:function(){return this.sheetId?"edit":"add"},config:function(){return s["a"][this.bizType]}},watch:{sheetId:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var t=this,e={afterLayoutRequest:function(t){var e=t.dataModel,n=t.layoutArr;for(var a in e.yf_company={id:"yf_company",label:"乙方单位",value:"",show:!0,isEdit:!1,enabled:!1,type:"text",relative_id:"contract_id",nestingStructure:"yf_company"},n[1].unshift("yf_company"),e){var r=e[a];"number"!==r.type&&"money"!==r.type||r.enabled||(r.defaultText="--")}}};return c["a"].init({bizType:this.bizType,changeType:this.changeType,sheetId:this.sheetId,params:JSON.parse(this.$route.query.params||"null"),config:this.config,hooks:e}).then((function(e){var n=e;t.data=n}))},selectBizChange:function(t){if("contract_id"===t.id)return this.getApproveAmount(t.value)},getApproveAmount:function(t){var e=this,n=this.data.formData.dataModel;return Object(d["a"])({contract_id:t}).then((function(t){var a=t.data;for(var r in a)n[r]&&(n[r].value=n[r].text=a[r],u["b"].triggerRelation(n[r],e.data.formData),Object(b["b"])(n,a));a.bank;var o=Object(i["a"])(a,["bank"]);if(e.accountInfo=o,a.bank&&n.bank_name){var c=a.bank.map((function(t){var e=t.bank_name;return h(h({},t),{},{text:e,value:e})})),f=n.bank_name;f.data=c;var s={},d=function(t){return f.value===t.value};f.value&&(s=c.find((function(t){if(d(t))return f.text=t.text,!0})),s||(1===c.length?(f.value=f.text=c[0].value,s=c[0]):f.value=f.text="")),Object(b["b"])(n,h(h({},o),s)),u["b"].triggerRelation(f,e.data.formData)}}))},onFormChanged:function(t,e,n){"bank_name"===e.id&&Object(b["b"])(this.data.formData.dataModel,h(h({},this.accountInfo),n[0]))}}},m=y,g=n("c701"),v=Object(g["a"])(m,a,r,!1,null,null,null);e["default"]=v.exports}}]);