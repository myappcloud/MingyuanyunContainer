(window["webpackJsonp_module_entry_gcxt_"]=window["webpackJsonp_module_entry_gcxt_"]||[]).push([["chunk-2d0ceb72"],{6145:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view",{attrs:{"auth-process":t.authProcess,"auth-detail":t.authDetail,"tenant-id":t.tenantId}})},u=[],i=(n("1bc7"),n("32ea"),n("e5b4"),n("a450"),n("a740")),s=n("30aa"),o={name:"AuthorizeOverview",data:function(){return{authProcess:!1,authDetail:null,tenantId:""}},watch:{$route:function(t){"authorize-overview-process"!==t.name&&this.refresh()}},mounted:function(){this.refresh()},methods:{refresh:function(){var t,e,n=this,a=Object(i["d"])(),u=this.$route.query.tenant_id;u?t=a.tenant.find((function(t){return t.tenant_id===u}))||Object(i["a"])():(t=Object(i["a"])(),u=this.$store.state.authInfo.tenant_id||t.tenant_id),e=t.role_code,this.tenantId=u;var o=s["c"],r={__tenant_id:u,user_id:a.user_id,role_code:e};"1053"===e&&(o=s["d"],r.auth_user_id=a.user_id),o(r).then((function(t){if(!Object.keys(t.data).length)return n.authProcess=!1,void(n.authDetail=null);var a=!1,u=t.data;if("1053"===e){var i=t.data,s=i.auth_status,o=i.sp_list,r=void 0===o?[]:o,c=i.sp_role_name;u.title=2===s?"认证被拒绝":"等待".concat(c,"审批");var _=[];r.map((function(t){var e=t.auth_user,n=t.sp_user;[e,n].forEach((function(t){0===t.auth_status&&(a=!0),t.icon={0:"icon-_daishenpi",1:"icon-_shenpitongguo",2:"icon-_zuofei"}[t.auth_status],_.push(t)}))})),u.sp_node=_}else{var h=t.data,d=h.auth_status,l=h.sp_node,f=void 0===l?[]:l,p=h.sp_role_name;u.title=2===d?"认证被拒绝":"等待".concat(p,"审批"),u.sp_node=f.map((function(t){return 0===t.auth_status&&(a=!0),t.icon={0:"icon-_daishenpi",1:"icon-_shenpitongguo",2:"icon-_zuofei"}[t.auth_status],t}))}n.authProcess=a,n.authDetail=u}))}}},r=o,c=n("5d22"),_=Object(c["a"])(r,a,u,!1,null,null,null);e["default"]=_.exports}}]);