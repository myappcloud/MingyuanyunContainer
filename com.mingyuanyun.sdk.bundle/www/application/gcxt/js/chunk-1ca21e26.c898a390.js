(window["webpackJsonp_module_entry_gcxt_"]=window["webpackJsonp_module_entry_gcxt_"]||[]).push([["chunk-1ca21e26"],{"3d8f":function(t,i,n){"use strict";n("c149")},a504:function(t,i,n){t.exports=n.p+"img/qrcode-login.98bcf119.png"},c149:function(t,i,n){var e=n("f4f0");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=n("85cb").default;a("a025db22",e,!0,{sourceMap:!1,shadowMode:!1})},c4d6:function(t,i,n){"use strict";n.r(i);var e=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"page bg-white page-current"},[e("v-header",{attrs:{title:"二维码登录"}}),e("div",{staticClass:"content bg-white"},[e("div",{staticClass:"qrlogin-wrap"},[e("img",{staticClass:"qrlogin-logo",attrs:{src:n("a504")}}),e("div",{staticClass:"qrlogin-hint"},[t._v("网页版移动工程协同登录确认")]),e("div",{staticClass:"button button-normal button-fill",on:{click:t.confirmLogin}},[t._v("确认登录")])]),e("div",{staticClass:"vmiddler"})])],1)])},a=[],c=(n("32ea"),n("1bc7"),n("7555")),o={name:"QrLogin",components:{},data:function(){return{accessid:"",loginIndex:0,loginIng:!1,intervalKey:{}}},computed:{},mounted:function(){this.accessid=this.$route.query.accessid},beforeDestroy:function(){this.clearAll()},methods:{clearAll:function(){var t=this;Object.keys(this.intervalKey).forEach((function(i){window.clearInterval(i),delete t.intervalKey[i]}))},addItv:function(){var t=this,i=window.setInterval((function(){return t.loginIndex>5&&(t.clearAll(),t.loginIng=!1,t.loginIndex=0),t.loginIndex++,Object(c["i"])({token:t.accessid}).then((function(){t.clearAll(),t.sui.hideIndicator(),window.history.back()}))}),1e3);this.intervalKey[i]=!0},confirmLogin:function(){var t=this;if(!0!==this.loginIng){this.loginIng=!0,this.clearAll();var i=this.sui.showIndicator();return Object(c["h"])({accessid:this.accessid}).then((function(n){var e=n.data.auth_code;return Object(c["e"])({auth_code:e}).then((function(){t.addItv(),i.clear()}))})).catch((function(n){t.loginIng=!1,i.clear(),n.message&&t.sui.toast(n.message)}))}}}},r=o,s=(n("3d8f"),n("5d22")),l=Object(s["a"])(r,e,a,!1,null,"b4fac200",null);i["default"]=l.exports},f4f0:function(t,i,n){i=t.exports=n("690e")(!1),i.push([t.i,".gcxt .qrlogin-wrap[data-v-b4fac200]{width:100%;padding:40px 10% 0}.gcxt .qrlogin-wrap[data-v-b4fac200],.gcxt .vmiddler[data-v-b4fac200]{display:inline-block;vertical-align:middle}.gcxt .vmiddler[data-v-b4fac200]{height:100%}.gcxt .qrlogin-logo[data-v-b4fac200]{display:block;margin:0 auto;width:12rem;height:10.6rem}.gcxt .qrlogin-hint[data-v-b4fac200]{font-size:.75rem;color:#939393;text-align:center;margin-top:1.2rem}.gcxt .button-fill[data-v-b4fac200]{margin-top:3rem}",""])}}]);